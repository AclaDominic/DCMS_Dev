var XE=Object.defineProperty;var KE=(e,t,n)=>t in e?XE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xt=(e,t,n)=>KE(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var X$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Px={exports:{}},_0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5;function ZE(){if(J5)return _0;J5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:a}}return _0.Fragment=t,_0.jsx=n,_0.jsxs=n,_0}var Q5;function JE(){return Q5||(Q5=1,Px.exports=ZE()),Px.exports}var s=JE(),Ix={exports:{}},jn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function QE(){if(ew)return jn;ew=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,g={};function _(q,ke,O){this.props=q,this.context=ke,this.refs=g,this.updater=O||b}_.prototype.isReactComponent={},_.prototype.setState=function(q,ke){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ke,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function j(){}j.prototype=_.prototype;function E(q,ke,O){this.props=q,this.context=ke,this.refs=g,this.updater=O||b}var k=E.prototype=new j;k.constructor=E,w(k,_.prototype),k.isPureReactComponent=!0;var F=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function P(q,ke,O,B,W,X){return O=X.ref,{$$typeof:e,type:q,key:ke,ref:O!==void 0?O:null,props:X}}function I(q,ke){return P(q.type,ke,void 0,void 0,void 0,q.props)}function Y(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function Z(q){var ke={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(O){return ke[O]})}var z=/\/+/g;function U(q,ke){return typeof q=="object"&&q!==null&&q.key!=null?Z(""+q.key):ke.toString(36)}function J(){}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(J,J):(q.status="pending",q.then(function(ke){q.status==="pending"&&(q.status="fulfilled",q.value=ke)},function(ke){q.status==="pending"&&(q.status="rejected",q.reason=ke)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function pe(q,ke,O,B,W){var X=typeof q;(X==="undefined"||X==="boolean")&&(q=null);var le=!1;if(q===null)le=!0;else switch(X){case"bigint":case"string":case"number":le=!0;break;case"object":switch(q.$$typeof){case e:case t:le=!0;break;case h:return le=q._init,pe(le(q._payload),ke,O,B,W)}}if(le)return W=W(q),le=B===""?"."+U(q,0):B,F(W)?(O="",le!=null&&(O=le.replace(z,"$&/")+"/"),pe(W,ke,O,"",function(Le){return Le})):W!=null&&(Y(W)&&(W=I(W,O+(W.key==null||q&&q.key===W.key?"":(""+W.key).replace(z,"$&/")+"/")+le)),ke.push(W)),1;le=0;var Ce=B===""?".":B+":";if(F(q))for(var _e=0;_e<q.length;_e++)B=q[_e],X=Ce+U(B,_e),le+=pe(B,ke,O,X,W);else if(_e=x(q),typeof _e=="function")for(q=_e.call(q),_e=0;!(B=q.next()).done;)B=B.value,X=Ce+U(B,_e++),le+=pe(B,ke,O,X,W);else if(X==="object"){if(typeof q.then=="function")return pe(ie(q),ke,O,B,W);throw ke=String(q),Error("Objects are not valid as a React child (found: "+(ke==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ke)+"). If you meant to render a collection of children, use an array instead.")}return le}function ae(q,ke,O){if(q==null)return q;var B=[],W=0;return pe(q,B,"","",function(X){return ke.call(O,X,W++)}),B}function ue(q){if(q._status===-1){var ke=q._result;ke=ke(),ke.then(function(O){(q._status===0||q._status===-1)&&(q._status=1,q._result=O)},function(O){(q._status===0||q._status===-1)&&(q._status=2,q._result=O)}),q._status===-1&&(q._status=0,q._result=ke)}if(q._status===1)return q._result.default;throw q._result}var Q=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ke=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ke))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Ne(){}return jn.Children={map:ae,forEach:function(q,ke,O){ae(q,function(){ke.apply(this,arguments)},O)},count:function(q){var ke=0;return ae(q,function(){ke++}),ke},toArray:function(q){return ae(q,function(ke){return ke})||[]},only:function(q){if(!Y(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},jn.Component=_,jn.Fragment=n,jn.Profiler=r,jn.PureComponent=E,jn.StrictMode=i,jn.Suspense=u,jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,jn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return V.H.useMemoCache(q)}},jn.cache=function(q){return function(){return q.apply(null,arguments)}},jn.cloneElement=function(q,ke,O){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var B=w({},q.props),W=q.key,X=void 0;if(ke!=null)for(le in ke.ref!==void 0&&(X=void 0),ke.key!==void 0&&(W=""+ke.key),ke)!ne.call(ke,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&ke.ref===void 0||(B[le]=ke[le]);var le=arguments.length-2;if(le===1)B.children=O;else if(1<le){for(var Ce=Array(le),_e=0;_e<le;_e++)Ce[_e]=arguments[_e+2];B.children=Ce}return P(q.type,W,void 0,void 0,X,B)},jn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},jn.createElement=function(q,ke,O){var B,W={},X=null;if(ke!=null)for(B in ke.key!==void 0&&(X=""+ke.key),ke)ne.call(ke,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(W[B]=ke[B]);var le=arguments.length-2;if(le===1)W.children=O;else if(1<le){for(var Ce=Array(le),_e=0;_e<le;_e++)Ce[_e]=arguments[_e+2];W.children=Ce}if(q&&q.defaultProps)for(B in le=q.defaultProps,le)W[B]===void 0&&(W[B]=le[B]);return P(q,X,void 0,void 0,null,W)},jn.createRef=function(){return{current:null}},jn.forwardRef=function(q){return{$$typeof:c,render:q}},jn.isValidElement=Y,jn.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ue}},jn.memo=function(q,ke){return{$$typeof:f,type:q,compare:ke===void 0?null:ke}},jn.startTransition=function(q){var ke=V.T,O={};V.T=O;try{var B=q(),W=V.S;W!==null&&W(O,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Ne,Q)}catch(X){Q(X)}finally{V.T=ke}},jn.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},jn.use=function(q){return V.H.use(q)},jn.useActionState=function(q,ke,O){return V.H.useActionState(q,ke,O)},jn.useCallback=function(q,ke){return V.H.useCallback(q,ke)},jn.useContext=function(q){return V.H.useContext(q)},jn.useDebugValue=function(){},jn.useDeferredValue=function(q,ke){return V.H.useDeferredValue(q,ke)},jn.useEffect=function(q,ke,O){var B=V.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(q,ke)},jn.useId=function(){return V.H.useId()},jn.useImperativeHandle=function(q,ke,O){return V.H.useImperativeHandle(q,ke,O)},jn.useInsertionEffect=function(q,ke){return V.H.useInsertionEffect(q,ke)},jn.useLayoutEffect=function(q,ke){return V.H.useLayoutEffect(q,ke)},jn.useMemo=function(q,ke){return V.H.useMemo(q,ke)},jn.useOptimistic=function(q,ke){return V.H.useOptimistic(q,ke)},jn.useReducer=function(q,ke,O){return V.H.useReducer(q,ke,O)},jn.useRef=function(q){return V.H.useRef(q)},jn.useState=function(q){return V.H.useState(q)},jn.useSyncExternalStore=function(q,ke,O){return V.H.useSyncExternalStore(q,ke,O)},jn.useTransition=function(){return V.H.useTransition()},jn.version="19.1.0",jn}var tw;function Ub(){return tw||(tw=1,Ix.exports=QE()),Ix.exports}var D=Ub();const Yl=i1(D);var Bx={exports:{}},N0={},zx={exports:{}},Hx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function eT(){return nw||(nw=1,function(e){function t(ae,ue){var Q=ae.length;ae.push(ue);e:for(;0<Q;){var Ne=Q-1>>>1,q=ae[Ne];if(0<r(q,ue))ae[Ne]=ue,ae[Q]=q,Q=Ne;else break e}}function n(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ue=ae[0],Q=ae.pop();if(Q!==ue){ae[0]=Q;e:for(var Ne=0,q=ae.length,ke=q>>>1;Ne<ke;){var O=2*(Ne+1)-1,B=ae[O],W=O+1,X=ae[W];if(0>r(B,Q))W<q&&0>r(X,B)?(ae[Ne]=X,ae[W]=Q,Ne=W):(ae[Ne]=B,ae[O]=Q,Ne=O);else if(W<q&&0>r(X,Q))ae[Ne]=X,ae[W]=Q,Ne=W;else break e}}return ue}function r(ae,ue){var Q=ae.sortIndex-ue.sortIndex;return Q!==0?Q:ae.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],h=1,p=null,x=3,b=!1,w=!1,g=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(ae){for(var ue=n(f);ue!==null;){if(ue.callback===null)i(f);else if(ue.startTime<=ae)i(f),ue.sortIndex=ue.expirationTime,t(u,ue);else break;ue=n(f)}}function V(ae){if(g=!1,F(ae),!w)if(n(u)!==null)w=!0,ne||(ne=!0,U());else{var ue=n(f);ue!==null&&pe(V,ue.startTime-ae)}}var ne=!1,P=-1,I=5,Y=-1;function Z(){return _?!0:!(e.unstable_now()-Y<I)}function z(){if(_=!1,ne){var ae=e.unstable_now();Y=ae;var ue=!0;try{e:{w=!1,g&&(g=!1,E(P),P=-1),b=!0;var Q=x;try{t:{for(F(ae),p=n(u);p!==null&&!(p.expirationTime>ae&&Z());){var Ne=p.callback;if(typeof Ne=="function"){p.callback=null,x=p.priorityLevel;var q=Ne(p.expirationTime<=ae);if(ae=e.unstable_now(),typeof q=="function"){p.callback=q,F(ae),ue=!0;break t}p===n(u)&&i(u),F(ae)}else i(u);p=n(u)}if(p!==null)ue=!0;else{var ke=n(f);ke!==null&&pe(V,ke.startTime-ae),ue=!1}}break e}finally{p=null,x=Q,b=!1}ue=void 0}}finally{ue?U():ne=!1}}}var U;if(typeof k=="function")U=function(){k(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=z,U=function(){ie.postMessage(null)}}else U=function(){j(z,0)};function pe(ae,ue){P=j(function(){ae(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var Q=x;x=ue;try{return ae()}finally{x=Q}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(ae,ue){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Q=x;x=ae;try{return ue()}finally{x=Q}},e.unstable_scheduleCallback=function(ae,ue,Q){var Ne=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Ne+Q:Ne):Q=Ne,ae){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,ae={id:h++,callback:ue,priorityLevel:ae,startTime:Q,expirationTime:q,sortIndex:-1},Q>Ne?(ae.sortIndex=Q,t(f,ae),n(u)===null&&ae===n(f)&&(g?(E(P),P=-1):g=!0,pe(V,Q-Ne))):(ae.sortIndex=q,t(u,ae),w||b||(w=!0,ne||(ne=!0,U()))),ae},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(ae){var ue=x;return function(){var Q=x;x=ue;try{return ae.apply(this,arguments)}finally{x=Q}}}}(Hx)),Hx}var iw;function tT(){return iw||(iw=1,zx.exports=eT()),zx.exports}var Ux={exports:{}},Xa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function nT(){if(rw)return Xa;rw=1;var e=Ub();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xa.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,h)},Xa.flushSync=function(u){var f=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=h,i.d.f()}},Xa.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},Xa.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Xa.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:b}):h==="script"&&i.d.X(u,{crossOrigin:p,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xa.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},Xa.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin);i.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xa.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=c(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},Xa.requestFormReset=function(u){i.d.r(u)},Xa.unstable_batchedUpdates=function(u,f){return u(f)},Xa.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Xa.useFormStatus=function(){return o.H.useHostTransitionStatus()},Xa.version="19.1.0",Xa}var aw;function W3(){if(aw)return Ux.exports;aw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ux.exports=nT(),Ux.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function iT(){if(sw)return N0;sw=1;var e=tT(),t=Ub(),n=W3();function i(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function o(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(i(188))}function u(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(i(188));return d!==l?null:l}for(var m=l,v=d;;){var S=m.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===m)return c(S),l;if(T===v)return c(S),d;T=T.sibling}throw Error(i(188))}if(m.return!==v.return)m=S,v=T;else{for(var K=!1,fe=S.child;fe;){if(fe===m){K=!0,m=S,v=T;break}if(fe===v){K=!0,v=S,m=T;break}fe=fe.sibling}if(!K){for(fe=T.child;fe;){if(fe===m){K=!0,m=T,v=S;break}if(fe===v){K=!0,v=T,m=S;break}fe=fe.sibling}if(!K)throw Error(i(189))}}if(m.alternate!==v)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function U(l){return l===null||typeof l!="object"?null:(l=z&&l[z]||l["@@iterator"],typeof l=="function"?l:null)}var J=Symbol.for("react.client.reference");function ie(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===J?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case _:return"Profiler";case g:return"StrictMode";case V:return"Suspense";case ne:return"SuspenseList";case Y:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case k:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case F:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return d=l.displayName||null,d!==null?d:ie(l.type)||"Memo";case I:d=l._payload,l=l._init;try{return ie(l(d))}catch{}}return null}var pe=Array.isArray,ae=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Ne=[],q=-1;function ke(l){return{current:l}}function O(l){0>q||(l.current=Ne[q],Ne[q]=null,q--)}function B(l,d){q++,Ne[q]=l.current,l.current=d}var W=ke(null),X=ke(null),le=ke(null),Ce=ke(null);function _e(l,d){switch(B(le,d),B(X,l),B(W,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?A5(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=A5(d),l=E5(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}O(W),B(W,l)}function Le(){O(W),O(X),O(le)}function ze(l){l.memoizedState!==null&&B(Ce,l);var d=W.current,m=E5(d,l.type);d!==m&&(B(X,l),B(W,m))}function nt(l){X.current===l&&(O(W),O(X)),Ce.current===l&&(O(Ce),x0._currentValue=Q)}var Oe=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,Ke=e.unstable_cancelCallback,ve=e.unstable_shouldYield,se=e.unstable_requestPaint,Ie=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,ft=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,wt=e.unstable_LowPriority,Rt=e.unstable_IdlePriority,Dt=e.log,Bt=e.unstable_setDisableYieldValue,_t=null,It=null;function Kt(l){if(typeof Dt=="function"&&Bt(l),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(_t,l)}catch{}}var kt=Math.clz32?Math.clz32:Gn,Zt=Math.log,Nt=Math.LN2;function Gn(l){return l>>>=0,l===0?32:31-(Zt(l)/Nt|0)|0}var sn=256,ni=4194304;function cn(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function yn(l,d,m){var v=l.pendingLanes;if(v===0)return 0;var S=0,T=l.suspendedLanes,K=l.pingedLanes;l=l.warmLanes;var fe=v&134217727;return fe!==0?(v=fe&~T,v!==0?S=cn(v):(K&=fe,K!==0?S=cn(K):m||(m=fe&~l,m!==0&&(S=cn(m))))):(fe=v&~T,fe!==0?S=cn(fe):K!==0?S=cn(K):m||(m=v&~l,m!==0&&(S=cn(m)))),S===0?0:d!==0&&d!==S&&(d&T)===0&&(T=S&-S,m=d&-d,T>=m||T===32&&(m&4194048)!==0)?d:S}function Hn(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function xn(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var l=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),l}function Un(){var l=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),l}function Ri(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function yi(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function On(l,d,m,v,S,T){var K=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var fe=l.entanglements,Re=l.expirationTimes,Xe=l.hiddenUpdates;for(m=K&~m;0<m;){var dt=31-kt(m),mt=1<<dt;fe[dt]=0,Re[dt]=-1;var Je=Xe[dt];if(Je!==null)for(Xe[dt]=null,dt=0;dt<Je.length;dt++){var et=Je[dt];et!==null&&(et.lane&=-536870913)}m&=~mt}v!==0&&Jt(l,v,0),T!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=T&~(K&~d))}function Jt(l,d,m){l.pendingLanes|=d,l.suspendedLanes&=~d;var v=31-kt(d);l.entangledLanes|=d,l.entanglements[v]=l.entanglements[v]|1073741824|m&4194090}function vn(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var v=31-kt(m),S=1<<v;S&d|l[v]&d&&(l[v]|=d),m&=~S}}function Oi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ai(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function tr(){var l=ue.p;return l!==0?l:(l=window.event,l===void 0?32:G5(l.type))}function En(l,d){var m=ue.p;try{return ue.p=l,d()}finally{ue.p=m}}var Pt=Math.random().toString(36).slice(2),fn="__reactFiber$"+Pt,Dn="__reactProps$"+Pt,$n="__reactContainer$"+Pt,pn="__reactEvents$"+Pt,Wn="__reactListeners$"+Pt,oe="__reactHandles$"+Pt,je="__reactResources$"+Pt,xe="__reactMarker$"+Pt;function ye(l){delete l[fn],delete l[Dn],delete l[pn],delete l[Wn],delete l[oe]}function Ae(l){var d=l[fn];if(d)return d;for(var m=l.parentNode;m;){if(d=m[$n]||m[fn]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=L5(l);l!==null;){if(m=l[fn])return m;l=L5(l)}return d}l=m,m=l.parentNode}return null}function Ee(l){if(l=l[fn]||l[$n]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function qe(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(i(33))}function Qe(l){var d=l[je];return d||(d=l[je]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Pe(l){l[xe]=!0}var We=new Set,Ge={};function ut(l,d){yt(l,d),yt(l+"Capture",d)}function yt(l,d){for(Ge[l]=d,l=0;l<d.length;l++)We.add(d[l])}var Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bt={},jt={};function nn(l){return Oe.call(jt,l)?!0:Oe.call(bt,l)?!1:Ct.test(l)?jt[l]=!0:(bt[l]=!0,!1)}function kn(l,d,m){if(nn(d))if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+m)}}function Tn(l,d,m){if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+m)}}function Qn(l,d,m,v){if(v===null)l.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(d,m,""+v)}}var Hr,Ia;function Cr(l){if(Hr===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);Hr=d&&d[1]||"",Ia=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+l+Ia}var ta=!1;function xa(l,d){if(!l||ta)return"";ta=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(et){var Je=et}Reflect.construct(l,[],mt)}else{try{mt.call()}catch(et){Je=et}l.call(mt.prototype)}}else{try{throw Error()}catch(et){Je=et}(mt=l())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(et){if(et&&Je&&typeof et.stack=="string")return[et.stack,Je.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),K=T[0],fe=T[1];if(K&&fe){var Re=K.split(`
`),Xe=fe.split(`
`);for(S=v=0;v<Re.length&&!Re[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Xe.length&&!Xe[S].includes("DetermineComponentFrameRoot");)S++;if(v===Re.length||S===Xe.length)for(v=Re.length-1,S=Xe.length-1;1<=v&&0<=S&&Re[v]!==Xe[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Re[v]!==Xe[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Re[v]!==Xe[S]){var dt=`
`+Re[v].replace(" at new "," at ");return l.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",l.displayName)),dt}while(1<=v&&0<=S);break}}}finally{ta=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?Cr(m):""}function na(l){switch(l.tag){case 26:case 27:case 5:return Cr(l.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return xa(l.type,!1);case 11:return xa(l.type.render,!1);case 1:return xa(l.type,!0);case 31:return Cr("Activity");default:return""}}function Ai(l){try{var d="";do d+=na(l),l=l.return;while(l);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function kr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function nc(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Pc(l){var d=nc(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),v=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,T=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return S.call(this)},set:function(K){v=""+K,T.call(this,K)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(K){v=""+K},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Js(l){l._valueTracker||(l._valueTracker=Pc(l))}function Ic(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return l&&(v=nc(l)?l.checked?"true":"false":l.value),l=v,l!==m?(d.setValue(l),!0):!1}function Ei(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ar=/[\n"\\]/g;function Yn(l){return l.replace(ar,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function sr(l,d,m,v,S,T,K,fe){l.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.type=K:l.removeAttribute("type"),d!=null?K==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+kr(d)):l.value!==""+kr(d)&&(l.value=""+kr(d)):K!=="submit"&&K!=="reset"||l.removeAttribute("value"),d!=null?xl(l,K,kr(d)):m!=null?xl(l,K,kr(m)):v!=null&&l.removeAttribute("value"),S==null&&T!=null&&(l.defaultChecked=!!T),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?l.name=""+kr(fe):l.removeAttribute("name")}function gl(l,d,m,v,S,T,K,fe){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(l.type=T),d!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||d!=null))return;m=m!=null?""+kr(m):"",d=d!=null?""+kr(d):m,fe||d===l.value||(l.value=d),l.defaultValue=d}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=fe?l.checked:!!v,l.defaultChecked=!!v,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(l.name=K)}function xl(l,d,m){d==="number"&&Ei(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function or(l,d,m,v){if(l=l.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=d.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&v&&(l[m].defaultSelected=!0)}else{for(m=""+kr(m),d=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}d!==null||l[S].disabled||(d=l[S])}d!==null&&(d.selected=!0)}}function ws(l,d,m){if(d!=null&&(d=""+kr(d),d!==l.value&&(l.value=d),m==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=m!=null?""+kr(m):""}function Do(l,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(i(92));if(pe(v)){if(1<v.length)throw Error(i(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=kr(d),l.defaultValue=m,v=l.textContent,v===m&&v!==""&&v!==null&&(l.value=v)}function va(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(l,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":v?l.setProperty(d,m):typeof m!="number"||m===0||vl.has(d)?d==="float"?l.cssFloat=m:l[d]=(""+m).trim():l[d]=m+"px"}function Qs(l,d,m){if(d!=null&&typeof d!="object")throw Error(i(62));if(l=l.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in d)v=d[S],d.hasOwnProperty(S)&&m[S]!==v&&Bc(l,S,v)}else for(var T in d)d.hasOwnProperty(T)&&Bc(l,T,d[T])}function bl(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ia=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(l){return ia.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var ba=null;function Hi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var to=null,ya=null;function rn(l){var d=Ee(l);if(d&&(l=d.stateNode)){var m=l[Dn]||null;e:switch(l=d.stateNode,d.type){case"input":if(sr(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Yn(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==l&&v.form===l.form){var S=v[Dn]||null;if(!S)throw Error(i(90));sr(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===l.form&&Ic(v)}break e;case"textarea":ws(l,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&or(l,!!m.multiple,d,!1)}}}var no=!1;function zc(l,d,m){if(no)return l(d,m);no=!0;try{var v=l(d);return v}finally{if(no=!1,(to!==null||ya!==null)&&(cp(),to&&(d=to,l=ya,ya=to=null,rn(d),l)))for(d=0;d<l.length;d++)rn(l[d])}}function Ur(l,d){var m=l.stateNode;if(m===null)return null;var v=m[Dn]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(i(231,d,typeof m));return m}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(wa)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{ls=!1}var _a=null,yl=null,io=null;function ic(){if(io)return io;var l,d=yl,m=d.length,v,S="value"in _a?_a.value:_a.textContent,T=S.length;for(l=0;l<m&&d[l]===S[l];l++);var K=m-l;for(v=1;v<=K&&d[m-v]===S[T-v];v++);return io=S.slice(l,1<v?1-v:void 0)}function Mo(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Na(){return!0}function ro(){return!1}function br(l){function d(m,v,S,T,K){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=K,this.currentTarget=null;for(var fe in l)l.hasOwnProperty(fe)&&(m=l[fe],this[fe]=m?m(T):T[fe]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Na:ro,this.isPropagationStopped=ro,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),d}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=br(Wr),Ba=h({},Wr,{view:0,detail:0}),Hc=br(Ba),js,Fo,ao,ra=h({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ao&&(ao&&l.type==="mousemove"?(js=l.screenX-ao.screenX,Fo=l.screenY-ao.screenY):Fo=js=0,ao=l),js)},movementY:function(l){return"movementY"in l?l.movementY:Fo}}),Vr=br(ra),Od=h({},ra,{dataTransfer:0}),so=br(Od),za=h({},Ba,{relatedTarget:0}),Po=br(za),Io=h({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=br(Io),Bo=h({},Wr,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Iu=br(Bo),Uc=h({},Wr,{data:0}),rc=br(Uc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=zo[l])?!!d[l]:!1}function ac(){return Vc}var qc=h({},Ba,{key:function(l){if(l.key){var d=Wc[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Mo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?wl[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(l){return l.type==="keypress"?Mo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Mo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),_l=br(qc),Ho=h({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=br(Ho),As=h({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),Gc=br(As),C=h({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),te=br(C),Te=h({},ra,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),De=br(Te),Ve=h({},Wr,{newState:0,oldState:0}),at=br(Ve),xt=[9,13,27,32],Mt=wa&&"CompositionEvent"in window,Ut=null;wa&&"documentMode"in document&&(Ut=document.documentMode);var tn=wa&&"TextEvent"in window&&!Ut,un=wa&&(!Mt||Ut&&8<Ut&&11>=Ut),wn=" ",wi=!1;function Ti(l,d){switch(l){case"keyup":return xt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Wi=!1;function lr(l,d){switch(l){case"compositionend":return Ui(d);case"keypress":return d.which!==32?null:(wi=!0,wn);case"textInput":return l=d.data,l===wn&&wi?null:l;default:return null}}function cs(l,d){if(Wi)return l==="compositionend"||!Mt&&Ti(l,d)?(l=ic(),io=yl=_a=null,Wi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return un&&d.locale!=="ko"?null:d.data;default:return null}}var Sa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Sa[l.type]:d==="textarea"}function qr(l,d,m,v){to?ya?ya.push(v):ya=[v]:to=v,d=pp(d,"onChange"),0<d.length&&(m=new Ss("onChange","change",null,m,v),l.push({event:m,listeners:d}))}var Es=null,Ts=null;function Nl(l){w5(l,0)}function Uo(l){var d=qe(l);if(Ic(d))return l}function sc(l,d){if(l==="change")return d}var Wo=!1;if(wa){var Di;if(wa){var Vo="oninput"in document;if(!Vo){var Sl=document.createElement("div");Sl.setAttribute("oninput","return;"),Vo=typeof Sl.oninput=="function"}Di=Vo}else Di=!1;Wo=Di&&(!document.documentMode||9<document.documentMode)}function qo(){Es&&(Es.detachEvent("onpropertychange",oc),Ts=Es=null)}function oc(l){if(l.propertyName==="value"&&Uo(Ts)){var d=[];qr(d,Ts,l,Hi(l)),zc(Nl,d)}}function aa(l,d,m){l==="focusin"?(qo(),Es=d,Ts=m,Es.attachEvent("onpropertychange",oc)):l==="focusout"&&qo()}function Bu(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Uo(Ts)}function lc(l,d){if(l==="click")return Uo(d)}function $c(l,d){if(l==="input"||l==="change")return Uo(d)}function Gr(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var nr=typeof Object.is=="function"?Object.is:Gr;function Cs(l,d){if(nr(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!Oe.call(d,S)||!nr(l[S],d[S]))return!1}return!0}function Lr(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function oo(l,d){var m=Lr(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=d&&v>=d)return{node:m,offset:d-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Lr(m)}}function Go(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?Go(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Rr(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Ei(l.document);d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=Ei(l.document)}return d}function cr(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var $o=wa&&"documentMode"in document&&11>=document.documentMode,sa=null,ds=null,ks=null,fs=!1;function Mi(l,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;fs||sa==null||sa!==Ei(v)||(v=sa,"selectionStart"in v&&cr(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ks&&Cs(ks,v)||(ks=v,v=pp(ds,"onSelect"),0<v.length&&(d=new Ss("onSelect","select",null,d,m),l.push({event:d,listeners:v}),d.target=sa)))}function Ua(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Vi={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Or={},jl={};wa&&(jl=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Ls(l){if(Or[l])return Or[l];if(!Vi[l])return l;var d=Vi[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in jl)return Or[l]=d[m];return l}var Wa=Ls("animationend"),Dr=Ls("animationiteration"),lo=Ls("animationstart"),Yo=Ls("transitionrun"),Xo=Ls("transitionstart"),Al=Ls("transitioncancel"),co=Ls("transitionend"),Rs=new Map,El="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");El.push("scrollEnd");function Fi(l,d){Rs.set(l,d),ut(d,[l])}var ja=new WeakMap;function _n(l,d){if(typeof l=="object"&&l!==null){var m=ja.get(l);return m!==void 0?m:(d={value:l,source:d,stack:Ai(d)},ja.set(l,d),d)}return{value:l,source:d,stack:Ai(d)}}var Nn=[],li=0,qi=0;function Va(){for(var l=li,d=qi=li=0;d<l;){var m=Nn[d];Nn[d++]=null;var v=Nn[d];Nn[d++]=null;var S=Nn[d];Nn[d++]=null;var T=Nn[d];if(Nn[d++]=null,v!==null&&S!==null){var K=v.pending;K===null?S.next=S:(S.next=K.next,K.next=S),v.pending=S}T!==0&&Yc(m,S,T)}}function Ko(l,d,m,v){Nn[li++]=l,Nn[li++]=d,Nn[li++]=m,Nn[li++]=v,qi|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Zo(l,d,m,v){return Ko(l,d,m,v),Tl(l)}function yr(l,d){return Ko(l,null,null,d),Tl(l)}function Yc(l,d,m){l.lanes|=m;var v=l.alternate;v!==null&&(v.lanes|=m);for(var S=!1,T=l.return;T!==null;)T.childLanes|=m,v=T.alternate,v!==null&&(v.childLanes|=m),T.tag===22&&(l=T.stateNode,l===null||l._visibility&1||(S=!0)),l=T,T=T.return;return l.tag===3?(T=l.stateNode,S&&d!==null&&(S=31-kt(m),l=T.hiddenUpdates,v=l[S],v===null?l[S]=[d]:v.push(d),d.lane=m|536870912),T):null}function Tl(l){if(50<c0)throw c0=0,ox=null,Error(i(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var ur={};function qa(l,d,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(l,d,m,v){return new qa(l,d,m,v)}function cc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Os(l,d){var m=l.alternate;return m===null?(m=Mr(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function Xc(l,d){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,d=m.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function Cl(l,d,m,v,S,T){var K=0;if(v=l,typeof l=="function")cc(l)&&(K=1);else if(typeof l=="string")K=FE(l,m,W.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case Y:return l=Mr(31,m,d,S),l.elementType=Y,l.lanes=T,l;case w:return hs(m.children,S,T,d);case g:K=8,S|=24;break;case _:return l=Mr(12,m,d,S|2),l.elementType=_,l.lanes=T,l;case V:return l=Mr(13,m,d,S),l.elementType=V,l.lanes=T,l;case ne:return l=Mr(19,m,d,S),l.elementType=ne,l.lanes=T,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case j:case k:K=10;break e;case E:K=9;break e;case F:K=11;break e;case P:K=14;break e;case I:K=16,v=null;break e}K=29,m=Error(i(130,l===null?"null":typeof l,"")),v=null}return d=Mr(K,m,d,S),d.elementType=l,d.type=v,d.lanes=T,d}function hs(l,d,m,v){return l=Mr(7,l,v,d),l.lanes=m,l}function kl(l,d,m){return l=Mr(6,l,null,d),l.lanes=m,l}function Kc(l,d,m){return d=Mr(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var uo=[],Ds=0,Ms=null,uc=0,Ga=[],Aa=0,Ll=null,$r=1,fo="";function Rl(l,d){uo[Ds++]=uc,uo[Ds++]=Ms,Ms=l,uc=d}function Tf(l,d,m){Ga[Aa++]=$r,Ga[Aa++]=fo,Ga[Aa++]=Ll,Ll=l;var v=$r;l=fo;var S=32-kt(v)-1;v&=~(1<<S),m+=1;var T=32-kt(d)+S;if(30<T){var K=S-S%5;T=(v&(1<<K)-1).toString(32),v>>=K,S-=K,$r=1<<32-kt(d)+S|m<<S|v,fo=T+l}else $r=1<<T|m<<S|v,fo=l}function Zc(l){l.return!==null&&(Rl(l,1),Tf(l,1,0))}function Jo(l){for(;l===Ms;)Ms=uo[--Ds],uo[Ds]=null,uc=uo[--Ds],uo[Ds]=null;for(;l===Ll;)Ll=Ga[--Aa],Ga[Aa]=null,fo=Ga[--Aa],Ga[Aa]=null,$r=Ga[--Aa],Ga[Aa]=null}var Gi=null,Pi=null,Vn=!1,Qo=null,Yr=!1,Jc=Error(i(519));function el(l){var d=Error(i(418,""));throw dc(_n(d,l)),Jc}function Cf(l){var d=l.stateNode,m=l.type,v=l.memoizedProps;switch(d[fn]=l,d[Dn]=v,m){case"dialog":Bn("cancel",d),Bn("close",d);break;case"iframe":case"object":case"embed":Bn("load",d);break;case"video":case"audio":for(m=0;m<d0.length;m++)Bn(d0[m],d);break;case"source":Bn("error",d);break;case"img":case"image":case"link":Bn("error",d),Bn("load",d);break;case"details":Bn("toggle",d);break;case"input":Bn("invalid",d),gl(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Js(d);break;case"select":Bn("invalid",d);break;case"textarea":Bn("invalid",d),Do(d,v.value,v.defaultValue,v.children),Js(d)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||j5(d.textContent,m)?(v.popover!=null&&(Bn("beforetoggle",d),Bn("toggle",d)),v.onScroll!=null&&Bn("scroll",d),v.onScrollEnd!=null&&Bn("scrollend",d),v.onClick!=null&&(d.onclick=gp),d=!0):d=!1,d||el(l)}function ho(l){for(Gi=l.return;Gi;)switch(Gi.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Gi=Gi.return}}function Xr(l){if(l!==Gi)return!1;if(!Vn)return ho(l),Vn=!0,!1;var d=l.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||Nx(l.type,l.memoizedProps)),m=!m),m&&Pi&&el(l),ho(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(m=l.data,m==="/$"){if(d===0){Pi=zl(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;l=l.nextSibling}Pi=null}}else d===27?(d=Pi,ad(l.type)?(l=Ex,Ex=null,Pi=l):Pi=d):Pi=Gi?zl(l.stateNode.nextSibling):null;return!0}function wr(){Pi=Gi=null,Vn=!1}function tl(){var l=Qo;return l!==null&&(Us===null?Us=l:Us.push.apply(Us,l),Qo=null),l}function dc(l){Qo===null?Qo=[l]:Qo.push(l)}var Fs=ke(null),dr=null,mo=null;function nl(l,d,m){B(Fs,d._currentValue),d._currentValue=m}function Ps(l){l._currentValue=Fs.current,O(Fs)}function zu(l,d,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),l===m)break;l=l.return}}function Hu(l,d,m,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var T=S.dependencies;if(T!==null){var K=S.child;T=T.firstContext;e:for(;T!==null;){var fe=T;T=S;for(var Re=0;Re<d.length;Re++)if(fe.context===d[Re]){T.lanes|=m,fe=T.alternate,fe!==null&&(fe.lanes|=m),zu(T.return,m,l),v||(K=null);break e}T=fe.next}}else if(S.tag===18){if(K=S.return,K===null)throw Error(i(341));K.lanes|=m,T=K.alternate,T!==null&&(T.lanes|=m),zu(K,m,l),K=null}else K=S.child;if(K!==null)K.return=S;else for(K=S;K!==null;){if(K===l){K=null;break}if(S=K.sibling,S!==null){S.return=K.return,K=S;break}K=K.return}S=K}}function Ol(l,d,m,v){l=null;for(var S=d,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var K=S.alternate;if(K===null)throw Error(i(387));if(K=K.memoizedProps,K!==null){var fe=S.type;nr(S.pendingProps.value,K.value)||(l!==null?l.push(fe):l=[fe])}}else if(S===Ce.current){if(K=S.alternate,K===null)throw Error(i(387));K.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(x0):l=[x0])}S=S.return}l!==null&&Hu(d,l,m,v),d.flags|=262144}function Uu(l){for(l=l.firstContext;l!==null;){if(!nr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ms(l){dr=l,mo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function $i(l){return Is(dr,l)}function po(l,d){return dr===null&&ms(l),Is(l,d)}function Is(l,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},mo===null){if(l===null)throw Error(i(308));mo=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else mo=mo.next=d;return m}var kf=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(m,v){l.push(v)}};this.abort=function(){d.aborted=!0,l.forEach(function(m){return m()})}},Wu=e.unstable_scheduleCallback,Lf=e.unstable_NormalPriority,Yi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vu(){return{controller:new kf,data:new Map,refCount:0}}function Dl(l){l.refCount--,l.refCount===0&&Wu(Lf,function(){l.controller.abort()})}var Qc=null,go=0,oa=0,xo=null;function Vh(l,d){if(Qc===null){var m=Qc=[];go=0,oa=mx(),xo={status:"pending",value:void 0,then:function(v){m.push(v)}}}return go++,d.then(Rf,Rf),d}function Rf(){if(--go===0&&Qc!==null){xo!==null&&(xo.status="fulfilled");var l=Qc;Qc=null,oa=0,xo=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function Of(l,d){var m=[],v={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return l.then(function(){v.status="fulfilled",v.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(v.status="rejected",v.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),v}var y=ae.S;ae.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Vh(l,d),y!==null&&y(l,d)};var A=ke(null);function L(){var l=A.current;return l!==null?l:Bi.pooledCache}function H(l,d){d===null?B(A,A.current):B(A,d.pool)}function ee(){var l=L();return l===null?null:{parent:Yi._currentValue,pool:l}}var re=Error(i(460)),ce=Error(i(474)),de=Error(i(542)),me={then:function(){}};function Se(l){return l=l.status,l==="fulfilled"||l==="rejected"}function M(){}function N(l,d,m){switch(m=l[m],m===void 0?l.push(d):m!==d&&(d.then(M,M),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,we(l),l;default:if(typeof d.status=="string")d.then(M,M);else{if(l=Bi,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=d,l.status="pending",l.then(function(v){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=v}},function(v){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,we(l),l}throw R=d,re}}var R=null;function G(){if(R===null)throw Error(i(459));var l=R;return R=null,l}function we(l){if(l===re||l===de)throw Error(i(483))}var ge=!1;function he(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function be(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Me(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function He(l,d,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(fi&2)!==0){var S=v.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),v.pending=d,d=Tl(l),Yc(l,null,m),d}return Ko(l,v,d,m),Tl(l)}function Be(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,vn(l,m)}}function tt(l,d){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var K={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?S=T=K:T=T.next=K,m=m.next}while(m!==null);T===null?S=T=d:T=T.next=d}else S=T=d;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}var ct=!1;function pt(){if(ct){var l=xo;if(l!==null)throw l}}function lt(l,d,m,v){ct=!1;var S=l.updateQueue;ge=!1;var T=S.firstBaseUpdate,K=S.lastBaseUpdate,fe=S.shared.pending;if(fe!==null){S.shared.pending=null;var Re=fe,Xe=Re.next;Re.next=null,K===null?T=Xe:K.next=Xe,K=Re;var dt=l.alternate;dt!==null&&(dt=dt.updateQueue,fe=dt.lastBaseUpdate,fe!==K&&(fe===null?dt.firstBaseUpdate=Xe:fe.next=Xe,dt.lastBaseUpdate=Re))}if(T!==null){var mt=S.baseState;K=0,dt=Xe=Re=null,fe=T;do{var Je=fe.lane&-536870913,et=Je!==fe.lane;if(et?(Jn&Je)===Je:(v&Je)===Je){Je!==0&&Je===oa&&(ct=!0),dt!==null&&(dt=dt.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var hn=l,on=fe;Je=d;var Si=m;switch(on.tag){case 1:if(hn=on.payload,typeof hn=="function"){mt=hn.call(Si,mt,Je);break e}mt=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=on.payload,Je=typeof hn=="function"?hn.call(Si,mt,Je):hn,Je==null)break e;mt=h({},mt,Je);break e;case 2:ge=!0}}Je=fe.callback,Je!==null&&(l.flags|=64,et&&(l.flags|=8192),et=S.callbacks,et===null?S.callbacks=[Je]:et.push(Je))}else et={lane:Je,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},dt===null?(Xe=dt=et,Re=mt):dt=dt.next=et,K|=Je;if(fe=fe.next,fe===null){if(fe=S.shared.pending,fe===null)break;et=fe,fe=et.next,et.next=null,S.lastBaseUpdate=et,S.shared.pending=null}}while(!0);dt===null&&(Re=mt),S.baseState=Re,S.firstBaseUpdate=Xe,S.lastBaseUpdate=dt,T===null&&(S.shared.lanes=0),td|=K,l.lanes=K,l.memoizedState=mt}}function Lt(l,d){if(typeof l!="function")throw Error(i(191,l));l.call(d)}function Ft(l,d){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)Lt(m[l],d)}var zt=ke(null),Wt=ke(0);function Ht(l,d){l=du,B(Wt,l),B(zt,d),du=l|d.baseLanes}function $t(){B(Wt,du),B(zt,zt.current)}function St(){du=Wt.current,O(zt),O(Wt)}var Vt=0,Et=null,Ot=null,qt=null,en=!1,Zn=!1,ei=!1,Ln=0,qn=0,Xn=null,Fn=0;function bn(){throw Error(i(321))}function ti(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!nr(l[m],d[m]))return!1;return!0}function Fr(l,d,m,v,S,T){return Vt=T,Et=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ae.H=l===null||l.memoizedState===null?ay:sy,ei=!1,T=m(v,S),ei=!1,Zn&&(T=Pn(d,m,v,S)),di(l),T}function di(l){ae.H=Km;var d=Ot!==null&&Ot.next!==null;if(Vt=0,qt=Ot=Et=null,en=!1,qn=0,Xn=null,d)throw Error(i(300));l===null||ua||(l=l.dependencies,l!==null&&Uu(l)&&(ua=!0))}function Pn(l,d,m,v){Et=l;var S=0;do{if(Zn&&(Xn=null),qn=0,Zn=!1,25<=S)throw Error(i(301));if(S+=1,qt=Ot=null,l.updateQueue!=null){var T=l.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}ae.H=$6,T=d(m,v)}while(Zn);return T}function Ii(){var l=ae.H,d=l.useState()[0];return d=typeof d.then=="function"?il(d):d,l=l.useState()[0],(Ot!==null?Ot.memoizedState:null)!==l&&(Et.flags|=1024),d}function Rn(){var l=Ln!==0;return Ln=0,l}function $a(l,d,m){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~m}function Ml(l){if(en){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}en=!1}Vt=0,qt=Ot=Et=null,Zn=!1,qn=Ln=0,Xn=null}function Pr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=l:qt=qt.next=l,qt}function _i(){if(Ot===null){var l=Et.alternate;l=l!==null?l.memoizedState:null}else l=Ot.next;var d=qt===null?Et.memoizedState:qt.next;if(d!==null)qt=d,Ot=l;else{if(l===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Ot=l,l={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},qt===null?Et.memoizedState=qt=l:qt=qt.next=l}return qt}function Bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(l){var d=qn;return qn+=1,Xn===null&&(Xn=[]),l=N(Xn,l,d),d=Et,(qt===null?d.memoizedState:qt.next)===null&&(d=d.alternate,ae.H=d===null||d.memoizedState===null?ay:sy),l}function la(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return il(l);if(l.$$typeof===k)return $i(l)}throw Error(i(438,String(l)))}function zs(l){var d=null,m=Et.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=Et.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=Bs(),Et.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(l),v=0;v<l;v++)m[v]=Z;return d.index++,m}function ca(l,d){return typeof d=="function"?d(l):d}function fc(l){var d=_i();return hc(d,Ot,l)}function hc(l,d,m){var v=l.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=m;var S=l.baseQueue,T=v.pending;if(T!==null){if(S!==null){var K=S.next;S.next=T.next,T.next=K}d.baseQueue=S=T,v.pending=null}if(T=l.baseState,S===null)l.memoizedState=T;else{d=S.next;var fe=K=null,Re=null,Xe=d,dt=!1;do{var mt=Xe.lane&-536870913;if(mt!==Xe.lane?(Jn&mt)===mt:(Vt&mt)===mt){var Je=Xe.revertLane;if(Je===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),mt===oa&&(dt=!0);else if((Vt&Je)===Je){Xe=Xe.next,Je===oa&&(dt=!0);continue}else mt={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Re===null?(fe=Re=mt,K=T):Re=Re.next=mt,Et.lanes|=Je,td|=Je;mt=Xe.action,ei&&m(T,mt),T=Xe.hasEagerState?Xe.eagerState:m(T,mt)}else Je={lane:mt,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Re===null?(fe=Re=Je,K=T):Re=Re.next=Je,Et.lanes|=mt,td|=mt;Xe=Xe.next}while(Xe!==null&&Xe!==d);if(Re===null?K=T:Re.next=fe,!nr(T,l.memoizedState)&&(ua=!0,dt&&(m=xo,m!==null)))throw m;l.memoizedState=T,l.baseState=K,l.baseQueue=Re,v.lastRenderedState=T}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function eu(l){var d=_i(),m=d.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=l;var v=m.dispatch,S=m.pending,T=d.memoizedState;if(S!==null){m.pending=null;var K=S=S.next;do T=l(T,K.action),K=K.next;while(K!==S);nr(T,d.memoizedState)||(ua=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,v]}function mc(l,d,m){var v=Et,S=_i(),T=Vn;if(T){if(m===void 0)throw Error(i(407));m=m()}else m=d();var K=!nr((Ot||S).memoizedState,m);K&&(S.memoizedState=m,ua=!0),S=S.queue;var fe=Ya.bind(null,v,S,l);if(Yu(2048,8,fe,[l]),S.getSnapshot!==d||K||qt!==null&&qt.memoizedState.tag&1){if(v.flags|=2048,Fl(9,Id(),tu.bind(null,v,S,m,d),null),Bi===null)throw Error(i(349));T||(Vt&124)!==0||qu(v,d,m)}return m}function qu(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Et.updateQueue,d===null?(d=Bs(),Et.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function tu(l,d,m,v){d.value=m,d.getSnapshot=v,nu(d)&&Dd(l)}function Ya(l,d,m){return m(function(){nu(d)&&Dd(l)})}function nu(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!nr(l,m)}catch{return!0}}function Dd(l){var d=yr(l,2);d!==null&&No(d,l,2)}function pc(l){var d=Pr();if(typeof l=="function"){var m=l;if(l=m(),ei){Kt(!0);try{m()}finally{Kt(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:l},d}function ps(l,d,m,v){return l.baseState=m,hc(l,Ot,typeof v=="function"?v:ca)}function Df(l,d,m,v,S){if(Xm(l))throw Error(i(485));if(l=d.action,l!==null){var T={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){T.listeners.push(K)}};ae.T!==null?m(!0):T.isTransition=!1,v(T),m=d.pending,m===null?(T.next=d.pending=T,Md(d,T)):(T.next=m.next,d.pending=m.next=T)}}function Md(l,d){var m=d.action,v=d.payload,S=l.state;if(d.isTransition){var T=ae.T,K={};ae.T=K;try{var fe=m(S,v),Re=ae.S;Re!==null&&Re(K,fe),Fd(l,d,fe)}catch(Xe){gc(l,d,Xe)}finally{ae.T=T}}else try{T=m(S,v),Fd(l,d,T)}catch(Xe){gc(l,d,Xe)}}function Fd(l,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){Gu(l,d,v)},function(v){return gc(l,d,v)}):Gu(l,d,m)}function Gu(l,d,m){d.status="fulfilled",d.value=m,Pd(d),l.state=m,d=l.pending,d!==null&&(m=d.next,m===d?l.pending=null:(m=m.next,d.next=m,Md(l,m)))}function gc(l,d,m){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,Pd(d),d=d.next;while(d!==v)}l.action=null}function Pd(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function iu(l,d){return d}function xc(l,d){if(Vn){var m=Bi.formState;if(m!==null){e:{var v=Et;if(Vn){if(Pi){t:{for(var S=Pi,T=Yr;S.nodeType!==8;){if(!T){S=null;break t}if(S=zl(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){Pi=zl(S.nextSibling),v=S.data==="F!";break e}}el(v)}v=!1}v&&(d=m[0])}}return m=Pr(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:d},m.queue=v,m=ny.bind(null,Et,v),v.dispatch=m,v=pc(!1),T=F1.bind(null,Et,!1,v.queue),v=Pr(),S={state:d,dispatch:null,action:l,pending:null},v.queue=S,m=Df.bind(null,Et,S,T,m),S.dispatch=m,v.memoizedState=l,[d,m,!1]}function Mf(l){var d=_i();return $u(d,Ot,l)}function $u(l,d,m){if(d=hc(l,d,iu)[0],l=fc(ca)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=il(d)}catch(K){throw K===re?de:K}else v=d;d=_i();var S=d.queue,T=S.dispatch;return m!==d.memoizedState&&(Et.flags|=2048,Fl(9,Id(),Wm.bind(null,S,m),null)),[v,T,l]}function Wm(l,d){l.action=d}function Vm(l){var d=_i(),m=Ot;if(m!==null)return $u(d,m,l);_i(),d=d.memoizedState,m=_i();var v=m.queue.dispatch;return m.memoizedState=l,[d,v,!1]}function Fl(l,d,m,v){return l={tag:l,create:m,deps:v,inst:d,next:null},d=Et.updateQueue,d===null&&(d=Bs(),Et.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,d.lastEffect=l),l}function Id(){return{destroy:void 0,resource:void 0}}function Ff(){return _i().memoizedState}function vo(l,d,m,v){var S=Pr();v=v===void 0?null:v,Et.flags|=l,S.memoizedState=Fl(1|d,Id(),m,v)}function Yu(l,d,m,v){var S=_i();v=v===void 0?null:v;var T=S.memoizedState.inst;Ot!==null&&v!==null&&ti(v,Ot.memoizedState.deps)?S.memoizedState=Fl(d,T,m,v):(Et.flags|=l,S.memoizedState=Fl(1|d,T,m,v))}function qh(l,d){vo(8390656,8,l,d)}function qm(l,d){Yu(2048,8,l,d)}function Gh(l,d){return Yu(4,2,l,d)}function ru(l,d){return Yu(4,4,l,d)}function Gm(l,d){if(typeof d=="function"){l=l();var m=d(l);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function $h(l,d,m){m=m!=null?m.concat([l]):null,Yu(4,4,Gm.bind(null,d,l),m)}function Yh(){}function Xh(l,d){var m=_i();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&ti(d,v[1])?v[0]:(m.memoizedState=[l,d],l)}function $m(l,d){var m=_i();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&ti(d,v[1]))return v[0];if(v=l(),ei){Kt(!0);try{l()}finally{Kt(!1)}}return m.memoizedState=[v,d],v}function au(l,d,m){return m===void 0||(Vt&1073741824)!==0?l.memoizedState=d:(l.memoizedState=m,l=Jy(),Et.lanes|=l,td|=l,m)}function Pf(l,d,m,v){return nr(m,d)?m:zt.current!==null?(l=au(l,m,v),nr(l,d)||(ua=!0),l):(Vt&42)===0?(ua=!0,l.memoizedState=m):(l=Jy(),Et.lanes|=l,td|=l,d)}function Bd(l,d,m,v,S){var T=ue.p;ue.p=T!==0&&8>T?T:8;var K=ae.T,fe={};ae.T=fe,F1(l,!1,d,m);try{var Re=S(),Xe=ae.S;if(Xe!==null&&Xe(fe,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var dt=Of(Re,v);Qh(l,d,dt,_o(l))}else Qh(l,d,v,_o(l))}catch(mt){Qh(l,d,{then:function(){},status:"rejected",reason:mt},_o())}finally{ue.p=T,ae.T=K}}function Pl(){}function rl(l,d,m,v){if(l.tag!==5)throw Error(i(476));var S=Il(l).queue;Bd(l,S,d,Q,m===null?Pl:function(){return zd(l),m(v)})}function Il(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:Q},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:m},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function zd(l){var d=Il(l).next.queue;Qh(l,d,{},_o())}function Hd(){return $i(x0)}function Kh(){return _i().memoizedState}function Ym(){return _i().memoizedState}function Zh(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var m=_o();l=Me(m);var v=He(d,l,m);v!==null&&(No(v,d,m),Be(v,d,m)),d={cache:Vu()},l.payload=d;return}d=d.return}}function Jh(l,d,m){var v=_o();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Xm(l)?iy(d,m):(m=Zo(l,d,m,v),m!==null&&(No(m,l,v),ry(m,d,v)))}function ny(l,d,m){var v=_o();Qh(l,d,m,v)}function Qh(l,d,m,v){var S={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Xm(l))iy(d,S);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var K=d.lastRenderedState,fe=T(K,m);if(S.hasEagerState=!0,S.eagerState=fe,nr(fe,K))return Ko(l,d,S,0),Bi===null&&Va(),!1}catch{}finally{}if(m=Zo(l,d,S,v),m!==null)return No(m,l,v),ry(m,d,v),!0}return!1}function F1(l,d,m,v){if(v={lane:2,revertLane:mx(),action:v,hasEagerState:!1,eagerState:null,next:null},Xm(l)){if(d)throw Error(i(479))}else d=Zo(l,m,v,2),d!==null&&No(d,l,2)}function Xm(l){var d=l.alternate;return l===Et||d!==null&&d===Et}function iy(l,d){Zn=en=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function ry(l,d,m){if((m&4194048)!==0){var v=d.lanes;v&=l.pendingLanes,m|=v,d.lanes=m,vn(l,m)}}var Km={readContext:$i,use:la,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},ay={readContext:$i,use:la,useCallback:function(l,d){return Pr().memoizedState=[l,d===void 0?null:d],l},useContext:$i,useEffect:qh,useImperativeHandle:function(l,d,m){m=m!=null?m.concat([l]):null,vo(4194308,4,Gm.bind(null,d,l),m)},useLayoutEffect:function(l,d){return vo(4194308,4,l,d)},useInsertionEffect:function(l,d){vo(4,2,l,d)},useMemo:function(l,d){var m=Pr();d=d===void 0?null:d;var v=l();if(ei){Kt(!0);try{l()}finally{Kt(!1)}}return m.memoizedState=[v,d],v},useReducer:function(l,d,m){var v=Pr();if(m!==void 0){var S=m(d);if(ei){Kt(!0);try{m(d)}finally{Kt(!1)}}}else S=d;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=Jh.bind(null,Et,l),[v.memoizedState,l]},useRef:function(l){var d=Pr();return l={current:l},d.memoizedState=l},useState:function(l){l=pc(l);var d=l.queue,m=ny.bind(null,Et,d);return d.dispatch=m,[l.memoizedState,m]},useDebugValue:Yh,useDeferredValue:function(l,d){var m=Pr();return au(m,l,d)},useTransition:function(){var l=pc(!1);return l=Bd.bind(null,Et,l.queue,!0,!1),Pr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,m){var v=Et,S=Pr();if(Vn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=d(),Bi===null)throw Error(i(349));(Jn&124)!==0||qu(v,d,m)}S.memoizedState=m;var T={value:m,getSnapshot:d};return S.queue=T,qh(Ya.bind(null,v,T,l),[l]),v.flags|=2048,Fl(9,Id(),tu.bind(null,v,T,m,d),null),m},useId:function(){var l=Pr(),d=Bi.identifierPrefix;if(Vn){var m=fo,v=$r;m=(v&~(1<<32-kt(v)-1)).toString(32)+m,d=""+d+"R"+m,m=Ln++,0<m&&(d+="H"+m.toString(32)),d+=""}else m=Fn++,d=""+d+"r"+m.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:Hd,useFormState:xc,useActionState:xc,useOptimistic:function(l){var d=Pr();d.memoizedState=d.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=F1.bind(null,Et,!0,m),m.dispatch=d,[l,d]},useMemoCache:zs,useCacheRefresh:function(){return Pr().memoizedState=Zh.bind(null,Et)}},sy={readContext:$i,use:la,useCallback:Xh,useContext:$i,useEffect:qm,useImperativeHandle:$h,useInsertionEffect:Gh,useLayoutEffect:ru,useMemo:$m,useReducer:fc,useRef:Ff,useState:function(){return fc(ca)},useDebugValue:Yh,useDeferredValue:function(l,d){var m=_i();return Pf(m,Ot.memoizedState,l,d)},useTransition:function(){var l=fc(ca)[0],d=_i().memoizedState;return[typeof l=="boolean"?l:il(l),d]},useSyncExternalStore:mc,useId:Kh,useHostTransitionStatus:Hd,useFormState:Mf,useActionState:Mf,useOptimistic:function(l,d){var m=_i();return ps(m,Ot,l,d)},useMemoCache:zs,useCacheRefresh:Ym},$6={readContext:$i,use:la,useCallback:Xh,useContext:$i,useEffect:qm,useImperativeHandle:$h,useInsertionEffect:Gh,useLayoutEffect:ru,useMemo:$m,useReducer:eu,useRef:Ff,useState:function(){return eu(ca)},useDebugValue:Yh,useDeferredValue:function(l,d){var m=_i();return Ot===null?au(m,l,d):Pf(m,Ot.memoizedState,l,d)},useTransition:function(){var l=eu(ca)[0],d=_i().memoizedState;return[typeof l=="boolean"?l:il(l),d]},useSyncExternalStore:mc,useId:Kh,useHostTransitionStatus:Hd,useFormState:Vm,useActionState:Vm,useOptimistic:function(l,d){var m=_i();return Ot!==null?ps(m,Ot,l,d):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:zs,useCacheRefresh:Ym},If=null,e0=0;function Zm(l){var d=e0;return e0+=1,If===null&&(If=[]),N(If,l,d)}function t0(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Jm(l,d){throw d.$$typeof===p?Error(i(525)):(l=Object.prototype.toString.call(d),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function oy(l){var d=l._init;return d(l._payload)}function ly(l){function d(Ue,Fe){if(l){var Ye=Ue.deletions;Ye===null?(Ue.deletions=[Fe],Ue.flags|=16):Ye.push(Fe)}}function m(Ue,Fe){if(!l)return null;for(;Fe!==null;)d(Ue,Fe),Fe=Fe.sibling;return null}function v(Ue){for(var Fe=new Map;Ue!==null;)Ue.key!==null?Fe.set(Ue.key,Ue):Fe.set(Ue.index,Ue),Ue=Ue.sibling;return Fe}function S(Ue,Fe){return Ue=Os(Ue,Fe),Ue.index=0,Ue.sibling=null,Ue}function T(Ue,Fe,Ye){return Ue.index=Ye,l?(Ye=Ue.alternate,Ye!==null?(Ye=Ye.index,Ye<Fe?(Ue.flags|=67108866,Fe):Ye):(Ue.flags|=67108866,Fe)):(Ue.flags|=1048576,Fe)}function K(Ue){return l&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function fe(Ue,Fe,Ye,ht){return Fe===null||Fe.tag!==6?(Fe=kl(Ye,Ue.mode,ht),Fe.return=Ue,Fe):(Fe=S(Fe,Ye),Fe.return=Ue,Fe)}function Re(Ue,Fe,Ye,ht){var Yt=Ye.type;return Yt===w?dt(Ue,Fe,Ye.props.children,ht,Ye.key):Fe!==null&&(Fe.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===I&&oy(Yt)===Fe.type)?(Fe=S(Fe,Ye.props),t0(Fe,Ye),Fe.return=Ue,Fe):(Fe=Cl(Ye.type,Ye.key,Ye.props,null,Ue.mode,ht),t0(Fe,Ye),Fe.return=Ue,Fe)}function Xe(Ue,Fe,Ye,ht){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ye.containerInfo||Fe.stateNode.implementation!==Ye.implementation?(Fe=Kc(Ye,Ue.mode,ht),Fe.return=Ue,Fe):(Fe=S(Fe,Ye.children||[]),Fe.return=Ue,Fe)}function dt(Ue,Fe,Ye,ht,Yt){return Fe===null||Fe.tag!==7?(Fe=hs(Ye,Ue.mode,ht,Yt),Fe.return=Ue,Fe):(Fe=S(Fe,Ye),Fe.return=Ue,Fe)}function mt(Ue,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=kl(""+Fe,Ue.mode,Ye),Fe.return=Ue,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case x:return Ye=Cl(Fe.type,Fe.key,Fe.props,null,Ue.mode,Ye),t0(Ye,Fe),Ye.return=Ue,Ye;case b:return Fe=Kc(Fe,Ue.mode,Ye),Fe.return=Ue,Fe;case I:var ht=Fe._init;return Fe=ht(Fe._payload),mt(Ue,Fe,Ye)}if(pe(Fe)||U(Fe))return Fe=hs(Fe,Ue.mode,Ye,null),Fe.return=Ue,Fe;if(typeof Fe.then=="function")return mt(Ue,Zm(Fe),Ye);if(Fe.$$typeof===k)return mt(Ue,po(Ue,Fe),Ye);Jm(Ue,Fe)}return null}function Je(Ue,Fe,Ye,ht){var Yt=Fe!==null?Fe.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Yt!==null?null:fe(Ue,Fe,""+Ye,ht);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case x:return Ye.key===Yt?Re(Ue,Fe,Ye,ht):null;case b:return Ye.key===Yt?Xe(Ue,Fe,Ye,ht):null;case I:return Yt=Ye._init,Ye=Yt(Ye._payload),Je(Ue,Fe,Ye,ht)}if(pe(Ye)||U(Ye))return Yt!==null?null:dt(Ue,Fe,Ye,ht,null);if(typeof Ye.then=="function")return Je(Ue,Fe,Zm(Ye),ht);if(Ye.$$typeof===k)return Je(Ue,Fe,po(Ue,Ye),ht);Jm(Ue,Ye)}return null}function et(Ue,Fe,Ye,ht,Yt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ue=Ue.get(Ye)||null,fe(Fe,Ue,""+ht,Yt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case x:return Ue=Ue.get(ht.key===null?Ye:ht.key)||null,Re(Fe,Ue,ht,Yt);case b:return Ue=Ue.get(ht.key===null?Ye:ht.key)||null,Xe(Fe,Ue,ht,Yt);case I:var Mn=ht._init;return ht=Mn(ht._payload),et(Ue,Fe,Ye,ht,Yt)}if(pe(ht)||U(ht))return Ue=Ue.get(Ye)||null,dt(Fe,Ue,ht,Yt,null);if(typeof ht.then=="function")return et(Ue,Fe,Ye,Zm(ht),Yt);if(ht.$$typeof===k)return et(Ue,Fe,Ye,po(Fe,ht),Yt);Jm(Fe,ht)}return null}function hn(Ue,Fe,Ye,ht){for(var Yt=null,Mn=null,Qt=Fe,ln=Fe=0,fa=null;Qt!==null&&ln<Ye.length;ln++){Qt.index>ln?(fa=Qt,Qt=null):fa=Qt.sibling;var ii=Je(Ue,Qt,Ye[ln],ht);if(ii===null){Qt===null&&(Qt=fa);break}l&&Qt&&ii.alternate===null&&d(Ue,Qt),Fe=T(ii,Fe,ln),Mn===null?Yt=ii:Mn.sibling=ii,Mn=ii,Qt=fa}if(ln===Ye.length)return m(Ue,Qt),Vn&&Rl(Ue,ln),Yt;if(Qt===null){for(;ln<Ye.length;ln++)Qt=mt(Ue,Ye[ln],ht),Qt!==null&&(Fe=T(Qt,Fe,ln),Mn===null?Yt=Qt:Mn.sibling=Qt,Mn=Qt);return Vn&&Rl(Ue,ln),Yt}for(Qt=v(Qt);ln<Ye.length;ln++)fa=et(Qt,Ue,ln,Ye[ln],ht),fa!==null&&(l&&fa.alternate!==null&&Qt.delete(fa.key===null?ln:fa.key),Fe=T(fa,Fe,ln),Mn===null?Yt=fa:Mn.sibling=fa,Mn=fa);return l&&Qt.forEach(function(ud){return d(Ue,ud)}),Vn&&Rl(Ue,ln),Yt}function on(Ue,Fe,Ye,ht){if(Ye==null)throw Error(i(151));for(var Yt=null,Mn=null,Qt=Fe,ln=Fe=0,fa=null,ii=Ye.next();Qt!==null&&!ii.done;ln++,ii=Ye.next()){Qt.index>ln?(fa=Qt,Qt=null):fa=Qt.sibling;var ud=Je(Ue,Qt,ii.value,ht);if(ud===null){Qt===null&&(Qt=fa);break}l&&Qt&&ud.alternate===null&&d(Ue,Qt),Fe=T(ud,Fe,ln),Mn===null?Yt=ud:Mn.sibling=ud,Mn=ud,Qt=fa}if(ii.done)return m(Ue,Qt),Vn&&Rl(Ue,ln),Yt;if(Qt===null){for(;!ii.done;ln++,ii=Ye.next())ii=mt(Ue,ii.value,ht),ii!==null&&(Fe=T(ii,Fe,ln),Mn===null?Yt=ii:Mn.sibling=ii,Mn=ii);return Vn&&Rl(Ue,ln),Yt}for(Qt=v(Qt);!ii.done;ln++,ii=Ye.next())ii=et(Qt,Ue,ln,ii.value,ht),ii!==null&&(l&&ii.alternate!==null&&Qt.delete(ii.key===null?ln:ii.key),Fe=T(ii,Fe,ln),Mn===null?Yt=ii:Mn.sibling=ii,Mn=ii);return l&&Qt.forEach(function(YE){return d(Ue,YE)}),Vn&&Rl(Ue,ln),Yt}function Si(Ue,Fe,Ye,ht){if(typeof Ye=="object"&&Ye!==null&&Ye.type===w&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case x:e:{for(var Yt=Ye.key;Fe!==null;){if(Fe.key===Yt){if(Yt=Ye.type,Yt===w){if(Fe.tag===7){m(Ue,Fe.sibling),ht=S(Fe,Ye.props.children),ht.return=Ue,Ue=ht;break e}}else if(Fe.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===I&&oy(Yt)===Fe.type){m(Ue,Fe.sibling),ht=S(Fe,Ye.props),t0(ht,Ye),ht.return=Ue,Ue=ht;break e}m(Ue,Fe);break}else d(Ue,Fe);Fe=Fe.sibling}Ye.type===w?(ht=hs(Ye.props.children,Ue.mode,ht,Ye.key),ht.return=Ue,Ue=ht):(ht=Cl(Ye.type,Ye.key,Ye.props,null,Ue.mode,ht),t0(ht,Ye),ht.return=Ue,Ue=ht)}return K(Ue);case b:e:{for(Yt=Ye.key;Fe!==null;){if(Fe.key===Yt)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ye.containerInfo&&Fe.stateNode.implementation===Ye.implementation){m(Ue,Fe.sibling),ht=S(Fe,Ye.children||[]),ht.return=Ue,Ue=ht;break e}else{m(Ue,Fe);break}else d(Ue,Fe);Fe=Fe.sibling}ht=Kc(Ye,Ue.mode,ht),ht.return=Ue,Ue=ht}return K(Ue);case I:return Yt=Ye._init,Ye=Yt(Ye._payload),Si(Ue,Fe,Ye,ht)}if(pe(Ye))return hn(Ue,Fe,Ye,ht);if(U(Ye)){if(Yt=U(Ye),typeof Yt!="function")throw Error(i(150));return Ye=Yt.call(Ye),on(Ue,Fe,Ye,ht)}if(typeof Ye.then=="function")return Si(Ue,Fe,Zm(Ye),ht);if(Ye.$$typeof===k)return Si(Ue,Fe,po(Ue,Ye),ht);Jm(Ue,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Fe!==null&&Fe.tag===6?(m(Ue,Fe.sibling),ht=S(Fe,Ye),ht.return=Ue,Ue=ht):(m(Ue,Fe),ht=kl(Ye,Ue.mode,ht),ht.return=Ue,Ue=ht),K(Ue)):m(Ue,Fe)}return function(Ue,Fe,Ye,ht){try{e0=0;var Yt=Si(Ue,Fe,Ye,ht);return If=null,Yt}catch(Qt){if(Qt===re||Qt===de)throw Qt;var Mn=Mr(29,Qt,null,Ue.mode);return Mn.lanes=ht,Mn.return=Ue,Mn}finally{}}}var Bf=ly(!0),cy=ly(!1),al=ke(null),vc=null;function Xu(l){var d=l.alternate;B(Kr,Kr.current&1),B(al,l),vc===null&&(d===null||zt.current!==null||d.memoizedState!==null)&&(vc=l)}function uy(l){if(l.tag===22){if(B(Kr,Kr.current),B(al,l),vc===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(vc=l)}}else Ku()}function Ku(){B(Kr,Kr.current),B(al,al.current)}function su(l){O(al),vc===l&&(vc=null),O(Kr)}var Kr=ke(0);function Qm(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Ax(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function P1(l,d,m,v){d=l.memoizedState,m=m(v,d),m=m==null?d:h({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var I1={enqueueSetState:function(l,d,m){l=l._reactInternals;var v=_o(),S=Me(v);S.payload=d,m!=null&&(S.callback=m),d=He(l,S,v),d!==null&&(No(d,l,v),Be(d,l,v))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var v=_o(),S=Me(v);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=He(l,S,v),d!==null&&(No(d,l,v),Be(d,l,v))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=_o(),v=Me(m);v.tag=2,d!=null&&(v.callback=d),d=He(l,v,m),d!==null&&(No(d,l,m),Be(d,l,m))}};function dy(l,d,m,v,S,T,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,K):d.prototype&&d.prototype.isPureReactComponent?!Cs(m,v)||!Cs(S,T):!0}function fy(l,d,m,v){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==l&&I1.enqueueReplaceState(d,d.state,null)}function Ud(l,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(l=l.defaultProps){m===d&&(m=h({},m));for(var S in l)m[S]===void 0&&(m[S]=l[S])}return m}var ep=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function hy(l){ep(l)}function my(l){console.error(l)}function py(l){ep(l)}function tp(l,d){try{var m=l.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function gy(l,d,m){try{var v=l.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function B1(l,d,m){return m=Me(m),m.tag=3,m.payload={element:null},m.callback=function(){tp(l,d)},m}function xy(l){return l=Me(l),l.tag=3,l}function vy(l,d,m,v){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var T=v.value;l.payload=function(){return S(T)},l.callback=function(){gy(d,m,v)}}var K=m.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(l.callback=function(){gy(d,m,v),typeof S!="function"&&(nd===null?nd=new Set([this]):nd.add(this));var fe=v.stack;this.componentDidCatch(v.value,{componentStack:fe!==null?fe:""})})}function Y6(l,d,m,v,S){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&Ol(d,m,S,!0),m=al.current,m!==null){switch(m.tag){case 13:return vc===null?cx():m.alternate===null&&fr===0&&(fr=3),m.flags&=-257,m.flags|=65536,m.lanes=S,v===me?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),dx(l,v,S)),!1;case 22:return m.flags|=65536,v===me?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),dx(l,v,S)),!1}throw Error(i(435,m.tag))}return dx(l,v,S),cx(),!1}if(Vn)return d=al.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,v!==Jc&&(l=Error(i(422),{cause:v}),dc(_n(l,m)))):(v!==Jc&&(d=Error(i(423),{cause:v}),dc(_n(d,m))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=_n(v,m),S=B1(l.stateNode,v,S),tt(l,S),fr!==4&&(fr=2)),!1;var T=Error(i(520),{cause:v});if(T=_n(T,m),l0===null?l0=[T]:l0.push(T),fr!==4&&(fr=2),d===null)return!0;v=_n(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,l=S&-S,m.lanes|=l,l=B1(m.stateNode,v,l),tt(m,l),!1;case 1:if(d=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(nd===null||!nd.has(T))))return m.flags|=65536,S&=-S,m.lanes|=S,S=xy(S),vy(S,l,m,v),tt(m,S),!1}m=m.return}while(m!==null);return!1}var by=Error(i(461)),ua=!1;function Ea(l,d,m,v){d.child=l===null?cy(d,null,m,v):Bf(d,l.child,m,v)}function yy(l,d,m,v,S){m=m.render;var T=d.ref;if("ref"in v){var K={};for(var fe in v)fe!=="ref"&&(K[fe]=v[fe])}else K=v;return ms(d),v=Fr(l,d,m,K,T,S),fe=Rn(),l!==null&&!ua?($a(l,d,S),ou(l,d,S)):(Vn&&fe&&Zc(d),d.flags|=1,Ea(l,d,v,S),d.child)}function wy(l,d,m,v,S){if(l===null){var T=m.type;return typeof T=="function"&&!cc(T)&&T.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=T,_y(l,d,T,v,S)):(l=Cl(m.type,null,v,d,d.mode,S),l.ref=d.ref,l.return=d,d.child=l)}if(T=l.child,!$1(l,S)){var K=T.memoizedProps;if(m=m.compare,m=m!==null?m:Cs,m(K,v)&&l.ref===d.ref)return ou(l,d,S)}return d.flags|=1,l=Os(T,v),l.ref=d.ref,l.return=d,d.child=l}function _y(l,d,m,v,S){if(l!==null){var T=l.memoizedProps;if(Cs(T,v)&&l.ref===d.ref)if(ua=!1,d.pendingProps=v=T,$1(l,S))(l.flags&131072)!==0&&(ua=!0);else return d.lanes=l.lanes,ou(l,d,S)}return z1(l,d,m,v,S)}function Ny(l,d,m){var v=d.pendingProps,S=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((d.flags&128)!==0){if(v=T!==null?T.baseLanes|m:m,l!==null){for(S=d.child=l.child,T=0;S!==null;)T=T|S.lanes|S.childLanes,S=S.sibling;d.childLanes=T&~v}else d.childLanes=0,d.child=null;return Sy(l,d,v,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&H(d,T!==null?T.cachePool:null),T!==null?Ht(d,T):$t(),uy(d);else return d.lanes=d.childLanes=536870912,Sy(l,d,T!==null?T.baseLanes|m:m,m)}else T!==null?(H(d,T.cachePool),Ht(d,T),Ku(),d.memoizedState=null):(l!==null&&H(d,null),$t(),Ku());return Ea(l,d,S,m),d.child}function Sy(l,d,m,v){var S=L();return S=S===null?null:{parent:Yi._currentValue,pool:S},d.memoizedState={baseLanes:m,cachePool:S},l!==null&&H(d,null),$t(),uy(d),l!==null&&Ol(l,d,v,!0),null}function np(l,d){var m=d.ref;if(m===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(l===null||l.ref!==m)&&(d.flags|=4194816)}}function z1(l,d,m,v,S){return ms(d),m=Fr(l,d,m,v,void 0,S),v=Rn(),l!==null&&!ua?($a(l,d,S),ou(l,d,S)):(Vn&&v&&Zc(d),d.flags|=1,Ea(l,d,m,S),d.child)}function jy(l,d,m,v,S,T){return ms(d),d.updateQueue=null,m=Pn(d,v,m,S),di(l),v=Rn(),l!==null&&!ua?($a(l,d,T),ou(l,d,T)):(Vn&&v&&Zc(d),d.flags|=1,Ea(l,d,m,T),d.child)}function Ay(l,d,m,v,S){if(ms(d),d.stateNode===null){var T=ur,K=m.contextType;typeof K=="object"&&K!==null&&(T=$i(K)),T=new m(v,T),d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=I1,d.stateNode=T,T._reactInternals=d,T=d.stateNode,T.props=v,T.state=d.memoizedState,T.refs={},he(d),K=m.contextType,T.context=typeof K=="object"&&K!==null?$i(K):ur,T.state=d.memoizedState,K=m.getDerivedStateFromProps,typeof K=="function"&&(P1(d,m,K,v),T.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(K=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),K!==T.state&&I1.enqueueReplaceState(T,T.state,null),lt(d,v,T,S),pt(),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(l===null){T=d.stateNode;var fe=d.memoizedProps,Re=Ud(m,fe);T.props=Re;var Xe=T.context,dt=m.contextType;K=ur,typeof dt=="object"&&dt!==null&&(K=$i(dt));var mt=m.getDerivedStateFromProps;dt=typeof mt=="function"||typeof T.getSnapshotBeforeUpdate=="function",fe=d.pendingProps!==fe,dt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(fe||Xe!==K)&&fy(d,T,v,K),ge=!1;var Je=d.memoizedState;T.state=Je,lt(d,v,T,S),pt(),Xe=d.memoizedState,fe||Je!==Xe||ge?(typeof mt=="function"&&(P1(d,m,mt,v),Xe=d.memoizedState),(Re=ge||dy(d,m,Re,v,Je,Xe,K))?(dt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(d.flags|=4194308)):(typeof T.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=Xe),T.props=v,T.state=Xe,T.context=K,v=Re):(typeof T.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{T=d.stateNode,be(l,d),K=d.memoizedProps,dt=Ud(m,K),T.props=dt,mt=d.pendingProps,Je=T.context,Xe=m.contextType,Re=ur,typeof Xe=="object"&&Xe!==null&&(Re=$i(Xe)),fe=m.getDerivedStateFromProps,(Xe=typeof fe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(K!==mt||Je!==Re)&&fy(d,T,v,Re),ge=!1,Je=d.memoizedState,T.state=Je,lt(d,v,T,S),pt();var et=d.memoizedState;K!==mt||Je!==et||ge||l!==null&&l.dependencies!==null&&Uu(l.dependencies)?(typeof fe=="function"&&(P1(d,m,fe,v),et=d.memoizedState),(dt=ge||dy(d,m,dt,v,Je,et,Re)||l!==null&&l.dependencies!==null&&Uu(l.dependencies))?(Xe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,et,Re),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,et,Re)),typeof T.componentDidUpdate=="function"&&(d.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof T.componentDidUpdate!="function"||K===l.memoizedProps&&Je===l.memoizedState||(d.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Je===l.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=et),T.props=v,T.state=et,T.context=Re,v=dt):(typeof T.componentDidUpdate!="function"||K===l.memoizedProps&&Je===l.memoizedState||(d.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Je===l.memoizedState||(d.flags|=1024),v=!1)}return T=v,np(l,d),v=(d.flags&128)!==0,T||v?(T=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:T.render(),d.flags|=1,l!==null&&v?(d.child=Bf(d,l.child,null,S),d.child=Bf(d,null,m,S)):Ea(l,d,m,S),d.memoizedState=T.state,l=d.child):l=ou(l,d,S),l}function Ey(l,d,m,v){return wr(),d.flags|=256,Ea(l,d,m,v),d.child}var H1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function U1(l){return{baseLanes:l,cachePool:ee()}}function W1(l,d,m){return l=l!==null?l.childLanes&~m:0,d&&(l|=sl),l}function Ty(l,d,m){var v=d.pendingProps,S=!1,T=(d.flags&128)!==0,K;if((K=T)||(K=l!==null&&l.memoizedState===null?!1:(Kr.current&2)!==0),K&&(S=!0,d.flags&=-129),K=(d.flags&32)!==0,d.flags&=-33,l===null){if(Vn){if(S?Xu(d):Ku(),Vn){var fe=Pi,Re;if(Re=fe){e:{for(Re=fe,fe=Yr;Re.nodeType!==8;){if(!fe){fe=null;break e}if(Re=zl(Re.nextSibling),Re===null){fe=null;break e}}fe=Re}fe!==null?(d.memoizedState={dehydrated:fe,treeContext:Ll!==null?{id:$r,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},Re=Mr(18,null,null,0),Re.stateNode=fe,Re.return=d,d.child=Re,Gi=d,Pi=null,Re=!0):Re=!1}Re||el(d)}if(fe=d.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return Ax(fe)?d.lanes=32:d.lanes=536870912,null;su(d)}return fe=v.children,v=v.fallback,S?(Ku(),S=d.mode,fe=ip({mode:"hidden",children:fe},S),v=hs(v,S,m,null),fe.return=d,v.return=d,fe.sibling=v,d.child=fe,S=d.child,S.memoizedState=U1(m),S.childLanes=W1(l,K,m),d.memoizedState=H1,v):(Xu(d),V1(d,fe))}if(Re=l.memoizedState,Re!==null&&(fe=Re.dehydrated,fe!==null)){if(T)d.flags&256?(Xu(d),d.flags&=-257,d=q1(l,d,m)):d.memoizedState!==null?(Ku(),d.child=l.child,d.flags|=128,d=null):(Ku(),S=v.fallback,fe=d.mode,v=ip({mode:"visible",children:v.children},fe),S=hs(S,fe,m,null),S.flags|=2,v.return=d,S.return=d,v.sibling=S,d.child=v,Bf(d,l.child,null,m),v=d.child,v.memoizedState=U1(m),v.childLanes=W1(l,K,m),d.memoizedState=H1,d=S);else if(Xu(d),Ax(fe)){if(K=fe.nextSibling&&fe.nextSibling.dataset,K)var Xe=K.dgst;K=Xe,v=Error(i(419)),v.stack="",v.digest=K,dc({value:v,source:null,stack:null}),d=q1(l,d,m)}else if(ua||Ol(l,d,m,!1),K=(m&l.childLanes)!==0,ua||K){if(K=Bi,K!==null&&(v=m&-m,v=(v&42)!==0?1:Oi(v),v=(v&(K.suspendedLanes|m))!==0?0:v,v!==0&&v!==Re.retryLane))throw Re.retryLane=v,yr(l,v),No(K,l,v),by;fe.data==="$?"||cx(),d=q1(l,d,m)}else fe.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=Re.treeContext,Pi=zl(fe.nextSibling),Gi=d,Vn=!0,Qo=null,Yr=!1,l!==null&&(Ga[Aa++]=$r,Ga[Aa++]=fo,Ga[Aa++]=Ll,$r=l.id,fo=l.overflow,Ll=d),d=V1(d,v.children),d.flags|=4096);return d}return S?(Ku(),S=v.fallback,fe=d.mode,Re=l.child,Xe=Re.sibling,v=Os(Re,{mode:"hidden",children:v.children}),v.subtreeFlags=Re.subtreeFlags&65011712,Xe!==null?S=Os(Xe,S):(S=hs(S,fe,m,null),S.flags|=2),S.return=d,v.return=d,v.sibling=S,d.child=v,v=S,S=d.child,fe=l.child.memoizedState,fe===null?fe=U1(m):(Re=fe.cachePool,Re!==null?(Xe=Yi._currentValue,Re=Re.parent!==Xe?{parent:Xe,pool:Xe}:Re):Re=ee(),fe={baseLanes:fe.baseLanes|m,cachePool:Re}),S.memoizedState=fe,S.childLanes=W1(l,K,m),d.memoizedState=H1,v):(Xu(d),m=l.child,l=m.sibling,m=Os(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,l!==null&&(K=d.deletions,K===null?(d.deletions=[l],d.flags|=16):K.push(l)),d.child=m,d.memoizedState=null,m)}function V1(l,d){return d=ip({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function ip(l,d){return l=Mr(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function q1(l,d,m){return Bf(d,l.child,null,m),l=V1(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function Cy(l,d,m){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d),zu(l.return,d,m)}function G1(l,d,m,v,S){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=S)}function ky(l,d,m){var v=d.pendingProps,S=v.revealOrder,T=v.tail;if(Ea(l,d,v.children,m),v=Kr.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Cy(l,m,d);else if(l.tag===19)Cy(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(B(Kr,v),S){case"forwards":for(m=d.child,S=null;m!==null;)l=m.alternate,l!==null&&Qm(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),G1(d,!1,S,m,T);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(l=S.alternate,l!==null&&Qm(l)===null){d.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}G1(d,!0,m,null,T);break;case"together":G1(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ou(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),td|=d.lanes,(m&d.childLanes)===0)if(l!==null){if(Ol(l,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(i(153));if(d.child!==null){for(l=d.child,m=Os(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=Os(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function $1(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&Uu(l)))}function X6(l,d,m){switch(d.tag){case 3:_e(d,d.stateNode.containerInfo),nl(d,Yi,l.memoizedState.cache),wr();break;case 27:case 5:ze(d);break;case 4:_e(d,d.stateNode.containerInfo);break;case 10:nl(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(Xu(d),d.flags|=128,null):(m&d.child.childLanes)!==0?Ty(l,d,m):(Xu(d),l=ou(l,d,m),l!==null?l.sibling:null);Xu(d);break;case 19:var S=(l.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(Ol(l,d,m,!1),v=(m&d.childLanes)!==0),S){if(v)return ky(l,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),B(Kr,Kr.current),v)break;return null;case 22:case 23:return d.lanes=0,Ny(l,d,m);case 24:nl(d,Yi,l.memoizedState.cache)}return ou(l,d,m)}function Ly(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps)ua=!0;else{if(!$1(l,m)&&(d.flags&128)===0)return ua=!1,X6(l,d,m);ua=(l.flags&131072)!==0}else ua=!1,Vn&&(d.flags&1048576)!==0&&Tf(d,uc,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var v=d.elementType,S=v._init;if(v=S(v._payload),d.type=v,typeof v=="function")cc(v)?(l=Ud(v,l),d.tag=1,d=Ay(null,d,v,l,m)):(d.tag=0,d=z1(null,d,v,l,m));else{if(v!=null){if(S=v.$$typeof,S===F){d.tag=11,d=yy(null,d,v,l,m);break e}else if(S===P){d.tag=14,d=wy(null,d,v,l,m);break e}}throw d=ie(v)||v,Error(i(306,d,""))}}return d;case 0:return z1(l,d,d.type,d.pendingProps,m);case 1:return v=d.type,S=Ud(v,d.pendingProps),Ay(l,d,v,S,m);case 3:e:{if(_e(d,d.stateNode.containerInfo),l===null)throw Error(i(387));v=d.pendingProps;var T=d.memoizedState;S=T.element,be(l,d),lt(d,v,null,m);var K=d.memoizedState;if(v=K.cache,nl(d,Yi,v),v!==T.cache&&Hu(d,[Yi],m,!0),pt(),v=K.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:K.cache},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){d=Ey(l,d,v,m);break e}else if(v!==S){S=_n(Error(i(424)),d),dc(S),d=Ey(l,d,v,m);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Pi=zl(l.firstChild),Gi=d,Vn=!0,Qo=null,Yr=!0,m=cy(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(wr(),v===S){d=ou(l,d,m);break e}Ea(l,d,v,m)}d=d.child}return d;case 26:return np(l,d),l===null?(m=M5(d.type,null,d.pendingProps,null))?d.memoizedState=m:Vn||(m=d.type,l=d.pendingProps,v=xp(le.current).createElement(m),v[fn]=d,v[Dn]=l,Ca(v,m,l),Pe(v),d.stateNode=v):d.memoizedState=M5(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return ze(d),l===null&&Vn&&(v=d.stateNode=R5(d.type,d.pendingProps,le.current),Gi=d,Yr=!0,S=Pi,ad(d.type)?(Ex=S,Pi=zl(v.firstChild)):Pi=S),Ea(l,d,d.pendingProps.children,m),np(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Vn&&((S=v=Pi)&&(v=NE(v,d.type,d.pendingProps,Yr),v!==null?(d.stateNode=v,Gi=d,Pi=zl(v.firstChild),Yr=!1,S=!0):S=!1),S||el(d)),ze(d),S=d.type,T=d.pendingProps,K=l!==null?l.memoizedProps:null,v=T.children,Nx(S,T)?v=null:K!==null&&Nx(S,K)&&(d.flags|=32),d.memoizedState!==null&&(S=Fr(l,d,Ii,null,null,m),x0._currentValue=S),np(l,d),Ea(l,d,v,m),d.child;case 6:return l===null&&Vn&&((l=m=Pi)&&(m=SE(m,d.pendingProps,Yr),m!==null?(d.stateNode=m,Gi=d,Pi=null,l=!0):l=!1),l||el(d)),null;case 13:return Ty(l,d,m);case 4:return _e(d,d.stateNode.containerInfo),v=d.pendingProps,l===null?d.child=Bf(d,null,v,m):Ea(l,d,v,m),d.child;case 11:return yy(l,d,d.type,d.pendingProps,m);case 7:return Ea(l,d,d.pendingProps,m),d.child;case 8:return Ea(l,d,d.pendingProps.children,m),d.child;case 12:return Ea(l,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,nl(d,d.type,v.value),Ea(l,d,v.children,m),d.child;case 9:return S=d.type._context,v=d.pendingProps.children,ms(d),S=$i(S),v=v(S),d.flags|=1,Ea(l,d,v,m),d.child;case 14:return wy(l,d,d.type,d.pendingProps,m);case 15:return _y(l,d,d.type,d.pendingProps,m);case 19:return ky(l,d,m);case 31:return v=d.pendingProps,m=d.mode,v={mode:v.mode,children:v.children},l===null?(m=ip(v,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=Os(l.child,v),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return Ny(l,d,m);case 24:return ms(d),v=$i(Yi),l===null?(S=L(),S===null&&(S=Bi,T=Vu(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=m),S=T),d.memoizedState={parent:v,cache:S},he(d),nl(d,Yi,S)):((l.lanes&m)!==0&&(be(l,d),lt(d,null,null,m),pt()),S=l.memoizedState,T=d.memoizedState,S.parent!==v?(S={parent:v,cache:v},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),nl(d,Yi,v)):(v=T.cache,nl(d,Yi,v),v!==S.cache&&Hu(d,[Yi],m,!0))),Ea(l,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function lu(l){l.flags|=4}function Ry(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!z5(d)){if(d=al.current,d!==null&&((Jn&4194048)===Jn?vc!==null:(Jn&62914560)!==Jn&&(Jn&536870912)===0||d!==vc))throw R=me,ce;l.flags|=8192}}function rp(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Un():536870912,l.lanes|=d,Wf|=d)}function n0(l,d){if(!Vn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function ir(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(d)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=m,d}function K6(l,d,m){var v=d.pendingProps;switch(Jo(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(d),null;case 1:return ir(d),null;case 3:return m=d.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Ps(Yi),Le(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(Xr(d)?lu(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,tl())),ir(d),null;case 26:return m=d.memoizedState,l===null?(lu(d),m!==null?(ir(d),Ry(d,m)):(ir(d),d.flags&=-16777217)):m?m!==l.memoizedState?(lu(d),ir(d),Ry(d,m)):(ir(d),d.flags&=-16777217):(l.memoizedProps!==v&&lu(d),ir(d),d.flags&=-16777217),null;case 27:nt(d),m=le.current;var S=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==v&&lu(d);else{if(!v){if(d.stateNode===null)throw Error(i(166));return ir(d),null}l=W.current,Xr(d)?Cf(d):(l=R5(S,v,m),d.stateNode=l,lu(d))}return ir(d),null;case 5:if(nt(d),m=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==v&&lu(d);else{if(!v){if(d.stateNode===null)throw Error(i(166));return ir(d),null}if(l=W.current,Xr(d))Cf(d);else{switch(S=xp(le.current),l){case 1:l=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:l=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":l=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":l=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":l=S.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?S.createElement(m,{is:v.is}):S.createElement(m)}}l[fn]=d,l[Dn]=v;e:for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)l.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}d.stateNode=l;e:switch(Ca(l,m,v),m){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&lu(d)}}return ir(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==v&&lu(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(i(166));if(l=le.current,Xr(d)){if(l=d.stateNode,m=d.memoizedProps,v=null,S=Gi,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[fn]=d,l=!!(l.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||j5(l.nodeValue,m)),l||el(d)}else l=xp(l).createTextNode(v),l[fn]=d,d.stateNode=l}return ir(d),null;case 13:if(v=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=Xr(d),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(i(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[fn]=d}else wr(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ir(d),S=!1}else S=tl(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(su(d),d):(su(d),null)}if(su(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=v!==null,l=l!==null&&l.memoizedState!==null,m){v=d.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var T=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==S&&(v.flags|=2048)}return m!==l&&m&&(d.child.flags|=8192),rp(d,d.updateQueue),ir(d),null;case 4:return Le(),l===null&&vx(d.stateNode.containerInfo),ir(d),null;case 10:return Ps(d.type),ir(d),null;case 19:if(O(Kr),S=d.memoizedState,S===null)return ir(d),null;if(v=(d.flags&128)!==0,T=S.rendering,T===null)if(v)n0(S,!1);else{if(fr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(T=Qm(l),T!==null){for(d.flags|=128,n0(S,!1),l=T.updateQueue,d.updateQueue=l,rp(d,l),d.subtreeFlags=0,l=m,m=d.child;m!==null;)Xc(m,l),m=m.sibling;return B(Kr,Kr.current&1|2),d.child}l=l.sibling}S.tail!==null&&Ie()>op&&(d.flags|=128,v=!0,n0(S,!1),d.lanes=4194304)}else{if(!v)if(l=Qm(T),l!==null){if(d.flags|=128,v=!0,l=l.updateQueue,d.updateQueue=l,rp(d,l),n0(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!Vn)return ir(d),null}else 2*Ie()-S.renderingStartTime>op&&m!==536870912&&(d.flags|=128,v=!0,n0(S,!1),d.lanes=4194304);S.isBackwards?(T.sibling=d.child,d.child=T):(l=S.last,l!==null?l.sibling=T:d.child=T,S.last=T)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=Ie(),d.sibling=null,l=Kr.current,B(Kr,v?l&1|2:l&1),d):(ir(d),null);case 22:case 23:return su(d),St(),v=d.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(m&536870912)!==0&&(d.flags&128)===0&&(ir(d),d.subtreeFlags&6&&(d.flags|=8192)):ir(d),m=d.updateQueue,m!==null&&rp(d,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),l!==null&&O(A),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Ps(Yi),ir(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function Z6(l,d){switch(Jo(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Ps(Yi),Le(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return nt(d),null;case 13:if(su(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(i(340));wr()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return O(Kr),null;case 4:return Le(),null;case 10:return Ps(d.type),null;case 22:case 23:return su(d),St(),l!==null&&O(A),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Ps(Yi),null;case 25:return null;default:return null}}function Oy(l,d){switch(Jo(d),d.tag){case 3:Ps(Yi),Le();break;case 26:case 27:case 5:nt(d);break;case 4:Le();break;case 13:su(d);break;case 19:O(Kr);break;case 10:Ps(d.type);break;case 22:case 23:su(d),St(),l!==null&&O(A);break;case 24:Ps(Yi)}}function i0(l,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var S=v.next;m=S;do{if((m.tag&l)===l){v=void 0;var T=m.create,K=m.inst;v=T(),K.destroy=v}m=m.next}while(m!==S)}}catch(fe){Ci(d,d.return,fe)}}function Zu(l,d,m){try{var v=d.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var T=S.next;v=T;do{if((v.tag&l)===l){var K=v.inst,fe=K.destroy;if(fe!==void 0){K.destroy=void 0,S=d;var Re=m,Xe=fe;try{Xe()}catch(dt){Ci(S,Re,dt)}}}v=v.next}while(v!==T)}}catch(dt){Ci(d,d.return,dt)}}function Dy(l){var d=l.updateQueue;if(d!==null){var m=l.stateNode;try{Ft(d,m)}catch(v){Ci(l,l.return,v)}}}function My(l,d,m){m.props=Ud(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(v){Ci(l,d,v)}}function r0(l,d){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof m=="function"?l.refCleanup=m(v):m.current=v}}catch(S){Ci(l,d,S)}}function bc(l,d){var m=l.ref,v=l.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(S){Ci(l,d,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){Ci(l,d,S)}else m.current=null}function Fy(l){var d=l.type,m=l.memoizedProps,v=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(S){Ci(l,l.return,S)}}function Y1(l,d,m){try{var v=l.stateNode;vE(v,l.type,m,d),v[Dn]=d}catch(S){Ci(l,l.return,S)}}function Py(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ad(l.type)||l.tag===4}function X1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Py(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ad(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function K1(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(l),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=gp));else if(v!==4&&(v===27&&ad(l.type)&&(m=l.stateNode,d=null),l=l.child,l!==null))for(K1(l,d,m),l=l.sibling;l!==null;)K1(l,d,m),l=l.sibling}function ap(l,d,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(v!==4&&(v===27&&ad(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(ap(l,d,m),l=l.sibling;l!==null;)ap(l,d,m),l=l.sibling}function Iy(l){var d=l.stateNode,m=l.memoizedProps;try{for(var v=l.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Ca(d,v,m),d[fn]=l,d[Dn]=m}catch(T){Ci(l,l.return,T)}}var cu=!1,_r=!1,Z1=!1,By=typeof WeakSet=="function"?WeakSet:Set,da=null;function J6(l,d){if(l=l.containerInfo,wx=Np,l=Rr(l),cr(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var K=0,fe=-1,Re=-1,Xe=0,dt=0,mt=l,Je=null;t:for(;;){for(var et;mt!==m||S!==0&&mt.nodeType!==3||(fe=K+S),mt!==T||v!==0&&mt.nodeType!==3||(Re=K+v),mt.nodeType===3&&(K+=mt.nodeValue.length),(et=mt.firstChild)!==null;)Je=mt,mt=et;for(;;){if(mt===l)break t;if(Je===m&&++Xe===S&&(fe=K),Je===T&&++dt===v&&(Re=K),(et=mt.nextSibling)!==null)break;mt=Je,Je=mt.parentNode}mt=et}m=fe===-1||Re===-1?null:{start:fe,end:Re}}else m=null}m=m||{start:0,end:0}}else m=null;for(_x={focusedElem:l,selectionRange:m},Np=!1,da=d;da!==null;)if(d=da,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,da=l;else for(;da!==null;){switch(d=da,T=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&T!==null){l=void 0,m=d,S=T.memoizedProps,T=T.memoizedState,v=m.stateNode;try{var hn=Ud(m.type,S,m.elementType===m.type);l=v.getSnapshotBeforeUpdate(hn,T),v.__reactInternalSnapshotBeforeUpdate=l}catch(on){Ci(m,m.return,on)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,m=l.nodeType,m===9)jx(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":jx(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=d.sibling,l!==null){l.return=d.return,da=l;break}da=d.return}}function zy(l,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Ju(l,m),v&4&&i0(5,m);break;case 1:if(Ju(l,m),v&4)if(l=m.stateNode,d===null)try{l.componentDidMount()}catch(K){Ci(m,m.return,K)}else{var S=Ud(m.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(S,d,l.__reactInternalSnapshotBeforeUpdate)}catch(K){Ci(m,m.return,K)}}v&64&&Dy(m),v&512&&r0(m,m.return);break;case 3:if(Ju(l,m),v&64&&(l=m.updateQueue,l!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{Ft(l,d)}catch(K){Ci(m,m.return,K)}}break;case 27:d===null&&v&4&&Iy(m);case 26:case 5:Ju(l,m),d===null&&v&4&&Fy(m),v&512&&r0(m,m.return);break;case 12:Ju(l,m);break;case 13:Ju(l,m),v&4&&Wy(l,m),v&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=oE.bind(null,m),jE(l,m))));break;case 22:if(v=m.memoizedState!==null||cu,!v){d=d!==null&&d.memoizedState!==null||_r,S=cu;var T=_r;cu=v,(_r=d)&&!T?Qu(l,m,(m.subtreeFlags&8772)!==0):Ju(l,m),cu=S,_r=T}break;case 30:break;default:Ju(l,m)}}function Hy(l){var d=l.alternate;d!==null&&(l.alternate=null,Hy(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&ye(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Zi=null,Hs=!1;function uu(l,d,m){for(m=m.child;m!==null;)Uy(l,d,m),m=m.sibling}function Uy(l,d,m){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(_t,m)}catch{}switch(m.tag){case 26:_r||bc(m,d),uu(l,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:_r||bc(m,d);var v=Zi,S=Hs;ad(m.type)&&(Zi=m.stateNode,Hs=!1),uu(l,d,m),h0(m.stateNode),Zi=v,Hs=S;break;case 5:_r||bc(m,d);case 6:if(v=Zi,S=Hs,Zi=null,uu(l,d,m),Zi=v,Hs=S,Zi!==null)if(Hs)try{(Zi.nodeType===9?Zi.body:Zi.nodeName==="HTML"?Zi.ownerDocument.body:Zi).removeChild(m.stateNode)}catch(T){Ci(m,d,T)}else try{Zi.removeChild(m.stateNode)}catch(T){Ci(m,d,T)}break;case 18:Zi!==null&&(Hs?(l=Zi,k5(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),w0(l)):k5(Zi,m.stateNode));break;case 4:v=Zi,S=Hs,Zi=m.stateNode.containerInfo,Hs=!0,uu(l,d,m),Zi=v,Hs=S;break;case 0:case 11:case 14:case 15:_r||Zu(2,m,d),_r||Zu(4,m,d),uu(l,d,m);break;case 1:_r||(bc(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&My(m,d,v)),uu(l,d,m);break;case 21:uu(l,d,m);break;case 22:_r=(v=_r)||m.memoizedState!==null,uu(l,d,m),_r=v;break;default:uu(l,d,m)}}function Wy(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{w0(l)}catch(m){Ci(d,d.return,m)}}function Q6(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new By),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new By),d;default:throw Error(i(435,l.tag))}}function J1(l,d){var m=Q6(l);d.forEach(function(v){var S=lE.bind(null,l,v);m.has(v)||(m.add(v),v.then(S,S))})}function bo(l,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v],T=l,K=d,fe=K;e:for(;fe!==null;){switch(fe.tag){case 27:if(ad(fe.type)){Zi=fe.stateNode,Hs=!1;break e}break;case 5:Zi=fe.stateNode,Hs=!1;break e;case 3:case 4:Zi=fe.stateNode.containerInfo,Hs=!0;break e}fe=fe.return}if(Zi===null)throw Error(i(160));Uy(T,K,S),Zi=null,Hs=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Vy(d,l),d=d.sibling}var Bl=null;function Vy(l,d){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:bo(d,l),yo(l),v&4&&(Zu(3,l,l.return),i0(3,l),Zu(5,l,l.return));break;case 1:bo(d,l),yo(l),v&512&&(_r||m===null||bc(m,m.return)),v&64&&cu&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var S=Bl;if(bo(d,l),yo(l),v&512&&(_r||m===null||bc(m,m.return)),v&4){var T=m!==null?m.memoizedState:null;if(v=l.memoizedState,m===null)if(v===null)if(l.stateNode===null){e:{v=l.type,m=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":T=S.getElementsByTagName("title")[0],(!T||T[xe]||T[fn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(v),S.head.insertBefore(T,S.querySelector("head > title"))),Ca(T,v,m),T[fn]=l,Pe(T),v=T;break e;case"link":var K=I5("link","href",S).get(v+(m.href||""));if(K){for(var fe=0;fe<K.length;fe++)if(T=K[fe],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){K.splice(fe,1);break t}}T=S.createElement(v),Ca(T,v,m),S.head.appendChild(T);break;case"meta":if(K=I5("meta","content",S).get(v+(m.content||""))){for(fe=0;fe<K.length;fe++)if(T=K[fe],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){K.splice(fe,1);break t}}T=S.createElement(v),Ca(T,v,m),S.head.appendChild(T);break;default:throw Error(i(468,v))}T[fn]=l,Pe(T),v=T}l.stateNode=v}else B5(S,l.type,l.stateNode);else l.stateNode=P5(S,v,l.memoizedProps);else T!==v?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,v===null?B5(S,l.type,l.stateNode):P5(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Y1(l,l.memoizedProps,m.memoizedProps)}break;case 27:bo(d,l),yo(l),v&512&&(_r||m===null||bc(m,m.return)),m!==null&&v&4&&Y1(l,l.memoizedProps,m.memoizedProps);break;case 5:if(bo(d,l),yo(l),v&512&&(_r||m===null||bc(m,m.return)),l.flags&32){S=l.stateNode;try{va(S,"")}catch(et){Ci(l,l.return,et)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,Y1(l,S,m!==null?m.memoizedProps:S)),v&1024&&(Z1=!0);break;case 6:if(bo(d,l),yo(l),v&4){if(l.stateNode===null)throw Error(i(162));v=l.memoizedProps,m=l.stateNode;try{m.nodeValue=v}catch(et){Ci(l,l.return,et)}}break;case 3:if(yp=null,S=Bl,Bl=vp(d.containerInfo),bo(d,l),Bl=S,yo(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{w0(d.containerInfo)}catch(et){Ci(l,l.return,et)}Z1&&(Z1=!1,qy(l));break;case 4:v=Bl,Bl=vp(l.stateNode.containerInfo),bo(d,l),yo(l),Bl=v;break;case 12:bo(d,l),yo(l);break;case 13:bo(d,l),yo(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(rx=Ie()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,J1(l,v)));break;case 22:S=l.memoizedState!==null;var Re=m!==null&&m.memoizedState!==null,Xe=cu,dt=_r;if(cu=Xe||S,_r=dt||Re,bo(d,l),_r=dt,cu=Xe,yo(l),v&8192)e:for(d=l.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(m===null||Re||cu||_r||Wd(l)),m=null,d=l;;){if(d.tag===5||d.tag===26){if(m===null){Re=m=d;try{if(T=Re.stateNode,S)K=T.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{fe=Re.stateNode;var mt=Re.memoizedProps.style,Je=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;fe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(et){Ci(Re,Re.return,et)}}}else if(d.tag===6){if(m===null){Re=d;try{Re.stateNode.nodeValue=S?"":Re.memoizedProps}catch(et){Ci(Re,Re.return,et)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=l.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,J1(l,m))));break;case 19:bo(d,l),yo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,J1(l,v)));break;case 30:break;case 21:break;default:bo(d,l),yo(l)}}function yo(l){var d=l.flags;if(d&2){try{for(var m,v=l.return;v!==null;){if(Py(v)){m=v;break}v=v.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var S=m.stateNode,T=X1(l);ap(l,T,S);break;case 5:var K=m.stateNode;m.flags&32&&(va(K,""),m.flags&=-33);var fe=X1(l);ap(l,fe,K);break;case 3:case 4:var Re=m.stateNode.containerInfo,Xe=X1(l);K1(l,Xe,Re);break;default:throw Error(i(161))}}catch(dt){Ci(l,l.return,dt)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function qy(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;qy(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Ju(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)zy(l,d.alternate,d),d=d.sibling}function Wd(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Zu(4,d,d.return),Wd(d);break;case 1:bc(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&My(d,d.return,m),Wd(d);break;case 27:h0(d.stateNode);case 26:case 5:bc(d,d.return),Wd(d);break;case 22:d.memoizedState===null&&Wd(d);break;case 30:Wd(d);break;default:Wd(d)}l=l.sibling}}function Qu(l,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,S=l,T=d,K=T.flags;switch(T.tag){case 0:case 11:case 15:Qu(S,T,m),i0(4,T);break;case 1:if(Qu(S,T,m),v=T,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Xe){Ci(v,v.return,Xe)}if(v=T,S=v.updateQueue,S!==null){var fe=v.stateNode;try{var Re=S.shared.hiddenCallbacks;if(Re!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Re.length;S++)Lt(Re[S],fe)}catch(Xe){Ci(v,v.return,Xe)}}m&&K&64&&Dy(T),r0(T,T.return);break;case 27:Iy(T);case 26:case 5:Qu(S,T,m),m&&v===null&&K&4&&Fy(T),r0(T,T.return);break;case 12:Qu(S,T,m);break;case 13:Qu(S,T,m),m&&K&4&&Wy(S,T);break;case 22:T.memoizedState===null&&Qu(S,T,m),r0(T,T.return);break;case 30:break;default:Qu(S,T,m)}d=d.sibling}}function Q1(l,d){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&Dl(m))}function ex(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Dl(l))}function yc(l,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Gy(l,d,m,v),d=d.sibling}function Gy(l,d,m,v){var S=d.flags;switch(d.tag){case 0:case 11:case 15:yc(l,d,m,v),S&2048&&i0(9,d);break;case 1:yc(l,d,m,v);break;case 3:yc(l,d,m,v),S&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Dl(l)));break;case 12:if(S&2048){yc(l,d,m,v),l=d.stateNode;try{var T=d.memoizedProps,K=T.id,fe=T.onPostCommit;typeof fe=="function"&&fe(K,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Re){Ci(d,d.return,Re)}}else yc(l,d,m,v);break;case 13:yc(l,d,m,v);break;case 23:break;case 22:T=d.stateNode,K=d.alternate,d.memoizedState!==null?T._visibility&2?yc(l,d,m,v):a0(l,d):T._visibility&2?yc(l,d,m,v):(T._visibility|=2,zf(l,d,m,v,(d.subtreeFlags&10256)!==0)),S&2048&&Q1(K,d);break;case 24:yc(l,d,m,v),S&2048&&ex(d.alternate,d);break;default:yc(l,d,m,v)}}function zf(l,d,m,v,S){for(S=S&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var T=l,K=d,fe=m,Re=v,Xe=K.flags;switch(K.tag){case 0:case 11:case 15:zf(T,K,fe,Re,S),i0(8,K);break;case 23:break;case 22:var dt=K.stateNode;K.memoizedState!==null?dt._visibility&2?zf(T,K,fe,Re,S):a0(T,K):(dt._visibility|=2,zf(T,K,fe,Re,S)),S&&Xe&2048&&Q1(K.alternate,K);break;case 24:zf(T,K,fe,Re,S),S&&Xe&2048&&ex(K.alternate,K);break;default:zf(T,K,fe,Re,S)}d=d.sibling}}function a0(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=l,v=d,S=v.flags;switch(v.tag){case 22:a0(m,v),S&2048&&Q1(v.alternate,v);break;case 24:a0(m,v),S&2048&&ex(v.alternate,v);break;default:a0(m,v)}d=d.sibling}}var s0=8192;function Hf(l){if(l.subtreeFlags&s0)for(l=l.child;l!==null;)$y(l),l=l.sibling}function $y(l){switch(l.tag){case 26:Hf(l),l.flags&s0&&l.memoizedState!==null&&IE(Bl,l.memoizedState,l.memoizedProps);break;case 5:Hf(l);break;case 3:case 4:var d=Bl;Bl=vp(l.stateNode.containerInfo),Hf(l),Bl=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=s0,s0=16777216,Hf(l),s0=d):Hf(l));break;default:Hf(l)}}function Yy(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function o0(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];da=v,Ky(v,l)}Yy(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Xy(l),l=l.sibling}function Xy(l){switch(l.tag){case 0:case 11:case 15:o0(l),l.flags&2048&&Zu(9,l,l.return);break;case 3:o0(l);break;case 12:o0(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,sp(l)):o0(l);break;default:o0(l)}}function sp(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];da=v,Ky(v,l)}Yy(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Zu(8,d,d.return),sp(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,sp(d));break;default:sp(d)}l=l.sibling}}function Ky(l,d){for(;da!==null;){var m=da;switch(m.tag){case 0:case 11:case 15:Zu(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Dl(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,da=v;else e:for(m=l;da!==null;){v=da;var S=v.sibling,T=v.return;if(Hy(v),v===m){da=null;break e}if(S!==null){S.return=T,da=S;break e}da=T}}}var eE={getCacheForType:function(l){var d=$i(Yi),m=d.data.get(l);return m===void 0&&(m=l(),d.data.set(l,m)),m}},tE=typeof WeakMap=="function"?WeakMap:Map,fi=0,Bi=null,In=null,Jn=0,hi=0,wo=null,ed=!1,Uf=!1,tx=!1,du=0,fr=0,td=0,Vd=0,nx=0,sl=0,Wf=0,l0=null,Us=null,ix=!1,rx=0,op=1/0,lp=null,nd=null,Ta=0,id=null,Vf=null,qf=0,ax=0,sx=null,Zy=null,c0=0,ox=null;function _o(){if((fi&2)!==0&&Jn!==0)return Jn&-Jn;if(ae.T!==null){var l=oa;return l!==0?l:mx()}return tr()}function Jy(){sl===0&&(sl=(Jn&536870912)===0||Vn?vr():536870912);var l=al.current;return l!==null&&(l.flags|=32),sl}function No(l,d,m){(l===Bi&&(hi===2||hi===9)||l.cancelPendingCommit!==null)&&(Gf(l,0),rd(l,Jn,sl,!1)),yi(l,m),((fi&2)===0||l!==Bi)&&(l===Bi&&((fi&2)===0&&(Vd|=m),fr===4&&rd(l,Jn,sl,!1)),wc(l))}function Qy(l,d,m){if((fi&6)!==0)throw Error(i(327));var v=!m&&(d&124)===0&&(d&l.expiredLanes)===0||Hn(l,d),S=v?rE(l,d):ux(l,d,!0),T=v;do{if(S===0){Uf&&!v&&rd(l,d,0,!1);break}else{if(m=l.current.alternate,T&&!nE(m)){S=ux(l,d,!1),T=!1;continue}if(S===2){if(T=d,l.errorRecoveryDisabledLanes&T)var K=0;else K=l.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){d=K;e:{var fe=l;S=l0;var Re=fe.current.memoizedState.isDehydrated;if(Re&&(Gf(fe,K).flags|=256),K=ux(fe,K,!1),K!==2){if(tx&&!Re){fe.errorRecoveryDisabledLanes|=T,Vd|=T,S=4;break e}T=Us,Us=S,T!==null&&(Us===null?Us=T:Us.push.apply(Us,T))}S=K}if(T=!1,S!==2)continue}}if(S===1){Gf(l,0),rd(l,d,0,!0);break}e:{switch(v=l,T=S,T){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:rd(v,d,sl,!ed);break e;case 2:Us=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(S=rx+300-Ie(),10<S)){if(rd(v,d,sl,!ed),yn(v,0,!0)!==0)break e;v.timeoutHandle=T5(e5.bind(null,v,m,Us,lp,ix,d,sl,Vd,Wf,ed,T,2,-0,0),S);break e}e5(v,m,Us,lp,ix,d,sl,Vd,Wf,ed,T,0,-0,0)}}break}while(!0);wc(l)}function e5(l,d,m,v,S,T,K,fe,Re,Xe,dt,mt,Je,et){if(l.timeoutHandle=-1,mt=d.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(g0={stylesheets:null,count:0,unsuspend:PE},$y(d),mt=BE(),mt!==null)){l.cancelPendingCommit=mt(o5.bind(null,l,d,T,m,v,S,K,fe,Re,dt,1,Je,et)),rd(l,T,K,!Xe);return}o5(l,d,T,m,v,S,K,fe,Re)}function nE(l){for(var d=l;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var S=m[v],T=S.getSnapshot;S=S.value;try{if(!nr(T(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function rd(l,d,m,v){d&=~nx,d&=~Vd,l.suspendedLanes|=d,l.pingedLanes&=~d,v&&(l.warmLanes|=d),v=l.expirationTimes;for(var S=d;0<S;){var T=31-kt(S),K=1<<T;v[T]=-1,S&=~K}m!==0&&Jt(l,m,d)}function cp(){return(fi&6)===0?(u0(0),!1):!0}function lx(){if(In!==null){if(hi===0)var l=In.return;else l=In,mo=dr=null,Ml(l),If=null,e0=0,l=In;for(;l!==null;)Oy(l.alternate,l),l=l.return;In=null}}function Gf(l,d){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,yE(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),lx(),Bi=l,In=m=Os(l.current,null),Jn=d,hi=0,wo=null,ed=!1,Uf=Hn(l,d),tx=!1,Wf=sl=nx=Vd=td=fr=0,Us=l0=null,ix=!1,(d&8)!==0&&(d|=d&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=d;0<v;){var S=31-kt(v),T=1<<S;d|=l[S],v&=~T}return du=d,Va(),m}function t5(l,d){Et=null,ae.H=Km,d===re||d===de?(d=G(),hi=3):d===ce?(d=G(),hi=4):hi=d===by?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,wo=d,In===null&&(fr=1,tp(l,_n(d,l.current)))}function n5(){var l=ae.H;return ae.H=Km,l===null?Km:l}function i5(){var l=ae.A;return ae.A=eE,l}function cx(){fr=4,ed||(Jn&4194048)!==Jn&&al.current!==null||(Uf=!0),(td&134217727)===0&&(Vd&134217727)===0||Bi===null||rd(Bi,Jn,sl,!1)}function ux(l,d,m){var v=fi;fi|=2;var S=n5(),T=i5();(Bi!==l||Jn!==d)&&(lp=null,Gf(l,d)),d=!1;var K=fr;e:do try{if(hi!==0&&In!==null){var fe=In,Re=wo;switch(hi){case 8:lx(),K=6;break e;case 3:case 2:case 9:case 6:al.current===null&&(d=!0);var Xe=hi;if(hi=0,wo=null,$f(l,fe,Re,Xe),m&&Uf){K=0;break e}break;default:Xe=hi,hi=0,wo=null,$f(l,fe,Re,Xe)}}iE(),K=fr;break}catch(dt){t5(l,dt)}while(!0);return d&&l.shellSuspendCounter++,mo=dr=null,fi=v,ae.H=S,ae.A=T,In===null&&(Bi=null,Jn=0,Va()),K}function iE(){for(;In!==null;)r5(In)}function rE(l,d){var m=fi;fi|=2;var v=n5(),S=i5();Bi!==l||Jn!==d?(lp=null,op=Ie()+500,Gf(l,d)):Uf=Hn(l,d);e:do try{if(hi!==0&&In!==null){d=In;var T=wo;t:switch(hi){case 1:hi=0,wo=null,$f(l,d,T,1);break;case 2:case 9:if(Se(T)){hi=0,wo=null,a5(d);break}d=function(){hi!==2&&hi!==9||Bi!==l||(hi=7),wc(l)},T.then(d,d);break e;case 3:hi=7;break e;case 4:hi=5;break e;case 7:Se(T)?(hi=0,wo=null,a5(d)):(hi=0,wo=null,$f(l,d,T,7));break;case 5:var K=null;switch(In.tag){case 26:K=In.memoizedState;case 5:case 27:var fe=In;if(!K||z5(K)){hi=0,wo=null;var Re=fe.sibling;if(Re!==null)In=Re;else{var Xe=fe.return;Xe!==null?(In=Xe,up(Xe)):In=null}break t}}hi=0,wo=null,$f(l,d,T,5);break;case 6:hi=0,wo=null,$f(l,d,T,6);break;case 8:lx(),fr=6;break e;default:throw Error(i(462))}}aE();break}catch(dt){t5(l,dt)}while(!0);return mo=dr=null,ae.H=v,ae.A=S,fi=m,In!==null?0:(Bi=null,Jn=0,Va(),fr)}function aE(){for(;In!==null&&!ve();)r5(In)}function r5(l){var d=Ly(l.alternate,l,du);l.memoizedProps=l.pendingProps,d===null?up(l):In=d}function a5(l){var d=l,m=d.alternate;switch(d.tag){case 15:case 0:d=jy(m,d,d.pendingProps,d.type,void 0,Jn);break;case 11:d=jy(m,d,d.pendingProps,d.type.render,d.ref,Jn);break;case 5:Ml(d);default:Oy(m,d),d=In=Xc(d,du),d=Ly(m,d,du)}l.memoizedProps=l.pendingProps,d===null?up(l):In=d}function $f(l,d,m,v){mo=dr=null,Ml(d),If=null,e0=0;var S=d.return;try{if(Y6(l,S,d,m,Jn)){fr=1,tp(l,_n(m,l.current)),In=null;return}}catch(T){if(S!==null)throw In=S,T;fr=1,tp(l,_n(m,l.current)),In=null;return}d.flags&32768?(Vn||v===1?l=!0:Uf||(Jn&536870912)!==0?l=!1:(ed=l=!0,(v===2||v===9||v===3||v===6)&&(v=al.current,v!==null&&v.tag===13&&(v.flags|=16384))),s5(d,l)):up(d)}function up(l){var d=l;do{if((d.flags&32768)!==0){s5(d,ed);return}l=d.return;var m=K6(d.alternate,d,du);if(m!==null){In=m;return}if(d=d.sibling,d!==null){In=d;return}In=d=l}while(d!==null);fr===0&&(fr=5)}function s5(l,d){do{var m=Z6(l.alternate,l);if(m!==null){m.flags&=32767,In=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(l=l.sibling,l!==null)){In=l;return}In=l=m}while(l!==null);fr=6,In=null}function o5(l,d,m,v,S,T,K,fe,Re){l.cancelPendingCommit=null;do dp();while(Ta!==0);if((fi&6)!==0)throw Error(i(327));if(d!==null){if(d===l.current)throw Error(i(177));if(T=d.lanes|d.childLanes,T|=qi,On(l,m,T,K,fe,Re),l===Bi&&(In=Bi=null,Jn=0),Vf=d,id=l,qf=m,ax=T,sx=S,Zy=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,cE(vt,function(){return f5(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=ae.T,ae.T=null,S=ue.p,ue.p=2,K=fi,fi|=4;try{J6(l,d,m)}finally{fi=K,ue.p=S,ae.T=v}}Ta=1,l5(),c5(),u5()}}function l5(){if(Ta===1){Ta=0;var l=id,d=Vf,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null;var v=ue.p;ue.p=2;var S=fi;fi|=4;try{Vy(d,l);var T=_x,K=Rr(l.containerInfo),fe=T.focusedElem,Re=T.selectionRange;if(K!==fe&&fe&&fe.ownerDocument&&Go(fe.ownerDocument.documentElement,fe)){if(Re!==null&&cr(fe)){var Xe=Re.start,dt=Re.end;if(dt===void 0&&(dt=Xe),"selectionStart"in fe)fe.selectionStart=Xe,fe.selectionEnd=Math.min(dt,fe.value.length);else{var mt=fe.ownerDocument||document,Je=mt&&mt.defaultView||window;if(Je.getSelection){var et=Je.getSelection(),hn=fe.textContent.length,on=Math.min(Re.start,hn),Si=Re.end===void 0?on:Math.min(Re.end,hn);!et.extend&&on>Si&&(K=Si,Si=on,on=K);var Ue=oo(fe,on),Fe=oo(fe,Si);if(Ue&&Fe&&(et.rangeCount!==1||et.anchorNode!==Ue.node||et.anchorOffset!==Ue.offset||et.focusNode!==Fe.node||et.focusOffset!==Fe.offset)){var Ye=mt.createRange();Ye.setStart(Ue.node,Ue.offset),et.removeAllRanges(),on>Si?(et.addRange(Ye),et.extend(Fe.node,Fe.offset)):(Ye.setEnd(Fe.node,Fe.offset),et.addRange(Ye))}}}}for(mt=[],et=fe;et=et.parentNode;)et.nodeType===1&&mt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<mt.length;fe++){var ht=mt[fe];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Np=!!wx,_x=wx=null}finally{fi=S,ue.p=v,ae.T=m}}l.current=d,Ta=2}}function c5(){if(Ta===2){Ta=0;var l=id,d=Vf,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=ae.T,ae.T=null;var v=ue.p;ue.p=2;var S=fi;fi|=4;try{zy(l,d.alternate,d)}finally{fi=S,ue.p=v,ae.T=m}}Ta=3}}function u5(){if(Ta===4||Ta===3){Ta=0,se();var l=id,d=Vf,m=qf,v=Zy;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Ta=5:(Ta=0,Vf=id=null,d5(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(nd=null),ai(m),d=d.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(_t,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=ae.T,S=ue.p,ue.p=2,ae.T=null;try{for(var T=l.onRecoverableError,K=0;K<v.length;K++){var fe=v[K];T(fe.value,{componentStack:fe.stack})}}finally{ae.T=d,ue.p=S}}(qf&3)!==0&&dp(),wc(l),S=l.pendingLanes,(m&4194090)!==0&&(S&42)!==0?l===ox?c0++:(c0=0,ox=l):c0=0,u0(0)}}function d5(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Dl(d)))}function dp(l){return l5(),c5(),u5(),f5()}function f5(){if(Ta!==5)return!1;var l=id,d=ax;ax=0;var m=ai(qf),v=ae.T,S=ue.p;try{ue.p=32>m?32:m,ae.T=null,m=sx,sx=null;var T=id,K=qf;if(Ta=0,Vf=id=null,qf=0,(fi&6)!==0)throw Error(i(331));var fe=fi;if(fi|=4,Xy(T.current),Gy(T,T.current,K,m),fi=fe,u0(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(_t,T)}catch{}return!0}finally{ue.p=S,ae.T=v,d5(l,d)}}function h5(l,d,m){d=_n(m,d),d=B1(l.stateNode,d,2),l=He(l,d,2),l!==null&&(yi(l,2),wc(l))}function Ci(l,d,m){if(l.tag===3)h5(l,l,m);else for(;d!==null;){if(d.tag===3){h5(d,l,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(nd===null||!nd.has(v))){l=_n(m,l),m=xy(2),v=He(d,m,2),v!==null&&(vy(m,v,d,l),yi(v,2),wc(v));break}}d=d.return}}function dx(l,d,m){var v=l.pingCache;if(v===null){v=l.pingCache=new tE;var S=new Set;v.set(d,S)}else S=v.get(d),S===void 0&&(S=new Set,v.set(d,S));S.has(m)||(tx=!0,S.add(m),l=sE.bind(null,l,d,m),d.then(l,l))}function sE(l,d,m){var v=l.pingCache;v!==null&&v.delete(d),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,Bi===l&&(Jn&m)===m&&(fr===4||fr===3&&(Jn&62914560)===Jn&&300>Ie()-rx?(fi&2)===0&&Gf(l,0):nx|=m,Wf===Jn&&(Wf=0)),wc(l)}function m5(l,d){d===0&&(d=Un()),l=yr(l,d),l!==null&&(yi(l,d),wc(l))}function oE(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),m5(l,m)}function lE(l,d){var m=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(d),m5(l,m)}function cE(l,d){return $e(l,d)}var fp=null,Yf=null,fx=!1,hp=!1,hx=!1,qd=0;function wc(l){l!==Yf&&l.next===null&&(Yf===null?fp=Yf=l:Yf=Yf.next=l),hp=!0,fx||(fx=!0,dE())}function u0(l,d){if(!hx&&hp){hx=!0;do for(var m=!1,v=fp;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var T=0;else{var K=v.suspendedLanes,fe=v.pingedLanes;T=(1<<31-kt(42|l)+1)-1,T&=S&~(K&~fe),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,v5(v,T))}else T=Jn,T=yn(v,v===Bi?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||Hn(v,T)||(m=!0,v5(v,T));v=v.next}while(m);hx=!1}}function uE(){p5()}function p5(){hp=fx=!1;var l=0;qd!==0&&(bE()&&(l=qd),qd=0);for(var d=Ie(),m=null,v=fp;v!==null;){var S=v.next,T=g5(v,d);T===0?(v.next=null,m===null?fp=S:m.next=S,S===null&&(Yf=m)):(m=v,(l!==0||(T&3)!==0)&&(hp=!0)),v=S}u0(l)}function g5(l,d){for(var m=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,T=l.pendingLanes&-62914561;0<T;){var K=31-kt(T),fe=1<<K,Re=S[K];Re===-1?((fe&m)===0||(fe&v)!==0)&&(S[K]=xn(fe,d)):Re<=d&&(l.expiredLanes|=fe),T&=~fe}if(d=Bi,m=Jn,m=yn(l,l===d?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,m===0||l===d&&(hi===2||hi===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&Ke(v),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||Hn(l,m)){if(d=m&-m,d===l.callbackPriority)return d;switch(v!==null&&Ke(v),ai(m)){case 2:case 8:m=ft;break;case 32:m=vt;break;case 268435456:m=Rt;break;default:m=vt}return v=x5.bind(null,l),m=$e(m,v),l.callbackPriority=d,l.callbackNode=m,d}return v!==null&&v!==null&&Ke(v),l.callbackPriority=2,l.callbackNode=null,2}function x5(l,d){if(Ta!==0&&Ta!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(dp()&&l.callbackNode!==m)return null;var v=Jn;return v=yn(l,l===Bi?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(Qy(l,v,d),g5(l,Ie()),l.callbackNode!=null&&l.callbackNode===m?x5.bind(null,l):null)}function v5(l,d){if(dp())return null;Qy(l,d,!0)}function dE(){wE(function(){(fi&6)!==0?$e(Ze,uE):p5()})}function mx(){return qd===0&&(qd=vr()),qd}function b5(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:eo(""+l)}function y5(l,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,l.id&&m.setAttribute("form",l.id),d.parentNode.insertBefore(m,d),l=new FormData(l),m.parentNode.removeChild(m),l}function fE(l,d,m,v,S){if(d==="submit"&&m&&m.stateNode===S){var T=b5((S[Dn]||null).action),K=v.submitter;K&&(d=(d=K[Dn]||null)?b5(d.formAction):K.getAttribute("formAction"),d!==null&&(T=d,K=null));var fe=new Ss("action","action",null,v,S);l.push({event:fe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(qd!==0){var Re=K?y5(S,K):new FormData(S);rl(m,{pending:!0,data:Re,method:S.method,action:T},null,Re)}}else typeof T=="function"&&(fe.preventDefault(),Re=K?y5(S,K):new FormData(S),rl(m,{pending:!0,data:Re,method:S.method,action:T},T,Re))},currentTarget:S}]})}}for(var px=0;px<El.length;px++){var gx=El[px],hE=gx.toLowerCase(),mE=gx[0].toUpperCase()+gx.slice(1);Fi(hE,"on"+mE)}Fi(Wa,"onAnimationEnd"),Fi(Dr,"onAnimationIteration"),Fi(lo,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Yo,"onTransitionRun"),Fi(Xo,"onTransitionStart"),Fi(Al,"onTransitionCancel"),Fi(co,"onTransitionEnd"),yt("onMouseEnter",["mouseout","mouseover"]),yt("onMouseLeave",["mouseout","mouseover"]),yt("onPointerEnter",["pointerout","pointerover"]),yt("onPointerLeave",["pointerout","pointerover"]),ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var d0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(d0));function w5(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],S=v.event;v=v.listeners;e:{var T=void 0;if(d)for(var K=v.length-1;0<=K;K--){var fe=v[K],Re=fe.instance,Xe=fe.currentTarget;if(fe=fe.listener,Re!==T&&S.isPropagationStopped())break e;T=fe,S.currentTarget=Xe;try{T(S)}catch(dt){ep(dt)}S.currentTarget=null,T=Re}else for(K=0;K<v.length;K++){if(fe=v[K],Re=fe.instance,Xe=fe.currentTarget,fe=fe.listener,Re!==T&&S.isPropagationStopped())break e;T=fe,S.currentTarget=Xe;try{T(S)}catch(dt){ep(dt)}S.currentTarget=null,T=Re}}}}function Bn(l,d){var m=d[pn];m===void 0&&(m=d[pn]=new Set);var v=l+"__bubble";m.has(v)||(_5(d,l,2,!1),m.add(v))}function xx(l,d,m){var v=0;d&&(v|=4),_5(m,l,v,d)}var mp="_reactListening"+Math.random().toString(36).slice(2);function vx(l){if(!l[mp]){l[mp]=!0,We.forEach(function(m){m!=="selectionchange"&&(pE.has(m)||xx(m,!1,l),xx(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[mp]||(d[mp]=!0,xx("selectionchange",!1,d))}}function _5(l,d,m,v){switch(G5(d)){case 2:var S=UE;break;case 8:S=WE;break;default:S=Rx}m=S.bind(null,d,m,l),S=void 0,!ls||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(d,m,{capture:!0,passive:S}):l.addEventListener(d,m,!0):S!==void 0?l.addEventListener(d,m,{passive:S}):l.addEventListener(d,m,!1)}function bx(l,d,m,v,S){var T=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var K=v.tag;if(K===3||K===4){var fe=v.stateNode.containerInfo;if(fe===S)break;if(K===4)for(K=v.return;K!==null;){var Re=K.tag;if((Re===3||Re===4)&&K.stateNode.containerInfo===S)return;K=K.return}for(;fe!==null;){if(K=Ae(fe),K===null)return;if(Re=K.tag,Re===5||Re===6||Re===26||Re===27){v=T=K;continue e}fe=fe.parentNode}}v=v.return}zc(function(){var Xe=T,dt=Hi(m),mt=[];e:{var Je=Rs.get(l);if(Je!==void 0){var et=Ss,hn=l;switch(l){case"keypress":if(Mo(m)===0)break e;case"keydown":case"keyup":et=_l;break;case"focusin":hn="focus",et=Po;break;case"focusout":hn="blur",et=Po;break;case"beforeblur":case"afterblur":et=Po;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Gc;break;case Wa:case Dr:case lo:et=Pu;break;case co:et=te;break;case"scroll":case"scrollend":et=Hc;break;case"wheel":et=De;break;case"copy":case"cut":case"paste":et=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Ha;break;case"toggle":case"beforetoggle":et=at}var on=(d&4)!==0,Si=!on&&(l==="scroll"||l==="scrollend"),Ue=on?Je!==null?Je+"Capture":null:Je;on=[];for(var Fe=Xe,Ye;Fe!==null;){var ht=Fe;if(Ye=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||Ye===null||Ue===null||(ht=Ur(Fe,Ue),ht!=null&&on.push(f0(Fe,ht,Ye))),Si)break;Fe=Fe.return}0<on.length&&(Je=new et(Je,hn,null,m,dt),mt.push({event:Je,listeners:on}))}}if((d&7)===0){e:{if(Je=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",Je&&m!==ba&&(hn=m.relatedTarget||m.fromElement)&&(Ae(hn)||hn[$n]))break e;if((et||Je)&&(Je=dt.window===dt?dt:(Je=dt.ownerDocument)?Je.defaultView||Je.parentWindow:window,et?(hn=m.relatedTarget||m.toElement,et=Xe,hn=hn?Ae(hn):null,hn!==null&&(Si=a(hn),on=hn.tag,hn!==Si||on!==5&&on!==27&&on!==6)&&(hn=null)):(et=null,hn=Xe),et!==hn)){if(on=Vr,ht="onMouseLeave",Ue="onMouseEnter",Fe="mouse",(l==="pointerout"||l==="pointerover")&&(on=Ha,ht="onPointerLeave",Ue="onPointerEnter",Fe="pointer"),Si=et==null?Je:qe(et),Ye=hn==null?Je:qe(hn),Je=new on(ht,Fe+"leave",et,m,dt),Je.target=Si,Je.relatedTarget=Ye,ht=null,Ae(dt)===Xe&&(on=new on(Ue,Fe+"enter",hn,m,dt),on.target=Ye,on.relatedTarget=Si,ht=on),Si=ht,et&&hn)t:{for(on=et,Ue=hn,Fe=0,Ye=on;Ye;Ye=Xf(Ye))Fe++;for(Ye=0,ht=Ue;ht;ht=Xf(ht))Ye++;for(;0<Fe-Ye;)on=Xf(on),Fe--;for(;0<Ye-Fe;)Ue=Xf(Ue),Ye--;for(;Fe--;){if(on===Ue||Ue!==null&&on===Ue.alternate)break t;on=Xf(on),Ue=Xf(Ue)}on=null}else on=null;et!==null&&N5(mt,Je,et,on,!1),hn!==null&&Si!==null&&N5(mt,Si,hn,on,!0)}}e:{if(Je=Xe?qe(Xe):window,et=Je.nodeName&&Je.nodeName.toLowerCase(),et==="select"||et==="input"&&Je.type==="file")var Yt=sc;else if(us(Je))if(Wo)Yt=$c;else{Yt=Bu;var Mn=aa}else et=Je.nodeName,!et||et.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Xe&&bl(Xe.elementType)&&(Yt=sc):Yt=lc;if(Yt&&(Yt=Yt(l,Xe))){qr(mt,Yt,m,dt);break e}Mn&&Mn(l,Je,Xe),l==="focusout"&&Xe&&Je.type==="number"&&Xe.memoizedProps.value!=null&&xl(Je,"number",Je.value)}switch(Mn=Xe?qe(Xe):window,l){case"focusin":(us(Mn)||Mn.contentEditable==="true")&&(sa=Mn,ds=Xe,ks=null);break;case"focusout":ks=ds=sa=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,Mi(mt,m,dt);break;case"selectionchange":if($o)break;case"keydown":case"keyup":Mi(mt,m,dt)}var Qt;if(Mt)e:{switch(l){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else Wi?Ti(l,m)&&(ln="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(ln="onCompositionStart");ln&&(un&&m.locale!=="ko"&&(Wi||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&Wi&&(Qt=ic()):(_a=dt,yl="value"in _a?_a.value:_a.textContent,Wi=!0)),Mn=pp(Xe,ln),0<Mn.length&&(ln=new rc(ln,l,null,m,dt),mt.push({event:ln,listeners:Mn}),Qt?ln.data=Qt:(Qt=Ui(m),Qt!==null&&(ln.data=Qt)))),(Qt=tn?lr(l,m):cs(l,m))&&(ln=pp(Xe,"onBeforeInput"),0<ln.length&&(Mn=new rc("onBeforeInput","beforeinput",null,m,dt),mt.push({event:Mn,listeners:ln}),Mn.data=Qt)),fE(mt,l,Xe,m,dt)}w5(mt,d)})}function f0(l,d,m){return{instance:l,listener:d,currentTarget:m}}function pp(l,d){for(var m=d+"Capture",v=[];l!==null;){var S=l,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=Ur(l,m),S!=null&&v.unshift(f0(l,S,T)),S=Ur(l,d),S!=null&&v.push(f0(l,S,T))),l.tag===3)return v;l=l.return}return[]}function Xf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function N5(l,d,m,v,S){for(var T=d._reactName,K=[];m!==null&&m!==v;){var fe=m,Re=fe.alternate,Xe=fe.stateNode;if(fe=fe.tag,Re!==null&&Re===v)break;fe!==5&&fe!==26&&fe!==27||Xe===null||(Re=Xe,S?(Xe=Ur(m,T),Xe!=null&&K.unshift(f0(m,Xe,Re))):S||(Xe=Ur(m,T),Xe!=null&&K.push(f0(m,Xe,Re)))),m=m.return}K.length!==0&&l.push({event:d,listeners:K})}var gE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function S5(l){return(typeof l=="string"?l:""+l).replace(gE,`
`).replace(xE,"")}function j5(l,d){return d=S5(d),S5(l)===d}function gp(){}function Ni(l,d,m,v,S,T){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||va(l,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&va(l,""+v);break;case"className":Tn(l,"class",v);break;case"tabIndex":Tn(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(l,m,v);break;case"style":Qs(l,v,T);break;case"data":if(d!=="object"){Tn(l,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){l.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(m);break}v=eo(""+v),l.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(d!=="input"&&Ni(l,d,"name",S.name,S,null),Ni(l,d,"formEncType",S.formEncType,S,null),Ni(l,d,"formMethod",S.formMethod,S,null),Ni(l,d,"formTarget",S.formTarget,S,null)):(Ni(l,d,"encType",S.encType,S,null),Ni(l,d,"method",S.method,S,null),Ni(l,d,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(m);break}v=eo(""+v),l.setAttribute(m,v);break;case"onClick":v!=null&&(l.onclick=gp);break;case"onScroll":v!=null&&Bn("scroll",l);break;case"onScrollEnd":v!=null&&Bn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}m=eo(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(m,""+v):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":v===!0?l.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(m,v):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(m,v):l.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(m):l.setAttribute(m,v);break;case"popover":Bn("beforetoggle",l),Bn("toggle",l),kn(l,"popover",v);break;case"xlinkActuate":Qn(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Qn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Qn(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Qn(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Qn(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Qn(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Qn(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Qn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Qn(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":kn(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=_s.get(m)||m,kn(l,m,v))}}function yx(l,d,m,v,S,T){switch(m){case"style":Qs(l,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"children":typeof v=="string"?va(l,v):(typeof v=="number"||typeof v=="bigint")&&va(l,""+v);break;case"onScroll":v!=null&&Bn("scroll",l);break;case"onScrollEnd":v!=null&&Bn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=gp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ge.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),T=l[Dn]||null,T=T!=null?T[m]:null,typeof T=="function"&&l.removeEventListener(d,T,S),typeof v=="function")){typeof T!="function"&&T!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(d,v,S);break e}m in l?l[m]=v:v===!0?l.setAttribute(m,""):kn(l,m,v)}}}function Ca(l,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bn("error",l),Bn("load",l);var v=!1,S=!1,T;for(T in m)if(m.hasOwnProperty(T)){var K=m[T];if(K!=null)switch(T){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Ni(l,d,T,K,m,null)}}S&&Ni(l,d,"srcSet",m.srcSet,m,null),v&&Ni(l,d,"src",m.src,m,null);return;case"input":Bn("invalid",l);var fe=T=K=S=null,Re=null,Xe=null;for(v in m)if(m.hasOwnProperty(v)){var dt=m[v];if(dt!=null)switch(v){case"name":S=dt;break;case"type":K=dt;break;case"checked":Re=dt;break;case"defaultChecked":Xe=dt;break;case"value":T=dt;break;case"defaultValue":fe=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,d));break;default:Ni(l,d,v,dt,m,null)}}gl(l,T,fe,Re,Xe,K,S,!1),Js(l);return;case"select":Bn("invalid",l),v=K=T=null;for(S in m)if(m.hasOwnProperty(S)&&(fe=m[S],fe!=null))switch(S){case"value":T=fe;break;case"defaultValue":K=fe;break;case"multiple":v=fe;default:Ni(l,d,S,fe,m,null)}d=T,m=K,l.multiple=!!v,d!=null?or(l,!!v,d,!1):m!=null&&or(l,!!v,m,!0);return;case"textarea":Bn("invalid",l),T=S=v=null;for(K in m)if(m.hasOwnProperty(K)&&(fe=m[K],fe!=null))switch(K){case"value":v=fe;break;case"defaultValue":S=fe;break;case"children":T=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(91));break;default:Ni(l,d,K,fe,m,null)}Do(l,v,S,T),Js(l);return;case"option":for(Re in m)if(m.hasOwnProperty(Re)&&(v=m[Re],v!=null))switch(Re){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ni(l,d,Re,v,m,null)}return;case"dialog":Bn("beforetoggle",l),Bn("toggle",l),Bn("cancel",l),Bn("close",l);break;case"iframe":case"object":Bn("load",l);break;case"video":case"audio":for(v=0;v<d0.length;v++)Bn(d0[v],l);break;case"image":Bn("error",l),Bn("load",l);break;case"details":Bn("toggle",l);break;case"embed":case"source":case"link":Bn("error",l),Bn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in m)if(m.hasOwnProperty(Xe)&&(v=m[Xe],v!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Ni(l,d,Xe,v,m,null)}return;default:if(bl(d)){for(dt in m)m.hasOwnProperty(dt)&&(v=m[dt],v!==void 0&&yx(l,d,dt,v,m,void 0));return}}for(fe in m)m.hasOwnProperty(fe)&&(v=m[fe],v!=null&&Ni(l,d,fe,v,m,null))}function vE(l,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,K=null,fe=null,Re=null,Xe=null,dt=null;for(et in m){var mt=m[et];if(m.hasOwnProperty(et)&&mt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Re=mt;default:v.hasOwnProperty(et)||Ni(l,d,et,null,v,mt)}}for(var Je in v){var et=v[Je];if(mt=m[Je],v.hasOwnProperty(Je)&&(et!=null||mt!=null))switch(Je){case"type":T=et;break;case"name":S=et;break;case"checked":Xe=et;break;case"defaultChecked":dt=et;break;case"value":K=et;break;case"defaultValue":fe=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,d));break;default:et!==mt&&Ni(l,d,Je,et,v,mt)}}sr(l,K,fe,Re,Xe,dt,T,S);return;case"select":et=K=fe=Je=null;for(T in m)if(Re=m[T],m.hasOwnProperty(T)&&Re!=null)switch(T){case"value":break;case"multiple":et=Re;default:v.hasOwnProperty(T)||Ni(l,d,T,null,v,Re)}for(S in v)if(T=v[S],Re=m[S],v.hasOwnProperty(S)&&(T!=null||Re!=null))switch(S){case"value":Je=T;break;case"defaultValue":fe=T;break;case"multiple":K=T;default:T!==Re&&Ni(l,d,S,T,v,Re)}d=fe,m=K,v=et,Je!=null?or(l,!!m,Je,!1):!!v!=!!m&&(d!=null?or(l,!!m,d,!0):or(l,!!m,m?[]:"",!1));return;case"textarea":et=Je=null;for(fe in m)if(S=m[fe],m.hasOwnProperty(fe)&&S!=null&&!v.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Ni(l,d,fe,null,v,S)}for(K in v)if(S=v[K],T=m[K],v.hasOwnProperty(K)&&(S!=null||T!=null))switch(K){case"value":Je=S;break;case"defaultValue":et=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==T&&Ni(l,d,K,S,v,T)}ws(l,Je,et);return;case"option":for(var hn in m)if(Je=m[hn],m.hasOwnProperty(hn)&&Je!=null&&!v.hasOwnProperty(hn))switch(hn){case"selected":l.selected=!1;break;default:Ni(l,d,hn,null,v,Je)}for(Re in v)if(Je=v[Re],et=m[Re],v.hasOwnProperty(Re)&&Je!==et&&(Je!=null||et!=null))switch(Re){case"selected":l.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Ni(l,d,Re,Je,v,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in m)Je=m[on],m.hasOwnProperty(on)&&Je!=null&&!v.hasOwnProperty(on)&&Ni(l,d,on,null,v,Je);for(Xe in v)if(Je=v[Xe],et=m[Xe],v.hasOwnProperty(Xe)&&Je!==et&&(Je!=null||et!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(i(137,d));break;default:Ni(l,d,Xe,Je,v,et)}return;default:if(bl(d)){for(var Si in m)Je=m[Si],m.hasOwnProperty(Si)&&Je!==void 0&&!v.hasOwnProperty(Si)&&yx(l,d,Si,void 0,v,Je);for(dt in v)Je=v[dt],et=m[dt],!v.hasOwnProperty(dt)||Je===et||Je===void 0&&et===void 0||yx(l,d,dt,Je,v,et);return}}for(var Ue in m)Je=m[Ue],m.hasOwnProperty(Ue)&&Je!=null&&!v.hasOwnProperty(Ue)&&Ni(l,d,Ue,null,v,Je);for(mt in v)Je=v[mt],et=m[mt],!v.hasOwnProperty(mt)||Je===et||Je==null&&et==null||Ni(l,d,mt,Je,v,et)}var wx=null,_x=null;function xp(l){return l.nodeType===9?l:l.ownerDocument}function A5(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E5(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function Nx(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sx=null;function bE(){var l=window.event;return l&&l.type==="popstate"?l===Sx?!1:(Sx=l,!0):(Sx=null,!1)}var T5=typeof setTimeout=="function"?setTimeout:void 0,yE=typeof clearTimeout=="function"?clearTimeout:void 0,C5=typeof Promise=="function"?Promise:void 0,wE=typeof queueMicrotask=="function"?queueMicrotask:typeof C5<"u"?function(l){return C5.resolve(null).then(l).catch(_E)}:T5;function _E(l){setTimeout(function(){throw l})}function ad(l){return l==="head"}function k5(l,d){var m=d,v=0,S=0;do{var T=m.nextSibling;if(l.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(0<v&&8>v){m=v;var K=l.ownerDocument;if(m&1&&h0(K.documentElement),m&2&&h0(K.body),m&4)for(m=K.head,h0(m),K=m.firstChild;K;){var fe=K.nextSibling,Re=K.nodeName;K[xe]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&K.rel.toLowerCase()==="stylesheet"||m.removeChild(K),K=fe}}if(S===0){l.removeChild(T),w0(d);return}S--}else m==="$"||m==="$?"||m==="$!"?S++:v=m.charCodeAt(0)-48;else v=0;m=T}while(m);w0(d)}function jx(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":jx(m),ye(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function NE(l,d,m,v){for(;l.nodeType===1;){var S=m;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[xe])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(T=l.getAttribute("rel"),T==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(T!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(T=l.getAttribute("src"),(T!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===T)return l}else return l;if(l=zl(l.nextSibling),l===null)break}return null}function SE(l,d,m){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=zl(l.nextSibling),l===null))return null;return l}function Ax(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function jE(l,d){var m=l.ownerDocument;if(l.data!=="$?"||m.readyState==="complete")d();else{var v=function(){d(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function zl(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var Ex=null;function L5(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}function R5(l,d,m){switch(d=xp(m),l){case"html":if(l=d.documentElement,!l)throw Error(i(452));return l;case"head":if(l=d.head,!l)throw Error(i(453));return l;case"body":if(l=d.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function h0(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);ye(l)}var ol=new Map,O5=new Set;function vp(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var fu=ue.d;ue.d={f:AE,r:EE,D:TE,C:CE,L:kE,m:LE,X:OE,S:RE,M:DE};function AE(){var l=fu.f(),d=cp();return l||d}function EE(l){var d=Ee(l);d!==null&&d.tag===5&&d.type==="form"?zd(d):fu.r(l)}var Kf=typeof document>"u"?null:document;function D5(l,d,m){var v=Kf;if(v&&typeof d=="string"&&d){var S=Yn(d);S='link[rel="'+l+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),O5.has(S)||(O5.add(S),l={rel:l,crossOrigin:m,href:d},v.querySelector(S)===null&&(d=v.createElement("link"),Ca(d,"link",l),Pe(d),v.head.appendChild(d)))}}function TE(l){fu.D(l),D5("dns-prefetch",l,null)}function CE(l,d){fu.C(l,d),D5("preconnect",l,d)}function kE(l,d,m){fu.L(l,d,m);var v=Kf;if(v&&l&&d){var S='link[rel="preload"][as="'+Yn(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+Yn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+Yn(m.imageSizes)+'"]')):S+='[href="'+Yn(l)+'"]';var T=S;switch(d){case"style":T=Zf(l);break;case"script":T=Jf(l)}ol.has(T)||(l=h({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:l,as:d},m),ol.set(T,l),v.querySelector(S)!==null||d==="style"&&v.querySelector(m0(T))||d==="script"&&v.querySelector(p0(T))||(d=v.createElement("link"),Ca(d,"link",l),Pe(d),v.head.appendChild(d)))}}function LE(l,d){fu.m(l,d);var m=Kf;if(m&&l){var v=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+Yn(v)+'"][href="'+Yn(l)+'"]',T=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Jf(l)}if(!ol.has(T)&&(l=h({rel:"modulepreload",href:l},d),ol.set(T,l),m.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(p0(T)))return}v=m.createElement("link"),Ca(v,"link",l),Pe(v),m.head.appendChild(v)}}}function RE(l,d,m){fu.S(l,d,m);var v=Kf;if(v&&l){var S=Qe(v).hoistableStyles,T=Zf(l);d=d||"default";var K=S.get(T);if(!K){var fe={loading:0,preload:null};if(K=v.querySelector(m0(T)))fe.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":d},m),(m=ol.get(T))&&Tx(l,m);var Re=K=v.createElement("link");Pe(Re),Ca(Re,"link",l),Re._p=new Promise(function(Xe,dt){Re.onload=Xe,Re.onerror=dt}),Re.addEventListener("load",function(){fe.loading|=1}),Re.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,bp(K,d,v)}K={type:"stylesheet",instance:K,count:1,state:fe},S.set(T,K)}}}function OE(l,d){fu.X(l,d);var m=Kf;if(m&&l){var v=Qe(m).hoistableScripts,S=Jf(l),T=v.get(S);T||(T=m.querySelector(p0(S)),T||(l=h({src:l,async:!0},d),(d=ol.get(S))&&Cx(l,d),T=m.createElement("script"),Pe(T),Ca(T,"link",l),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function DE(l,d){fu.M(l,d);var m=Kf;if(m&&l){var v=Qe(m).hoistableScripts,S=Jf(l),T=v.get(S);T||(T=m.querySelector(p0(S)),T||(l=h({src:l,async:!0,type:"module"},d),(d=ol.get(S))&&Cx(l,d),T=m.createElement("script"),Pe(T),Ca(T,"link",l),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function M5(l,d,m,v){var S=(S=le.current)?vp(S):null;if(!S)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=Zf(m.href),m=Qe(S).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=Zf(m.href);var T=Qe(S).hoistableStyles,K=T.get(l);if(K||(S=S.ownerDocument||S,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(l,K),(T=S.querySelector(m0(l)))&&!T._p&&(K.instance=T,K.state.loading=5),ol.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ol.set(l,m),T||ME(S,l,m,K.state))),d&&v===null)throw Error(i(528,""));return K}if(d&&v!==null)throw Error(i(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Jf(m),m=Qe(S).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function Zf(l){return'href="'+Yn(l)+'"'}function m0(l){return'link[rel="stylesheet"]['+l+"]"}function F5(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function ME(l,d,m,v){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=l.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Ca(d,"link",m),Pe(d),l.head.appendChild(d))}function Jf(l){return'[src="'+Yn(l)+'"]'}function p0(l){return"script[async]"+l}function P5(l,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=l.querySelector('style[data-href~="'+Yn(m.href)+'"]');if(v)return d.instance=v,Pe(v),v;var S=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Pe(v),Ca(v,"style",S),bp(v,m.precedence,l),d.instance=v;case"stylesheet":S=Zf(m.href);var T=l.querySelector(m0(S));if(T)return d.state.loading|=4,d.instance=T,Pe(T),T;v=F5(m),(S=ol.get(S))&&Tx(v,S),T=(l.ownerDocument||l).createElement("link"),Pe(T);var K=T;return K._p=new Promise(function(fe,Re){K.onload=fe,K.onerror=Re}),Ca(T,"link",v),d.state.loading|=4,bp(T,m.precedence,l),d.instance=T;case"script":return T=Jf(m.src),(S=l.querySelector(p0(T)))?(d.instance=S,Pe(S),S):(v=m,(S=ol.get(T))&&(v=h({},m),Cx(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),Pe(S),Ca(S,"link",v),l.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,bp(v,m.precedence,l));return d.instance}function bp(l,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,T=S,K=0;K<v.length;K++){var fe=v[K];if(fe.dataset.precedence===d)T=fe;else if(T!==S)break}T?T.parentNode.insertBefore(l,T.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(l,d.firstChild))}function Tx(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function Cx(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var yp=null;function I5(l,d,m){if(yp===null){var v=new Map,S=yp=new Map;S.set(m,v)}else S=yp,v=S.get(m),v||(v=new Map,S.set(m,v));if(v.has(l))return v;for(v.set(l,null),m=m.getElementsByTagName(l),S=0;S<m.length;S++){var T=m[S];if(!(T[xe]||T[fn]||l==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var K=T.getAttribute(d)||"";K=l+K;var fe=v.get(K);fe?fe.push(T):v.set(K,[T])}}return v}function B5(l,d,m){l=l.ownerDocument||l,l.head.insertBefore(m,d==="title"?l.querySelector("head > title"):null)}function FE(l,d,m){if(m===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function z5(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var g0=null;function PE(){}function IE(l,d,m){if(g0===null)throw Error(i(475));var v=g0;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=Zf(m.href),T=l.querySelector(m0(S));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=wp.bind(v),l.then(v,v)),d.state.loading|=4,d.instance=T,Pe(T);return}T=l.ownerDocument||l,m=F5(m),(S=ol.get(S))&&Tx(m,S),T=T.createElement("link"),Pe(T);var K=T;K._p=new Promise(function(fe,Re){K.onload=fe,K.onerror=Re}),Ca(T,"link",m),d.instance=T}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=wp.bind(v),l.addEventListener("load",d),l.addEventListener("error",d))}}function BE(){if(g0===null)throw Error(i(475));var l=g0;return l.stylesheets&&l.count===0&&kx(l,l.stylesheets),0<l.count?function(d){var m=setTimeout(function(){if(l.stylesheets&&kx(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(m)}}:null}function wp(){if(this.count--,this.count===0){if(this.stylesheets)kx(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var _p=null;function kx(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,_p=new Map,d.forEach(zE,l),_p=null,wp.call(l))}function zE(l,d){if(!(d.state.loading&4)){var m=_p.get(l);if(m)var v=m.get(null);else{m=new Map,_p.set(l,m);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var K=S[T];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(m.set(K.dataset.precedence,K),v=K)}v&&m.set(null,v)}S=d.instance,K=S.getAttribute("data-precedence"),T=m.get(K)||v,T===v&&m.set(null,S),m.set(K,S),this.count++,v=wp.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),T?T.parentNode.insertBefore(S,T.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),d.state.loading|=4}}var x0={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function HE(l,d,m,v,S,T,K,fe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function H5(l,d,m,v,S,T,K,fe,Re,Xe,dt,mt){return l=new HE(l,d,m,K,fe,Re,Xe,mt),d=1,T===!0&&(d|=24),T=Mr(3,null,null,d),l.current=T,T.stateNode=l,d=Vu(),d.refCount++,l.pooledCache=d,d.refCount++,T.memoizedState={element:v,isDehydrated:m,cache:d},he(T),l}function U5(l){return l?(l=ur,l):ur}function W5(l,d,m,v,S,T){S=U5(S),v.context===null?v.context=S:v.pendingContext=S,v=Me(d),v.payload={element:m},T=T===void 0?null:T,T!==null&&(v.callback=T),m=He(l,v,d),m!==null&&(No(m,l,d),Be(m,l,d))}function V5(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function Lx(l,d){V5(l,d),(l=l.alternate)&&V5(l,d)}function q5(l){if(l.tag===13){var d=yr(l,67108864);d!==null&&No(d,l,67108864),Lx(l,67108864)}}var Np=!0;function UE(l,d,m,v){var S=ae.T;ae.T=null;var T=ue.p;try{ue.p=2,Rx(l,d,m,v)}finally{ue.p=T,ae.T=S}}function WE(l,d,m,v){var S=ae.T;ae.T=null;var T=ue.p;try{ue.p=8,Rx(l,d,m,v)}finally{ue.p=T,ae.T=S}}function Rx(l,d,m,v){if(Np){var S=Ox(v);if(S===null)bx(l,d,v,Sp,m),$5(l,v);else if(qE(S,l,d,m,v))v.stopPropagation();else if($5(l,v),d&4&&-1<VE.indexOf(l)){for(;S!==null;){var T=Ee(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var K=cn(T.pendingLanes);if(K!==0){var fe=T;for(fe.pendingLanes|=2,fe.entangledLanes|=2;K;){var Re=1<<31-kt(K);fe.entanglements[1]|=Re,K&=~Re}wc(T),(fi&6)===0&&(op=Ie()+500,u0(0))}}break;case 13:fe=yr(T,2),fe!==null&&No(fe,T,2),cp(),Lx(T,2)}if(T=Ox(v),T===null&&bx(l,d,v,Sp,m),T===S)break;S=T}S!==null&&v.stopPropagation()}else bx(l,d,v,null,m)}}function Ox(l){return l=Hi(l),Dx(l)}var Sp=null;function Dx(l){if(Sp=null,l=Ae(l),l!==null){var d=a(l);if(d===null)l=null;else{var m=d.tag;if(m===13){if(l=o(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Sp=l,null}function G5(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case Ze:return 2;case ft:return 8;case vt:case wt:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Mx=!1,sd=null,od=null,ld=null,v0=new Map,b0=new Map,cd=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $5(l,d){switch(l){case"focusin":case"focusout":sd=null;break;case"dragenter":case"dragleave":od=null;break;case"mouseover":case"mouseout":ld=null;break;case"pointerover":case"pointerout":v0.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":b0.delete(d.pointerId)}}function y0(l,d,m,v,S,T){return l===null||l.nativeEvent!==T?(l={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},d!==null&&(d=Ee(d),d!==null&&q5(d)),l):(l.eventSystemFlags|=v,d=l.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),l)}function qE(l,d,m,v,S){switch(d){case"focusin":return sd=y0(sd,l,d,m,v,S),!0;case"dragenter":return od=y0(od,l,d,m,v,S),!0;case"mouseover":return ld=y0(ld,l,d,m,v,S),!0;case"pointerover":var T=S.pointerId;return v0.set(T,y0(v0.get(T)||null,l,d,m,v,S)),!0;case"gotpointercapture":return T=S.pointerId,b0.set(T,y0(b0.get(T)||null,l,d,m,v,S)),!0}return!1}function Y5(l){var d=Ae(l.target);if(d!==null){var m=a(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){l.blockedOn=d,En(l.priority,function(){if(m.tag===13){var v=_o();v=Oi(v);var S=yr(m,v);S!==null&&No(S,m,v),Lx(m,v)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function jp(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=Ox(l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);ba=v,m.target.dispatchEvent(v),ba=null}else return d=Ee(m),d!==null&&q5(d),l.blockedOn=m,!1;d.shift()}return!0}function X5(l,d,m){jp(l)&&m.delete(d)}function GE(){Mx=!1,sd!==null&&jp(sd)&&(sd=null),od!==null&&jp(od)&&(od=null),ld!==null&&jp(ld)&&(ld=null),v0.forEach(X5),b0.forEach(X5)}function Ap(l,d){l.blockedOn===d&&(l.blockedOn=null,Mx||(Mx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GE)))}var Ep=null;function K5(l){Ep!==l&&(Ep=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ep===l&&(Ep=null);for(var d=0;d<l.length;d+=3){var m=l[d],v=l[d+1],S=l[d+2];if(typeof v!="function"){if(Dx(v||m)===null)continue;break}var T=Ee(m);T!==null&&(l.splice(d,3),d-=3,rl(T,{pending:!0,data:S,method:m.method,action:v},v,S))}}))}function w0(l){function d(Re){return Ap(Re,l)}sd!==null&&Ap(sd,l),od!==null&&Ap(od,l),ld!==null&&Ap(ld,l),v0.forEach(d),b0.forEach(d);for(var m=0;m<cd.length;m++){var v=cd[m];v.blockedOn===l&&(v.blockedOn=null)}for(;0<cd.length&&(m=cd[0],m.blockedOn===null);)Y5(m),m.blockedOn===null&&cd.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var S=m[v],T=m[v+1],K=S[Dn]||null;if(typeof T=="function")K||K5(m);else if(K){var fe=null;if(T&&T.hasAttribute("formAction")){if(S=T,K=T[Dn]||null)fe=K.formAction;else if(Dx(S)!==null)continue}else fe=K.action;typeof fe=="function"?m[v+1]=fe:(m.splice(v,3),v-=3),K5(m)}}}function Fx(l){this._internalRoot=l}Tp.prototype.render=Fx.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(i(409));var m=d.current,v=_o();W5(m,v,l,d,null,null)},Tp.prototype.unmount=Fx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;W5(l.current,2,null,l,null,null),cp(),d[$n]=null}};function Tp(l){this._internalRoot=l}Tp.prototype.unstable_scheduleHydration=function(l){if(l){var d=tr();l={blockedOn:null,target:l,priority:d};for(var m=0;m<cd.length&&d!==0&&d<cd[m].priority;m++);cd.splice(m,0,l),m===0&&Y5(l)}};var Z5=t.version;if(Z5!=="19.1.0")throw Error(i(527,Z5,"19.1.0"));ue.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=u(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var $E={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{_t=Cp.inject($E),It=Cp}catch{}}return N0.createRoot=function(l,d){if(!r(l))throw Error(i(299));var m=!1,v="",S=hy,T=my,K=py,fe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(fe=d.unstable_transitionCallbacks)),d=H5(l,1,!1,null,null,m,v,S,T,K,fe,null),l[$n]=d.current,vx(l),new Fx(d)},N0.hydrateRoot=function(l,d,m){if(!r(l))throw Error(i(299));var v=!1,S="",T=hy,K=my,fe=py,Re=null,Xe=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(K=m.onCaughtError),m.onRecoverableError!==void 0&&(fe=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Re=m.unstable_transitionCallbacks),m.formState!==void 0&&(Xe=m.formState)),d=H5(l,1,!0,d,m??null,v,S,T,K,fe,Re,Xe),d.context=U5(null),m=d.current,v=_o(),v=Oi(v),S=Me(v),S.callback=null,He(m,S,v),m=v,d.current.lanes=m,yi(d,m),wc(d),l[$n]=d.current,vx(l),new Tp(d)},N0.version="19.1.0",N0}var ow;function rT(){if(ow)return Bx.exports;ow=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bx.exports=iT(),Bx.exports}var aT=rT(),dg={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var sT=dg.exports,lw;function oT(){return lw||(lw=1,function(e,t){(function(n,i){e.exports=i()})(sT,function(){const n=new Map,i={set(M,N,R){n.has(M)||n.set(M,new Map);const G=n.get(M);G.has(N)||G.size===0?G.set(N,R):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(G.keys())[0]}.`)},get:(M,N)=>n.has(M)&&n.get(M).get(N)||null,remove(M,N){if(!n.has(M))return;const R=n.get(M);R.delete(N),R.size===0&&n.delete(M)}},r="transitionend",a=M=>(M&&window.CSS&&window.CSS.escape&&(M=M.replace(/#([^\s"#']+)/g,(N,R)=>`#${CSS.escape(R)}`)),M),o=M=>{M.dispatchEvent(new Event(r))},c=M=>!(!M||typeof M!="object")&&(M.jquery!==void 0&&(M=M[0]),M.nodeType!==void 0),u=M=>c(M)?M.jquery?M[0]:M:typeof M=="string"&&M.length>0?document.querySelector(a(M)):null,f=M=>{if(!c(M)||M.getClientRects().length===0)return!1;const N=getComputedStyle(M).getPropertyValue("visibility")==="visible",R=M.closest("details:not([open])");if(!R)return N;if(R!==M){const G=M.closest("summary");if(G&&G.parentNode!==R||G===null)return!1}return N},h=M=>!M||M.nodeType!==Node.ELEMENT_NODE||!!M.classList.contains("disabled")||(M.disabled!==void 0?M.disabled:M.hasAttribute("disabled")&&M.getAttribute("disabled")!=="false"),p=M=>{if(!document.documentElement.attachShadow)return null;if(typeof M.getRootNode=="function"){const N=M.getRootNode();return N instanceof ShadowRoot?N:null}return M instanceof ShadowRoot?M:M.parentNode?p(M.parentNode):null},x=()=>{},b=M=>{M.offsetHeight},w=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,g=[],_=()=>document.documentElement.dir==="rtl",j=M=>{var N;N=()=>{const R=w();if(R){const G=M.NAME,we=R.fn[G];R.fn[G]=M.jQueryInterface,R.fn[G].Constructor=M,R.fn[G].noConflict=()=>(R.fn[G]=we,M.jQueryInterface)}},document.readyState==="loading"?(g.length||document.addEventListener("DOMContentLoaded",()=>{for(const R of g)R()}),g.push(N)):N()},E=(M,N=[],R=M)=>typeof M=="function"?M.call(...N):R,k=(M,N,R=!0)=>{if(!R)return void E(M);const G=(he=>{if(!he)return 0;let{transitionDuration:be,transitionDelay:Me}=window.getComputedStyle(he);const He=Number.parseFloat(be),Be=Number.parseFloat(Me);return He||Be?(be=be.split(",")[0],Me=Me.split(",")[0],1e3*(Number.parseFloat(be)+Number.parseFloat(Me))):0})(N)+5;let we=!1;const ge=({target:he})=>{he===N&&(we=!0,N.removeEventListener(r,ge),E(M))};N.addEventListener(r,ge),setTimeout(()=>{we||o(N)},G)},F=(M,N,R,G)=>{const we=M.length;let ge=M.indexOf(N);return ge===-1?!R&&G?M[we-1]:M[0]:(ge+=R?1:-1,G&&(ge=(ge+we)%we),M[Math.max(0,Math.min(ge,we-1))])},V=/[^.]*(?=\..*)\.|.*/,ne=/\..*/,P=/::\d+$/,I={};let Y=1;const Z={mouseenter:"mouseover",mouseleave:"mouseout"},z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function U(M,N){return N&&`${N}::${Y++}`||M.uidEvent||Y++}function J(M){const N=U(M);return M.uidEvent=N,I[N]=I[N]||{},I[N]}function ie(M,N,R=null){return Object.values(M).find(G=>G.callable===N&&G.delegationSelector===R)}function pe(M,N,R){const G=typeof N=="string",we=G?R:N||R;let ge=Ne(M);return z.has(ge)||(ge=M),[G,we,ge]}function ae(M,N,R,G,we){if(typeof N!="string"||!M)return;let[ge,he,be]=pe(N,R,G);N in Z&&(he=(lt=>function(Lt){if(!Lt.relatedTarget||Lt.relatedTarget!==Lt.delegateTarget&&!Lt.delegateTarget.contains(Lt.relatedTarget))return lt.call(this,Lt)})(he));const Me=J(M),He=Me[be]||(Me[be]={}),Be=ie(He,he,ge?R:null);if(Be)return void(Be.oneOff=Be.oneOff&&we);const tt=U(he,N.replace(V,"")),ct=ge?function(pt,lt,Lt){return function Ft(zt){const Wt=pt.querySelectorAll(lt);for(let{target:Ht}=zt;Ht&&Ht!==this;Ht=Ht.parentNode)for(const $t of Wt)if($t===Ht)return ke(zt,{delegateTarget:Ht}),Ft.oneOff&&q.off(pt,zt.type,lt,Lt),Lt.apply(Ht,[zt])}}(M,R,he):function(pt,lt){return function Lt(Ft){return ke(Ft,{delegateTarget:pt}),Lt.oneOff&&q.off(pt,Ft.type,lt),lt.apply(pt,[Ft])}}(M,he);ct.delegationSelector=ge?R:null,ct.callable=he,ct.oneOff=we,ct.uidEvent=tt,He[tt]=ct,M.addEventListener(be,ct,ge)}function ue(M,N,R,G,we){const ge=ie(N[R],G,we);ge&&(M.removeEventListener(R,ge,!!we),delete N[R][ge.uidEvent])}function Q(M,N,R,G){const we=N[R]||{};for(const[ge,he]of Object.entries(we))ge.includes(G)&&ue(M,N,R,he.callable,he.delegationSelector)}function Ne(M){return M=M.replace(ne,""),Z[M]||M}const q={on(M,N,R,G){ae(M,N,R,G,!1)},one(M,N,R,G){ae(M,N,R,G,!0)},off(M,N,R,G){if(typeof N!="string"||!M)return;const[we,ge,he]=pe(N,R,G),be=he!==N,Me=J(M),He=Me[he]||{},Be=N.startsWith(".");if(ge===void 0){if(Be)for(const tt of Object.keys(Me))Q(M,Me,tt,N.slice(1));for(const[tt,ct]of Object.entries(He)){const pt=tt.replace(P,"");be&&!N.includes(pt)||ue(M,Me,he,ct.callable,ct.delegationSelector)}}else{if(!Object.keys(He).length)return;ue(M,Me,he,ge,we?R:null)}},trigger(M,N,R){if(typeof N!="string"||!M)return null;const G=w();let we=null,ge=!0,he=!0,be=!1;N!==Ne(N)&&G&&(we=G.Event(N,R),G(M).trigger(we),ge=!we.isPropagationStopped(),he=!we.isImmediatePropagationStopped(),be=we.isDefaultPrevented());const Me=ke(new Event(N,{bubbles:ge,cancelable:!0}),R);return be&&Me.preventDefault(),he&&M.dispatchEvent(Me),Me.defaultPrevented&&we&&we.preventDefault(),Me}};function ke(M,N={}){for(const[R,G]of Object.entries(N))try{M[R]=G}catch{Object.defineProperty(M,R,{configurable:!0,get:()=>G})}return M}function O(M){if(M==="true")return!0;if(M==="false")return!1;if(M===Number(M).toString())return Number(M);if(M===""||M==="null")return null;if(typeof M!="string")return M;try{return JSON.parse(decodeURIComponent(M))}catch{return M}}function B(M){return M.replace(/[A-Z]/g,N=>`-${N.toLowerCase()}`)}const W={setDataAttribute(M,N,R){M.setAttribute(`data-bs-${B(N)}`,R)},removeDataAttribute(M,N){M.removeAttribute(`data-bs-${B(N)}`)},getDataAttributes(M){if(!M)return{};const N={},R=Object.keys(M.dataset).filter(G=>G.startsWith("bs")&&!G.startsWith("bsConfig"));for(const G of R){let we=G.replace(/^bs/,"");we=we.charAt(0).toLowerCase()+we.slice(1),N[we]=O(M.dataset[G])}return N},getDataAttribute:(M,N)=>O(M.getAttribute(`data-bs-${B(N)}`))};class X{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(N){return N=this._mergeConfigObj(N),N=this._configAfterMerge(N),this._typeCheckConfig(N),N}_configAfterMerge(N){return N}_mergeConfigObj(N,R){const G=c(R)?W.getDataAttribute(R,"config"):{};return{...this.constructor.Default,...typeof G=="object"?G:{},...c(R)?W.getDataAttributes(R):{},...typeof N=="object"?N:{}}}_typeCheckConfig(N,R=this.constructor.DefaultType){for(const[we,ge]of Object.entries(R)){const he=N[we],be=c(he)?"element":(G=he)==null?`${G}`:Object.prototype.toString.call(G).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ge).test(be))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${we}" provided type "${be}" but expected type "${ge}".`)}var G}}class le extends X{constructor(N,R){super(),(N=u(N))&&(this._element=N,this._config=this._getConfig(R),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const N of Object.getOwnPropertyNames(this))this[N]=null}_queueCallback(N,R,G=!0){k(N,R,G)}_getConfig(N){return N=this._mergeConfigObj(N,this._element),N=this._configAfterMerge(N),this._typeCheckConfig(N),N}static getInstance(N){return i.get(u(N),this.DATA_KEY)}static getOrCreateInstance(N,R={}){return this.getInstance(N)||new this(N,typeof R=="object"?R:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(N){return`${N}${this.EVENT_KEY}`}}const Ce=M=>{let N=M.getAttribute("data-bs-target");if(!N||N==="#"){let R=M.getAttribute("href");if(!R||!R.includes("#")&&!R.startsWith("."))return null;R.includes("#")&&!R.startsWith("#")&&(R=`#${R.split("#")[1]}`),N=R&&R!=="#"?R.trim():null}return N?N.split(",").map(R=>a(R)).join(","):null},_e={find:(M,N=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(N,M)),findOne:(M,N=document.documentElement)=>Element.prototype.querySelector.call(N,M),children:(M,N)=>[].concat(...M.children).filter(R=>R.matches(N)),parents(M,N){const R=[];let G=M.parentNode.closest(N);for(;G;)R.push(G),G=G.parentNode.closest(N);return R},prev(M,N){let R=M.previousElementSibling;for(;R;){if(R.matches(N))return[R];R=R.previousElementSibling}return[]},next(M,N){let R=M.nextElementSibling;for(;R;){if(R.matches(N))return[R];R=R.nextElementSibling}return[]},focusableChildren(M){const N=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(R=>`${R}:not([tabindex^="-"])`).join(",");return this.find(N,M).filter(R=>!h(R)&&f(R))},getSelectorFromElement(M){const N=Ce(M);return N&&_e.findOne(N)?N:null},getElementFromSelector(M){const N=Ce(M);return N?_e.findOne(N):null},getMultipleElementsFromSelector(M){const N=Ce(M);return N?_e.find(N):[]}},Le=(M,N="hide")=>{const R=`click.dismiss${M.EVENT_KEY}`,G=M.NAME;q.on(document,R,`[data-bs-dismiss="${G}"]`,function(we){if(["A","AREA"].includes(this.tagName)&&we.preventDefault(),h(this))return;const ge=_e.getElementFromSelector(this)||this.closest(`.${G}`);M.getOrCreateInstance(ge)[N]()})},ze=".bs.alert",nt=`close${ze}`,Oe=`closed${ze}`;class $e extends le{static get NAME(){return"alert"}close(){if(q.trigger(this._element,nt).defaultPrevented)return;this._element.classList.remove("show");const N=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,N)}_destroyElement(){this._element.remove(),q.trigger(this._element,Oe),this.dispose()}static jQueryInterface(N){return this.each(function(){const R=$e.getOrCreateInstance(this);if(typeof N=="string"){if(R[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);R[N](this)}})}}Le($e,"close"),j($e);const Ke='[data-bs-toggle="button"]';class ve extends le{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(N){return this.each(function(){const R=ve.getOrCreateInstance(this);N==="toggle"&&R[N]()})}}q.on(document,"click.bs.button.data-api",Ke,M=>{M.preventDefault();const N=M.target.closest(Ke);ve.getOrCreateInstance(N).toggle()}),j(ve);const se=".bs.swipe",Ie=`touchstart${se}`,st=`touchmove${se}`,Ze=`touchend${se}`,ft=`pointerdown${se}`,vt=`pointerup${se}`,wt={endCallback:null,leftCallback:null,rightCallback:null},Rt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Dt extends X{constructor(N,R){super(),this._element=N,N&&Dt.isSupported()&&(this._config=this._getConfig(R),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wt}static get DefaultType(){return Rt}static get NAME(){return"swipe"}dispose(){q.off(this._element,se)}_start(N){this._supportPointerEvents?this._eventIsPointerPenTouch(N)&&(this._deltaX=N.clientX):this._deltaX=N.touches[0].clientX}_end(N){this._eventIsPointerPenTouch(N)&&(this._deltaX=N.clientX-this._deltaX),this._handleSwipe(),E(this._config.endCallback)}_move(N){this._deltaX=N.touches&&N.touches.length>1?0:N.touches[0].clientX-this._deltaX}_handleSwipe(){const N=Math.abs(this._deltaX);if(N<=40)return;const R=N/this._deltaX;this._deltaX=0,R&&E(R>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,ft,N=>this._start(N)),q.on(this._element,vt,N=>this._end(N)),this._element.classList.add("pointer-event")):(q.on(this._element,Ie,N=>this._start(N)),q.on(this._element,st,N=>this._move(N)),q.on(this._element,Ze,N=>this._end(N)))}_eventIsPointerPenTouch(N){return this._supportPointerEvents&&(N.pointerType==="pen"||N.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Bt=".bs.carousel",_t=".data-api",It="ArrowLeft",Kt="ArrowRight",kt="next",Zt="prev",Nt="left",Gn="right",sn=`slide${Bt}`,ni=`slid${Bt}`,cn=`keydown${Bt}`,yn=`mouseenter${Bt}`,Hn=`mouseleave${Bt}`,xn=`dragstart${Bt}`,vr=`load${Bt}${_t}`,Un=`click${Bt}${_t}`,Ri="carousel",yi="active",On=".active",Jt=".carousel-item",vn=On+Jt,Oi={[It]:Gn,[Kt]:Nt},ai={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},tr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class En extends le{constructor(N,R){super(N,R),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=_e.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ri&&this.cycle()}static get Default(){return ai}static get DefaultType(){return tr}static get NAME(){return"carousel"}next(){this._slide(kt)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Zt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?q.one(this._element,ni,()=>this.cycle()):this.cycle())}to(N){const R=this._getItems();if(N>R.length-1||N<0)return;if(this._isSliding)return void q.one(this._element,ni,()=>this.to(N));const G=this._getItemIndex(this._getActive());if(G===N)return;const we=N>G?kt:Zt;this._slide(we,R[N])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(N){return N.defaultInterval=N.interval,N}_addEventListeners(){this._config.keyboard&&q.on(this._element,cn,N=>this._keydown(N)),this._config.pause==="hover"&&(q.on(this._element,yn,()=>this.pause()),q.on(this._element,Hn,()=>this._maybeEnableCycle())),this._config.touch&&Dt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const R of _e.find(".carousel-item img",this._element))q.on(R,xn,G=>G.preventDefault());const N={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(Gn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Dt(this._element,N)}_keydown(N){if(/input|textarea/i.test(N.target.tagName))return;const R=Oi[N.key];R&&(N.preventDefault(),this._slide(this._directionToOrder(R)))}_getItemIndex(N){return this._getItems().indexOf(N)}_setActiveIndicatorElement(N){if(!this._indicatorsElement)return;const R=_e.findOne(On,this._indicatorsElement);R.classList.remove(yi),R.removeAttribute("aria-current");const G=_e.findOne(`[data-bs-slide-to="${N}"]`,this._indicatorsElement);G&&(G.classList.add(yi),G.setAttribute("aria-current","true"))}_updateInterval(){const N=this._activeElement||this._getActive();if(!N)return;const R=Number.parseInt(N.getAttribute("data-bs-interval"),10);this._config.interval=R||this._config.defaultInterval}_slide(N,R=null){if(this._isSliding)return;const G=this._getActive(),we=N===kt,ge=R||F(this._getItems(),G,we,this._config.wrap);if(ge===G)return;const he=this._getItemIndex(ge),be=tt=>q.trigger(this._element,tt,{relatedTarget:ge,direction:this._orderToDirection(N),from:this._getItemIndex(G),to:he});if(be(sn).defaultPrevented||!G||!ge)return;const Me=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(he),this._activeElement=ge;const He=we?"carousel-item-start":"carousel-item-end",Be=we?"carousel-item-next":"carousel-item-prev";ge.classList.add(Be),b(ge),G.classList.add(He),ge.classList.add(He),this._queueCallback(()=>{ge.classList.remove(He,Be),ge.classList.add(yi),G.classList.remove(yi,Be,He),this._isSliding=!1,be(ni)},G,this._isAnimated()),Me&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return _e.findOne(vn,this._element)}_getItems(){return _e.find(Jt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(N){return _()?N===Nt?Zt:kt:N===Nt?kt:Zt}_orderToDirection(N){return _()?N===Zt?Nt:Gn:N===Zt?Gn:Nt}static jQueryInterface(N){return this.each(function(){const R=En.getOrCreateInstance(this,N);if(typeof N!="number"){if(typeof N=="string"){if(R[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);R[N]()}}else R.to(N)})}}q.on(document,Un,"[data-bs-slide], [data-bs-slide-to]",function(M){const N=_e.getElementFromSelector(this);if(!N||!N.classList.contains(Ri))return;M.preventDefault();const R=En.getOrCreateInstance(N),G=this.getAttribute("data-bs-slide-to");return G?(R.to(G),void R._maybeEnableCycle()):W.getDataAttribute(this,"slide")==="next"?(R.next(),void R._maybeEnableCycle()):(R.prev(),void R._maybeEnableCycle())}),q.on(window,vr,()=>{const M=_e.find('[data-bs-ride="carousel"]');for(const N of M)En.getOrCreateInstance(N)}),j(En);const Pt=".bs.collapse",fn=`show${Pt}`,Dn=`shown${Pt}`,$n=`hide${Pt}`,pn=`hidden${Pt}`,Wn=`click${Pt}.data-api`,oe="show",je="collapse",xe="collapsing",ye=`:scope .${je} .${je}`,Ae='[data-bs-toggle="collapse"]',Ee={parent:null,toggle:!0},qe={parent:"(null|element)",toggle:"boolean"};class Qe extends le{constructor(N,R){super(N,R),this._isTransitioning=!1,this._triggerArray=[];const G=_e.find(Ae);for(const we of G){const ge=_e.getSelectorFromElement(we),he=_e.find(ge).filter(be=>be===this._element);ge!==null&&he.length&&this._triggerArray.push(we)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ee}static get DefaultType(){return qe}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let N=[];if(this._config.parent&&(N=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(we=>we!==this._element).map(we=>Qe.getOrCreateInstance(we,{toggle:!1}))),N.length&&N[0]._isTransitioning||q.trigger(this._element,fn).defaultPrevented)return;for(const we of N)we.hide();const R=this._getDimension();this._element.classList.remove(je),this._element.classList.add(xe),this._element.style[R]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const G=`scroll${R[0].toUpperCase()+R.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xe),this._element.classList.add(je,oe),this._element.style[R]="",q.trigger(this._element,Dn)},this._element,!0),this._element.style[R]=`${this._element[G]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,$n).defaultPrevented)return;const N=this._getDimension();this._element.style[N]=`${this._element.getBoundingClientRect()[N]}px`,b(this._element),this._element.classList.add(xe),this._element.classList.remove(je,oe);for(const R of this._triggerArray){const G=_e.getElementFromSelector(R);G&&!this._isShown(G)&&this._addAriaAndCollapsedClass([R],!1)}this._isTransitioning=!0,this._element.style[N]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xe),this._element.classList.add(je),q.trigger(this._element,pn)},this._element,!0)}_isShown(N=this._element){return N.classList.contains(oe)}_configAfterMerge(N){return N.toggle=!!N.toggle,N.parent=u(N.parent),N}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const N=this._getFirstLevelChildren(Ae);for(const R of N){const G=_e.getElementFromSelector(R);G&&this._addAriaAndCollapsedClass([R],this._isShown(G))}}_getFirstLevelChildren(N){const R=_e.find(ye,this._config.parent);return _e.find(N,this._config.parent).filter(G=>!R.includes(G))}_addAriaAndCollapsedClass(N,R){if(N.length)for(const G of N)G.classList.toggle("collapsed",!R),G.setAttribute("aria-expanded",R)}static jQueryInterface(N){const R={};return typeof N=="string"&&/show|hide/.test(N)&&(R.toggle=!1),this.each(function(){const G=Qe.getOrCreateInstance(this,R);if(typeof N=="string"){if(G[N]===void 0)throw new TypeError(`No method named "${N}"`);G[N]()}})}}q.on(document,Wn,Ae,function(M){(M.target.tagName==="A"||M.delegateTarget&&M.delegateTarget.tagName==="A")&&M.preventDefault();for(const N of _e.getMultipleElementsFromSelector(this))Qe.getOrCreateInstance(N,{toggle:!1}).toggle()}),j(Qe);var Pe="top",We="bottom",Ge="right",ut="left",yt="auto",Ct=[Pe,We,Ge,ut],bt="start",jt="end",nn="clippingParents",kn="viewport",Tn="popper",Qn="reference",Hr=Ct.reduce(function(M,N){return M.concat([N+"-"+bt,N+"-"+jt])},[]),Ia=[].concat(Ct,[yt]).reduce(function(M,N){return M.concat([N,N+"-"+bt,N+"-"+jt])},[]),Cr="beforeRead",ta="read",xa="afterRead",na="beforeMain",Ai="main",kr="afterMain",nc="beforeWrite",Pc="write",Js="afterWrite",Ic=[Cr,ta,xa,na,Ai,kr,nc,Pc,Js];function Ei(M){return M?(M.nodeName||"").toLowerCase():null}function ar(M){if(M==null)return window;if(M.toString()!=="[object Window]"){var N=M.ownerDocument;return N&&N.defaultView||window}return M}function Yn(M){return M instanceof ar(M).Element||M instanceof Element}function sr(M){return M instanceof ar(M).HTMLElement||M instanceof HTMLElement}function gl(M){return typeof ShadowRoot<"u"&&(M instanceof ar(M).ShadowRoot||M instanceof ShadowRoot)}const xl={name:"applyStyles",enabled:!0,phase:"write",fn:function(M){var N=M.state;Object.keys(N.elements).forEach(function(R){var G=N.styles[R]||{},we=N.attributes[R]||{},ge=N.elements[R];sr(ge)&&Ei(ge)&&(Object.assign(ge.style,G),Object.keys(we).forEach(function(he){var be=we[he];be===!1?ge.removeAttribute(he):ge.setAttribute(he,be===!0?"":be)}))})},effect:function(M){var N=M.state,R={popper:{position:N.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(N.elements.popper.style,R.popper),N.styles=R,N.elements.arrow&&Object.assign(N.elements.arrow.style,R.arrow),function(){Object.keys(N.elements).forEach(function(G){var we=N.elements[G],ge=N.attributes[G]||{},he=Object.keys(N.styles.hasOwnProperty(G)?N.styles[G]:R[G]).reduce(function(be,Me){return be[Me]="",be},{});sr(we)&&Ei(we)&&(Object.assign(we.style,he),Object.keys(ge).forEach(function(be){we.removeAttribute(be)}))})}},requires:["computeStyles"]};function or(M){return M.split("-")[0]}var ws=Math.max,Do=Math.min,va=Math.round;function vl(){var M=navigator.userAgentData;return M!=null&&M.brands&&Array.isArray(M.brands)?M.brands.map(function(N){return N.brand+"/"+N.version}).join(" "):navigator.userAgent}function Bc(){return!/^((?!chrome|android).)*safari/i.test(vl())}function Qs(M,N,R){N===void 0&&(N=!1),R===void 0&&(R=!1);var G=M.getBoundingClientRect(),we=1,ge=1;N&&sr(M)&&(we=M.offsetWidth>0&&va(G.width)/M.offsetWidth||1,ge=M.offsetHeight>0&&va(G.height)/M.offsetHeight||1);var he=(Yn(M)?ar(M):window).visualViewport,be=!Bc()&&R,Me=(G.left+(be&&he?he.offsetLeft:0))/we,He=(G.top+(be&&he?he.offsetTop:0))/ge,Be=G.width/we,tt=G.height/ge;return{width:Be,height:tt,top:He,right:Me+Be,bottom:He+tt,left:Me,x:Me,y:He}}function bl(M){var N=Qs(M),R=M.offsetWidth,G=M.offsetHeight;return Math.abs(N.width-R)<=1&&(R=N.width),Math.abs(N.height-G)<=1&&(G=N.height),{x:M.offsetLeft,y:M.offsetTop,width:R,height:G}}function _s(M,N){var R=N.getRootNode&&N.getRootNode();if(M.contains(N))return!0;if(R&&gl(R)){var G=N;do{if(G&&M.isSameNode(G))return!0;G=G.parentNode||G.host}while(G)}return!1}function ia(M){return ar(M).getComputedStyle(M)}function eo(M){return["table","td","th"].indexOf(Ei(M))>=0}function ba(M){return((Yn(M)?M.ownerDocument:M.document)||window.document).documentElement}function Hi(M){return Ei(M)==="html"?M:M.assignedSlot||M.parentNode||(gl(M)?M.host:null)||ba(M)}function to(M){return sr(M)&&ia(M).position!=="fixed"?M.offsetParent:null}function ya(M){for(var N=ar(M),R=to(M);R&&eo(R)&&ia(R).position==="static";)R=to(R);return R&&(Ei(R)==="html"||Ei(R)==="body"&&ia(R).position==="static")?N:R||function(G){var we=/firefox/i.test(vl());if(/Trident/i.test(vl())&&sr(G)&&ia(G).position==="fixed")return null;var ge=Hi(G);for(gl(ge)&&(ge=ge.host);sr(ge)&&["html","body"].indexOf(Ei(ge))<0;){var he=ia(ge);if(he.transform!=="none"||he.perspective!=="none"||he.contain==="paint"||["transform","perspective"].indexOf(he.willChange)!==-1||we&&he.willChange==="filter"||we&&he.filter&&he.filter!=="none")return ge;ge=ge.parentNode}return null}(M)||N}function rn(M){return["top","bottom"].indexOf(M)>=0?"x":"y"}function no(M,N,R){return ws(M,Do(N,R))}function zc(M){return Object.assign({},{top:0,right:0,bottom:0,left:0},M)}function Ur(M,N){return N.reduce(function(R,G){return R[G]=M,R},{})}const wa={name:"arrow",enabled:!0,phase:"main",fn:function(M){var N,R=M.state,G=M.name,we=M.options,ge=R.elements.arrow,he=R.modifiersData.popperOffsets,be=or(R.placement),Me=rn(be),He=[ut,Ge].indexOf(be)>=0?"height":"width";if(ge&&he){var Be=function(Ot,qt){return zc(typeof(Ot=typeof Ot=="function"?Ot(Object.assign({},qt.rects,{placement:qt.placement})):Ot)!="number"?Ot:Ur(Ot,Ct))}(we.padding,R),tt=bl(ge),ct=Me==="y"?Pe:ut,pt=Me==="y"?We:Ge,lt=R.rects.reference[He]+R.rects.reference[Me]-he[Me]-R.rects.popper[He],Lt=he[Me]-R.rects.reference[Me],Ft=ya(ge),zt=Ft?Me==="y"?Ft.clientHeight||0:Ft.clientWidth||0:0,Wt=lt/2-Lt/2,Ht=Be[ct],$t=zt-tt[He]-Be[pt],St=zt/2-tt[He]/2+Wt,Vt=no(Ht,St,$t),Et=Me;R.modifiersData[G]=((N={})[Et]=Vt,N.centerOffset=Vt-St,N)}},effect:function(M){var N=M.state,R=M.options.element,G=R===void 0?"[data-popper-arrow]":R;G!=null&&(typeof G!="string"||(G=N.elements.popper.querySelector(G)))&&_s(N.elements.popper,G)&&(N.elements.arrow=G)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ls(M){return M.split("-")[1]}var Ns={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _a(M){var N,R=M.popper,G=M.popperRect,we=M.placement,ge=M.variation,he=M.offsets,be=M.position,Me=M.gpuAcceleration,He=M.adaptive,Be=M.roundOffsets,tt=M.isFixed,ct=he.x,pt=ct===void 0?0:ct,lt=he.y,Lt=lt===void 0?0:lt,Ft=typeof Be=="function"?Be({x:pt,y:Lt}):{x:pt,y:Lt};pt=Ft.x,Lt=Ft.y;var zt=he.hasOwnProperty("x"),Wt=he.hasOwnProperty("y"),Ht=ut,$t=Pe,St=window;if(He){var Vt=ya(R),Et="clientHeight",Ot="clientWidth";Vt===ar(R)&&ia(Vt=ba(R)).position!=="static"&&be==="absolute"&&(Et="scrollHeight",Ot="scrollWidth"),(we===Pe||(we===ut||we===Ge)&&ge===jt)&&($t=We,Lt-=(tt&&Vt===St&&St.visualViewport?St.visualViewport.height:Vt[Et])-G.height,Lt*=Me?1:-1),we!==ut&&(we!==Pe&&we!==We||ge!==jt)||(Ht=Ge,pt-=(tt&&Vt===St&&St.visualViewport?St.visualViewport.width:Vt[Ot])-G.width,pt*=Me?1:-1)}var qt,en=Object.assign({position:be},He&&Ns),Zn=Be===!0?function(ei,Ln){var qn=ei.x,Xn=ei.y,Fn=Ln.devicePixelRatio||1;return{x:va(qn*Fn)/Fn||0,y:va(Xn*Fn)/Fn||0}}({x:pt,y:Lt},ar(R)):{x:pt,y:Lt};return pt=Zn.x,Lt=Zn.y,Me?Object.assign({},en,((qt={})[$t]=Wt?"0":"",qt[Ht]=zt?"0":"",qt.transform=(St.devicePixelRatio||1)<=1?"translate("+pt+"px, "+Lt+"px)":"translate3d("+pt+"px, "+Lt+"px, 0)",qt)):Object.assign({},en,((N={})[$t]=Wt?Lt+"px":"",N[Ht]=zt?pt+"px":"",N.transform="",N))}const yl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(M){var N=M.state,R=M.options,G=R.gpuAcceleration,we=G===void 0||G,ge=R.adaptive,he=ge===void 0||ge,be=R.roundOffsets,Me=be===void 0||be,He={placement:or(N.placement),variation:ls(N.placement),popper:N.elements.popper,popperRect:N.rects.popper,gpuAcceleration:we,isFixed:N.options.strategy==="fixed"};N.modifiersData.popperOffsets!=null&&(N.styles.popper=Object.assign({},N.styles.popper,_a(Object.assign({},He,{offsets:N.modifiersData.popperOffsets,position:N.options.strategy,adaptive:he,roundOffsets:Me})))),N.modifiersData.arrow!=null&&(N.styles.arrow=Object.assign({},N.styles.arrow,_a(Object.assign({},He,{offsets:N.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Me})))),N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-placement":N.placement})},data:{}};var io={passive:!0};const ic={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(M){var N=M.state,R=M.instance,G=M.options,we=G.scroll,ge=we===void 0||we,he=G.resize,be=he===void 0||he,Me=ar(N.elements.popper),He=[].concat(N.scrollParents.reference,N.scrollParents.popper);return ge&&He.forEach(function(Be){Be.addEventListener("scroll",R.update,io)}),be&&Me.addEventListener("resize",R.update,io),function(){ge&&He.forEach(function(Be){Be.removeEventListener("scroll",R.update,io)}),be&&Me.removeEventListener("resize",R.update,io)}},data:{}};var Mo={left:"right",right:"left",bottom:"top",top:"bottom"};function Na(M){return M.replace(/left|right|bottom|top/g,function(N){return Mo[N]})}var ro={start:"end",end:"start"};function br(M){return M.replace(/start|end/g,function(N){return ro[N]})}function Wr(M){var N=ar(M);return{scrollLeft:N.pageXOffset,scrollTop:N.pageYOffset}}function Ss(M){return Qs(ba(M)).left+Wr(M).scrollLeft}function Ba(M){var N=ia(M),R=N.overflow,G=N.overflowX,we=N.overflowY;return/auto|scroll|overlay|hidden/.test(R+we+G)}function Hc(M){return["html","body","#document"].indexOf(Ei(M))>=0?M.ownerDocument.body:sr(M)&&Ba(M)?M:Hc(Hi(M))}function js(M,N){var R;N===void 0&&(N=[]);var G=Hc(M),we=G===((R=M.ownerDocument)==null?void 0:R.body),ge=ar(G),he=we?[ge].concat(ge.visualViewport||[],Ba(G)?G:[]):G,be=N.concat(he);return we?be:be.concat(js(Hi(he)))}function Fo(M){return Object.assign({},M,{left:M.x,top:M.y,right:M.x+M.width,bottom:M.y+M.height})}function ao(M,N,R){return N===kn?Fo(function(G,we){var ge=ar(G),he=ba(G),be=ge.visualViewport,Me=he.clientWidth,He=he.clientHeight,Be=0,tt=0;if(be){Me=be.width,He=be.height;var ct=Bc();(ct||!ct&&we==="fixed")&&(Be=be.offsetLeft,tt=be.offsetTop)}return{width:Me,height:He,x:Be+Ss(G),y:tt}}(M,R)):Yn(N)?function(G,we){var ge=Qs(G,!1,we==="fixed");return ge.top=ge.top+G.clientTop,ge.left=ge.left+G.clientLeft,ge.bottom=ge.top+G.clientHeight,ge.right=ge.left+G.clientWidth,ge.width=G.clientWidth,ge.height=G.clientHeight,ge.x=ge.left,ge.y=ge.top,ge}(N,R):Fo(function(G){var we,ge=ba(G),he=Wr(G),be=(we=G.ownerDocument)==null?void 0:we.body,Me=ws(ge.scrollWidth,ge.clientWidth,be?be.scrollWidth:0,be?be.clientWidth:0),He=ws(ge.scrollHeight,ge.clientHeight,be?be.scrollHeight:0,be?be.clientHeight:0),Be=-he.scrollLeft+Ss(G),tt=-he.scrollTop;return ia(be||ge).direction==="rtl"&&(Be+=ws(ge.clientWidth,be?be.clientWidth:0)-Me),{width:Me,height:He,x:Be,y:tt}}(ba(M)))}function ra(M){var N,R=M.reference,G=M.element,we=M.placement,ge=we?or(we):null,he=we?ls(we):null,be=R.x+R.width/2-G.width/2,Me=R.y+R.height/2-G.height/2;switch(ge){case Pe:N={x:be,y:R.y-G.height};break;case We:N={x:be,y:R.y+R.height};break;case Ge:N={x:R.x+R.width,y:Me};break;case ut:N={x:R.x-G.width,y:Me};break;default:N={x:R.x,y:R.y}}var He=ge?rn(ge):null;if(He!=null){var Be=He==="y"?"height":"width";switch(he){case bt:N[He]=N[He]-(R[Be]/2-G[Be]/2);break;case jt:N[He]=N[He]+(R[Be]/2-G[Be]/2)}}return N}function Vr(M,N){N===void 0&&(N={});var R=N,G=R.placement,we=G===void 0?M.placement:G,ge=R.strategy,he=ge===void 0?M.strategy:ge,be=R.boundary,Me=be===void 0?nn:be,He=R.rootBoundary,Be=He===void 0?kn:He,tt=R.elementContext,ct=tt===void 0?Tn:tt,pt=R.altBoundary,lt=pt!==void 0&&pt,Lt=R.padding,Ft=Lt===void 0?0:Lt,zt=zc(typeof Ft!="number"?Ft:Ur(Ft,Ct)),Wt=ct===Tn?Qn:Tn,Ht=M.rects.popper,$t=M.elements[lt?Wt:ct],St=function(Ln,qn,Xn,Fn){var bn=qn==="clippingParents"?function(Pn){var Ii=js(Hi(Pn)),Rn=["absolute","fixed"].indexOf(ia(Pn).position)>=0&&sr(Pn)?ya(Pn):Pn;return Yn(Rn)?Ii.filter(function($a){return Yn($a)&&_s($a,Rn)&&Ei($a)!=="body"}):[]}(Ln):[].concat(qn),ti=[].concat(bn,[Xn]),Fr=ti[0],di=ti.reduce(function(Pn,Ii){var Rn=ao(Ln,Ii,Fn);return Pn.top=ws(Rn.top,Pn.top),Pn.right=Do(Rn.right,Pn.right),Pn.bottom=Do(Rn.bottom,Pn.bottom),Pn.left=ws(Rn.left,Pn.left),Pn},ao(Ln,Fr,Fn));return di.width=di.right-di.left,di.height=di.bottom-di.top,di.x=di.left,di.y=di.top,di}(Yn($t)?$t:$t.contextElement||ba(M.elements.popper),Me,Be,he),Vt=Qs(M.elements.reference),Et=ra({reference:Vt,element:Ht,placement:we}),Ot=Fo(Object.assign({},Ht,Et)),qt=ct===Tn?Ot:Vt,en={top:St.top-qt.top+zt.top,bottom:qt.bottom-St.bottom+zt.bottom,left:St.left-qt.left+zt.left,right:qt.right-St.right+zt.right},Zn=M.modifiersData.offset;if(ct===Tn&&Zn){var ei=Zn[we];Object.keys(en).forEach(function(Ln){var qn=[Ge,We].indexOf(Ln)>=0?1:-1,Xn=[Pe,We].indexOf(Ln)>=0?"y":"x";en[Ln]+=ei[Xn]*qn})}return en}function Od(M,N){N===void 0&&(N={});var R=N,G=R.placement,we=R.boundary,ge=R.rootBoundary,he=R.padding,be=R.flipVariations,Me=R.allowedAutoPlacements,He=Me===void 0?Ia:Me,Be=ls(G),tt=Be?be?Hr:Hr.filter(function(lt){return ls(lt)===Be}):Ct,ct=tt.filter(function(lt){return He.indexOf(lt)>=0});ct.length===0&&(ct=tt);var pt=ct.reduce(function(lt,Lt){return lt[Lt]=Vr(M,{placement:Lt,boundary:we,rootBoundary:ge,padding:he})[or(Lt)],lt},{});return Object.keys(pt).sort(function(lt,Lt){return pt[lt]-pt[Lt]})}const so={name:"flip",enabled:!0,phase:"main",fn:function(M){var N=M.state,R=M.options,G=M.name;if(!N.modifiersData[G]._skip){for(var we=R.mainAxis,ge=we===void 0||we,he=R.altAxis,be=he===void 0||he,Me=R.fallbackPlacements,He=R.padding,Be=R.boundary,tt=R.rootBoundary,ct=R.altBoundary,pt=R.flipVariations,lt=pt===void 0||pt,Lt=R.allowedAutoPlacements,Ft=N.options.placement,zt=or(Ft),Wt=Me||(zt!==Ft&&lt?function(Pn){if(or(Pn)===yt)return[];var Ii=Na(Pn);return[br(Pn),Ii,br(Ii)]}(Ft):[Na(Ft)]),Ht=[Ft].concat(Wt).reduce(function(Pn,Ii){return Pn.concat(or(Ii)===yt?Od(N,{placement:Ii,boundary:Be,rootBoundary:tt,padding:He,flipVariations:lt,allowedAutoPlacements:Lt}):Ii)},[]),$t=N.rects.reference,St=N.rects.popper,Vt=new Map,Et=!0,Ot=Ht[0],qt=0;qt<Ht.length;qt++){var en=Ht[qt],Zn=or(en),ei=ls(en)===bt,Ln=[Pe,We].indexOf(Zn)>=0,qn=Ln?"width":"height",Xn=Vr(N,{placement:en,boundary:Be,rootBoundary:tt,altBoundary:ct,padding:He}),Fn=Ln?ei?Ge:ut:ei?We:Pe;$t[qn]>St[qn]&&(Fn=Na(Fn));var bn=Na(Fn),ti=[];if(ge&&ti.push(Xn[Zn]<=0),be&&ti.push(Xn[Fn]<=0,Xn[bn]<=0),ti.every(function(Pn){return Pn})){Ot=en,Et=!1;break}Vt.set(en,ti)}if(Et)for(var Fr=function(Pn){var Ii=Ht.find(function(Rn){var $a=Vt.get(Rn);if($a)return $a.slice(0,Pn).every(function(Ml){return Ml})});if(Ii)return Ot=Ii,"break"},di=lt?3:1;di>0&&Fr(di)!=="break";di--);N.placement!==Ot&&(N.modifiersData[G]._skip=!0,N.placement=Ot,N.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function za(M,N,R){return R===void 0&&(R={x:0,y:0}),{top:M.top-N.height-R.y,right:M.right-N.width+R.x,bottom:M.bottom-N.height+R.y,left:M.left-N.width-R.x}}function Po(M){return[Pe,Ge,We,ut].some(function(N){return M[N]>=0})}const Io={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(M){var N=M.state,R=M.name,G=N.rects.reference,we=N.rects.popper,ge=N.modifiersData.preventOverflow,he=Vr(N,{elementContext:"reference"}),be=Vr(N,{altBoundary:!0}),Me=za(he,G),He=za(be,we,ge),Be=Po(Me),tt=Po(He);N.modifiersData[R]={referenceClippingOffsets:Me,popperEscapeOffsets:He,isReferenceHidden:Be,hasPopperEscaped:tt},N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-reference-hidden":Be,"data-popper-escaped":tt})}},Pu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(M){var N=M.state,R=M.options,G=M.name,we=R.offset,ge=we===void 0?[0,0]:we,he=Ia.reduce(function(Be,tt){return Be[tt]=function(ct,pt,lt){var Lt=or(ct),Ft=[ut,Pe].indexOf(Lt)>=0?-1:1,zt=typeof lt=="function"?lt(Object.assign({},pt,{placement:ct})):lt,Wt=zt[0],Ht=zt[1];return Wt=Wt||0,Ht=(Ht||0)*Ft,[ut,Ge].indexOf(Lt)>=0?{x:Ht,y:Wt}:{x:Wt,y:Ht}}(tt,N.rects,ge),Be},{}),be=he[N.placement],Me=be.x,He=be.y;N.modifiersData.popperOffsets!=null&&(N.modifiersData.popperOffsets.x+=Me,N.modifiersData.popperOffsets.y+=He),N.modifiersData[G]=he}},Bo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(M){var N=M.state,R=M.name;N.modifiersData[R]=ra({reference:N.rects.reference,element:N.rects.popper,placement:N.placement})},data:{}},Iu={name:"preventOverflow",enabled:!0,phase:"main",fn:function(M){var N=M.state,R=M.options,G=M.name,we=R.mainAxis,ge=we===void 0||we,he=R.altAxis,be=he!==void 0&&he,Me=R.boundary,He=R.rootBoundary,Be=R.altBoundary,tt=R.padding,ct=R.tether,pt=ct===void 0||ct,lt=R.tetherOffset,Lt=lt===void 0?0:lt,Ft=Vr(N,{boundary:Me,rootBoundary:He,padding:tt,altBoundary:Be}),zt=or(N.placement),Wt=ls(N.placement),Ht=!Wt,$t=rn(zt),St=$t==="x"?"y":"x",Vt=N.modifiersData.popperOffsets,Et=N.rects.reference,Ot=N.rects.popper,qt=typeof Lt=="function"?Lt(Object.assign({},N.rects,{placement:N.placement})):Lt,en=typeof qt=="number"?{mainAxis:qt,altAxis:qt}:Object.assign({mainAxis:0,altAxis:0},qt),Zn=N.modifiersData.offset?N.modifiersData.offset[N.placement]:null,ei={x:0,y:0};if(Vt){if(ge){var Ln,qn=$t==="y"?Pe:ut,Xn=$t==="y"?We:Ge,Fn=$t==="y"?"height":"width",bn=Vt[$t],ti=bn+Ft[qn],Fr=bn-Ft[Xn],di=pt?-Ot[Fn]/2:0,Pn=Wt===bt?Et[Fn]:Ot[Fn],Ii=Wt===bt?-Ot[Fn]:-Et[Fn],Rn=N.elements.arrow,$a=pt&&Rn?bl(Rn):{width:0,height:0},Ml=N.modifiersData["arrow#persistent"]?N.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Pr=Ml[qn],_i=Ml[Xn],Bs=no(0,Et[Fn],$a[Fn]),il=Ht?Et[Fn]/2-di-Bs-Pr-en.mainAxis:Pn-Bs-Pr-en.mainAxis,la=Ht?-Et[Fn]/2+di+Bs+_i+en.mainAxis:Ii+Bs+_i+en.mainAxis,zs=N.elements.arrow&&ya(N.elements.arrow),ca=zs?$t==="y"?zs.clientTop||0:zs.clientLeft||0:0,fc=(Ln=Zn==null?void 0:Zn[$t])!=null?Ln:0,hc=bn+la-fc,eu=no(pt?Do(ti,bn+il-fc-ca):ti,bn,pt?ws(Fr,hc):Fr);Vt[$t]=eu,ei[$t]=eu-bn}if(be){var mc,qu=$t==="x"?Pe:ut,tu=$t==="x"?We:Ge,Ya=Vt[St],nu=St==="y"?"height":"width",Dd=Ya+Ft[qu],pc=Ya-Ft[tu],ps=[Pe,ut].indexOf(zt)!==-1,Df=(mc=Zn==null?void 0:Zn[St])!=null?mc:0,Md=ps?Dd:Ya-Et[nu]-Ot[nu]-Df+en.altAxis,Fd=ps?Ya+Et[nu]+Ot[nu]-Df-en.altAxis:pc,Gu=pt&&ps?function(gc,Pd,iu){var xc=no(gc,Pd,iu);return xc>iu?iu:xc}(Md,Ya,Fd):no(pt?Md:Dd,Ya,pt?Fd:pc);Vt[St]=Gu,ei[St]=Gu-Ya}N.modifiersData[G]=ei}},requiresIfExists:["offset"]};function Uc(M,N,R){R===void 0&&(R=!1);var G,we,ge=sr(N),he=sr(N)&&function(tt){var ct=tt.getBoundingClientRect(),pt=va(ct.width)/tt.offsetWidth||1,lt=va(ct.height)/tt.offsetHeight||1;return pt!==1||lt!==1}(N),be=ba(N),Me=Qs(M,he,R),He={scrollLeft:0,scrollTop:0},Be={x:0,y:0};return(ge||!ge&&!R)&&((Ei(N)!=="body"||Ba(be))&&(He=(G=N)!==ar(G)&&sr(G)?{scrollLeft:(we=G).scrollLeft,scrollTop:we.scrollTop}:Wr(G)),sr(N)?((Be=Qs(N,!0)).x+=N.clientLeft,Be.y+=N.clientTop):be&&(Be.x=Ss(be))),{x:Me.left+He.scrollLeft-Be.x,y:Me.top+He.scrollTop-Be.y,width:Me.width,height:Me.height}}function rc(M){var N=new Map,R=new Set,G=[];function we(ge){R.add(ge.name),[].concat(ge.requires||[],ge.requiresIfExists||[]).forEach(function(he){if(!R.has(he)){var be=N.get(he);be&&we(be)}}),G.push(ge)}return M.forEach(function(ge){N.set(ge.name,ge)}),M.forEach(function(ge){R.has(ge.name)||we(ge)}),G}var Wc={placement:"bottom",modifiers:[],strategy:"absolute"};function wl(){for(var M=arguments.length,N=new Array(M),R=0;R<M;R++)N[R]=arguments[R];return!N.some(function(G){return!(G&&typeof G.getBoundingClientRect=="function")})}function zo(M){M===void 0&&(M={});var N=M,R=N.defaultModifiers,G=R===void 0?[]:R,we=N.defaultOptions,ge=we===void 0?Wc:we;return function(he,be,Me){Me===void 0&&(Me=ge);var He,Be,tt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wc,ge),modifiersData:{},elements:{reference:he,popper:be},attributes:{},styles:{}},ct=[],pt=!1,lt={state:tt,setOptions:function(Ft){var zt=typeof Ft=="function"?Ft(tt.options):Ft;Lt(),tt.options=Object.assign({},ge,tt.options,zt),tt.scrollParents={reference:Yn(he)?js(he):he.contextElement?js(he.contextElement):[],popper:js(be)};var Wt,Ht,$t=function(St){var Vt=rc(St);return Ic.reduce(function(Et,Ot){return Et.concat(Vt.filter(function(qt){return qt.phase===Ot}))},[])}((Wt=[].concat(G,tt.options.modifiers),Ht=Wt.reduce(function(St,Vt){var Et=St[Vt.name];return St[Vt.name]=Et?Object.assign({},Et,Vt,{options:Object.assign({},Et.options,Vt.options),data:Object.assign({},Et.data,Vt.data)}):Vt,St},{}),Object.keys(Ht).map(function(St){return Ht[St]})));return tt.orderedModifiers=$t.filter(function(St){return St.enabled}),tt.orderedModifiers.forEach(function(St){var Vt=St.name,Et=St.options,Ot=Et===void 0?{}:Et,qt=St.effect;if(typeof qt=="function"){var en=qt({state:tt,name:Vt,instance:lt,options:Ot});ct.push(en||function(){})}}),lt.update()},forceUpdate:function(){if(!pt){var Ft=tt.elements,zt=Ft.reference,Wt=Ft.popper;if(wl(zt,Wt)){tt.rects={reference:Uc(zt,ya(Wt),tt.options.strategy==="fixed"),popper:bl(Wt)},tt.reset=!1,tt.placement=tt.options.placement,tt.orderedModifiers.forEach(function(qt){return tt.modifiersData[qt.name]=Object.assign({},qt.data)});for(var Ht=0;Ht<tt.orderedModifiers.length;Ht++)if(tt.reset!==!0){var $t=tt.orderedModifiers[Ht],St=$t.fn,Vt=$t.options,Et=Vt===void 0?{}:Vt,Ot=$t.name;typeof St=="function"&&(tt=St({state:tt,options:Et,name:Ot,instance:lt})||tt)}else tt.reset=!1,Ht=-1}}},update:(He=function(){return new Promise(function(Ft){lt.forceUpdate(),Ft(tt)})},function(){return Be||(Be=new Promise(function(Ft){Promise.resolve().then(function(){Be=void 0,Ft(He())})})),Be}),destroy:function(){Lt(),pt=!0}};if(!wl(he,be))return lt;function Lt(){ct.forEach(function(Ft){return Ft()}),ct=[]}return lt.setOptions(Me).then(function(Ft){!pt&&Me.onFirstUpdate&&Me.onFirstUpdate(Ft)}),lt}}var Vc=zo(),ac=zo({defaultModifiers:[ic,Bo,yl,xl]}),qc=zo({defaultModifiers:[ic,Bo,yl,xl,Pu,so,Iu,wa,Io]});const _l=Object.freeze(Object.defineProperty({__proto__:null,afterMain:kr,afterRead:xa,afterWrite:Js,applyStyles:xl,arrow:wa,auto:yt,basePlacements:Ct,beforeMain:na,beforeRead:Cr,beforeWrite:nc,bottom:We,clippingParents:nn,computeStyles:yl,createPopper:qc,createPopperBase:Vc,createPopperLite:ac,detectOverflow:Vr,end:jt,eventListeners:ic,flip:so,hide:Io,left:ut,main:Ai,modifierPhases:Ic,offset:Pu,placements:Ia,popper:Tn,popperGenerator:zo,popperOffsets:Bo,preventOverflow:Iu,read:ta,reference:Qn,right:Ge,start:bt,top:Pe,variationPlacements:Hr,viewport:kn,write:Pc},Symbol.toStringTag,{value:"Module"})),Ho="dropdown",Ha=".bs.dropdown",As=".data-api",Gc="ArrowUp",C="ArrowDown",te=`hide${Ha}`,Te=`hidden${Ha}`,De=`show${Ha}`,Ve=`shown${Ha}`,at=`click${Ha}${As}`,xt=`keydown${Ha}${As}`,Mt=`keyup${Ha}${As}`,Ut="show",tn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',un=`${tn}.${Ut}`,wn=".dropdown-menu",wi=_()?"top-end":"top-start",Ti=_()?"top-start":"top-end",Ui=_()?"bottom-end":"bottom-start",Wi=_()?"bottom-start":"bottom-end",lr=_()?"left-start":"right-start",cs=_()?"right-start":"left-start",Sa={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},us={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class qr extends le{constructor(N,R){super(N,R),this._popper=null,this._parent=this._element.parentNode,this._menu=_e.next(this._element,wn)[0]||_e.prev(this._element,wn)[0]||_e.findOne(wn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Sa}static get DefaultType(){return us}static get NAME(){return Ho}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const N={relatedTarget:this._element};if(!q.trigger(this._element,De,N).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const R of[].concat(...document.body.children))q.on(R,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ut),this._element.classList.add(Ut),q.trigger(this._element,Ve,N)}}hide(){if(h(this._element)||!this._isShown())return;const N={relatedTarget:this._element};this._completeHide(N)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(N){if(!q.trigger(this._element,te,N).defaultPrevented){if("ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))q.off(R,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ut),this._element.classList.remove(Ut),this._element.setAttribute("aria-expanded","false"),W.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,Te,N),this._element.focus()}}_getConfig(N){if(typeof(N=super._getConfig(N)).reference=="object"&&!c(N.reference)&&typeof N.reference.getBoundingClientRect!="function")throw new TypeError(`${Ho.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return N}_createPopper(){if(_l===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let N=this._element;this._config.reference==="parent"?N=this._parent:c(this._config.reference)?N=u(this._config.reference):typeof this._config.reference=="object"&&(N=this._config.reference);const R=this._getPopperConfig();this._popper=qc(N,this._menu,R)}_isShown(){return this._menu.classList.contains(Ut)}_getPlacement(){const N=this._parent;if(N.classList.contains("dropend"))return lr;if(N.classList.contains("dropstart"))return cs;if(N.classList.contains("dropup-center"))return"top";if(N.classList.contains("dropdown-center"))return"bottom";const R=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return N.classList.contains("dropup")?R?Ti:wi:R?Wi:Ui}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:N}=this._config;return typeof N=="string"?N.split(",").map(R=>Number.parseInt(R,10)):typeof N=="function"?R=>N(R,this._element):N}_getPopperConfig(){const N={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(W.setDataAttribute(this._menu,"popper","static"),N.modifiers=[{name:"applyStyles",enabled:!1}]),{...N,...E(this._config.popperConfig,[void 0,N])}}_selectMenuItem({key:N,target:R}){const G=_e.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(we=>f(we));G.length&&F(G,R,N===C,!G.includes(R)).focus()}static jQueryInterface(N){return this.each(function(){const R=qr.getOrCreateInstance(this,N);if(typeof N=="string"){if(R[N]===void 0)throw new TypeError(`No method named "${N}"`);R[N]()}})}static clearMenus(N){if(N.button===2||N.type==="keyup"&&N.key!=="Tab")return;const R=_e.find(un);for(const G of R){const we=qr.getInstance(G);if(!we||we._config.autoClose===!1)continue;const ge=N.composedPath(),he=ge.includes(we._menu);if(ge.includes(we._element)||we._config.autoClose==="inside"&&!he||we._config.autoClose==="outside"&&he||we._menu.contains(N.target)&&(N.type==="keyup"&&N.key==="Tab"||/input|select|option|textarea|form/i.test(N.target.tagName)))continue;const be={relatedTarget:we._element};N.type==="click"&&(be.clickEvent=N),we._completeHide(be)}}static dataApiKeydownHandler(N){const R=/input|textarea/i.test(N.target.tagName),G=N.key==="Escape",we=[Gc,C].includes(N.key);if(!we&&!G||R&&!G)return;N.preventDefault();const ge=this.matches(tn)?this:_e.prev(this,tn)[0]||_e.next(this,tn)[0]||_e.findOne(tn,N.delegateTarget.parentNode),he=qr.getOrCreateInstance(ge);if(we)return N.stopPropagation(),he.show(),void he._selectMenuItem(N);he._isShown()&&(N.stopPropagation(),he.hide(),ge.focus())}}q.on(document,xt,tn,qr.dataApiKeydownHandler),q.on(document,xt,wn,qr.dataApiKeydownHandler),q.on(document,at,qr.clearMenus),q.on(document,Mt,qr.clearMenus),q.on(document,at,tn,function(M){M.preventDefault(),qr.getOrCreateInstance(this).toggle()}),j(qr);const Es="backdrop",Ts="show",Nl=`mousedown.bs.${Es}`,Uo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},sc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wo extends X{constructor(N){super(),this._config=this._getConfig(N),this._isAppended=!1,this._element=null}static get Default(){return Uo}static get DefaultType(){return sc}static get NAME(){return Es}show(N){if(!this._config.isVisible)return void E(N);this._append();const R=this._getElement();this._config.isAnimated&&b(R),R.classList.add(Ts),this._emulateAnimation(()=>{E(N)})}hide(N){this._config.isVisible?(this._getElement().classList.remove(Ts),this._emulateAnimation(()=>{this.dispose(),E(N)})):E(N)}dispose(){this._isAppended&&(q.off(this._element,Nl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const N=document.createElement("div");N.className=this._config.className,this._config.isAnimated&&N.classList.add("fade"),this._element=N}return this._element}_configAfterMerge(N){return N.rootElement=u(N.rootElement),N}_append(){if(this._isAppended)return;const N=this._getElement();this._config.rootElement.append(N),q.on(N,Nl,()=>{E(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(N){k(N,this._getElement(),this._config.isAnimated)}}const Di=".bs.focustrap",Vo=`focusin${Di}`,Sl=`keydown.tab${Di}`,qo="backward",oc={autofocus:!0,trapElement:null},aa={autofocus:"boolean",trapElement:"element"};class Bu extends X{constructor(N){super(),this._config=this._getConfig(N),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return oc}static get DefaultType(){return aa}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,Di),q.on(document,Vo,N=>this._handleFocusin(N)),q.on(document,Sl,N=>this._handleKeydown(N)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,Di))}_handleFocusin(N){const{trapElement:R}=this._config;if(N.target===document||N.target===R||R.contains(N.target))return;const G=_e.focusableChildren(R);G.length===0?R.focus():this._lastTabNavDirection===qo?G[G.length-1].focus():G[0].focus()}_handleKeydown(N){N.key==="Tab"&&(this._lastTabNavDirection=N.shiftKey?qo:"forward")}}const lc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$c=".sticky-top",Gr="padding-right",nr="margin-right";class Cs{constructor(){this._element=document.body}getWidth(){const N=document.documentElement.clientWidth;return Math.abs(window.innerWidth-N)}hide(){const N=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Gr,R=>R+N),this._setElementAttributes(lc,Gr,R=>R+N),this._setElementAttributes($c,nr,R=>R-N)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Gr),this._resetElementAttributes(lc,Gr),this._resetElementAttributes($c,nr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(N,R,G){const we=this.getWidth();this._applyManipulationCallback(N,ge=>{if(ge!==this._element&&window.innerWidth>ge.clientWidth+we)return;this._saveInitialAttribute(ge,R);const he=window.getComputedStyle(ge).getPropertyValue(R);ge.style.setProperty(R,`${G(Number.parseFloat(he))}px`)})}_saveInitialAttribute(N,R){const G=N.style.getPropertyValue(R);G&&W.setDataAttribute(N,R,G)}_resetElementAttributes(N,R){this._applyManipulationCallback(N,G=>{const we=W.getDataAttribute(G,R);we!==null?(W.removeDataAttribute(G,R),G.style.setProperty(R,we)):G.style.removeProperty(R)})}_applyManipulationCallback(N,R){if(c(N))R(N);else for(const G of _e.find(N,this._element))R(G)}}const Lr=".bs.modal",oo=`hide${Lr}`,Go=`hidePrevented${Lr}`,Rr=`hidden${Lr}`,cr=`show${Lr}`,$o=`shown${Lr}`,sa=`resize${Lr}`,ds=`click.dismiss${Lr}`,ks=`mousedown.dismiss${Lr}`,fs=`keydown.dismiss${Lr}`,Mi=`click${Lr}.data-api`,Ua="modal-open",Vi="show",Or="modal-static",jl={backdrop:!0,focus:!0,keyboard:!0},Ls={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Wa extends le{constructor(N,R){super(N,R),this._dialog=_e.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cs,this._addEventListeners()}static get Default(){return jl}static get DefaultType(){return Ls}static get NAME(){return"modal"}toggle(N){return this._isShown?this.hide():this.show(N)}show(N){this._isShown||this._isTransitioning||q.trigger(this._element,cr,{relatedTarget:N}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ua),this._adjustDialog(),this._backdrop.show(()=>this._showElement(N)))}hide(){this._isShown&&!this._isTransitioning&&(q.trigger(this._element,oo).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Vi),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){q.off(window,Lr),q.off(this._dialog,Lr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wo({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Bu({trapElement:this._element})}_showElement(N){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const R=_e.findOne(".modal-body",this._dialog);R&&(R.scrollTop=0),b(this._element),this._element.classList.add(Vi),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,$o,{relatedTarget:N})},this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,fs,N=>{N.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),q.on(window,sa,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),q.on(this._element,ks,N=>{q.one(this._element,ds,R=>{this._element===N.target&&this._element===R.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ua),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,Rr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(q.trigger(this._element,Go).defaultPrevented)return;const N=this._element.scrollHeight>document.documentElement.clientHeight,R=this._element.style.overflowY;R==="hidden"||this._element.classList.contains(Or)||(N||(this._element.style.overflowY="hidden"),this._element.classList.add(Or),this._queueCallback(()=>{this._element.classList.remove(Or),this._queueCallback(()=>{this._element.style.overflowY=R},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const N=this._element.scrollHeight>document.documentElement.clientHeight,R=this._scrollBar.getWidth(),G=R>0;if(G&&!N){const we=_()?"paddingLeft":"paddingRight";this._element.style[we]=`${R}px`}if(!G&&N){const we=_()?"paddingRight":"paddingLeft";this._element.style[we]=`${R}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(N,R){return this.each(function(){const G=Wa.getOrCreateInstance(this,N);if(typeof N=="string"){if(G[N]===void 0)throw new TypeError(`No method named "${N}"`);G[N](R)}})}}q.on(document,Mi,'[data-bs-toggle="modal"]',function(M){const N=_e.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&M.preventDefault(),q.one(N,cr,G=>{G.defaultPrevented||q.one(N,Rr,()=>{f(this)&&this.focus()})});const R=_e.findOne(".modal.show");R&&Wa.getInstance(R).hide(),Wa.getOrCreateInstance(N).toggle(this)}),Le(Wa),j(Wa);const Dr=".bs.offcanvas",lo=".data-api",Yo=`load${Dr}${lo}`,Xo="show",Al="showing",co="hiding",Rs=".offcanvas.show",El=`show${Dr}`,Fi=`shown${Dr}`,ja=`hide${Dr}`,_n=`hidePrevented${Dr}`,Nn=`hidden${Dr}`,li=`resize${Dr}`,qi=`click${Dr}${lo}`,Va=`keydown.dismiss${Dr}`,Ko={backdrop:!0,keyboard:!0,scroll:!1},Zo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yr extends le{constructor(N,R){super(N,R),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ko}static get DefaultType(){return Zo}static get NAME(){return"offcanvas"}toggle(N){return this._isShown?this.hide():this.show(N)}show(N){this._isShown||q.trigger(this._element,El,{relatedTarget:N}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Al),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Xo),this._element.classList.remove(Al),q.trigger(this._element,Fi,{relatedTarget:N})},this._element,!0))}hide(){this._isShown&&(q.trigger(this._element,ja).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(co),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Xo,co),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cs().reset(),q.trigger(this._element,Nn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const N=!!this._config.backdrop;return new Wo({className:"offcanvas-backdrop",isVisible:N,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:N?()=>{this._config.backdrop!=="static"?this.hide():q.trigger(this._element,_n)}:null})}_initializeFocusTrap(){return new Bu({trapElement:this._element})}_addEventListeners(){q.on(this._element,Va,N=>{N.key==="Escape"&&(this._config.keyboard?this.hide():q.trigger(this._element,_n))})}static jQueryInterface(N){return this.each(function(){const R=yr.getOrCreateInstance(this,N);if(typeof N=="string"){if(R[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);R[N](this)}})}}q.on(document,qi,'[data-bs-toggle="offcanvas"]',function(M){const N=_e.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&M.preventDefault(),h(this))return;q.one(N,Nn,()=>{f(this)&&this.focus()});const R=_e.findOne(Rs);R&&R!==N&&yr.getInstance(R).hide(),yr.getOrCreateInstance(N).toggle(this)}),q.on(window,Yo,()=>{for(const M of _e.find(Rs))yr.getOrCreateInstance(M).show()}),q.on(window,li,()=>{for(const M of _e.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(M).position!=="fixed"&&yr.getOrCreateInstance(M).hide()}),Le(yr),j(yr);const Yc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Tl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ur=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qa=(M,N)=>{const R=M.nodeName.toLowerCase();return N.includes(R)?!Tl.has(R)||!!ur.test(M.nodeValue):N.filter(G=>G instanceof RegExp).some(G=>G.test(R))},Mr={allowList:Yc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},cc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Os={entry:"(string|element|function|null)",selector:"(string|element)"};class Xc extends X{constructor(N){super(),this._config=this._getConfig(N)}static get Default(){return Mr}static get DefaultType(){return cc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(N=>this._resolvePossibleFunction(N)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(N){return this._checkContent(N),this._config.content={...this._config.content,...N},this}toHtml(){const N=document.createElement("div");N.innerHTML=this._maybeSanitize(this._config.template);for(const[we,ge]of Object.entries(this._config.content))this._setContent(N,ge,we);const R=N.children[0],G=this._resolvePossibleFunction(this._config.extraClass);return G&&R.classList.add(...G.split(" ")),R}_typeCheckConfig(N){super._typeCheckConfig(N),this._checkContent(N.content)}_checkContent(N){for(const[R,G]of Object.entries(N))super._typeCheckConfig({selector:R,entry:G},Os)}_setContent(N,R,G){const we=_e.findOne(G,N);we&&((R=this._resolvePossibleFunction(R))?c(R)?this._putElementInTemplate(u(R),we):this._config.html?we.innerHTML=this._maybeSanitize(R):we.textContent=R:we.remove())}_maybeSanitize(N){return this._config.sanitize?function(R,G,we){if(!R.length)return R;if(we&&typeof we=="function")return we(R);const ge=new window.DOMParser().parseFromString(R,"text/html"),he=[].concat(...ge.body.querySelectorAll("*"));for(const be of he){const Me=be.nodeName.toLowerCase();if(!Object.keys(G).includes(Me)){be.remove();continue}const He=[].concat(...be.attributes),Be=[].concat(G["*"]||[],G[Me]||[]);for(const tt of He)qa(tt,Be)||be.removeAttribute(tt.nodeName)}return ge.body.innerHTML}(N,this._config.allowList,this._config.sanitizeFn):N}_resolvePossibleFunction(N){return E(N,[void 0,this])}_putElementInTemplate(N,R){if(this._config.html)return R.innerHTML="",void R.append(N);R.textContent=N.textContent}}const Cl=new Set(["sanitize","allowList","sanitizeFn"]),hs="fade",kl="show",Kc=".tooltip-inner",uo=".modal",Ds="hide.bs.modal",Ms="hover",uc="focus",Ga={AUTO:"auto",TOP:"top",RIGHT:_()?"left":"right",BOTTOM:"bottom",LEFT:_()?"right":"left"},Aa={allowList:Yc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ll={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class $r extends le{constructor(N,R){if(_l===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(N,R),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Aa}static get DefaultType(){return Ll}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(uo),Ds,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const N=q.trigger(this._element,this.constructor.eventName("show")),R=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(N.defaultPrevented||!R)return;this._disposePopper();const G=this._getTipElement();this._element.setAttribute("aria-describedby",G.getAttribute("id"));const{container:we}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(we.append(G),q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(G),G.classList.add(kl),"ontouchstart"in document.documentElement)for(const ge of[].concat(...document.body.children))q.on(ge,"mouseover",x);this._queueCallback(()=>{q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(kl),"ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))q.off(N,"mouseover",x);this._activeTrigger.click=!1,this._activeTrigger[uc]=!1,this._activeTrigger[Ms]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(N){const R=this._getTemplateFactory(N).toHtml();if(!R)return null;R.classList.remove(hs,kl),R.classList.add(`bs-${this.constructor.NAME}-auto`);const G=(we=>{do we+=Math.floor(1e6*Math.random());while(document.getElementById(we));return we})(this.constructor.NAME).toString();return R.setAttribute("id",G),this._isAnimated()&&R.classList.add(hs),R}setContent(N){this._newContent=N,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(N){return this._templateFactory?this._templateFactory.changeContent(N):this._templateFactory=new Xc({...this._config,content:N,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Kc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(N){return this.constructor.getOrCreateInstance(N.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hs)}_isShown(){return this.tip&&this.tip.classList.contains(kl)}_createPopper(N){const R=E(this._config.placement,[this,N,this._element]),G=Ga[R.toUpperCase()];return qc(this._element,N,this._getPopperConfig(G))}_getOffset(){const{offset:N}=this._config;return typeof N=="string"?N.split(",").map(R=>Number.parseInt(R,10)):typeof N=="function"?R=>N(R,this._element):N}_resolvePossibleFunction(N){return E(N,[this._element,this._element])}_getPopperConfig(N){const R={placement:N,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:G=>{this._getTipElement().setAttribute("data-popper-placement",G.state.placement)}}]};return{...R,...E(this._config.popperConfig,[void 0,R])}}_setListeners(){const N=this._config.trigger.split(" ");for(const R of N)if(R==="click")q.on(this._element,this.constructor.eventName("click"),this._config.selector,G=>{this._initializeOnDelegatedTarget(G).toggle()});else if(R!=="manual"){const G=R===Ms?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),we=R===Ms?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");q.on(this._element,G,this._config.selector,ge=>{const he=this._initializeOnDelegatedTarget(ge);he._activeTrigger[ge.type==="focusin"?uc:Ms]=!0,he._enter()}),q.on(this._element,we,this._config.selector,ge=>{const he=this._initializeOnDelegatedTarget(ge);he._activeTrigger[ge.type==="focusout"?uc:Ms]=he._element.contains(ge.relatedTarget),he._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(uo),Ds,this._hideModalHandler)}_fixTitle(){const N=this._element.getAttribute("title");N&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",N),this._element.setAttribute("data-bs-original-title",N),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(N,R){clearTimeout(this._timeout),this._timeout=setTimeout(N,R)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(N){const R=W.getDataAttributes(this._element);for(const G of Object.keys(R))Cl.has(G)&&delete R[G];return N={...R,...typeof N=="object"&&N?N:{}},N=this._mergeConfigObj(N),N=this._configAfterMerge(N),this._typeCheckConfig(N),N}_configAfterMerge(N){return N.container=N.container===!1?document.body:u(N.container),typeof N.delay=="number"&&(N.delay={show:N.delay,hide:N.delay}),typeof N.title=="number"&&(N.title=N.title.toString()),typeof N.content=="number"&&(N.content=N.content.toString()),N}_getDelegateConfig(){const N={};for(const[R,G]of Object.entries(this._config))this.constructor.Default[R]!==G&&(N[R]=G);return N.selector=!1,N.trigger="manual",N}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(N){return this.each(function(){const R=$r.getOrCreateInstance(this,N);if(typeof N=="string"){if(R[N]===void 0)throw new TypeError(`No method named "${N}"`);R[N]()}})}}j($r);const fo=".popover-header",Rl=".popover-body",Tf={...$r.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zc={...$r.DefaultType,content:"(null|string|element|function)"};class Jo extends $r{static get Default(){return Tf}static get DefaultType(){return Zc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fo]:this._getTitle(),[Rl]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(N){return this.each(function(){const R=Jo.getOrCreateInstance(this,N);if(typeof N=="string"){if(R[N]===void 0)throw new TypeError(`No method named "${N}"`);R[N]()}})}}j(Jo);const Gi=".bs.scrollspy",Pi=`activate${Gi}`,Vn=`click${Gi}`,Qo=`load${Gi}.data-api`,Yr="active",Jc="[href]",el=".nav-link",Cf=`${el}, .nav-item > ${el}, .list-group-item`,ho={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Xr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class wr extends le{constructor(N,R){super(N,R),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ho}static get DefaultType(){return Xr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const N of this._observableSections.values())this._observer.observe(N)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(N){return N.target=u(N.target)||document.body,N.rootMargin=N.offset?`${N.offset}px 0px -30%`:N.rootMargin,typeof N.threshold=="string"&&(N.threshold=N.threshold.split(",").map(R=>Number.parseFloat(R))),N}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,Vn),q.on(this._config.target,Vn,Jc,N=>{const R=this._observableSections.get(N.target.hash);if(R){N.preventDefault();const G=this._rootElement||window,we=R.offsetTop-this._element.offsetTop;if(G.scrollTo)return void G.scrollTo({top:we,behavior:"smooth"});G.scrollTop=we}}))}_getNewObserver(){const N={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(R=>this._observerCallback(R),N)}_observerCallback(N){const R=he=>this._targetLinks.get(`#${he.target.id}`),G=he=>{this._previousScrollData.visibleEntryTop=he.target.offsetTop,this._process(R(he))},we=(this._rootElement||document.documentElement).scrollTop,ge=we>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=we;for(const he of N){if(!he.isIntersecting){this._activeTarget=null,this._clearActiveClass(R(he));continue}const be=he.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ge&&be){if(G(he),!we)return}else ge||be||G(he)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const N=_e.find(Jc,this._config.target);for(const R of N){if(!R.hash||h(R))continue;const G=_e.findOne(decodeURI(R.hash),this._element);f(G)&&(this._targetLinks.set(decodeURI(R.hash),R),this._observableSections.set(R.hash,G))}}_process(N){this._activeTarget!==N&&(this._clearActiveClass(this._config.target),this._activeTarget=N,N.classList.add(Yr),this._activateParents(N),q.trigger(this._element,Pi,{relatedTarget:N}))}_activateParents(N){if(N.classList.contains("dropdown-item"))_e.findOne(".dropdown-toggle",N.closest(".dropdown")).classList.add(Yr);else for(const R of _e.parents(N,".nav, .list-group"))for(const G of _e.prev(R,Cf))G.classList.add(Yr)}_clearActiveClass(N){N.classList.remove(Yr);const R=_e.find(`${Jc}.${Yr}`,N);for(const G of R)G.classList.remove(Yr)}static jQueryInterface(N){return this.each(function(){const R=wr.getOrCreateInstance(this,N);if(typeof N=="string"){if(R[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);R[N]()}})}}q.on(window,Qo,()=>{for(const M of _e.find('[data-bs-spy="scroll"]'))wr.getOrCreateInstance(M)}),j(wr);const tl=".bs.tab",dc=`hide${tl}`,Fs=`hidden${tl}`,dr=`show${tl}`,mo=`shown${tl}`,nl=`click${tl}`,Ps=`keydown${tl}`,zu=`load${tl}`,Hu="ArrowLeft",Ol="ArrowRight",Uu="ArrowUp",ms="ArrowDown",$i="Home",po="End",Is="active",kf="fade",Wu="show",Lf=".dropdown-toggle",Yi=`:not(${Lf})`,Vu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Dl=`.nav-link${Yi}, .list-group-item${Yi}, [role="tab"]${Yi}, ${Vu}`,Qc=`.${Is}[data-bs-toggle="tab"], .${Is}[data-bs-toggle="pill"], .${Is}[data-bs-toggle="list"]`;class go extends le{constructor(N){super(N),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,Ps,R=>this._keydown(R)))}static get NAME(){return"tab"}show(){const N=this._element;if(this._elemIsActive(N))return;const R=this._getActiveElem(),G=R?q.trigger(R,dc,{relatedTarget:N}):null;q.trigger(N,dr,{relatedTarget:R}).defaultPrevented||G&&G.defaultPrevented||(this._deactivate(R,N),this._activate(N,R))}_activate(N,R){N&&(N.classList.add(Is),this._activate(_e.getElementFromSelector(N)),this._queueCallback(()=>{N.getAttribute("role")==="tab"?(N.removeAttribute("tabindex"),N.setAttribute("aria-selected",!0),this._toggleDropDown(N,!0),q.trigger(N,mo,{relatedTarget:R})):N.classList.add(Wu)},N,N.classList.contains(kf)))}_deactivate(N,R){N&&(N.classList.remove(Is),N.blur(),this._deactivate(_e.getElementFromSelector(N)),this._queueCallback(()=>{N.getAttribute("role")==="tab"?(N.setAttribute("aria-selected",!1),N.setAttribute("tabindex","-1"),this._toggleDropDown(N,!1),q.trigger(N,Fs,{relatedTarget:R})):N.classList.remove(Wu)},N,N.classList.contains(kf)))}_keydown(N){if(![Hu,Ol,Uu,ms,$i,po].includes(N.key))return;N.stopPropagation(),N.preventDefault();const R=this._getChildren().filter(we=>!h(we));let G;if([$i,po].includes(N.key))G=R[N.key===$i?0:R.length-1];else{const we=[Ol,ms].includes(N.key);G=F(R,N.target,we,!0)}G&&(G.focus({preventScroll:!0}),go.getOrCreateInstance(G).show())}_getChildren(){return _e.find(Dl,this._parent)}_getActiveElem(){return this._getChildren().find(N=>this._elemIsActive(N))||null}_setInitialAttributes(N,R){this._setAttributeIfNotExists(N,"role","tablist");for(const G of R)this._setInitialAttributesOnChild(G)}_setInitialAttributesOnChild(N){N=this._getInnerElement(N);const R=this._elemIsActive(N),G=this._getOuterElement(N);N.setAttribute("aria-selected",R),G!==N&&this._setAttributeIfNotExists(G,"role","presentation"),R||N.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(N,"role","tab"),this._setInitialAttributesOnTargetPanel(N)}_setInitialAttributesOnTargetPanel(N){const R=_e.getElementFromSelector(N);R&&(this._setAttributeIfNotExists(R,"role","tabpanel"),N.id&&this._setAttributeIfNotExists(R,"aria-labelledby",`${N.id}`))}_toggleDropDown(N,R){const G=this._getOuterElement(N);if(!G.classList.contains("dropdown"))return;const we=(ge,he)=>{const be=_e.findOne(ge,G);be&&be.classList.toggle(he,R)};we(Lf,Is),we(".dropdown-menu",Wu),G.setAttribute("aria-expanded",R)}_setAttributeIfNotExists(N,R,G){N.hasAttribute(R)||N.setAttribute(R,G)}_elemIsActive(N){return N.classList.contains(Is)}_getInnerElement(N){return N.matches(Dl)?N:_e.findOne(Dl,N)}_getOuterElement(N){return N.closest(".nav-item, .list-group-item")||N}static jQueryInterface(N){return this.each(function(){const R=go.getOrCreateInstance(this);if(typeof N=="string"){if(R[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);R[N]()}})}}q.on(document,nl,Vu,function(M){["A","AREA"].includes(this.tagName)&&M.preventDefault(),h(this)||go.getOrCreateInstance(this).show()}),q.on(window,zu,()=>{for(const M of _e.find(Qc))go.getOrCreateInstance(M)}),j(go);const oa=".bs.toast",xo=`mouseover${oa}`,Vh=`mouseout${oa}`,Rf=`focusin${oa}`,Of=`focusout${oa}`,y=`hide${oa}`,A=`hidden${oa}`,L=`show${oa}`,H=`shown${oa}`,ee="hide",re="show",ce="showing",de={animation:"boolean",autohide:"boolean",delay:"number"},me={animation:!0,autohide:!0,delay:5e3};class Se extends le{constructor(N,R){super(N,R),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return me}static get DefaultType(){return de}static get NAME(){return"toast"}show(){q.trigger(this._element,L).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ee),b(this._element),this._element.classList.add(re,ce),this._queueCallback(()=>{this._element.classList.remove(ce),q.trigger(this._element,H),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(q.trigger(this._element,y).defaultPrevented||(this._element.classList.add(ce),this._queueCallback(()=>{this._element.classList.add(ee),this._element.classList.remove(ce,re),q.trigger(this._element,A)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(re),super.dispose()}isShown(){return this._element.classList.contains(re)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(N,R){switch(N.type){case"mouseover":case"mouseout":this._hasMouseInteraction=R;break;case"focusin":case"focusout":this._hasKeyboardInteraction=R}if(R)return void this._clearTimeout();const G=N.relatedTarget;this._element===G||this._element.contains(G)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,xo,N=>this._onInteraction(N,!0)),q.on(this._element,Vh,N=>this._onInteraction(N,!1)),q.on(this._element,Rf,N=>this._onInteraction(N,!0)),q.on(this._element,Of,N=>this._onInteraction(N,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(N){return this.each(function(){const R=Se.getOrCreateInstance(this,N);if(typeof N=="string"){if(R[N]===void 0)throw new TypeError(`No method named "${N}"`);R[N](this)}})}}return Le(Se),j(Se),{Alert:$e,Button:ve,Carousel:En,Collapse:Qe,Dropdown:qr,Modal:Wa,Offcanvas:yr,Popover:Jo,ScrollSpy:wr,Tab:go,Toast:Se,Tooltip:$r}})}(dg)),dg.exports}oT();function V3(e,t){return function(){return e.apply(t,arguments)}}const{toString:lT}=Object.prototype,{getPrototypeOf:Wb}=Object,{iterator:r1,toStringTag:q3}=Symbol,a1=(e=>t=>{const n=lT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zl=e=>(e=e.toLowerCase(),t=>a1(t)===e),s1=e=>t=>typeof t===e,{isArray:Rh}=Array,om=s1("undefined");function cT(e){return e!==null&&!om(e)&&e.constructor!==null&&!om(e.constructor)&&Gs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const G3=Zl("ArrayBuffer");function uT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&G3(e.buffer),t}const dT=s1("string"),Gs=s1("function"),$3=s1("number"),o1=e=>e!==null&&typeof e=="object",fT=e=>e===!0||e===!1,fg=e=>{if(a1(e)!=="object")return!1;const t=Wb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(q3 in e)&&!(r1 in e)},hT=Zl("Date"),mT=Zl("File"),pT=Zl("Blob"),gT=Zl("FileList"),xT=e=>o1(e)&&Gs(e.pipe),vT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Gs(e.append)&&((t=a1(e))==="formdata"||t==="object"&&Gs(e.toString)&&e.toString()==="[object FormData]"))},bT=Zl("URLSearchParams"),[yT,wT,_T,NT]=["ReadableStream","Request","Response","Headers"].map(Zl),ST=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Am(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Rh(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let c;for(i=0;i<o;i++)c=a[i],t.call(null,e[c],c,e)}}function Y3(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const nf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X3=e=>!om(e)&&e!==nf;function Gv(){const{caseless:e}=X3(this)&&this||{},t={},n=(i,r)=>{const a=e&&Y3(t,r)||r;fg(t[a])&&fg(i)?t[a]=Gv(t[a],i):fg(i)?t[a]=Gv({},i):Rh(i)?t[a]=i.slice():t[a]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Am(arguments[i],n);return t}const jT=(e,t,n,{allOwnKeys:i}={})=>(Am(t,(r,a)=>{n&&Gs(r)?e[a]=V3(r,n):e[a]=r},{allOwnKeys:i}),e),AT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ET=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},TT=(e,t,n,i)=>{let r,a,o;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],(!i||i(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&Wb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},CT=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},kT=e=>{if(!e)return null;if(Rh(e))return e;let t=e.length;if(!$3(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},LT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wb(Uint8Array)),RT=(e,t)=>{const i=(e&&e[r1]).call(e);let r;for(;(r=i.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},OT=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},DT=Zl("HTMLFormElement"),MT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),cw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),FT=Zl("RegExp"),K3=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Am(n,(r,a)=>{let o;(o=t(r,a,e))!==!1&&(i[a]=o||r)}),Object.defineProperties(e,i)},PT=e=>{K3(e,(t,n)=>{if(Gs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Gs(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IT=(e,t)=>{const n={},i=r=>{r.forEach(a=>{n[a]=!0})};return Rh(e)?i(e):i(String(e).split(t)),n},BT=()=>{},zT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function HT(e){return!!(e&&Gs(e.append)&&e[q3]==="FormData"&&e[r1])}const UT=e=>{const t=new Array(10),n=(i,r)=>{if(o1(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const a=Rh(i)?[]:{};return Am(i,(o,c)=>{const u=n(o,r+1);!om(u)&&(a[c]=u)}),t[r]=void 0,a}}return i};return n(e,0)},WT=Zl("AsyncFunction"),VT=e=>e&&(o1(e)||Gs(e))&&Gs(e.then)&&Gs(e.catch),Z3=((e,t)=>e?setImmediate:t?((n,i)=>(nf.addEventListener("message",({source:r,data:a})=>{r===nf&&a===n&&i.length&&i.shift()()},!1),r=>{i.push(r),nf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Gs(nf.postMessage)),qT=typeof queueMicrotask<"u"?queueMicrotask.bind(nf):typeof process<"u"&&process.nextTick||Z3,GT=e=>e!=null&&Gs(e[r1]),rt={isArray:Rh,isArrayBuffer:G3,isBuffer:cT,isFormData:vT,isArrayBufferView:uT,isString:dT,isNumber:$3,isBoolean:fT,isObject:o1,isPlainObject:fg,isReadableStream:yT,isRequest:wT,isResponse:_T,isHeaders:NT,isUndefined:om,isDate:hT,isFile:mT,isBlob:pT,isRegExp:FT,isFunction:Gs,isStream:xT,isURLSearchParams:bT,isTypedArray:LT,isFileList:gT,forEach:Am,merge:Gv,extend:jT,trim:ST,stripBOM:AT,inherits:ET,toFlatObject:TT,kindOf:a1,kindOfTest:Zl,endsWith:CT,toArray:kT,forEachEntry:RT,matchAll:OT,isHTMLForm:DT,hasOwnProperty:cw,hasOwnProp:cw,reduceDescriptors:K3,freezeMethods:PT,toObjectSet:IT,toCamelCase:MT,noop:BT,toFiniteNumber:zT,findKey:Y3,global:nf,isContextDefined:X3,isSpecCompliantForm:HT,toJSONObject:UT,isAsyncFn:WT,isThenable:VT,setImmediate:Z3,asap:qT,isIterable:GT};function Sn(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}rt.inherits(Sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const J3=Sn.prototype,Q3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Q3[e]={value:e}});Object.defineProperties(Sn,Q3);Object.defineProperty(J3,"isAxiosError",{value:!0});Sn.from=(e,t,n,i,r,a)=>{const o=Object.create(J3);return rt.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Sn.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const $T=null;function $v(e){return rt.isPlainObject(e)||rt.isArray(e)}function eS(e){return rt.endsWith(e,"[]")?e.slice(0,-2):e}function uw(e,t,n){return e?e.concat(t).map(function(r,a){return r=eS(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function YT(e){return rt.isArray(e)&&!e.some($v)}const XT=rt.toFlatObject(rt,{},null,function(t){return/^is[A-Z]/.test(t)});function l1(e,t,n){if(!rt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=rt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,_){return!rt.isUndefined(_[g])});const i=n.metaTokens,r=n.visitor||h,a=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(t);if(!rt.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(rt.isDate(w))return w.toISOString();if(!u&&rt.isBlob(w))throw new Sn("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(w)||rt.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,g,_){let j=w;if(w&&!_&&typeof w=="object"){if(rt.endsWith(g,"{}"))g=i?g:g.slice(0,-2),w=JSON.stringify(w);else if(rt.isArray(w)&&YT(w)||(rt.isFileList(w)||rt.endsWith(g,"[]"))&&(j=rt.toArray(w)))return g=eS(g),j.forEach(function(k,F){!(rt.isUndefined(k)||k===null)&&t.append(o===!0?uw([g],F,a):o===null?g:g+"[]",f(k))}),!1}return $v(w)?!0:(t.append(uw(_,g,a),f(w)),!1)}const p=[],x=Object.assign(XT,{defaultVisitor:h,convertValue:f,isVisitable:$v});function b(w,g){if(!rt.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(w),rt.forEach(w,function(j,E){(!(rt.isUndefined(j)||j===null)&&r.call(t,j,rt.isString(E)?E.trim():E,g,x))===!0&&b(j,g?g.concat(E):[E])}),p.pop()}}if(!rt.isObject(e))throw new TypeError("data must be an object");return b(e),t}function dw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Vb(e,t){this._pairs=[],e&&l1(e,this,t)}const tS=Vb.prototype;tS.append=function(t,n){this._pairs.push([t,n])};tS.toString=function(t){const n=t?function(i){return t.call(this,i,dw)}:dw;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function KT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nS(e,t,n){if(!t)return e;const i=n&&n.encode||KT;rt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=rt.isURLSearchParams(t)?t.toString():new Vb(t,n).toString(i),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class fw{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){rt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const iS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZT=typeof URLSearchParams<"u"?URLSearchParams:Vb,JT=typeof FormData<"u"?FormData:null,QT=typeof Blob<"u"?Blob:null,eC={isBrowser:!0,classes:{URLSearchParams:ZT,FormData:JT,Blob:QT},protocols:["http","https","file","blob","url","data"]},qb=typeof window<"u"&&typeof document<"u",Yv=typeof navigator=="object"&&navigator||void 0,tC=qb&&(!Yv||["ReactNative","NativeScript","NS"].indexOf(Yv.product)<0),nC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iC=qb&&window.location.href||"http://localhost",rC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qb,hasStandardBrowserEnv:tC,hasStandardBrowserWebWorkerEnv:nC,navigator:Yv,origin:iC},Symbol.toStringTag,{value:"Module"})),ts={...rC,...eC};function aC(e,t){return l1(e,new ts.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,a){return ts.isNode&&rt.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function sC(e){return rt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oC(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}function rS(e){function t(n,i,r,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=a>=n.length;return o=!o&&rt.isArray(r)?r.length:o,u?(rt.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!c):((!r[o]||!rt.isObject(r[o]))&&(r[o]=[]),t(n,i,r[o],a)&&rt.isArray(r[o])&&(r[o]=oC(r[o])),!c)}if(rt.isFormData(e)&&rt.isFunction(e.entries)){const n={};return rt.forEachEntry(e,(i,r)=>{t(sC(i),r,n,0)}),n}return null}function lC(e,t,n){if(rt.isString(e))try{return(t||JSON.parse)(e),rt.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const Em={transitional:iS,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,a=rt.isObject(t);if(a&&rt.isHTMLForm(t)&&(t=new FormData(t)),rt.isFormData(t))return r?JSON.stringify(rS(t)):t;if(rt.isArrayBuffer(t)||rt.isBuffer(t)||rt.isStream(t)||rt.isFile(t)||rt.isBlob(t)||rt.isReadableStream(t))return t;if(rt.isArrayBufferView(t))return t.buffer;if(rt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return aC(t,this.formSerializer).toString();if((c=rt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return l1(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),lC(t)):t}],transformResponse:[function(t){const n=this.transitional||Em.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(rt.isResponse(t)||rt.isReadableStream(t))return t;if(t&&rt.isString(t)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Sn.from(c,Sn.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],e=>{Em.headers[e]={}});const cC=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uC=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||t[n]&&cC[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},hw=Symbol("internals");function S0(e){return e&&String(e).trim().toLowerCase()}function hg(e){return e===!1||e==null?e:rt.isArray(e)?e.map(hg):String(e)}function dC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const fC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wx(e,t,n,i,r){if(rt.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!rt.isString(t)){if(rt.isString(i))return t.indexOf(i)!==-1;if(rt.isRegExp(i))return i.test(t)}}function hC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function mC(e,t){const n=rt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,a,o){return this[i].call(this,t,r,a,o)},configurable:!0})})}let $s=class{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function a(c,u,f){const h=S0(u);if(!h)throw new Error("header name must be a non-empty string");const p=rt.findKey(r,h);(!p||r[p]===void 0||f===!0||f===void 0&&r[p]!==!1)&&(r[p||u]=hg(c))}const o=(c,u)=>rt.forEach(c,(f,h)=>a(f,h,u));if(rt.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(rt.isString(t)&&(t=t.trim())&&!fC(t))o(uC(t),n);else if(rt.isObject(t)&&rt.isIterable(t)){let c={},u,f;for(const h of t){if(!rt.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[f=h[0]]=(u=c[f])?rt.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(c,n)}else t!=null&&a(n,t,i);return this}get(t,n){if(t=S0(t),t){const i=rt.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return dC(r);if(rt.isFunction(n))return n.call(this,r,i);if(rt.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=S0(t),t){const i=rt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Wx(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function a(o){if(o=S0(o),o){const c=rt.findKey(i,o);c&&(!n||Wx(i,i[c],c,n))&&(delete i[c],r=!0)}}return rt.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const a=n[i];(!t||Wx(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,i={};return rt.forEach(this,(r,a)=>{const o=rt.findKey(i,a);if(o){n[o]=hg(r),delete n[a];return}const c=t?hC(a):String(a).trim();c!==a&&delete n[a],n[c]=hg(r),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return rt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&rt.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[hw]=this[hw]={accessors:{}}).accessors,r=this.prototype;function a(o){const c=S0(o);i[c]||(mC(r,o),i[c]=!0)}return rt.isArray(t)?t.forEach(a):a(t),this}};$s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors($s.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});rt.freezeMethods($s);function Vx(e,t){const n=this||Em,i=t||n,r=$s.from(i.headers);let a=i.data;return rt.forEach(e,function(c){a=c.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function aS(e){return!!(e&&e.__CANCEL__)}function Oh(e,t,n){Sn.call(this,e??"canceled",Sn.ERR_CANCELED,t,n),this.name="CanceledError"}rt.inherits(Oh,Sn,{__CANCEL__:!0});function sS(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Sn("Request failed with status code "+n.status,[Sn.ERR_BAD_REQUEST,Sn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gC(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,a=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=i[a];o||(o=f),n[r]=u,i[r]=f;let p=a,x=0;for(;p!==r;)x+=n[p++],p=p%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),f-o<t)return;const b=h&&f-h;return b?Math.round(x*1e3/b):void 0}}function xC(e,t){let n=0,i=1e3/t,r,a;const o=(f,h=Date.now())=>{n=h,r=null,a&&(clearTimeout(a),a=null),e.apply(null,f)};return[(...f)=>{const h=Date.now(),p=h-n;p>=i?o(f,h):(r=f,a||(a=setTimeout(()=>{a=null,o(r)},i-p)))},()=>r&&o(r)]}const _g=(e,t,n=3)=>{let i=0;const r=gC(50,250);return xC(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,u=o-i,f=r(u),h=o<=c;i=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&h?(c-o)/f:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},n)},mw=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},pw=e=>(...t)=>rt.asap(()=>e(...t)),vC=ts.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ts.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ts.origin),ts.navigator&&/(msie|trident)/i.test(ts.navigator.userAgent)):()=>!0,bC=ts.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const o=[e+"="+encodeURIComponent(t)];rt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),rt.isString(i)&&o.push("path="+i),rt.isString(r)&&o.push("domain="+r),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function oS(e,t,n){let i=!yC(t);return e&&(i||n==!1)?wC(e,t):t}const gw=e=>e instanceof $s?{...e}:e;function pf(e,t){t=t||{};const n={};function i(f,h,p,x){return rt.isPlainObject(f)&&rt.isPlainObject(h)?rt.merge.call({caseless:x},f,h):rt.isPlainObject(h)?rt.merge({},h):rt.isArray(h)?h.slice():h}function r(f,h,p,x){if(rt.isUndefined(h)){if(!rt.isUndefined(f))return i(void 0,f,p,x)}else return i(f,h,p,x)}function a(f,h){if(!rt.isUndefined(h))return i(void 0,h)}function o(f,h){if(rt.isUndefined(h)){if(!rt.isUndefined(f))return i(void 0,f)}else return i(void 0,h)}function c(f,h,p){if(p in t)return i(f,h);if(p in e)return i(void 0,f)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(f,h,p)=>r(gw(f),gw(h),p,!0)};return rt.forEach(Object.keys(Object.assign({},e,t)),function(h){const p=u[h]||r,x=p(e[h],t[h],h);rt.isUndefined(x)&&p!==c||(n[h]=x)}),n}const lS=e=>{const t=pf({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:c}=t;t.headers=o=$s.from(o),t.url=nS(oS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(rt.isFormData(n)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...h]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(ts.hasStandardBrowserEnv&&(i&&rt.isFunction(i)&&(i=i(t)),i||i!==!1&&vC(t.url))){const f=r&&a&&bC.read(a);f&&o.set(r,f)}return t},_C=typeof XMLHttpRequest<"u",NC=_C&&function(e){return new Promise(function(n,i){const r=lS(e);let a=r.data;const o=$s.from(r.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:f}=r,h,p,x,b,w;function g(){b&&b(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function j(){if(!_)return;const k=$s.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),V={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:k,config:e,request:_};sS(function(P){n(P),g()},function(P){i(P),g()},V),_=null}"onloadend"in _?_.onloadend=j:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(j)},_.onabort=function(){_&&(i(new Sn("Request aborted",Sn.ECONNABORTED,e,_)),_=null)},_.onerror=function(){i(new Sn("Network Error",Sn.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const V=r.transitional||iS;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),i(new Sn(F,V.clarifyTimeoutError?Sn.ETIMEDOUT:Sn.ECONNABORTED,e,_)),_=null},a===void 0&&o.setContentType(null),"setRequestHeader"in _&&rt.forEach(o.toJSON(),function(F,V){_.setRequestHeader(V,F)}),rt.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),c&&c!=="json"&&(_.responseType=r.responseType),f&&([x,w]=_g(f,!0),_.addEventListener("progress",x)),u&&_.upload&&([p,b]=_g(u),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(h=k=>{_&&(i(!k||k.type?new Oh(null,e,_):k),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const E=pC(r.url);if(E&&ts.protocols.indexOf(E)===-1){i(new Sn("Unsupported protocol "+E+":",Sn.ERR_BAD_REQUEST,e));return}_.send(a||null)})},SC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const a=function(f){if(!r){r=!0,c();const h=f instanceof Error?f:this.reason;i.abort(h instanceof Sn?h:new Oh(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,a(new Sn(`timeout ${t} of ms exceeded`,Sn.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:u}=i;return u.unsubscribe=()=>rt.asap(c),u}},jC=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},AC=async function*(e,t){for await(const n of EC(e))yield*jC(n,t)},EC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},xw=(e,t,n,i)=>{const r=AC(e,t);let a=0,o,c=u=>{o||(o=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await r.next();if(f){c(),u.close();return}let p=h.byteLength;if(n){let x=a+=p;n(x)}u.enqueue(new Uint8Array(h))}catch(f){throw c(f),f}},cancel(u){return c(u),r.return()}},{highWaterMark:2})},c1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cS=c1&&typeof ReadableStream=="function",TC=c1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},CC=cS&&uS(()=>{let e=!1;const t=new Request(ts.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vw=64*1024,Xv=cS&&uS(()=>rt.isReadableStream(new Response("").body)),Ng={stream:Xv&&(e=>e.body)};c1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ng[t]&&(Ng[t]=rt.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new Sn(`Response type '${t}' is not supported`,Sn.ERR_NOT_SUPPORT,i)})})})(new Response);const kC=async e=>{if(e==null)return 0;if(rt.isBlob(e))return e.size;if(rt.isSpecCompliantForm(e))return(await new Request(ts.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(e)||rt.isArrayBuffer(e))return e.byteLength;if(rt.isURLSearchParams(e)&&(e=e+""),rt.isString(e))return(await TC(e)).byteLength},LC=async(e,t)=>{const n=rt.toFiniteNumber(e.getContentLength());return n??kC(t)},RC=c1&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:f,headers:h,withCredentials:p="same-origin",fetchOptions:x}=lS(e);f=f?(f+"").toLowerCase():"text";let b=SC([r,a&&a.toAbortSignal()],o),w;const g=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let _;try{if(u&&CC&&n!=="get"&&n!=="head"&&(_=await LC(h,i))!==0){let V=new Request(t,{method:"POST",body:i,duplex:"half"}),ne;if(rt.isFormData(i)&&(ne=V.headers.get("content-type"))&&h.setContentType(ne),V.body){const[P,I]=mw(_,_g(pw(u)));i=xw(V.body,vw,P,I)}}rt.isString(p)||(p=p?"include":"omit");const j="credentials"in Request.prototype;w=new Request(t,{...x,signal:b,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:j?p:void 0});let E=await fetch(w);const k=Xv&&(f==="stream"||f==="response");if(Xv&&(c||k&&g)){const V={};["status","statusText","headers"].forEach(Y=>{V[Y]=E[Y]});const ne=rt.toFiniteNumber(E.headers.get("content-length")),[P,I]=c&&mw(ne,_g(pw(c),!0))||[];E=new Response(xw(E.body,vw,P,()=>{I&&I(),g&&g()}),V)}f=f||"text";let F=await Ng[rt.findKey(Ng,f)||"text"](E,e);return!k&&g&&g(),await new Promise((V,ne)=>{sS(V,ne,{data:F,headers:$s.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:w})})}catch(j){throw g&&g(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Sn("Network Error",Sn.ERR_NETWORK,e,w),{cause:j.cause||j}):Sn.from(j,j&&j.code,e,w)}}),Kv={http:$T,xhr:NC,fetch:RC};rt.forEach(Kv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bw=e=>`- ${e}`,OC=e=>rt.isFunction(e)||e===null||e===!1,dS={getAdapter:e=>{e=rt.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let a=0;a<t;a++){n=e[a];let o;if(i=n,!OC(n)&&(i=Kv[(o=String(n)).toLowerCase()],i===void 0))throw new Sn(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+a]=i}if(!i){const a=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(bw).join(`
`):" "+bw(a[0]):"as no adapter specified";throw new Sn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Kv};function qx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oh(null,e)}function yw(e){return qx(e),e.headers=$s.from(e.headers),e.data=Vx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dS.getAdapter(e.adapter||Em.adapter)(e).then(function(i){return qx(e),i.data=Vx.call(e,e.transformResponse,i),i.headers=$s.from(i.headers),i},function(i){return aS(i)||(qx(e),i&&i.response&&(i.response.data=Vx.call(e,e.transformResponse,i.response),i.response.headers=$s.from(i.response.headers))),Promise.reject(i)})}const fS="1.9.0",u1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{u1[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const ww={};u1.transitional=function(t,n,i){function r(a,o){return"[Axios v"+fS+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return(a,o,c)=>{if(t===!1)throw new Sn(r(o," has been removed"+(n?" in "+n:"")),Sn.ERR_DEPRECATED);return n&&!ww[o]&&(ww[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,c):!0}};u1.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function DC(e,t,n){if(typeof e!="object")throw new Sn("options must be an object",Sn.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],o=t[a];if(o){const c=e[a],u=c===void 0||o(c,a,e);if(u!==!0)throw new Sn("option "+a+" must be "+u,Sn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Sn("Unknown option "+a,Sn.ERR_BAD_OPTION)}}const mg={assertOptions:DC,validators:u1},_c=mg.validators;let sf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new fw,response:new fw}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=pf(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:a}=n;i!==void 0&&mg.assertOptions(i,{silentJSONParsing:_c.transitional(_c.boolean),forcedJSONParsing:_c.transitional(_c.boolean),clarifyTimeoutError:_c.transitional(_c.boolean)},!1),r!=null&&(rt.isFunction(r)?n.paramsSerializer={serialize:r}:mg.assertOptions(r,{encode:_c.function,serialize:_c.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),mg.assertOptions(n,{baseUrl:_c.spelling("baseURL"),withXsrfToken:_c.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&rt.merge(a.common,a[n.method]);a&&rt.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=$s.concat(o,a);const c=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const f=[];this.interceptors.response.forEach(function(g){f.push(g.fulfilled,g.rejected)});let h,p=0,x;if(!u){const w=[yw.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,f),x=w.length,h=Promise.resolve(n);p<x;)h=h.then(w[p++],w[p++]);return h}x=c.length;let b=n;for(p=0;p<x;){const w=c[p++],g=c[p++];try{b=w(b)}catch(_){g.call(this,_);break}}try{h=yw.call(this,b)}catch(w){return Promise.reject(w)}for(p=0,x=f.length;p<x;)h=h.then(f[p++],f[p++]);return h}getUri(t){t=pf(this.defaults,t);const n=oS(t.baseURL,t.url,t.allowAbsoluteUrls);return nS(n,t.params,t.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(t){sf.prototype[t]=function(n,i){return this.request(pf(i||{},{method:t,url:n,data:(i||{}).data}))}});rt.forEach(["post","put","patch"],function(t){function n(i){return function(a,o,c){return this.request(pf(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}sf.prototype[t]=n(),sf.prototype[t+"Form"]=n(!0)});let MC=class hS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const o=new Promise(c=>{i.subscribe(c),a=c}).then(r);return o.cancel=function(){i.unsubscribe(a)},o},t(function(a,o,c){i.reason||(i.reason=new Oh(a,o,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hS(function(r){t=r}),cancel:t}}};function FC(e){return function(n){return e.apply(null,n)}}function PC(e){return rt.isObject(e)&&e.isAxiosError===!0}const Zv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zv).forEach(([e,t])=>{Zv[t]=e});function mS(e){const t=new sf(e),n=V3(sf.prototype.request,t);return rt.extend(n,sf.prototype,t,{allOwnKeys:!0}),rt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return mS(pf(e,r))},n}const Er=mS(Em);Er.Axios=sf;Er.CanceledError=Oh;Er.CancelToken=MC;Er.isCancel=aS;Er.VERSION=fS;Er.toFormData=l1;Er.AxiosError=Sn;Er.Cancel=Er.CanceledError;Er.all=function(t){return Promise.all(t)};Er.spread=FC;Er.isAxiosError=PC;Er.mergeConfig=pf;Er.AxiosHeaders=$s;Er.formToJSON=e=>rS(rt.isHTMLForm(e)?new FormData(e):e);Er.getAdapter=dS.getAdapter;Er.HttpStatusCode=Zv;Er.default=Er;const{Axios:J$,AxiosError:Q$,CanceledError:eY,isCancel:tY,CancelToken:nY,VERSION:iY,all:rY,Cancel:aY,isAxiosError:sY,spread:oY,toFormData:lY,AxiosHeaders:cY,HttpStatusCode:uY,formToJSON:dY,getAdapter:fY,mergeConfig:hY}=Er,it=Er.create({baseURL:"/",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest","ngrok-skip-browser-warning":"true"}});it.interceptors.request.use(e=>{const t=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return t&&(e.headers["X-XSRF-TOKEN"]=decodeURIComponent(t[1])),e});it.interceptors.response.use(e=>e,e=>{var u,f,h,p;const t=(u=e.response)==null?void 0:u.status,n=((f=e.config)==null?void 0:f.url)||"";let i=n;try{i=new URL(n,window.location.origin).pathname}catch{}if((h=e.config)!=null&&h.skip401Handler||t===401&&new Set(["/api/user","/user"]).has(i))return Promise.reject(e);const a=["/app/admin","/app/staff","/app/patient"],o=window.location.pathname,c=a.some(x=>o.startsWith(x));if(t===401&&c){(p=it.setToken)==null||p.call(it,null),window.location.href="/app/login";return}return Promise.reject(e)});it.logout=()=>it.post("/logout");const pS=D.createContext();function IC({children:e}){const[t,n]=D.useState(null),[i,r]=D.useState(!0);D.useEffect(()=>{let o=!0;return it.get("/api/user",{skip401Handler:!0}).then(c=>o&&n(c.data)).catch(()=>o&&n(null)).finally(()=>o&&r(!1)),()=>{o=!1}},[]);const a=async()=>{try{await it.post("/api/logout")}catch(o){console.error("Logout error:",o)}finally{n(null)}};return s.jsx(pS.Provider,{value:{user:t,setUser:n,authLoading:i,logout:a},children:e})}function Oo(){return D.useContext(pS)}const gS=D.createContext(null);function BC({children:e}){const[t,n]=D.useState([]),[i,r]=D.useState(0),[a,o]=D.useState(!1),[c,u]=D.useState(""),f=D.useRef(!1),h=_=>(_||[]).map(j=>({...j,data:typeof j.data=="string"?p(j.data):j.data||null}));function p(_){try{return JSON.parse(_)}catch{return null}}const x=D.useCallback(async()=>{var _;try{const j=await it.get("/api/notifications/unread-count");r(((_=j==null?void 0:j.data)==null?void 0:_.unread)??0)}catch{}},[]),b=D.useCallback(async()=>{var _,j;if(!f.current){f.current=!0,o(!0),u("");try{const E=await it.get("/api/notifications");n(h(E.data))}catch(E){u(((j=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:j.message)||"Failed to load notifications."),n([])}finally{o(!1),f.current=!1}}},[]),w=D.useCallback(async()=>{try{await it.post("/api/notifications/mark-all-read"),r(0)}catch{}},[]);D.useEffect(()=>{x();const _=setInterval(()=>{x()},12e4);return()=>clearInterval(_)},[x]);const g=D.useMemo(()=>({items:t,unread:i,loading:a,error:c,loadList:b,loadUnread:x,markAllRead:w}),[t,i,a,c,b,x,w]);return s.jsx(gS.Provider,{value:g,children:e})}function xS(){const e=D.useContext(gS);if(!e)throw new Error("useNotifications must be used inside <NotificationsProvider>");return e}const zC="modulepreload",HC=function(e){return"/app/"+e},_w={},jd=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(n.map(f=>{if(f=HC(f),f in _w)return;_w[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":zC,h||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),h)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var j0={},Nw;function UC(){if(Nw)return j0;Nw=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.parse=o,j0.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function o(x,b){const w=new a,g=x.length;if(g<2)return w;const _=(b==null?void 0:b.decode)||h;let j=0;do{const E=x.indexOf("=",j);if(E===-1)break;const k=x.indexOf(";",j),F=k===-1?g:k;if(E>F){j=x.lastIndexOf(";",E-1)+1;continue}const V=c(x,j,E),ne=u(x,E,V),P=x.slice(V,ne);if(w[P]===void 0){let I=c(x,E+1,F),Y=u(x,F,I);const Z=_(x.slice(I,Y));w[P]=Z}j=F+1}while(j<g);return w}function c(x,b,w){do{const g=x.charCodeAt(b);if(g!==32&&g!==9)return b}while(++b<w);return w}function u(x,b,w){for(;b>w;){const g=x.charCodeAt(--b);if(g!==32&&g!==9)return b+1}return w}function f(x,b,w){const g=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const _=g(b);if(!t.test(_))throw new TypeError(`argument val is invalid: ${b}`);let j=x+"="+_;if(!w)return j;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);j+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);j+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);j+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);j+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(j+="; HttpOnly"),w.secure&&(j+="; Secure"),w.partitioned&&(j+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return j}function h(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function p(x){return r.call(x)==="[object Date]"}return j0}UC();var Sw="popstate";function WC(e={}){function t(i,r){let{pathname:a,search:o,hash:c}=i.location;return Jv("",{pathname:a,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:lm(r)}return qC(t,n,null,e)}function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VC(){return Math.random().toString(36).substring(2,10)}function jw(e,t){return{usr:e.state,key:e.key,idx:t}}function Jv(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dh(t):t,state:n,key:t&&t.key||i||VC()}}function lm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function qC(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,c="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){c="POP";let _=h(),j=_==null?null:_-f;f=_,u&&u({action:c,location:g.location,delta:j})}function x(_,j){c="PUSH";let E=Jv(g.location,_,j);f=h()+1;let k=jw(E,f),F=g.createHref(E);try{o.pushState(k,"",F)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;r.location.assign(F)}a&&u&&u({action:c,location:g.location,delta:1})}function b(_,j){c="REPLACE";let E=Jv(g.location,_,j);f=h();let k=jw(E,f),F=g.createHref(E);o.replaceState(k,"",F),a&&u&&u({action:c,location:g.location,delta:0})}function w(_){return GC(_)}let g={get action(){return c},get location(){return e(r,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Sw,p),u=_,()=>{r.removeEventListener(Sw,p),u=null}},createHref(_){return t(r,_)},createURL:w,encodeLocation(_){let j=w(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:b,go(_){return o.go(_)}};return g}function GC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),er(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:lm(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function vS(e,t,n="/"){return $C(e,t,n,!1)}function $C(e,t,n,i){let r=typeof t=="string"?Dh(t):t,a=Cu(r.pathname||"/",n);if(a==null)return null;let o=bS(e);YC(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=a8(a);c=i8(o[u],f,i)}return c}function bS(e,t=[],n=[],i=""){let r=(a,o,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(er(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let f=Su([i,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(er(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bS(a.children,t,h,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:t8(f,a.index),routesMeta:h})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,o);else for(let u of yS(a.path))r(a,o,u)}),t}function yS(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=yS(i.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),r&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function YC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:n8(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var XC=/^:[\w-]+$/,KC=3,ZC=2,JC=1,QC=10,e8=-2,Aw=e=>e==="*";function t8(e,t){let n=e.split("/"),i=n.length;return n.some(Aw)&&(i+=e8),t&&(i+=ZC),n.filter(r=>!Aw(r)).reduce((r,a)=>r+(XC.test(a)?KC:a===""?JC:QC),i)}function n8(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function i8(e,t,n=!1){let{routesMeta:i}=e,r={},a="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],f=c===i.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Sg({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),x=u.route;if(!p&&f&&n&&!i[i.length-1].route.index&&(p=Sg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Su([a,p.pathname]),pathnameBase:c8(Su([a,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(a=Su([a,p.pathnameBase]))}return o}function Sg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=r8(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,{paramName:h,isOptional:p},x)=>{if(h==="*"){let w=c[x]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[x];return p&&!b?f[h]=void 0:f[h]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function r8(e,t=!1,n=!0){hl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function a8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function s8(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Dh(e):e;return{pathname:n?n.startsWith("/")?n:o8(n,t):t,search:u8(i),hash:d8(r)}}function o8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Gx(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gb(e){let t=l8(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function $b(e,t,n,i=!1){let r;typeof e=="string"?r=Dh(e):(r={...e},er(!r.pathname||!r.pathname.includes("?"),Gx("?","pathname","search",r)),er(!r.pathname||!r.pathname.includes("#"),Gx("#","pathname","hash",r)),er(!r.search||!r.search.includes("#"),Gx("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!i&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;r.pathname=x.join("/")}c=p>=0?t[p]:"/"}let u=s8(r,c),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var Su=e=>e.join("/").replace(/\/\/+/g,"/"),c8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wS=["POST","PUT","PATCH","DELETE"];new Set(wS);var h8=["GET",...wS];new Set(h8);var Mh=D.createContext(null);Mh.displayName="DataRouter";var d1=D.createContext(null);d1.displayName="DataRouterState";var _S=D.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var m8=D.createContext(new Map);m8.displayName="Fetchers";var p8=D.createContext(null);p8.displayName="Await";var Jl=D.createContext(null);Jl.displayName="Navigation";var Tm=D.createContext(null);Tm.displayName="Location";var ml=D.createContext({outlet:null,matches:[],isDataRoute:!1});ml.displayName="Route";var Yb=D.createContext(null);Yb.displayName="RouteError";function g8(e,{relative:t}={}){er(Fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Jl),{hash:r,pathname:a,search:o}=Cm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Su([n,a])),i.createHref({pathname:c,search:o,hash:r})}function Fh(){return D.useContext(Tm)!=null}function Pa(){return er(Fh(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Tm).location}var NS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SS(e){D.useContext(Jl).static||D.useLayoutEffect(e)}function Tr(){let{isDataRoute:e}=D.useContext(ml);return e?L8():x8()}function x8(){er(Fh(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(Mh),{basename:t,navigator:n}=D.useContext(Jl),{matches:i}=D.useContext(ml),{pathname:r}=Pa(),a=JSON.stringify(Gb(i)),o=D.useRef(!1);return SS(()=>{o.current=!0}),D.useCallback((u,f={})=>{if(hl(o.current,NS),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=$b(u,JSON.parse(a),r,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Su([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,r,e])}var v8=D.createContext(null);function b8(e){let t=D.useContext(ml).outlet;return t&&D.createElement(v8.Provider,{value:e},t)}function jS(){let{matches:e}=D.useContext(ml),t=e[e.length-1];return t?t.params:{}}function Cm(e,{relative:t}={}){let{matches:n}=D.useContext(ml),{pathname:i}=Pa(),r=JSON.stringify(Gb(n));return D.useMemo(()=>$b(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function y8(e,t){return AS(e,t)}function AS(e,t,n,i){var j;er(Fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=D.useContext(Jl),{matches:a}=D.useContext(ml),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let E=h&&h.path||"";ES(u,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Pa(),x;if(t){let E=typeof t=="string"?Dh(t):t;er(f==="/"||((j=E.pathname)==null?void 0:j.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=p;let b=x.pathname||"/",w=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=vS(e,{pathname:w});hl(h||g!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),hl(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=j8(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Su([f,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Su([f,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,i);return t&&_?D.createElement(Tm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function w8(){let e=k8(),t=f8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:r},n):null,o)}var _8=D.createElement(w8,null),N8=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(ml.Provider,{value:this.props.routeContext},D.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S8({routeContext:e,match:t,children:n}){let i=D.useContext(Mh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(ml.Provider,{value:e},n)}function j8(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,a=n==null?void 0:n.errors;if(a!=null){let u=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);er(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<r.length;u++){let f=r[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,x=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,f,h)=>{let p,x=!1,b=null,w=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||_8,o&&(c<0&&h===0?(ES("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===h&&(x=!0,w=f.route.hydrateFallbackElement||null)));let g=t.concat(r.slice(0,h+1)),_=()=>{let j;return p?j=b:x?j=w:f.route.Component?j=D.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,D.createElement(S8,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(N8,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}function Xb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A8(e){let t=D.useContext(Mh);return er(t,Xb(e)),t}function E8(e){let t=D.useContext(d1);return er(t,Xb(e)),t}function T8(e){let t=D.useContext(ml);return er(t,Xb(e)),t}function Kb(e){let t=T8(e),n=t.matches[t.matches.length-1];return er(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function C8(){return Kb("useRouteId")}function k8(){var i;let e=D.useContext(Yb),t=E8("useRouteError"),n=Kb("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function L8(){let{router:e}=A8("useNavigate"),t=Kb("useNavigate"),n=D.useRef(!1);return SS(()=>{n.current=!0}),D.useCallback(async(r,a={})=>{hl(n.current,NS),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var Ew={};function ES(e,t,n){!t&&!Ew[e]&&(Ew[e]=!0,hl(!1,n))}D.memo(R8);function R8({routes:e,future:t,state:n}){return AS(e,void 0,n,t)}function TS({to:e,replace:t,state:n,relative:i}){er(Fh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=D.useContext(Jl);hl(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=D.useContext(ml),{pathname:o}=Pa(),c=Tr(),u=$b(e,Gb(a),o,i==="path"),f=JSON.stringify(u);return D.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function Th(e){return b8(e.context)}function mn(e){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O8({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){er(!Fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:o,navigator:r,static:a,future:{}}),[o,r,a]);typeof n=="string"&&(n=Dh(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:x="default"}=n,b=D.useMemo(()=>{let w=Cu(u,o);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:x},navigationType:i}},[o,u,f,h,p,x,i]);return hl(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:D.createElement(Jl.Provider,{value:c},D.createElement(Tm.Provider,{children:t,value:b}))}function D8({children:e,location:t}){return y8(Qv(e),t)}function Qv(e,t=[]){let n=[];return D.Children.forEach(e,(i,r)=>{if(!D.isValidElement(i))return;let a=[...t,r];if(i.type===D.Fragment){n.push.apply(n,Qv(i.props.children,a));return}er(i.type===mn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Qv(i.props.children,a)),n.push(o)}),n}var pg="get",gg="application/x-www-form-urlencoded";function f1(e){return e!=null&&typeof e.tagName=="string"}function M8(e){return f1(e)&&e.tagName.toLowerCase()==="button"}function F8(e){return f1(e)&&e.tagName.toLowerCase()==="form"}function P8(e){return f1(e)&&e.tagName.toLowerCase()==="input"}function I8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B8(e,t){return e.button===0&&(!t||t==="_self")&&!I8(e)}function eb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function z8(e,t){let n=eb(e);return t&&t.forEach((i,r)=>{n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)})}),n}var kp=null;function H8(){if(kp===null)try{new FormData(document.createElement("form"),0),kp=!1}catch{kp=!0}return kp}var U8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $x(e){return e!=null&&!U8.has(e)?(hl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gg}"`),null):e}function W8(e,t){let n,i,r,a,o;if(F8(e)){let c=e.getAttribute("action");i=c?Cu(c,t):null,n=e.getAttribute("method")||pg,r=$x(e.getAttribute("enctype"))||gg,a=new FormData(e)}else if(M8(e)||P8(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(i=u?Cu(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||pg,r=$x(e.getAttribute("formenctype"))||$x(c.getAttribute("enctype"))||gg,a=new FormData(c,e),!H8()){let{name:f,type:h,value:p}=e;if(h==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,p)}}else{if(f1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pg,i=null,r=gg,o=e}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:o}}function Zb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function V8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G8(e,t,n){let i=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let o=await V8(a,n);return o.links?o.links():[]}return[]}));return K8(i.flat(1).filter(q8).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Tw(e,t,n,i,r,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>{var h;return n[f].pathname!==u.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?t.filter((u,f)=>{var p;let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function $8(e,t,{includeHydrateFallback:n}={}){return Y8(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function Y8(e){return[...new Set(e)]}function X8(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function K8(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let a=JSON.stringify(X8(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z8=new Set([100,101,204,205]);function J8(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Cu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function CS(){let e=D.useContext(Mh);return Zb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q8(){let e=D.useContext(d1);return Zb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jb=D.createContext(void 0);Jb.displayName="FrameworkContext";function kS(){let e=D.useContext(Jb);return Zb(e,"You must render this element inside a <HydratedRouter> element"),e}function ek(e,t){let n=D.useContext(Jb),[i,r]=D.useState(!1),[a,o]=D.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,x=D.useRef(null);D.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=j=>{j.forEach(E=>{o(E.isIntersecting)})},_=new IntersectionObserver(g,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[e]),D.useEffect(()=>{if(i){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[i]);let b=()=>{r(!0)},w=()=>{r(!1),o(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:A0(c,b),onBlur:A0(u,w),onMouseEnter:A0(f,b),onMouseLeave:A0(h,w),onTouchStart:A0(p,b)}]:[!1,x,{}]}function A0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tk({page:e,...t}){let{router:n}=CS(),i=D.useMemo(()=>vS(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?D.createElement(ik,{page:e,matches:i,...t}):null}function nk(e){let{manifest:t,routeModules:n}=kS(),[i,r]=D.useState([]);return D.useEffect(()=>{let a=!1;return G8(e,t,n).then(o=>{a||r(o)}),()=>{a=!0}},[e,t,n]),i}function ik({page:e,matches:t,...n}){let i=Pa(),{manifest:r,routeModules:a}=kS(),{basename:o}=CS(),{loaderData:c,matches:u}=Q8(),f=D.useMemo(()=>Tw(e,t,u,r,i,"data"),[e,t,u,r,i]),h=D.useMemo(()=>Tw(e,t,u,r,i,"assets"),[e,t,u,r,i]),p=D.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let w=new Set,g=!1;if(t.forEach(j=>{var k;let E=r.routes[j.route.id];!E||!E.hasLoader||(!f.some(F=>F.route.id===j.route.id)&&j.route.id in c&&((k=a[j.route.id])!=null&&k.shouldRevalidate)||E.hasClientLoader?g=!0:w.add(j.route.id))}),w.size===0)return[];let _=J8(e,o);return g&&w.size>0&&_.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[o,c,i,r,f,t,e,a]),x=D.useMemo(()=>$8(h,r),[h,r]),b=nk(h);return D.createElement(D.Fragment,null,p.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:g})=>D.createElement("link",{key:w,...g})))}function rk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LS&&(window.__reactRouterVersion="7.6.1")}catch{}function ak({basename:e,children:t,window:n}){let i=D.useRef();i.current==null&&(i.current=WC({window:n,v5Compat:!0}));let r=i.current,[a,o]=D.useState({action:r.action,location:r.location}),c=D.useCallback(u=>{D.startTransition(()=>o(u))},[o]);return D.useLayoutEffect(()=>r.listen(c),[r,c]),D.createElement(O8,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=D.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:h,viewTransition:p,...x},b){let{basename:w}=D.useContext(Jl),g=typeof f=="string"&&RS.test(f),_,j=!1;if(typeof f=="string"&&g&&(_=f,LS))try{let Y=new URL(window.location.href),Z=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),z=Cu(Z.pathname,w);Z.origin===Y.origin&&z!=null?f=z+Z.search+Z.hash:j=!0}catch{hl(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=g8(f,{relative:r}),[k,F,V]=ek(i,x),ne=lk(f,{replace:o,state:c,target:u,preventScrollReset:h,relative:r,viewTransition:p});function P(Y){t&&t(Y),Y.defaultPrevented||ne(Y)}let I=D.createElement("a",{...x,...V,href:_||E,onClick:j||a?t:P,ref:rk(b,F),target:u,"data-discover":!g&&n==="render"?"true":void 0});return k&&!g?D.createElement(D.Fragment,null,I,D.createElement(tk,{page:E})):I});oi.displayName="Link";var hr=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:c,children:u,...f},h){let p=Cm(o,{relative:f.relative}),x=Pa(),b=D.useContext(d1),{navigator:w,basename:g}=D.useContext(Jl),_=b!=null&&hk(p)&&c===!0,j=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,E=x.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&g&&(k=Cu(k,g)||k);const F=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let V=E===j||!r&&E.startsWith(j)&&E.charAt(F)==="/",ne=k!=null&&(k===j||!r&&k.startsWith(j)&&k.charAt(j.length)==="/"),P={isActive:V,isPending:ne,isTransitioning:_},I=V?t:void 0,Y;typeof i=="function"?Y=i(P):Y=[i,V?"active":null,ne?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(P):a;return D.createElement(oi,{...f,"aria-current":I,className:Y,ref:h,style:Z,to:o,viewTransition:c},typeof u=="function"?u(P):u)});hr.displayName="NavLink";var sk=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:a,method:o=pg,action:c,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...x},b)=>{let w=dk(),g=fk(c,{relative:f}),_=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&RS.test(c),E=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let F=k.nativeEvent.submitter,V=(F==null?void 0:F.getAttribute("formmethod"))||o;w(F||k.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:r,state:a,relative:f,preventScrollReset:h,viewTransition:p})};return D.createElement("form",{ref:b,method:_,action:g,onSubmit:i?u:E,...x,"data-discover":!j&&e==="render"?"true":void 0})});sk.displayName="Form";function ok(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(e){let t=D.useContext(Mh);return er(t,ok(e)),t}function lk(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:o}={}){let c=Tr(),u=Pa(),f=Cm(e,{relative:a});return D.useCallback(h=>{if(B8(h,t)){h.preventDefault();let p=n!==void 0?n:lm(u)===lm(f);c(e,{replace:p,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[u,c,f,n,i,t,e,r,a,o])}function Qb(e){hl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=D.useRef(eb(e)),n=D.useRef(!1),i=Pa(),r=D.useMemo(()=>z8(i.search,n.current?null:t.current),[i.search]),a=Tr(),o=D.useCallback((c,u)=>{const f=eb(typeof c=="function"?c(r):c);n.current=!0,a("?"+f,u)},[a,r]);return[r,o]}var ck=0,uk=()=>`__${String(++ck)}__`;function dk(){let{router:e}=OS("useSubmit"),{basename:t}=D.useContext(Jl),n=C8();return D.useCallback(async(i,r={})=>{let{action:a,method:o,encType:c,formData:u,body:f}=W8(i,t);if(r.navigate===!1){let h=r.fetcherKey||uk();await e.fetch(h,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function fk(e,{relative:t}={}){let{basename:n}=D.useContext(Jl),i=D.useContext(ml);er(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Cm(e||".",{relative:t})},o=Pa();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let h=c.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Su([n,a.pathname])),lm(a)}function hk(e,t={}){let n=D.useContext(_S);er(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OS("useViewTransitionState"),r=Cm(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Cu(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Cu(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Sg(r.pathname,o)!=null||Sg(r.pathname,a)!=null}[...Z8];var e2=W3();const gh=i1(e2);function os({message:e="Loading..."}){return s.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-dark bg-opacity-50",style:{zIndex:1050},children:s.jsxs("div",{className:"bg-white p-4 rounded shadow text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status"}),s.jsx("div",{children:e})]})})}function mk(){const{user:e,authLoading:t}=Oo(),n=Tr(),i=Pa();return D.useEffect(()=>{if(t)return;const r=["/app","/login","/register","/forgot-password"];e&&r.includes(i.pathname)&&(e.role==="admin"?n("/admin"):e.role==="staff"?n("/staff"):e.role==="patient"?n("/patient"):e.role==="dentist"&&n("/dentist")),!e&&!r.includes(i.pathname)&&n("/")},[e,t,i.pathname,n]),t?s.jsx(os,{message:"Checking session..."}):null}const pk=`
  .promo-card {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 15px;
    overflow: hidden;
  }
  
  .discount-circle {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #dc3545, #c82333);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
  }
  
  .discount-text {
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
    text-shadow: 0 1px 3px rgba(0,0,0,0.3);
  }
  
  .promo-highlight {
    position: relative;
  }
  
  .carousel-control-prev,
  .carousel-control-next {
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    top: 50%;
    transform: translateY(-50%);
    border: none;
  }
  
  .carousel-control-prev {
    left: -25px;
  }
  
  .carousel-control-next {
    right: -25px;
  }
  
  .carousel-indicators {
    bottom: -50px;
  }
  
  .carousel-indicators button {
    background-color: #6c757d;
    border-radius: 50%;
    width: 12px;
    height: 12px;
    margin: 0 5px;
  }
  
  .carousel-indicators button.active {
    background-color: #198754;
  }
  
  .promo-card .card-body {
    position: relative;
  }
  
  .promo-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #dc3545, #ffc107, #198754);
  }
`;function Cw(){const[e,t]=D.useState([]),[n,i]=D.useState([]),[r,a]=D.useState(!0),[o,c]=D.useState(""),u=Tr(),{user:f}=Oo();D.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const F=(await it.get("/api/public/services")).data,V={};F.forEach(ne=>{ne.discounts&&ne.discounts.length>0?V[ne.id]=ne.discounts:V[ne.id]=[]}),t(F),i(V)}catch(k){console.error("Failed to fetch services and promos:",k),c("Failed to load services and promotions")}finally{a(!1)}},p=k=>{if(!f){u("/login",{state:{message:"Please log in to book an appointment",redirectTo:"/patient/appointment",preselectedService:k}});return}u("/patient/appointment",{state:{preselectedService:k}})},x=k=>{const F=n[k.id]||[],V=new Date().toISOString().split("T")[0],ne=F.find(P=>P.status==="launched"&&P.start_date<=V&&P.end_date>=V);return ne?{price:ne.discounted_price,originalPrice:k.price,isPromo:!0,promoEndDate:ne.end_date}:{price:k.price,originalPrice:null,isPromo:!1,promoEndDate:null}},b=k=>{const F=new Date().toISOString().split("T")[0];return k.is_special&&k.special_start_date&&k.special_end_date?k.special_start_date<=F&&k.special_end_date>=F:!(n[k.id]||[]).find(P=>P.status==="planned"&&P.start_date>F)},w=k=>`${Number(k).toFixed(2)}`,g=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=()=>{const k=new Date().toISOString().split("T")[0],F=[];return e.forEach(V=>{const P=(n[V.id]||[]).find(I=>I.status==="launched"&&I.start_date<=k&&I.end_date>=k);P&&F.push({...P,service:V})}),F.sort((V,ne)=>new Date(V.start_date)-new Date(ne.start_date))},j=(k,F)=>{if(!k||!F)return 0;const V=(k-F)/k*100;return Math.round(V)},E=()=>s.jsx("div",{className:"col-lg-4 col-md-6",children:s.jsx("div",{className:"card h-100 shadow-sm border-0 service-card",children:s.jsxs("div",{className:"card-body d-flex flex-column",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[s.jsx("div",{className:"placeholder-glow",children:s.jsx("span",{className:"placeholder col-8 placeholder-lg"})}),s.jsx("div",{className:"placeholder-glow",children:s.jsx("span",{className:"placeholder col-3 placeholder-sm"})})]}),s.jsx("div",{className:"placeholder-glow mt-2",children:s.jsx("span",{className:"placeholder col-4 placeholder-sm"})})]}),s.jsxs("div",{className:"placeholder-glow mb-3",children:[s.jsx("span",{className:"placeholder col-12"}),s.jsx("span",{className:"placeholder col-8"})]}),s.jsxs("div",{className:"placeholder-glow mb-3",children:[s.jsx("span",{className:"placeholder col-6 placeholder-lg"}),s.jsx("div",{className:"placeholder-glow mt-1",children:s.jsx("span",{className:"placeholder col-4 placeholder-sm"})})]}),s.jsx("div",{className:"mt-auto",children:s.jsx("div",{className:"placeholder-glow",children:s.jsx("span",{className:"placeholder col-12 placeholder-lg"})})})]})})});return r?s.jsx("section",{className:"services-promos-section py-5 bg-light",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"text-center mb-5",children:[s.jsx("h2",{className:"display-5 fw-bold text-primary mb-3",children:"Our Services & Promotions"}),s.jsx("p",{className:"lead text-muted",children:"Professional dental care with special offers and packages"})]}),s.jsx("div",{className:"row g-4",children:Array.from({length:6},(k,F)=>s.jsx(E,{},`skeleton-${F}`))})]})}):o?s.jsxs("div",{className:"alert alert-warning text-center",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),o]}):s.jsxs(s.Fragment,{children:[s.jsx("style",{children:pk}),s.jsx("section",{className:"services-promos-section py-5 bg-light",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"text-center mb-5",children:[s.jsx("h2",{className:"display-5 fw-bold text-primary mb-3",children:"Our Services & Promotions"}),s.jsx("p",{className:"lead text-muted",children:"Professional dental care with special offers and packages"})]}),_().length>0?s.jsxs("div",{className:"mb-5",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("h3",{className:"h4 fw-bold text-success mb-2",children:[s.jsx("i",{className:"bi bi-percent me-2"}),"Current Promotions"]}),s.jsx("p",{className:"text-muted",children:"Limited time offers - Book now!"})]}),s.jsxs("div",{id:"promotionsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[s.jsx("div",{className:"carousel-inner",children:_().map((k,F)=>{const V=j(k.service.price,k.discounted_price);return s.jsx("div",{className:`carousel-item ${F===0?"active":""}`,children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-lg-10",children:s.jsx("div",{className:"card border-0 shadow-lg promo-card",children:s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsxs("div",{className:"col-lg-8",children:[s.jsxs("div",{className:"d-flex align-items-center mb-3",children:[s.jsxs("span",{className:"badge bg-danger fs-6 me-3",children:[s.jsx("i",{className:"bi bi-percent me-1"}),V,"% OFF"]}),s.jsxs("span",{className:"badge bg-warning text-dark",children:[s.jsx("i",{className:"bi bi-clock me-1"}),"Limited Time"]})]}),s.jsx("h4",{className:"card-title text-primary fw-bold mb-3",children:k.service.name}),s.jsx("p",{className:"card-text text-muted mb-3",children:k.service.description||"Professional dental service with special pricing"}),s.jsxs("div",{className:"d-flex align-items-center gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"h3 text-success fw-bold mb-0",children:w(k.discounted_price)}),s.jsx("span",{className:"text-decoration-line-through text-muted ms-2",children:w(k.service.price)})]}),s.jsx("div",{className:"text-muted",children:s.jsxs("small",{children:[s.jsx("i",{className:"bi bi-calendar-check me-1"}),"Valid until: ",g(k.end_date)]})})]})]}),s.jsx("div",{className:"col-lg-4 text-center",children:s.jsxs("div",{className:"promo-highlight",children:[s.jsx("div",{className:"discount-circle mx-auto mb-3",children:s.jsxs("span",{className:"discount-text",children:[V,"%"]})}),s.jsxs("button",{className:"btn btn-success btn-lg w-100",onClick:()=>p(k.service),children:[s.jsx("i",{className:"bi bi-calendar-plus me-2"}),"Book This Offer"]})]})})]})})})})})})},k.id)})}),_().length>1&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#promotionsCarousel","data-bs-slide":"prev",children:[s.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Previous"})]}),s.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#promotionsCarousel","data-bs-slide":"next",children:[s.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Next"})]}),s.jsx("div",{className:"carousel-indicators",children:_().map((k,F)=>s.jsx("button",{type:"button","data-bs-target":"#promotionsCarousel","data-bs-slide-to":F,className:F===0?"active":"","aria-current":F===0?"true":"false","aria-label":`Slide ${F+1}`},F))})]})]})]}):s.jsx("div",{className:"mb-5",children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"card border-0 bg-light",children:s.jsxs("div",{className:"card-body py-4",children:[s.jsx("i",{className:"bi bi-calendar-x text-muted",style:{fontSize:"3rem"}}),s.jsx("h5",{className:"text-muted mt-3 mb-2",children:"No Active Promotions"}),s.jsx("p",{className:"text-muted mb-0",children:"Check back soon for special offers and discounts on our services!"})]})})})}),s.jsx("div",{className:"row g-4",children:e.map(k=>{const F=x(k),V=b(k);return s.jsx("div",{className:"col-lg-4 col-md-6",children:s.jsx("div",{className:"card h-100 shadow-sm border-0 service-card",children:s.jsxs("div",{className:"card-body d-flex flex-column",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[s.jsx("h5",{className:"card-title fw-bold text-primary mb-2",children:k.name}),k.is_special?s.jsxs("span",{className:"badge bg-warning text-dark",children:[s.jsx("i",{className:"bi bi-star-fill me-1"}),"Special"]}):s.jsx("span",{})]}),k.category&&s.jsx("span",{className:"badge bg-secondary mb-2",children:k.category})]}),s.jsx("p",{className:"card-text text-muted flex-grow-1",children:k.description||"Professional dental service"}),s.jsx("div",{className:"mb-3",children:F.isPromo?s.jsxs("div",{children:[s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("span",{className:"h4 text-success fw-bold mb-0",children:w(F.price)}),s.jsx("span",{className:"text-decoration-line-through text-muted",children:w(F.originalPrice)}),s.jsxs("span",{className:"badge bg-danger",children:[s.jsx("i",{className:"bi bi-percent me-1"}),"Sale"]})]}),s.jsxs("small",{className:"text-muted",children:["Promo ends: ",g(F.promoEndDate)]})]}):s.jsx("div",{className:"h4 text-primary fw-bold mb-0",children:w(F.price)})}),s.jsx("div",{className:"mt-auto",children:V?s.jsxs("button",{className:"btn btn-primary w-100",onClick:()=>p(k),children:[s.jsx("i",{className:"bi bi-calendar-plus me-2"}),"Book Now"]}):s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{className:"btn btn-outline-secondary w-100",disabled:!0,children:[s.jsx("i",{className:"bi bi-clock me-2"}),"Coming Soon"]}),k.is_special&&k.special_start_date&&k.special_end_date?s.jsxs("small",{className:"text-muted d-block mt-2",children:["Available: ",g(k.special_start_date)," - ",g(k.special_end_date)]}):s.jsx("span",{})]})})]})})},k.id)})}),s.jsx("div",{className:"text-center mt-5",children:s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-md-8",children:s.jsx("div",{className:"card bg-primary text-white",children:s.jsxs("div",{className:"card-body py-4",children:[s.jsxs("h4",{className:"card-title mb-3",children:[s.jsx("i",{className:"bi bi-heart-pulse me-2"}),"Ready to Book Your Appointment?"]}),s.jsx("p",{className:"card-text mb-4",children:"Choose from our professional services and take advantage of our current promotions. Book online for a convenient and seamless experience."}),s.jsxs("button",{className:"btn btn-light btn-lg",onClick:()=>p(null),children:[s.jsx("i",{className:"bi bi-calendar-check me-2"}),"Book Appointment Now"]})]})})})})})]})})]})}const Ph="/app/assets/logo-CRfANuD7.png";function gk(){const{user:e,authLoading:t}=Oo();return t?s.jsx(os,{message:"Checking session..."}):e&&e.role==="patient"?s.jsxs("div",{className:"container mt-5",children:[s.jsxs("div",{className:"text-center mb-5",children:[s.jsxs("h2",{children:["Welcome, ",e.name||"Patient"," "]}),s.jsx("p",{className:"lead",children:"Select an action below or browse our services:"}),s.jsxs("div",{className:"mb-4",children:[s.jsx(oi,{to:"/patient/appointment",className:"btn btn-primary m-2",children:"Book Appointment"}),s.jsx(oi,{to:"/patient/appointments",className:"btn btn-outline-secondary m-2",children:"View Appointments"}),s.jsx(oi,{to:"/patient/profile",className:"btn btn-outline-info m-2",children:"Profile"})]})]}),s.jsx(Cw,{})]}):s.jsxs("div",{className:"landing-page",children:[s.jsx("header",{className:"site-header shadow-sm",children:s.jsxs("div",{className:"container d-flex justify-content-between align-items-center py-3",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("img",{src:Ph,alt:"Kreative Dental Logo",className:"site-logo me-2"}),s.jsx("span",{className:"logo-text",children:"Kreative Dental Clinic"})]}),s.jsx("nav",{children:s.jsxs("ul",{className:"nav-list d-flex gap-3 mb-0",children:[s.jsx("li",{children:s.jsx("a",{href:"#home",className:"nav-link",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"#about",className:"nav-link",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"#contact",className:"nav-link",children:"Contact"})})]})})]})}),s.jsx("section",{id:"home",className:"hero-section d-flex align-items-center text-white",children:s.jsxs("div",{className:"container text-center",children:[s.jsxs("h1",{className:"hero-title",children:["Your Smile, Our Passion ",s.jsx("br",{})," Kreative Dental & Orthodontics"]}),s.jsx("p",{className:"hero-subtitle",children:"Trusted dental care for families and individuals."}),s.jsxs("div",{className:"hero-buttons mt-4",children:[s.jsx(oi,{to:"/login",className:"btn btn-light btn-lg mx-2 shadow",children:"Login"}),s.jsx(oi,{to:"/register",className:"btn btn-outline-light btn-lg mx-2",children:"Register"})]})]})}),s.jsx(Cw,{}),s.jsx("section",{className:"features-section py-5",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"row text-center",children:[s.jsx("div",{className:"col-md-4 mb-4",children:s.jsxs("div",{className:"feature-box p-4 h-100 shadow-sm rounded",children:[s.jsx("i",{className:"bi bi-shield-check fs-1 text-primary"}),s.jsx("h5",{className:"mt-3",children:"Safe & Secure"}),s.jsx("p",{children:"We ensure a sterile and hygienic environment in all treatments."})]})}),s.jsx("div",{className:"col-md-4 mb-4",children:s.jsxs("div",{className:"feature-box p-4 h-100 shadow-sm rounded",children:[s.jsx("i",{className:"bi bi-calendar2-check fs-1 text-success"}),s.jsx("h5",{className:"mt-3",children:"Easy Appointment"}),s.jsx("p",{children:"Book your slot online and avoid waiting queues."})]})}),s.jsx("div",{className:"col-md-4 mb-4",children:s.jsxs("div",{className:"feature-box p-4 h-100 shadow-sm rounded",children:[s.jsx("i",{className:"bi bi-person-heart fs-1 text-danger"}),s.jsx("h5",{className:"mt-3",children:"Caring Dentists"}),s.jsx("p",{children:"Experienced, friendly professionals to guide your oral care."})]})})]})})}),s.jsx("section",{id:"about",className:"about-section py-5 bg-primary",children:s.jsxs("div",{className:"container text-center",children:[s.jsx("h2",{className:"mb-4",children:"About Us"}),s.jsx("p",{className:"lead",children:"Kreative Dental Clinic is committed to providing high-quality dental care in a friendly, safe, and comfortable environment. Our team of professionals ensures that every patient receives the best oral health solutions tailored to their needs."})]})}),s.jsx("section",{id:"contact",className:"contact-section py-5 bg-light",children:s.jsxs("div",{className:"container text-center",children:[s.jsx("h2",{className:"mb-4 fw-bold",children:"Contact Us"}),s.jsx("p",{className:"lead text-muted mb-5",children:"Wed love to hear from you! Reach out through any of the options below."}),s.jsxs("div",{className:"row justify-content-center mb-4",children:[s.jsx("div",{className:"col-md-4 mb-3",children:s.jsxs("div",{className:"p-4 bg-white shadow-sm rounded h-100",children:[s.jsx("i",{className:"bi bi-geo-alt-fill fs-2 text-danger"}),s.jsx("h5",{className:"mt-2",children:"Location"}),s.jsx("p",{className:"mb-0",children:"Cabuyao | Calamba"})]})}),s.jsx("div",{className:"col-md-4 mb-3",children:s.jsxs("div",{className:"p-4 bg-white shadow-sm rounded h-100",children:[s.jsx("i",{className:"bi bi-telephone-fill fs-2 text-success"}),s.jsx("h5",{className:"mt-2",children:"Call Us"}),s.jsx("p",{className:"mb-0",children:"0927 759 2845"})]})}),s.jsx("div",{className:"col-md-4 mb-3",children:s.jsxs("div",{className:"p-4 bg-white shadow-sm rounded h-100",children:[s.jsx("i",{className:"bi bi-envelope-fill fs-2 text-primary"}),s.jsx("h5",{className:"mt-2",children:"Email"}),s.jsx("p",{className:"mb-0",children:"kreativedent@gmail.com"})]})})]}),s.jsxs("div",{className:"d-flex justify-content-center gap-3 flex-wrap mt-4",children:[s.jsxs("a",{href:"mailto:kreativedent@gmail.com",className:"btn btn-primary",children:[s.jsx("i",{className:"bi bi-envelope-fill me-2"})," Email"]}),s.jsxs("a",{href:"https://www.facebook.com/kreativedent",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-primary",children:[s.jsx("i",{className:"bi bi-facebook me-2"})," Facebook"]}),s.jsxs("a",{href:"https://www.instagram.com/kreativedental/",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-danger",children:[s.jsx("i",{className:"bi bi-instagram me-2"})," Instagram"]}),s.jsxs("a",{href:"https://www.tiktok.com/@kreativedental",target:"_blank",rel:"noopener noreferrer",className:"btn btn-dark",children:[s.jsx("i",{className:"bi bi-tiktok me-2"})," TikTok"]}),s.jsxs("a",{href:"https://www.google.com/maps/dir/14.2721246,121.1544842/14.2540966,121.1284223/@14.2667727,121.1189606,14z/data=!3m1!4b1!4m4!4m3!1m1!4e1!1m0?entry=ttu&g_ep=EgoyMDI1MDkyNC4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",className:"btn btn-success",children:[s.jsx("i",{className:"bi bi-geo-alt-fill me-2"})," Get Directions"]})]})]})}),s.jsx("footer",{className:"text-center py-3 bg-primary text-white",children:s.jsxs("p",{className:"mb-0",children:[" ",new Date().getFullYear()," Kreative Dental Clinic. All Rights Reserved."]})})]})}function xk({onCreated:e}){const[t,n]=D.useState({name:"",sku_code:"",type:"supply",unit:"pcs",low_stock_threshold:0,default_pack_size:"",is_controlled:!1,notes:""}),[i,r]=D.useState(!1),a=(c,u)=>n(f=>({...f,[c]:u})),o=async c=>{var u,f;c.preventDefault(),r(!0);try{await it.post("/api/inventory/items",t),n({name:"",sku_code:"",type:"supply",unit:"pcs",low_stock_threshold:0,default_pack_size:"",is_controlled:!1,notes:""}),e==null||e()}catch(h){alert(((f=(u=h==null?void 0:h.response)==null?void 0:u.data)==null?void 0:f.message)||"Failed to save item")}finally{r(!1)}};return s.jsxs("form",{onSubmit:o,children:[s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Item Name *"}),s.jsx("input",{className:"form-control",placeholder:"Item name",value:t.name,onChange:c=>a("name",c.target.value),required:!0})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"SKU Code *"}),s.jsx("input",{className:"form-control",placeholder:"SKU code",value:t.sku_code,onChange:c=>a("sku_code",c.target.value),required:!0})]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Type"}),s.jsxs("select",{className:"form-select",value:t.type,onChange:c=>a("type",c.target.value),children:[s.jsx("option",{value:"drug",children:"Drug"}),s.jsx("option",{value:"equipment",children:"Equipment"}),s.jsx("option",{value:"supply",children:"Supply"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Unit"}),s.jsx("input",{className:"form-control",placeholder:"pcs/ml/g",value:t.unit,onChange:c=>a("unit",c.target.value)})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Low-stock Threshold"}),s.jsx("input",{className:"form-control",type:"number",min:"0",placeholder:"0",value:t.low_stock_threshold,onChange:c=>a("low_stock_threshold",c.target.value)})]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Default Pack Size (optional)"}),s.jsx("input",{className:"form-control",type:"number",min:"0",step:"0.001",placeholder:"e.g., 100",value:t.default_pack_size,onChange:c=>a("default_pack_size",c.target.value)})]}),s.jsx("div",{className:"col-md-6 d-flex align-items-end",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",checked:t.is_controlled,onChange:c=>a("is_controlled",c.target.checked)}),s.jsx("label",{className:"form-check-label",children:"Controlled item"})]})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Notes"}),s.jsx("textarea",{className:"form-control",rows:3,placeholder:"Additional notes...",value:t.notes,onChange:c=>a("notes",c.target.value)})]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Saving...":"Save Item"})})]})}function vk(e=new Date){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function bk(e=new Date){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function yk({items:e=[],onReceived:t,initialItemId:n}){const[i,r]=D.useState({item_id:"",qty_received:"",received_at:vk(),cost_per_unit:"",lot_number:"",batch_number:"",expiry_date:"",supplier_id:"",invoice_no:"",invoice_date:"",pack_size:"",notes:""}),[a,o]=D.useState(!1),[c,u]=D.useState([]),[f,h]=D.useState(!1),[p,x]=D.useState(!1),[b,w]=D.useState({name:"",contact_person:"",phone:"",email:"",address:"",notes:""});D.useEffect(()=>{n&&r(k=>({...k,item_id:String(n)}))},[n]),D.useEffect(()=>{(async()=>{try{const{data:k}=await it.get("/api/inventory/suppliers");u(k)}catch(k){console.error("Failed to load suppliers",k)}})()},[]);const g=e.find(k=>k.id===Number(i.item_id)),_=(k,F)=>r(V=>({...V,[k]:F})),j=async k=>{var F,V;k.preventDefault(),o(!0);try{await it.post("/api/inventory/receive",{...i,received_at:i.received_at?i.received_at.replace("T"," ")+":00":null}),r(ne=>({...ne,qty_received:"",cost_per_unit:"",lot_number:"",batch_number:"",expiry_date:"",invoice_no:"",invoice_date:"",pack_size:"",notes:""})),t==null||t(),alert("Stock received.")}catch(ne){alert(((V=(F=ne==null?void 0:ne.response)==null?void 0:F.data)==null?void 0:V.message)||"Receive failed")}finally{o(!1)}},E=!a&&i.item_id&&i.qty_received&&i.received_at&&i.batch_number&&((g==null?void 0:g.type)!=="drug"||i.lot_number&&i.expiry_date);return s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Item *"}),s.jsxs("select",{className:"form-select",value:i.item_id,onChange:k=>_("item_id",k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select item"}),e.map(k=>s.jsxs("option",{value:k.id,children:[k.name," (",k.sku_code,")"]},k.id))]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Quantity received *"}),s.jsx("input",{className:"form-control",type:"number",step:"0.001",min:"0.001",placeholder:"e.g., 10",value:i.qty_received,onChange:k=>_("qty_received",k.target.value),required:!0})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Date & time received *"}),s.jsx("input",{className:"form-control",type:"datetime-local",value:i.received_at,onChange:k=>_("received_at",k.target.value),required:!0}),s.jsx("div",{className:"form-text",children:"Must be within the allowed backdate window ( 24 hours; not in the future)."})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Cost per unit (optional)"}),s.jsx("input",{className:"form-control",type:"number",step:"0.01",min:"0",placeholder:"e.g., 12.50",value:i.cost_per_unit,onChange:k=>_("cost_per_unit",k.target.value)})]})]}),(g==null?void 0:g.type)==="drug"&&s.jsx("div",{className:"alert alert-info mb-3",children:s.jsxs("small",{children:["For ",s.jsx("strong",{children:"drugs"}),", ",s.jsx("strong",{children:"Lot number"})," and ",s.jsx("strong",{children:"Expiry date"})," are required."]})}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsxs("label",{className:"form-label",children:["Lot number",(g==null?void 0:g.type)==="drug"?" *":""]}),s.jsx("input",{className:"form-control",placeholder:"e.g., LOT-ABC-123",value:i.lot_number,onChange:k=>_("lot_number",k.target.value),required:(g==null?void 0:g.type)==="drug"})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Batch number *"}),s.jsx("input",{className:"form-control",placeholder:"e.g., BATCH-2025-09",value:i.batch_number,onChange:k=>_("batch_number",k.target.value),required:!0})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsxs("label",{className:"form-label",children:["Expiry date",(g==null?void 0:g.type)==="drug"?" *":""]}),s.jsx("input",{className:"form-control",type:"date",min:bk(),value:i.expiry_date,onChange:k=>_("expiry_date",k.target.value),required:(g==null?void 0:g.type)==="drug"}),s.jsxs("div",{className:"form-text",children:["If the item is a ",s.jsx("strong",{children:"drug"}),", expiry is required and must be a ",s.jsx("strong",{children:"future"})," date."]})]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Invoice no. (optional)"}),s.jsx("input",{className:"form-control",placeholder:"e.g., INV-000123",value:i.invoice_no,onChange:k=>_("invoice_no",k.target.value)})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Invoice date (optional)"}),s.jsx("input",{className:"form-control",type:"date",value:i.invoice_date,onChange:k=>_("invoice_date",k.target.value)})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label",children:"Pack size note (optional)"}),s.jsx("input",{className:"form-control",placeholder:"e.g., 1 box = 100 pcs",value:i.pack_size,onChange:k=>_("pack_size",k.target.value)})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Supplier (optional)"}),s.jsxs("div",{className:"input-group",children:[s.jsxs("select",{className:"form-select",value:i.supplier_id,onChange:k=>_("supplier_id",k.target.value),children:[s.jsx("option",{value:"",children:"No supplier"}),c.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]}),s.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(!0),title:"Add new supplier",children:"+ Add"})]}),s.jsx("div",{className:"form-text",children:"Linking a supplier improves audit trail and costing."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Notes (optional)"}),s.jsx("textarea",{className:"form-control",rows:3,placeholder:"Additional remarks",value:i.notes,onChange:k=>_("notes",k.target.value)})]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx("button",{type:"submit",disabled:!E,className:"btn btn-primary",children:a?"Receiving":"Receive Stock"})}),f&&s.jsx("div",{className:"modal fade show d-block",role:"dialog","aria-modal":"true",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2100,backgroundColor:"rgba(0, 0, 0, 0.5)"},onMouseDown:k=>{k.target===k.currentTarget&&h(!1)},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:"Add Supplier"}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>h(!1),"aria-label":"Close"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Name *"}),s.jsx("input",{className:"form-control",value:b.name,onChange:k=>w(F=>({...F,name:k.target.value})),required:!0})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Contact person"}),s.jsx("input",{className:"form-control",value:b.contact_person||"",onChange:k=>w(F=>({...F,contact_person:k.target.value}))})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Phone"}),s.jsx("input",{className:"form-control",value:b.phone||"",onChange:k=>w(F=>({...F,phone:k.target.value}))})]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",className:"form-control",value:b.email||"",onChange:k=>w(F=>({...F,email:k.target.value}))})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Address"}),s.jsx("input",{className:"form-control",value:b.address||"",onChange:k=>w(F=>({...F,address:k.target.value}))})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Notes"}),s.jsx("textarea",{className:"form-control",rows:3,value:b.notes||"",onChange:k=>w(F=>({...F,notes:k.target.value}))})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary",disabled:p||!b.name,onClick:async()=>{var k,F;try{x(!0);const{data:V}=await it.post("/api/inventory/suppliers",b);u(ne=>[...ne,V]),r(ne=>({...ne,supplier_id:String(V.id)})),h(!1),w({name:"",contact_person:"",phone:"",email:"",address:"",notes:""})}catch(V){alert(((F=(k=V==null?void 0:V.response)==null?void 0:k.data)==null?void 0:F.message)||"Failed to add supplier")}finally{x(!1)}},children:p?"Saving":"Save Supplier"})]})]})})})]})}function wk({items:e=[],user:t=null,onConsumed:n}){const i=(t==null?void 0:t.role)==="staff",[r,a]=D.useState({item_id:"",quantity:"",ref_type:i?"visit":"",ref_id:"",notes:""});D.useMemo(()=>e.find(u=>u.id===Number(r.item_id)),[e,r.item_id]);const o=(u,f)=>a(h=>({...h,[u]:f})),c=async u=>{var h,p,x;u.preventDefault();const f={item_id:Number(r.item_id),quantity:Number(r.quantity)};i?(f.ref_type="visit",r.ref_id&&(f.ref_id=Number(r.ref_id))):(r.ref_type&&(f.ref_type=r.ref_type),r.ref_id&&(f.ref_id=Number(r.ref_id))),(h=r.notes)!=null&&h.trim()&&(f.notes=r.notes.trim());try{await it.post("/api/inventory/consume",f),a(b=>({...b,quantity:"",ref_id:"",notes:""})),n==null||n(),alert("Stock consumed.")}catch(b){alert(((x=(p=b==null?void 0:b.response)==null?void 0:p.data)==null?void 0:x.message)||"Consume failed")}};return s.jsxs("form",{onSubmit:c,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Item *"}),s.jsxs("select",{className:"form-select",value:r.item_id,onChange:u=>o("item_id",u.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select item"}),e.map(u=>s.jsxs("option",{value:u.id,children:[u.name," (",u.sku_code,")"]},u.id))]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Quantity *"}),s.jsx("input",{className:"form-control",type:"number",step:"0.001",min:"0.001",placeholder:"e.g., 1",value:r.quantity,onChange:u=>o("quantity",u.target.value),required:!0})]}),s.jsx("div",{className:"col-md-6",children:i?s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Visit ID (required for staff) *"}),s.jsx("input",{className:"form-control",type:"number",min:"1",placeholder:"Finished Visit ID",value:r.ref_id,onChange:u=>o("ref_id",u.target.value),required:!0}),s.jsxs("div",{className:"form-text",children:["Backend requires a ",s.jsx("strong",{children:"finished"})," visit for staff consumption."]})]}):s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Reference type (optional)"}),s.jsxs("select",{className:"form-select",value:r.ref_type,onChange:u=>o("ref_type",u.target.value),children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"visit",children:"Visit"}),s.jsx("option",{value:"appointment",children:"Appointment"})]})]})})]}),!i&&r.ref_type&&s.jsx("div",{className:"row mb-3",children:s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:r.ref_type==="visit"?"Visit ID":"Appointment ID"}),s.jsx("input",{className:"form-control",type:"number",min:"1",placeholder:"e.g., 123",value:r.ref_id,onChange:u=>o("ref_id",u.target.value)})]})}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Notes (optional)"}),s.jsx("textarea",{className:"form-control",rows:3,placeholder:"Additional notes...",value:r.notes,onChange:u=>o("notes",u.target.value)})]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx("button",{type:"submit",className:"btn btn-warning",children:"Consume Stock"})})]})}const _k=["damaged","expired","count_correction","return_to_supplier","stock_take_variance","theft","other"],Nk=e=>{if(!e)return"";const t=String(e);return t.includes("T")?t.split("T")[0]:t};function Sk({items:e=[],onAdjusted:t,onNeedReceive:n}){const[i,r]=D.useState({item_id:"",batch_id:"",direction:"decrease",quantity:"",adjust_reason:"damaged",notes:"",custom_reason:""}),[a,o]=D.useState([]),[c,u]=D.useState(!1),f=(x,b)=>r(w=>({...w,[x]:b}));D.useEffect(()=>{const x=Number(i.item_id);if(r(b=>({...b,batch_id:""})),!x){o([]);return}(async()=>{u(!0);try{const{data:b}=await it.get(`/api/inventory/items/${x}/batches`),g=[...Array.isArray(b==null?void 0:b.batches)?b.batches:[]].sort((_,j)=>{const E=_.expiry_date?0:1,k=j.expiry_date?0:1;if(E!==k)return E-k;const F=_.expiry_date||"",V=j.expiry_date||"";if(F!==V)return F.localeCompare(V);const ne=_.received_at||"",P=j.received_at||"";return ne.localeCompare(P)});o(g),g.length&&r(_=>_.batch_id?_:{..._,batch_id:String(g[0].id)})}catch{o([])}finally{u(!1)}})()},[i.item_id]);const h=Number(i.item_id)>0&&Number(i.batch_id)>0&&Number(i.quantity)>0&&!!i.adjust_reason&&!c,p=async x=>{var _,j,E;if(x.preventDefault(),!a.find(k=>String(k.id)===String(i.batch_id))){alert("Please select a valid batch.");return}let w=((_=i.notes)==null?void 0:_.trim())||"";i.adjust_reason==="other"&&i.custom_reason.trim()&&(w=w?`${i.custom_reason.trim()}  ${w}`:i.custom_reason.trim());const g={item_id:Number(i.item_id),batch_id:Number(i.batch_id),direction:i.direction,quantity:Number(i.quantity),adjust_reason:i.adjust_reason,...w?{notes:w}:{}};try{await it.post("/api/inventory/adjust",g),r(k=>({...k,quantity:"",notes:"",custom_reason:""})),t==null||t(),alert("Inventory adjusted.")}catch(k){alert(((E=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:E.message)||"Adjust failed")}};return s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Item *"}),s.jsxs("select",{className:"form-select",value:i.item_id,onChange:x=>f("item_id",x.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select item"}),e.map(x=>s.jsxs("option",{value:String(x.id),children:[x.name," (",x.sku_code,")"]},x.id))]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:["Batch ",c&&s.jsx("span",{className:"text-muted small",children:"(loading)"})]}),s.jsxs("select",{className:"form-select",value:i.batch_id,onChange:x=>f("batch_id",x.target.value),required:!0,disabled:!i.item_id||c||a.length===0,children:[s.jsx("option",{value:"",disabled:!0,children:c?"Loading":"Select batch"}),a.map(x=>s.jsxs("option",{value:String(x.id),children:["#",x.id,x.lot_number?`  Lot ${x.lot_number}`:"",x.expiry_date?`  Exp ${Nk(x.expiry_date)}`:"",`  On hand ${x.qty_on_hand}`]},x.id))]}),i.item_id&&a.length===0&&!c&&s.jsxs("div",{className:"form-text",children:["No batches yet."," ",s.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:()=>n==null?void 0:n(Number(i.item_id)),children:"Create one via Receive"}),"."]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Direction *"}),s.jsxs("select",{className:"form-select",value:i.direction,onChange:x=>f("direction",x.target.value),required:!0,children:[s.jsx("option",{value:"decrease",children:"Decrease"}),s.jsx("option",{value:"increase",children:"Increase"})]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Quantity *"}),s.jsx("input",{className:"form-control",type:"number",step:"0.001",min:"0.001",placeholder:"e.g., 1",value:i.quantity,onChange:x=>f("quantity",x.target.value),required:!0})]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Reason *"}),s.jsx("select",{className:"form-select",value:i.adjust_reason,onChange:x=>f("adjust_reason",x.target.value),required:!0,children:_k.map(x=>s.jsx("option",{value:x,children:x.replace("_"," ").replace(/\b\w/g,b=>b.toUpperCase())},x))})]}),i.adjust_reason==="other"&&s.jsxs("div",{className:"col-md-6",children:[s.jsx("label",{className:"form-label",children:"Describe reason *"}),s.jsx("input",{className:"form-control",placeholder:"e.g., audit note",value:i.custom_reason,onChange:x=>f("custom_reason",x.target.value),required:!0})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Notes (optional)"}),s.jsx("textarea",{className:"form-control",rows:3,placeholder:"Additional notes...",value:i.notes,onChange:x=>f("notes",x.target.value)})]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx("button",{type:"submit",className:"btn btn-secondary",disabled:!h,children:"Adjust Stock"})})]})}function fh({open:e,onClose:t,title:n,children:i,maxWidth:r="md"}){const a=D.useRef(null),o=D.useRef(null);if(D.useEffect(()=>{if(!e)return;o.current=document.activeElement;const u=document.body.style.overflow;document.body.style.overflow="hidden";const f=p=>{var g;if(p.key==="Escape"&&(t==null||t()),p.key!=="Tab")return;const x=(g=a.current)==null?void 0:g.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])');if(!x||x.length===0)return;const b=x[0],w=x[x.length-1];p.shiftKey&&document.activeElement===b?(p.preventDefault(),w.focus()):!p.shiftKey&&document.activeElement===w&&(p.preventDefault(),b.focus())};document.addEventListener("keydown",f);const h=setTimeout(()=>{var p;return(p=a.current)==null?void 0:p.focus()},0);return()=>{clearTimeout(h),document.removeEventListener("keydown",f),document.body.style.overflow=u,o.current instanceof HTMLElement&&o.current.focus()}},[e,t]),!e)return null;const c={sm:"modal-sm",md:"",lg:"modal-lg",xl:"modal-xl"};return e2.createPortal(s.jsx("div",{className:"modal fade show d-block",role:"dialog","aria-modal":"true",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2e3,backgroundColor:"rgba(0, 0, 0, 0.5)",overflowY:"auto"},onMouseDown:u=>{u.target===u.currentTarget&&(t==null||t())},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:{maxHeight:"95vh",margin:"1.75rem auto"},children:s.jsxs("div",{ref:a,tabIndex:-1,className:`modal-content ${c[r]}`,style:{maxHeight:"95vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs("div",{className:"modal-header flex-shrink-0",children:[s.jsx("h5",{className:"modal-title",children:n}),s.jsx("button",{type:"button",className:"btn-close",onClick:t,"aria-label":"Close"})]}),s.jsx("div",{className:"modal-body flex-grow-1",style:{overflowY:"auto",minHeight:0,padding:"1rem"},children:i})]})})}),document.body)}function jk(){const[e,t]=D.useState(!0),[n,i]=D.useState(!1),[r,a]=D.useState({staff_can_receive:!1,near_expiry_days:30,low_stock_debounce_hours:24}),o=async()=>{t(!0);try{const{data:u}=await it.get("/api/inventory/settings");a(u)}finally{t(!1)}},c=async()=>{var u,f;i(!0);try{await it.patch("/api/inventory/settings",r),alert("Settings saved.")}catch(h){alert(((f=(u=h==null?void 0:h.response)==null?void 0:u.data)==null?void 0:f.message)||"Save failed")}finally{i(!1)}};return D.useEffect(()=>{o()},[]),e?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]})]})}):s.jsxs("div",{children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",checked:r.staff_can_receive,onChange:u=>a(f=>({...f,staff_can_receive:u.target.checked}))}),s.jsx("label",{className:"form-check-label",children:"Allow staff to receive stock"})]})}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("label",{className:"form-label",children:"Near-expiry days"}),s.jsx("input",{className:"form-control",type:"number",min:"1",max:"365",value:r.near_expiry_days,onChange:u=>a(f=>({...f,near_expiry_days:Number(u.target.value)}))})]}),s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("label",{className:"form-label",children:"Low-stock debounce (hours)"}),s.jsx("input",{className:"form-control",type:"number",min:"1",max:"168",value:r.low_stock_debounce_hours,onChange:u=>a(f=>({...f,low_stock_debounce_hours:Number(u.target.value)}))})]})]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx("button",{className:"btn btn-primary",onClick:c,disabled:n,children:n?"Saving":"Save Settings"})})]})}function kw(){const[e,t]=D.useState([]),[n,i]=D.useState(""),[r,a]=D.useState(!1),[o,c]=D.useState(null),[u,f]=D.useState(!1),[h,p]=D.useState(!1),[x,b]=D.useState(!1),[w,g]=D.useState(!1),[_,j]=D.useState(!1),[E,k]=D.useState(null),F=Y=>{k(Y),g(!1),p(!0)},V=async(Y="")=>{a(!0);try{const{data:Z}=await it.get("/api/inventory/items",{params:{q:Y}});t(Z.data||[])}finally{a(!1)}},ne=async()=>{try{const{data:Y}=await it.get("/api/user");c(Y)}catch(Y){console.error("Failed to load user",Y)}};D.useEffect(()=>{V(),ne()},[]);const P=D.useMemo(()=>e.length,[e]),I=u||h||x||w||_;return s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"h3 mb-1",children:"Inventory"}),s.jsx("p",{className:"text-muted small",children:"Manage your stock and supplies"})]}),s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsx("div",{className:"card border-0 bg-light",children:s.jsxs("div",{className:"card-body py-2 px-3",children:[s.jsx("div",{className:"h5 mb-0 text-primary",children:P}),s.jsx("div",{className:"small text-muted",children:"Total Items"})]})}),(o==null?void 0:o.role)==="admin"&&s.jsx("button",{className:`btn btn-outline-secondary btn-sm ${I?"disabled":""}`,onClick:()=>!I&&j(!0),disabled:I,title:"Inventory Settings",children:s.jsx("i",{className:"bi bi-gear"})})]})]}),s.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center mb-4",children:[s.jsxs("div",{className:"input-group flex-grow-1",style:{minWidth:"300px"},children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"bi bi-search"})}),s.jsx("input",{className:`form-control ${I?"opacity-50":""}`,placeholder:"Search items...",value:n,onChange:Y=>!I&&i(Y.target.value),disabled:I})]}),s.jsx("button",{className:`btn btn-outline-secondary ${I?"disabled":""}`,onClick:()=>!I&&V(n),disabled:I,children:"Search"}),s.jsxs("div",{className:"d-flex gap-2 ms-auto",children:[s.jsx("button",{className:`btn btn-success btn-sm ${I?"disabled":""}`,onClick:()=>!I&&f(!0),disabled:I,children:"+ Add Item"}),s.jsx("button",{className:`btn btn-primary btn-sm ${I?"disabled":""}`,onClick:()=>!I&&p(!0),disabled:I,children:" Receive Stock"}),s.jsx("button",{className:`btn btn-warning btn-sm ${I?"disabled":""}`,onClick:()=>!I&&b(!0),disabled:I,children:" Consume"}),(o==null?void 0:o.role)==="admin"&&s.jsx("button",{className:`btn btn-secondary btn-sm ${I?"disabled":""}`,onClick:()=>!I&&g(!0),disabled:I,children:" Adjust"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[s.jsxs("h5",{className:"card-title mb-0",children:["Items (",P,")"]}),r&&s.jsx("span",{className:"badge bg-secondary",children:"Loading"})]}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"SKU"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Unit"}),s.jsx("th",{children:"Threshold"}),s.jsx("th",{children:"On Hand"})]})}),s.jsxs("tbody",{children:[e.map(Y=>{const Z=Number(Y.total_on_hand||0),z=Y.low_stock_threshold??0,U=Z<=z;return s.jsxs("tr",{children:[s.jsx("td",{className:"fw-medium",children:Y.name}),s.jsx("td",{className:"font-monospace text-muted",children:Y.sku_code}),s.jsx("td",{children:s.jsx("span",{className:"badge bg-primary",children:Y.type})}),s.jsx("td",{className:"text-muted",children:Y.unit}),s.jsx("td",{className:"text-muted",children:z}),s.jsx("td",{children:s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("span",{className:`fw-medium ${U?"text-danger":"text-success"}`,children:Z}),U&&s.jsx("span",{className:"badge bg-danger",children:"Low"})]})})]},Y.id)}),e.length===0&&!r&&s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"text-center text-muted py-4",children:"No items yet."})})]})]})})})]}),s.jsx(fh,{open:u,onClose:()=>f(!1),title:"Add Item",children:s.jsx(xk,{onCreated:()=>{f(!1),V(n)}})}),s.jsx(fh,{open:h,onClose:()=>{p(!1),k(null)},title:"Receive Stock",children:s.jsx(yk,{items:e,initialItemId:E,onReceived:()=>{p(!1),k(null),V(n)}})}),s.jsx(fh,{open:x,onClose:()=>b(!1),title:"Consume Stock",children:s.jsx(wk,{items:e,user:o,onConsumed:()=>{b(!1),V(n)}})}),s.jsx(fh,{open:w,onClose:()=>g(!1),title:"Adjust Stock (Admin)",children:s.jsx(Sk,{items:e,onAdjusted:()=>{g(!1),V(n)},onNeedReceive:F})}),s.jsx(fh,{open:_,onClose:()=>j(!1),title:"Inventory Settings",children:s.jsx(jk,{})})]})}function Yx({allow:e,to:t="/404",children:n}){const[i,r]=D.useState({loading:!0,user:null,settings:null}),a=Pa();return D.useEffect(()=>{let c=!0;return(async()=>{try{const[u,f]=await Promise.all([it.get("/api/user"),it.get("/api/inventory/settings")]);c&&r({loading:!1,user:u.data,settings:f.data})}catch{c&&r({loading:!1,user:null,settings:null})}})(),()=>{c=!1}},[]),i.loading?s.jsx("div",{className:"p-4",children:"Loading"}):e({user:i.user,settings:i.settings})?n:s.jsx(TS,{to:t,state:{from:a},replace:!0})}const Ak=({user:e,settings:t})=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="staff"&&!!(t!=null&&t.staff_can_receive),Ek=({user:e,settings:t,visitFinished:n})=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="staff"&&!!(t!=null&&t.staff_can_receive)&&n===!0;function h1({children:e}){return s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh",width:"100%"},children:e})}var tb=function(){return tb=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tb.apply(this,arguments)};function Dc(e,t,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(p){o(p)}}function u(h){try{f(i.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(e,t||[])).next())})}function Mc(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(h){return u([f,h])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(i=1,r&&(a=f[0]&2?r.return:f[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,f[1])).done)return a;switch(r=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,r=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],r=0}finally{i=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function DS(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var MS="4.6.2";function jg(e,t){return new Promise(function(n){return setTimeout(n,e,t)})}function Tk(){return new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})}function Ck(e,t){t===void 0&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(i){return n.call(window,function(){return i()},{timeout:t})}):jg(Math.min(e,t))}function FS(e){return!!e&&typeof e.then=="function"}function Lw(e,t){try{var n=e();FS(n)?n.then(function(i){return t(!0,i)},function(i){return t(!1,i)}):t(!0,n)}catch(i){t(!1,i)}}function Rw(e,t,n){return n===void 0&&(n=16),Dc(this,void 0,void 0,function(){var i,r,a,o;return Mc(this,function(c){switch(c.label){case 0:i=Array(e.length),r=Date.now(),a=0,c.label=1;case 1:return a<e.length?(i[a]=t(e[a],a),o=Date.now(),o>=r+n?(r=o,[4,Tk()]):[3,3]):[3,4];case 2:c.sent(),c.label=3;case 3:return++a,[3,1];case 4:return[2,i]}})})}function cm(e){return e.then(void 0,function(){}),e}function kk(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}function Lk(e,t){return!kk(e,t)}function t2(e){return parseInt(e)}function ql(e){return parseFloat(e)}function xu(e,t){return typeof e=="number"&&isNaN(e)?t:e}function ys(e){return e.reduce(function(t,n){return t+(n?1:0)},0)}function PS(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function Rk(e){for(var t,n,i="Unexpected syntax '".concat(e,"'"),r=/^\s*([a-z-]*)(.*)$/i.exec(e),a=r[1]||void 0,o={},c=/([.:#][\w-]+|\[.+?\])/gi,u=function(x,b){o[x]=o[x]||[],o[x].push(b)};;){var f=c.exec(r[2]);if(!f)break;var h=f[0];switch(h[0]){case".":u("class",h.slice(1));break;case"#":u("id",h.slice(1));break;case"[":{var p=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(h);if(p)u(p[1],(n=(t=p[4])!==null&&t!==void 0?t:p[5])!==null&&n!==void 0?n:"");else throw new Error(i);break}default:throw new Error(i)}}return[a,o]}function Ok(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>127)return new TextEncoder().encode(e);t[n]=i}return t}function dd(e,t){var n=e[0]>>>16,i=e[0]&65535,r=e[1]>>>16,a=e[1]&65535,o=t[0]>>>16,c=t[0]&65535,u=t[1]>>>16,f=t[1]&65535,h=0,p=0,x=0,b=0;b+=a+f,x+=b>>>16,b&=65535,x+=r+u,p+=x>>>16,x&=65535,p+=i+c,h+=p>>>16,p&=65535,h+=n+o,h&=65535,e[0]=h<<16|p,e[1]=x<<16|b}function ul(e,t){var n=e[0]>>>16,i=e[0]&65535,r=e[1]>>>16,a=e[1]&65535,o=t[0]>>>16,c=t[0]&65535,u=t[1]>>>16,f=t[1]&65535,h=0,p=0,x=0,b=0;b+=a*f,x+=b>>>16,b&=65535,x+=r*f,p+=x>>>16,x&=65535,x+=a*u,p+=x>>>16,x&=65535,p+=i*f,h+=p>>>16,p&=65535,p+=r*u,h+=p>>>16,p&=65535,p+=a*c,h+=p>>>16,p&=65535,h+=n*f+i*u+r*c+a*o,h&=65535,e[0]=h<<16|p,e[1]=x<<16|b}function Qf(e,t){var n=e[0];t%=64,t===32?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function So(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function Ji(e,t){e[0]^=t[0],e[1]^=t[1]}var Dk=[4283543511,3981806797],Mk=[3301882366,444984403];function Ow(e){var t=[0,e[0]>>>1];Ji(e,t),ul(e,Dk),t[1]=e[0]>>>1,Ji(e,t),ul(e,Mk),t[1]=e[0]>>>1,Ji(e,t)}var Lp=[2277735313,289559509],Rp=[1291169091,658871167],Dw=[0,5],Fk=[0,1390208809],Pk=[0,944331445];function Ik(e,t){var n=Ok(e);t=t||0;var i=[0,n.length],r=i[1]%16,a=i[1]-r,o=[0,t],c=[0,t],u=[0,0],f=[0,0],h;for(h=0;h<a;h=h+16)u[0]=n[h+4]|n[h+5]<<8|n[h+6]<<16|n[h+7]<<24,u[1]=n[h]|n[h+1]<<8|n[h+2]<<16|n[h+3]<<24,f[0]=n[h+12]|n[h+13]<<8|n[h+14]<<16|n[h+15]<<24,f[1]=n[h+8]|n[h+9]<<8|n[h+10]<<16|n[h+11]<<24,ul(u,Lp),Qf(u,31),ul(u,Rp),Ji(o,u),Qf(o,27),dd(o,c),ul(o,Dw),dd(o,Fk),ul(f,Rp),Qf(f,33),ul(f,Lp),Ji(c,f),Qf(c,31),dd(c,o),ul(c,Dw),dd(c,Pk);u[0]=0,u[1]=0,f[0]=0,f[1]=0;var p=[0,0];switch(r){case 15:p[1]=n[h+14],So(p,48),Ji(f,p);case 14:p[1]=n[h+13],So(p,40),Ji(f,p);case 13:p[1]=n[h+12],So(p,32),Ji(f,p);case 12:p[1]=n[h+11],So(p,24),Ji(f,p);case 11:p[1]=n[h+10],So(p,16),Ji(f,p);case 10:p[1]=n[h+9],So(p,8),Ji(f,p);case 9:p[1]=n[h+8],Ji(f,p),ul(f,Rp),Qf(f,33),ul(f,Lp),Ji(c,f);case 8:p[1]=n[h+7],So(p,56),Ji(u,p);case 7:p[1]=n[h+6],So(p,48),Ji(u,p);case 6:p[1]=n[h+5],So(p,40),Ji(u,p);case 5:p[1]=n[h+4],So(p,32),Ji(u,p);case 4:p[1]=n[h+3],So(p,24),Ji(u,p);case 3:p[1]=n[h+2],So(p,16),Ji(u,p);case 2:p[1]=n[h+1],So(p,8),Ji(u,p);case 1:p[1]=n[h],Ji(u,p),ul(u,Lp),Qf(u,31),ul(u,Rp),Ji(o,u)}return Ji(o,i),Ji(c,i),dd(o,c),dd(c,o),Ow(o),Ow(c),dd(o,c),dd(c,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)}function Bk(e){var t;return tb({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function zk(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function Hk(e){return typeof e!="function"}function Uk(e,t){var n=cm(new Promise(function(i){var r=Date.now();Lw(e.bind(null,t),function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var c=Date.now()-r;if(!a[0])return i(function(){return{error:a[1],duration:c}});var u=a[1];if(Hk(u))return i(function(){return{value:u,duration:c}});i(function(){return new Promise(function(f){var h=Date.now();Lw(u,function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];var b=c+Date.now()-h;if(!p[0])return f({error:p[1],duration:b});f({value:p[1],duration:b})})})})})}));return function(){return n.then(function(r){return r()})}}function Wk(e,t,n,i){var r=Object.keys(e).filter(function(o){return Lk(n,o)}),a=cm(Rw(r,function(o){return Uk(e[o],t)},i));return function(){return Dc(this,void 0,void 0,function(){var c,u,f,h,p;return Mc(this,function(x){switch(x.label){case 0:return[4,a];case 1:return c=x.sent(),[4,Rw(c,function(b){return cm(b())},i)];case 2:return u=x.sent(),[4,Promise.all(u)];case 3:for(f=x.sent(),h={},p=0;p<r.length;++p)h[r[p]]=f[p];return[2,h]}})})}}function IS(){var e=window,t=navigator;return ys(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function Vk(){var e=window,t=navigator;return ys(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!IS()}function km(){var e=window,t=navigator;return ys(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Ql(){var e=window,t=navigator;return ys(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function n2(){var e=window,t=e.HTMLElement,n=e.Document;return ys(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function Lm(){var e=window;return zk(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function BS(){var e,t,n=window;return ys(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function qk(){var e=window;return ys([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function Gk(){var e=window,t=e.URLPattern;return ys(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function $k(){var e=window;return ys(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function Rm(){var e=window,t=navigator,n=e.CSS,i=e.HTMLButtonElement;return ys([!("getStorageUpdates"in t),i&&"popover"in i.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function Yk(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return ys(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function Xk(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function Kk(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function i2(){var e=km(),t=BS(),n=window,i=navigator,r="connection";return e?ys([!("SharedWorker"in n),i[r]&&"ontypechange"in i[r],!("sinkId"in new Audio)])>=2:t?ys(["onorientationchange"in n,"orientation"in n,/android/i.test(i.appVersion)])>=2:!1}function Zk(){var e=navigator,t=window,n=Audio.prototype,i=t.visualViewport;return ys(["srLatency"in n,"srChannelCount"in n,"devicePosture"in e,i&&"segments"in i,"getTextInformation"in Image.prototype])>=3}function Jk(){return tL()?-4:Qk()}function Qk(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(eL())return-1;var n=4500,i=5e3,r=new t(1,i,44100),a=r.createOscillator();a.type="triangle",a.frequency.value=1e4;var o=r.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.25,a.connect(o),o.connect(r.destination),a.start(0);var c=nL(r),u=c[0],f=c[1],h=cm(u.then(function(p){return iL(p.getChannelData(0).subarray(n))},function(p){if(p.name==="timeout"||p.name==="suspended")return-3;throw p}));return function(){return f(),h}}function eL(){return Ql()&&!n2()&&!$k()}function tL(){return Ql()&&Rm()&&Lm()||km()&&Zk()&&Gk()}function nL(e){var t=3,n=500,i=500,r=5e3,a=function(){},o=new Promise(function(c,u){var f=!1,h=0,p=0;e.oncomplete=function(w){return c(w.renderedBuffer)};var x=function(){setTimeout(function(){return u(Mw("timeout"))},Math.min(i,p+r-Date.now()))},b=function(){try{var w=e.startRendering();switch(FS(w)&&cm(w),e.state){case"running":p=Date.now(),f&&x();break;case"suspended":document.hidden||h++,f&&h>=t?u(Mw("suspended")):setTimeout(b,n);break}}catch(g){u(g)}};b(),a=function(){f||(f=!0,p>0&&x())}});return[o,a]}function iL(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function Mw(e){var t=new Error(e);return t.name=e,t}function zS(e,t,n){var i,r,a;return n===void 0&&(n=50),Dc(this,void 0,void 0,function(){var o,c;return Mc(this,function(u){switch(u.label){case 0:o=document,u.label=1;case 1:return o.body?[3,3]:[4,jg(n)];case 2:return u.sent(),[3,1];case 3:c=o.createElement("iframe"),u.label=4;case 4:return u.trys.push([4,,10,11]),[4,new Promise(function(f,h){var p=!1,x=function(){p=!0,f()},b=function(_){p=!0,h(_)};c.onload=x,c.onerror=b;var w=c.style;w.setProperty("display","block","important"),w.position="absolute",w.top="0",w.left="0",w.visibility="hidden",t&&"srcdoc"in c?c.srcdoc=t:c.src="about:blank",o.body.appendChild(c);var g=function(){var _,j;p||(((j=(_=c.contentWindow)===null||_===void 0?void 0:_.document)===null||j===void 0?void 0:j.readyState)==="complete"?x():setTimeout(g,10))};g()})];case 5:u.sent(),u.label=6;case 6:return!((r=(i=c.contentWindow)===null||i===void 0?void 0:i.document)===null||r===void 0)&&r.body?[3,8]:[4,jg(n)];case 7:return u.sent(),[3,6];case 8:return[4,e(c,c.contentWindow)];case 9:return[2,u.sent()];case 10:return(a=c.parentNode)===null||a===void 0||a.removeChild(c),[7];case 11:return[2]}})})}function rL(e){for(var t=Rk(e),n=t[0],i=t[1],r=document.createElement(n??"div"),a=0,o=Object.keys(i);a<o.length;a++){var c=o[a],u=i[c].join(" ");c==="style"?aL(r.style,u):r.setAttribute(c,u)}return r}function aL(e,t){for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(a){var o=a[1],c=a[2],u=a[4];e.setProperty(o,c,u||"")}}}function sL(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(n){if(n instanceof Error&&n.name==="SecurityError")return!0;throw n}e=t}}var oL="mmMwWLliI0O&1",lL="48px",eh=["monospace","sans-serif","serif"],Fw=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function cL(){var e=this;return zS(function(t,n){var i=n.document;return Dc(e,void 0,void 0,function(){var r,a,o,c,u,f,h,p,x,b,w,g;return Mc(this,function(_){for(r=i.body,r.style.fontSize=lL,a=i.createElement("div"),a.style.setProperty("visibility","hidden","important"),o={},c={},u=function(j){var E=i.createElement("span"),k=E.style;return k.position="absolute",k.top="0",k.left="0",k.fontFamily=j,E.textContent=oL,a.appendChild(E),E},f=function(j,E){return u("'".concat(j,"',").concat(E))},h=function(){return eh.map(u)},p=function(){for(var j={},E=function(ne){j[ne]=eh.map(function(P){return f(ne,P)})},k=0,F=Fw;k<F.length;k++){var V=F[k];E(V)}return j},x=function(j){return eh.some(function(E,k){return j[k].offsetWidth!==o[E]||j[k].offsetHeight!==c[E]})},b=h(),w=p(),r.appendChild(a),g=0;g<eh.length;g++)o[eh[g]]=b[g].offsetWidth,c[eh[g]]=b[g].offsetHeight;return[2,Fw.filter(function(j){return x(w[j])})]})})})}function uL(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i){for(var r=[],a=0;a<i.length;++a){var o=i[a];r.push({type:o.type,suffixes:o.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:r})}}return t}}function dL(){return fL(bL())}function fL(e){var t,n=!1,i,r,a=hL(),o=a[0],c=a[1];return mL(o,c)?(n=pL(c),e?i=r="skipped":(t=gL(o,c),i=t[0],r=t[1])):i=r="unsupported",{winding:n,geometry:i,text:r}}function hL(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function mL(e,t){return!!(t&&e.toDataURL)}function pL(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function gL(e,t){xL(e,t);var n=Xx(e),i=Xx(e);if(n!==i)return["unstable","unstable"];vL(e,t);var r=Xx(e);return[r,n]}function xL(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat("");t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}function vL(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var r=i[n],a=r[0],o=r[1],c=r[2];t.fillStyle=a,t.beginPath(),t.arc(o,c,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function Xx(e){return e.toDataURL()}function bL(){return Ql()&&Rm()&&Lm()}function yL(){var e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=t2(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}var i="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:i}}function wL(){return navigator.oscpu}function _L(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))km()&&qk()||t.push(e.languages);else if(typeof e.languages=="string"){var i=e.languages;i&&t.push(i.split(","))}return t}function NL(){return window.screen.colorDepth}function SL(){return xu(ql(navigator.deviceMemory),void 0)}function jL(){if(!(Ql()&&Rm()&&Lm()))return AL()}function AL(){var e=screen,t=function(i){return xu(t2(i),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var EL=2500,TL=10,xg,Kx;function CL(){if(Kx===void 0){var e=function(){var t=nb();ib(t)?Kx=setTimeout(e,EL):(xg=t,Kx=void 0)};e()}}function kL(){var e=this;return CL(),function(){return Dc(e,void 0,void 0,function(){var t;return Mc(this,function(n){switch(n.label){case 0:return t=nb(),ib(t)?xg?[2,DS([],xg,!0)]:Xk()?[4,Kk()]:[3,2]:[3,2];case 1:n.sent(),t=nb(),n.label=2;case 2:return ib(t)||(xg=t),[2,t]}})})}}function LL(){var e=this;if(Ql()&&Rm()&&Lm())return function(){return Promise.resolve(void 0)};var t=kL();return function(){return Dc(e,void 0,void 0,function(){var n,i;return Mc(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return n=r.sent(),i=function(a){return a===null?null:PS(a,TL)},[2,[i(n[0]),i(n[1]),i(n[2]),i(n[3])]]}})})}}function nb(){var e=screen;return[xu(ql(e.availTop),null),xu(ql(e.width)-ql(e.availWidth)-xu(ql(e.availLeft),0),null),xu(ql(e.height)-ql(e.availHeight)-xu(ql(e.availTop),0),null),xu(ql(e.availLeft),null)]}function ib(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function RL(){return xu(t2(navigator.hardwareConcurrency),void 0)}function OL(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var n=new t().resolvedOptions().timeZone;if(n)return n}var i=-DL();return"UTC".concat(i>=0?"+":"").concat(i)}function DL(){var e=new Date().getFullYear();return Math.max(ql(new Date(e,0,1).getTimezoneOffset()),ql(new Date(e,6,1).getTimezoneOffset()))}function ML(){try{return!!window.sessionStorage}catch{return!0}}function FL(){try{return!!window.localStorage}catch{return!0}}function PL(){if(!(IS()||Vk()))try{return!!window.indexedDB}catch{return!0}}function IL(){return!!window.openDatabase}function BL(){return navigator.cpuClass}function zL(){var e=navigator.platform;return e==="MacIntel"&&Ql()&&!n2()?Yk()?"iPad":"iPhone":e}function HL(){return navigator.vendor||""}function UL(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var i=n[t],r=window[i];r&&typeof r=="object"&&e.push(i)}return e.sort()}function WL(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function VL(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function qL(e){var t=e===void 0?{}:e,n=t.debug;return Dc(this,void 0,void 0,function(){var i,r,a,o,c,u;return Mc(this,function(f){switch(f.label){case 0:return GL()?(i=VL(),r=Object.keys(i),a=(u=[]).concat.apply(u,r.map(function(h){return i[h]})),[4,$L(a)]):[2,void 0];case 1:return o=f.sent(),n&&YL(i,o),c=r.filter(function(h){var p=i[h],x=ys(p.map(function(b){return o[b]}));return x>p.length*.6}),c.sort(),[2,c]}})})}function GL(){return Ql()||i2()}function $L(e){var t;return Dc(this,void 0,void 0,function(){var n,i,r,a,u,o,c,u;return Mc(this,function(f){switch(f.label){case 0:for(n=document,i=n.createElement("div"),r=new Array(e.length),a={},Pw(i),u=0;u<e.length;++u)o=rL(e[u]),o.tagName==="DIALOG"&&o.show(),c=n.createElement("div"),Pw(c),c.appendChild(o),i.appendChild(c),r[u]=o;f.label=1;case 1:return n.body?[3,3]:[4,jg(50)];case 2:return f.sent(),[3,1];case 3:n.body.appendChild(i);try{for(u=0;u<e.length;++u)r[u].offsetParent||(a[e[u]]=!0)}finally{(t=i.parentNode)===null||t===void 0||t.removeChild(i)}return[2,a]}})})}function Pw(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function YL(e,t){for(var n="DOM blockers debug:\n```",i=0,r=Object.keys(e);i<r.length;i++){var a=r[i];n+=`
`.concat(a,":");for(var o=0,c=e[a];o<c.length;o++){var u=c[o];n+=`
  `.concat(t[u]?"":""," ").concat(u)}}console.log("".concat(n,"\n```"))}function XL(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}}function KL(){if(Iw("inverted"))return!0;if(Iw("none"))return!1}function Iw(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function ZL(){if(Bw("active"))return!0;if(Bw("none"))return!1}function Bw(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var JL=100;function QL(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=JL;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function eR(){if(th("no-preference"))return 0;if(th("high")||th("more"))return 1;if(th("low")||th("less"))return-1;if(th("forced"))return 10}function th(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function tR(){if(zw("reduce"))return!0;if(zw("no-preference"))return!1}function zw(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function nR(){if(Hw("reduce"))return!0;if(Hw("no-preference"))return!1}function Hw(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function iR(){if(Uw("high"))return!0;if(Uw("standard"))return!1}function Uw(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var ci=Math,gs=function(){return 0};function rR(){var e=ci.acos||gs,t=ci.acosh||gs,n=ci.asin||gs,i=ci.asinh||gs,r=ci.atanh||gs,a=ci.atan||gs,o=ci.sin||gs,c=ci.sinh||gs,u=ci.cos||gs,f=ci.cosh||gs,h=ci.tan||gs,p=ci.tanh||gs,x=ci.exp||gs,b=ci.expm1||gs,w=ci.log1p||gs,g=function(I){return ci.pow(ci.PI,I)},_=function(I){return ci.log(I+ci.sqrt(I*I-1))},j=function(I){return ci.log(I+ci.sqrt(I*I+1))},E=function(I){return ci.log((1+I)/(1-I))/2},k=function(I){return ci.exp(I)-1/ci.exp(I)/2},F=function(I){return(ci.exp(I)+1/ci.exp(I))/2},V=function(I){return ci.exp(I)-1},ne=function(I){return(ci.exp(2*I)-1)/(ci.exp(2*I)+1)},P=function(I){return ci.log(1+I)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:_(1e154),asin:n(.12312423423423424),asinh:i(1),asinhPf:j(1),atanh:r(.5),atanhPf:E(.5),atan:a(.5),sin:o(-1e300),sinh:c(1),sinhPf:k(1),cos:u(10.000000000123),cosh:f(1),coshPf:F(1),tan:h(-1e300),tanh:p(1),tanhPf:ne(1),exp:x(1),expm1:b(1),expm1Pf:V(1),log1p:w(10),log1pPf:P(10),powPI:g(-100)}}var aR="mmMwWLliI0fiflO&1",Zx={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function sR(){return oR(function(e,t){for(var n={},i={},r=0,a=Object.keys(Zx);r<a.length;r++){var o=a[r],c=Zx[o],u=c[0],f=u===void 0?{}:u,h=c[1],p=h===void 0?aR:h,x=e.createElement("span");x.textContent=p,x.style.whiteSpace="nowrap";for(var b=0,w=Object.keys(f);b<w.length;b++){var g=w[b],_=f[g];_!==void 0&&(x.style[g]=_)}n[o]=x,t.append(e.createElement("br"),x)}for(var j=0,E=Object.keys(Zx);j<E.length;j++){var o=E[j];i[o]=n[o].getBoundingClientRect().width}return i})}function oR(e,t){return t===void 0&&(t=4e3),zS(function(n,i){var r=i.document,a=r.body,o=a.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",km()?a.style.zoom="".concat(1/i.devicePixelRatio):Ql()&&(a.style.zoom="reset");var c=r.createElement("div");return c.textContent=DS([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),a.appendChild(c),e(r,a)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function lR(){return navigator.pdfViewerEnabled}function cR(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function uR(){var e=window.ApplePaySession;if(typeof(e==null?void 0:e.canMakePayments)!="function")return-1;if(dR())return-3;try{return e.canMakePayments()?1:0}catch(t){return fR(t)}}var dR=sL;function fR(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function hR(){var e,t=document.createElement("a"),n=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return n===void 0?void 0:String(n)}var HS=-1,US=-2,mR=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),pR=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),gR=["FRAGMENT_SHADER","VERTEX_SHADER"],xR=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],WS="WEBGL_debug_renderer_info",vR="WEBGL_polygon_mode";function bR(e){var t,n,i,r,a,o,c=e.cache,u=VS(c);if(!u)return HS;if(!GS(u))return US;var f=qS()?null:u.getExtension(WS);return{version:((t=u.getParameter(u.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((n=u.getParameter(u.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:f?(i=u.getParameter(f.UNMASKED_VENDOR_WEBGL))===null||i===void 0?void 0:i.toString():"",renderer:((r=u.getParameter(u.RENDERER))===null||r===void 0?void 0:r.toString())||"",rendererUnmasked:f?(a=u.getParameter(f.UNMASKED_RENDERER_WEBGL))===null||a===void 0?void 0:a.toString():"",shadingLanguageVersion:((o=u.getParameter(u.SHADING_LANGUAGE_VERSION))===null||o===void 0?void 0:o.toString())||""}}function yR(e){var t=e.cache,n=VS(t);if(!n)return HS;if(!GS(n))return US;var i=n.getSupportedExtensions(),r=n.getContextAttributes(),a=[],o=[],c=[],u=[],f=[];if(r)for(var h=0,p=Object.keys(r);h<p.length;h++){var x=p[h];o.push("".concat(x,"=").concat(r[x]))}for(var b=Ww(n),w=0,g=b;w<g.length;w++){var _=g[w],j=n[_];c.push("".concat(_,"=").concat(j).concat(mR.has(j)?"=".concat(n.getParameter(j)):""))}if(i)for(var E=0,k=i;E<k.length;E++){var F=k[E];if(!(F===WS&&qS()||F===vR&&NR())){var V=n.getExtension(F);if(!V){a.push(F);continue}for(var ne=0,P=Ww(V);ne<P.length;ne++){var _=P[ne],j=V[_];u.push("".concat(_,"=").concat(j).concat(pR.has(j)?"=".concat(n.getParameter(j)):""))}}}for(var I=0,Y=gR;I<Y.length;I++)for(var Z=Y[I],z=0,U=xR;z<U.length;z++){var J=U[z],ie=wR(n,Z,J);f.push("".concat(Z,".").concat(J,"=").concat(ie.join(",")))}return u.sort(),c.sort(),{contextAttributes:o,parameters:c,shaderPrecisions:f,extensions:i,extensionParameters:u,unsupportedExtensions:a}}function VS(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),n;t.addEventListener("webglCreateContextError",function(){return n=void 0});for(var i=0,r=["webgl","experimental-webgl"];i<r.length;i++){var a=r[i];try{n=t.getContext(a)}catch{}if(n)break}return e.webgl={context:n},n}function wR(e,t,n){var i=e.getShaderPrecisionFormat(e[t],e[n]);return i?[i.rangeMin,i.rangeMax,i.precision]:[]}function Ww(e){var t=Object.keys(e.__proto__);return t.filter(_R)}function _R(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function qS(){return BS()}function NR(){return km()||Ql()}function GS(e){return typeof e.getParameter=="function"}function SR(){var e=i2()||Ql();if(!e)return-2;if(!window.AudioContext)return-1;var t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function jR(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var AR={fonts:cL,domBlockers:qL,fontPreferences:sR,audio:Jk,screenFrame:LL,canvas:dL,osCpu:wL,languages:_L,colorDepth:NL,deviceMemory:SL,screenResolution:jL,hardwareConcurrency:RL,timezone:OL,sessionStorage:ML,localStorage:FL,indexedDB:PL,openDatabase:IL,cpuClass:BL,platform:zL,plugins:uL,touchSupport:yL,vendor:HL,vendorFlavors:UL,cookiesEnabled:WL,colorGamut:XL,invertedColors:KL,forcedColors:ZL,monochrome:QL,contrast:eR,reducedMotion:tR,reducedTransparency:nR,hdr:iR,math:rR,pdfViewerEnabled:lR,architecture:cR,applePay:uR,privateClickMeasurement:hR,audioBaseLatency:SR,dateTimeLocale:jR,webGlBasics:bR,webGlExtensions:yR};function ER(e){return Wk(AR,e,[])}var TR="$ if upgrade to Pro: https://fpjs.dev/pro";function CR(e){var t=kR(e),n=LR(t);return{score:t,comment:TR.replace(/\$/g,"".concat(n))}}function kR(e){if(i2())return .4;if(Ql())return n2()&&!(Rm()&&Lm())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function LR(e){return PS(.99+.01*e,1e-4)}function RR(e){for(var t="",n=0,i=Object.keys(e).sort();n<i.length;n++){var r=i[n],a=e[r],o="error"in a?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(r.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}function $S(e){return JSON.stringify(e,function(t,n){return n instanceof Error?Bk(n):n},2)}function YS(e){return Ik(RR(e))}function OR(e){var t,n=CR(e);return{get visitorId(){return t===void 0&&(t=YS(this.components)),t},set visitorId(i){t=i},confidence:n,components:e,version:MS}}function DR(e){return e===void 0&&(e=50),Ck(e,e*2)}function MR(e,t){var n=Date.now();return{get:function(i){return Dc(this,void 0,void 0,function(){var r,a,o;return Mc(this,function(c){switch(c.label){case 0:return r=Date.now(),[4,e()];case 1:return a=c.sent(),o=OR(a),(t||i!=null&&i.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(o.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(r-n,`
visitorId: `).concat(o.visitorId,`
components: `).concat($S(a),"\n```")),[2,o]}})})}}}function FR(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(MS,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function PR(e){var t;return e===void 0&&(e={}),Dc(this,void 0,void 0,function(){var n,i,r;return Mc(this,function(a){switch(a.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&FR(),n=e.delayFallback,i=e.debug,[4,DR(n)];case 1:return a.sent(),r=ER({cache:{},debug:i}),[2,MR(r,i)]}})})}var IR={load:PR,hashComponents:YS,componentsToDebugString:$S};const Om=async()=>{const e=localStorage.getItem("fingerprint");if(e)return e;const n=await(await IR.load()).get();return localStorage.setItem("fingerprint",n.visitorId),n.visitorId};function BR(){var I,Y,Z;const[e,t]=D.useState(""),[n,i]=D.useState(""),[r,a]=D.useState(""),[o,c]=D.useState(!1),u=Tr(),f=Pa(),{setUser:h}=Oo(),p=((I=f.state)==null?void 0:I.message)||"",x=((Y=f.state)==null?void 0:Y.redirectTo)||null,b=((Z=f.state)==null?void 0:Z.preselectedService)||null;D.useEffect(()=>{p&&a(p)},[p]);const w=async z=>{var U,J;z.preventDefault();try{c(!0),await it.get("/sanctum/csrf-cookie");const ie=await Om(),pe=await it.post("/api/login",{email:e,password:n,device_id:ie}),ae=pe.data.user||pe.data;if(pe.data.requires_password_change){a("Login successful. Please change your password."),h(ae),_(!0),c(!1);return}a("Login successful!"),h(ae),setTimeout(()=>{ae.role==="admin"?u("/admin"):ae.role==="staff"?u("/staff"):ae.role==="patient"?x==="/patient/appointment"?u("/patient/appointment",{state:{preselectedService:b}}):u("/patient"):ae.role==="dentist"?u("/dentist"):a("Login successful, but no dashboard yet for this role.")},150)}catch(ie){console.error(ie),a(((J=(U=ie.response)==null?void 0:U.data)==null?void 0:J.message)||"Login failed")}finally{c(!1)}},[g,_]=D.useState(!1),[j,E]=D.useState(""),[k,F]=D.useState(""),[V,ne]=D.useState(""),P=async()=>{var z,U;if(ne(""),!j||j.length<8){ne("Password must be at least 8 characters.");return}if(j!==k){ne("Passwords do not match.");return}try{await it.post("/api/dentist/change-password",{password:j}),_(!1),a("Password changed successfully!"),u("/dentist")}catch(J){ne(((U=(z=J.response)==null?void 0:z.data)==null?void 0:U.message)||"Failed to change password")}};return s.jsxs(h1,{children:[s.jsxs("div",{className:"auth-layout",children:[o&&s.jsx(os,{message:"Logging in..."}),s.jsxs("div",{className:"login-container",children:[s.jsxs("div",{className:"login-left",children:[s.jsxs("div",{className:"brand-block",children:[s.jsx("img",{src:Ph,alt:"Kreative Dental Logo",className:"site-logo"}),s.jsxs("div",{className:"brand-text",children:[s.jsx("h2",{className:"clinic-name m-0",children:"Kreative Dental & Orthodontics"}),s.jsx("span",{className:"tagline",children:"Your smile, thoughtfully crafted."})]})]}),s.jsx("h1",{className:"welcome-title",children:"Hello, welcome!"}),s.jsxs("p",{className:"login-description",children:["Please log in to access your appointments, treatment history, and personalized dental care. ",s.jsx("br",{}),"Your oral health is just a click away!"]}),p&&s.jsxs("div",{className:"alert alert-info mb-4",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),p]}),s.jsxs("div",{className:"left-highlights",children:[s.jsxs("div",{className:"highlight",children:[s.jsx("span",{className:"emoji"}),s.jsx("span",{children:"Comprehensive dental services"})]}),s.jsxs("div",{className:"highlight",children:[s.jsx("span",{className:"emoji"}),s.jsx("span",{children:"Easy online appointment booking"})]}),s.jsxs("div",{className:"highlight",children:[s.jsx("span",{className:"emoji"}),s.jsx("span",{children:"Secure and private records"})]})]})]}),s.jsx("div",{className:"login-right",children:s.jsxs("form",{className:"login-form card-glass",onSubmit:w,children:[s.jsx("div",{className:"form-head",children:s.jsx("h3",{className:"m-0",children:"Sign in"})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Email address"}),s.jsx("input",{type:"email",value:e,onChange:z=>t(z.target.value),required:!0,placeholder:"name@gmail.com"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:z=>i(z.target.value),required:!0})]}),s.jsxs("div",{className:"form-options",children:[s.jsxs("label",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input me-2"})," Remember me"]}),s.jsx(oi,{to:"/forgot-password",className:"forgot-link",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",className:"btn-primary-lg w-100",children:"Login"}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"button",className:"btn-secondary-lg",onClick:()=>u("/register"),children:"Create account"}),s.jsx("button",{type:"button",className:"btn-outline-lg",onClick:()=>u("/"),children:"Go to Homepage"})]}),r&&s.jsx("p",{className:"login-message",children:r})]})})]})]}),g&&s.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:1050,backdropFilter:"blur(2px)"},children:s.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1060},children:s.jsxs("div",{className:"card shadow-lg border-warning",style:{width:450,maxWidth:"90vw"},children:[s.jsx("div",{className:"card-header bg-warning text-dark text-center",children:s.jsxs("h4",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-shield-exclamation me-2"}),"Account Security Required"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"alert alert-warning mb-3",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),s.jsx("strong",{children:"You must change your temporary password to continue."}),s.jsx("br",{}),s.jsx("small",{children:"This is required for account security and cannot be skipped."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"New Password:"}),s.jsx("input",{type:"password",className:"form-control",value:j,onChange:z=>E(z.target.value),placeholder:"Enter your new password",autoFocus:!0})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Confirm Password:"}),s.jsx("input",{type:"password",className:"form-control",value:k,onChange:z=>F(z.target.value),placeholder:"Confirm your new password"})]}),V&&s.jsxs("div",{className:"alert alert-danger mb-3",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),V]}),s.jsx("div",{className:"d-grid",children:s.jsxs("button",{className:"btn btn-primary btn-lg",onClick:P,disabled:!j||!k,children:[s.jsx("i",{className:"bi bi-shield-check me-2"}),"Secure My Account"]})})]})]})})})]})}function zR(){const[e,t]=D.useState({name:"",email:"",contact_number:"",password:"",confirmPassword:""}),[n,i]=D.useState({}),[r,a]=D.useState(""),[o,c]=D.useState(!1),u=Tr(),f=()=>{const x={};return/^09\d{9}$/.test(e.contact_number)||(x.contact_number="Contact number must start with 09 and be 11 digits."),/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(e.password)||(x.password="Password must have at least 1 uppercase, 1 lowercase, 1 number, and be 8+ characters."),e.password!==e.confirmPassword&&(x.confirmPassword="Passwords do not match."),i(x),Object.keys(x).length===0},h=x=>{t({...e,[x.target.name]:x.target.value}),i({...n,[x.target.name]:null})},p=async x=>{var b,w;if(x.preventDefault(),a(""),!!f())try{c(!0),await it.get("/sanctum/csrf-cookie");const g=await it.post("/api/register",{name:e.name,email:e.email,contact_number:e.contact_number,password:e.password,password_confirmation:e.confirmPassword});localStorage.setItem("token",g.data.token),a("Registration successful!"),t({name:"",email:"",contact_number:"",password:"",confirmPassword:""}),i({}),setTimeout(()=>u("/verify-email"),2e3)}catch(g){a(((w=(b=g.response)==null?void 0:b.data)==null?void 0:w.message)||"Registration failed")}finally{c(!1)}};return s.jsxs(h1,{children:[o&&s.jsx(os,{message:"Registering patient..."}),s.jsxs("div",{className:"auth-container",children:[s.jsxs("div",{className:"auth-left",children:[s.jsx("img",{src:Ph,alt:"Kreative Dental Logo",className:"auth-logo"}),s.jsx("h2",{className:"auth-title",children:"Create Your Account"}),s.jsx("p",{className:"auth-description",children:"Join us today and manage your appointments, treatment history, and profile in one place."})]}),s.jsx("div",{className:"auth-right",children:s.jsxs("div",{className:"card shadow-sm p-4",children:[s.jsx("h3",{className:"text-center mb-4",children:"Patient Registration"}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-person me-2"}),"Full Name"]}),s.jsx("input",{type:"text",className:"form-control",name:"name",value:e.name,onChange:h,required:!0})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-envelope me-2"}),"Email"]}),s.jsx("input",{type:"email",className:"form-control",name:"email",value:e.email,onChange:h,required:!0,autoComplete:"email"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-telephone me-2"}),"Contact Number"]}),s.jsx("input",{type:"text",className:`form-control ${n.contact_number?"is-invalid":""}`,name:"contact_number",value:e.contact_number,onChange:h,required:!0}),n.contact_number&&s.jsx("div",{className:"invalid-feedback",children:n.contact_number})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-lock me-2"}),"Password"]}),s.jsx("input",{type:"password",className:`form-control ${n.password?"is-invalid":""}`,name:"password",value:e.password,onChange:h,required:!0,autoComplete:"new-password"}),n.password&&s.jsx("div",{className:"invalid-feedback",children:n.password})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-lock-fill me-2"}),"Confirm Password"]}),s.jsx("input",{type:"password",className:`form-control ${n.confirmPassword?"is-invalid":""}`,name:"confirmPassword",value:e.confirmPassword,onChange:h,required:!0,autoComplete:"new-password"}),n.confirmPassword&&s.jsx("div",{className:"invalid-feedback",children:n.confirmPassword})]}),s.jsxs("button",{type:"submit",className:"btn btn-primary w-100",children:[s.jsx("i",{className:"bi bi-person-plus me-2"}),"Register"]})]}),r&&s.jsx("div",{className:"alert alert-info text-center mt-3",children:r}),s.jsxs("div",{className:"text-center mt-3",children:[s.jsxs(oi,{to:"/login",className:"d-block text-decoration-none text-primary mb-2",children:[s.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),"Already have an account? Login"]}),s.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>u("/login"),children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to Login"]})]})]})})]})]})}function HR(){var x,b;const e=Pa(),t=((x=e.state)==null?void 0:x.email)||"",n=((b=e.state)==null?void 0:b.fromProfile)||!1,[i,r]=D.useState(""),[a,o]=D.useState(""),[c,u]=D.useState(""),[f,h]=D.useState(!1);D.useEffect(()=>{r(t)},[t]);const p=async w=>{var g,_;w.preventDefault(),o(""),u("");try{h(!0),await it.get("/sanctum/csrf-cookie");const j=await Om(),E=await it.post("/forgot-password",{email:i,device_id:j});o(E.data.message||"Reset link sent to your email.")}catch(j){const E=((_=(g=j.response)==null?void 0:g.data)==null?void 0:_.message)||"Something went wrong";u(E)}finally{h(!1)}};return s.jsxs(h1,{children:[f&&s.jsx(os,{message:"Sending reset link..."}),s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"1300px",height:"720px",margin:"0 auto",padding:"20px"},children:s.jsxs("div",{className:"card shadow-sm p-4",style:{width:"400px",padding:"30px",borderRadius:"12px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"},children:[s.jsx("h3",{className:"text-center mb-4",children:n?"Send Password Reset Link":"Forgot Password"}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-envelope me-2"}),"Email Address"]}),s.jsx("input",{type:"email",className:"form-control",value:i,readOnly:n,onChange:w=>r(w.target.value),required:!0,autoComplete:"email"})]}),s.jsxs("button",{type:"submit",className:"btn btn-primary w-100",children:[s.jsx("i",{className:"bi bi-send me-2"}),"Send Reset Link"]})]}),a&&s.jsx("div",{className:"alert alert-success text-center mt-3",children:a}),c&&s.jsx("div",{className:"alert alert-danger text-center mt-3",children:c}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs(oi,{to:"/login",className:"d-block text-decoration-none text-primary",children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to Login"]})})]})})]})}function UR(){const{token:e}=jS(),[t]=Qb(),n=t.get("email")||"",i=Tr(),[r,a]=D.useState({email:n,password:"",password_confirmation:""}),[o,c]=D.useState({}),[u,f]=D.useState(""),[h,p]=D.useState(!1),x=w=>{a({...r,[w.target.name]:w.target.value}),c({...o,[w.target.name]:null})},b=async w=>{var g,_;if(w.preventDefault(),f(""),c({}),!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(r.password)){c({password:"Password must have at least 1 uppercase, 1 lowercase, 1 number, and be 8+ characters."});return}if(r.password!==r.password_confirmation){c({password_confirmation:"Passwords do not match."});return}try{p(!0),await it.get("/sanctum/csrf-cookie");const j=await it.post("/reset-password",{token:e,email:r.email,password:r.password,password_confirmation:r.password_confirmation});f("Password has been reset! Redirecting to login..."),setTimeout(()=>{i("/login")},2e3)}catch(j){const E=((_=(g=j.response)==null?void 0:g.data)==null?void 0:_.message)||"Reset failed";f(E)}finally{p(!1)}};return s.jsxs(h1,{children:[h&&s.jsx(os,{message:"Resetting password..."}),s.jsxs("div",{className:"card shadow-sm p-4",style:{width:"100%",maxWidth:"500px"},children:[s.jsx("h3",{className:"text-center mb-4",children:"Reset Password"}),s.jsxs("form",{onSubmit:b,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-envelope me-2"}),"Email"]}),s.jsx("input",{type:"email",name:"email",className:"form-control",value:r.email,onChange:x,required:!0,readOnly:!0})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-lock me-2"}),"New Password"]}),s.jsx("input",{type:"password",name:"password",className:`form-control ${o.password?"is-invalid":""}`,value:r.password,onChange:x,required:!0,autoComplete:"new-password"}),o.password&&s.jsx("div",{className:"invalid-feedback",children:o.password})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-lock-fill me-2"}),"Confirm Password"]}),s.jsx("input",{type:"password",name:"password_confirmation",className:`form-control ${o.password_confirmation?"is-invalid":""}`,value:r.password_confirmation,onChange:x,required:!0,autoComplete:"new-password"}),o.password_confirmation&&s.jsx("div",{className:"invalid-feedback",children:o.password_confirmation})]}),s.jsxs("button",{type:"submit",className:"btn btn-primary w-100",children:[s.jsx("i",{className:"bi bi-shield-lock me-2"}),"Reset Password"]})]}),u&&s.jsx("div",{className:"alert alert-info text-center mt-3",children:u}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs(oi,{to:"/login",className:"text-decoration-none text-primary",children:[s.jsx("i",{className:"bi bi-box-arrow-in-left me-2"}),"Back to Login"]})})]})]})}function WR(){const[e,t]=D.useState(""),[n,i]=D.useState(!1),r=async()=>{try{i(!0);const a=await it.post("/email/verification-notification");t("Verification link resent to your email!")}catch{t("Failed to resend. Please try again later.")}finally{i(!1)}};return s.jsx("div",{className:"container d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:s.jsxs("div",{className:"card shadow-sm p-4",style:{maxWidth:"500px",width:"100%"},children:[s.jsx("h3",{className:"text-center mb-3",children:"Verify Your Email"}),s.jsx("p",{className:"text-center",children:"A verification link has been sent to your email. Please check your inbox."}),e&&s.jsx("div",{className:"alert alert-info text-center",children:e}),s.jsx("div",{className:"text-center mt-3",children:s.jsx("button",{onClick:r,className:"btn btn-outline-primary",disabled:n,children:n?"Resending...":"Resend Verification Link"})})]})})}function VR(){return s.jsx("div",{className:"container d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:s.jsxs("div",{className:"card shadow-sm p-4",style:{maxWidth:"500px",width:"100%"},children:[s.jsxs("h2",{className:"text-center mb-3 text-success",children:[s.jsx("i",{className:"bi bi-check-circle-fill me-2"}),"Email Verified!"]}),s.jsx("p",{className:"text-center",children:"Your email has been successfully verified. You can now log in to your account."}),s.jsx("div",{className:"text-center mt-4",children:s.jsxs(oi,{to:"/login",className:"btn btn-primary",children:[s.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),"Go to Login"]})})]})})}function m1(){const{items:e,unread:t,loading:n,error:i,loadList:r,loadUnread:a,markAllRead:o}=xS(),[c,u]=D.useState(!1),f=D.useRef(null),[h,p]=D.useState({top:0,left:0}),x=340,b=()=>{if(!f.current)return;const g=f.current.getBoundingClientRect();let _=g.right-x;_=Math.max(8,_),_=Math.min(_,window.innerWidth-x-8);const j=Math.max(8,g.bottom+8);p({top:j,left:_})};D.useEffect(()=>{a()},[a]);const w=async()=>{const g=!c;u(g),g&&(b(),await r(),await o(),await a())};return D.useEffect(()=>{if(!c)return;const g=E=>E.key==="Escape"&&u(!1),_=()=>b(),j=E=>{const k=document.getElementById("notif-panel");!k||!f.current||!k.contains(E.target)&&!f.current.contains(E.target)&&u(!1)};return document.addEventListener("keydown",g),window.addEventListener("resize",_),document.addEventListener("mousedown",j),()=>{document.removeEventListener("keydown",g),window.removeEventListener("resize",_),document.removeEventListener("mousedown",j)}},[c]),s.jsxs(s.Fragment,{children:[s.jsxs("button",{ref:f,onClick:w,className:"btn btn-light d-inline-flex align-items-center",title:"Notifications","aria-label":"Notifications",children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})}),t>0&&s.jsx("span",{className:"badge bg-danger ms-2",children:t>99?"99+":t})]}),c&&s.jsx("div",{id:"notif-panel",role:"dialog","aria-modal":"true",className:"position-fixed",style:{top:h.top,left:h.left,width:x,zIndex:1050,maxWidth:"calc(100vw - 16px)"},children:s.jsxs("div",{className:"card shadow",children:[s.jsxs("div",{className:"card-header py-2 d-flex align-items-center justify-content-between",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Notifications"}),s.jsx("div",{className:"small text-muted",children:"Clinic updates & alerts"})]}),s.jsx("button",{className:"btn btn-link btn-sm p-0",onClick:()=>u(!1),children:"Close"})]}),s.jsxs("div",{className:"list-group list-group-flush",style:{maxHeight:340,overflow:"auto"},children:[n&&s.jsx("div",{className:"list-group-item small text-muted",children:"Loading"}),i&&!n&&s.jsx("div",{className:"list-group-item small text-danger",children:i}),!n&&!i&&e.length===0&&s.jsx("div",{className:"list-group-item small text-muted",children:"No notifications."}),!n&&!i&&e.map(g=>{var _;return s.jsx("div",{className:"list-group-item small",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[s.jsxs("div",{className:"me-2",children:[s.jsxs("div",{className:"fw-semibold",children:[g.title||"Notification",g.severity==="danger"&&s.jsx("span",{className:"badge bg-danger ms-2",children:"Important"}),g.severity==="warning"&&s.jsx("span",{className:"badge bg-warning text-dark ms-2",children:"Warning"}),g.severity==="info"&&s.jsx("span",{className:"badge bg-info text-dark ms-2",children:"Info"})]}),g.body&&s.jsx("div",{className:"text-muted mt-1",children:g.body}),((_=g.data)==null?void 0:_.date)&&s.jsxs("div",{className:"text-muted",children:["Date: ",g.data.date]})]}),s.jsx("small",{className:"text-muted",children:g.created_at?new Date(g.created_at).toLocaleString():""})]})},g.id)})]}),s.jsxs("div",{className:"card-footer py-2 d-flex justify-content-between",children:[s.jsx(oi,{to:"/notifications",className:"btn btn-link btn-sm p-0",children:"See all"}),s.jsx("button",{className:"btn btn-link btn-sm p-0",onClick:()=>u(!1),children:"Close"})]})]})})]})}function qR(){const e=Tr(),t=Pa(),{logout:n}=Oo(),[i,r]=D.useState(()=>window.innerWidth>=992);D.useEffect(()=>{const o=()=>{window.innerWidth>=992?r(!0):r(!1)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const a=async()=>{await n(),e("/app")};return s.jsxs("div",{className:`admin-shell ${i?"sidebar-open":"sidebar-closed"}`,children:[s.jsxs("aside",{className:"sidebar bg-danger text-white",children:[s.jsxs("div",{className:"sidebar-header d-flex align-items-center justify-content-between",children:[s.jsx("h5",{className:"m-0 fw-bold text-center",children:"Admin Panel"}),s.jsx("div",{className:"d-flex align-items-center gap-2",children:s.jsx("button",{className:"btn btn-sm btn-outline-light d-lg-none",onClick:()=>r(!1),"aria-label":"Close sidebar",children:s.jsx("i",{className:"bi bi-x"})})})]}),s.jsxs("ul",{className:"nav flex-column nav-scroller",children:[s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin",end:!0,className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),s.jsx("span",{className:"label",children:"Dashboard"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Devices"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/device-approvals",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM12 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM15.1 8H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})}),s.jsx("span",{className:"label",children:"Device Approvals"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/approved-devices",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),s.jsx("span",{className:"label",children:"Approved Devices"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"People"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/staff-register",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-4h3v-2.5c0-.83.67-1.5 1.5-1.5h2c.83 0 1.5.67 1.5 1.5V16h3v2H4zM12.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5zM24 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3z"})}),s.jsx("span",{className:"label",children:"Create Staff Account"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/dentists",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),s.jsx("span",{className:"label",children:"Dentists"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Appointments"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/schedule",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),s.jsx("span",{className:"label",children:"Clinic Schedule"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/appointments",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),s.jsx("span",{className:"label",children:"Appointments"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Services"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/services",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),s.jsx("span",{className:"label",children:"Manage Services"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/service-discounts",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.79 21L3 11.21v2c0 .45.54.67.85.35l.79-.79 1.41 1.41c.78.78 2.05.78 2.83 0l1.41-1.41 1.41 1.41c.78.78 2.05.78 2.83 0L16.94 12 18.36 13.42c.78.78 2.05.78 2.83 0l1.41-1.41.79.79c.31.32.85.1.85-.35v-2L14.21 21c-.78.78-2.05.78-2.83 0L12.79 21zM11.38 17.41c.78.78 2.05.78 2.83 0l1.41-1.41 1.41 1.41c.78.78 2.05.78 2.83 0l.71-.71L21 16.27V5c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v11.27l.43.43.71.71z"})}),s.jsx("span",{className:"label",children:"Service Promos"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/promo-archive",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2h-8l-2-2z"})}),s.jsx("span",{className:"label",children:"Promo Archive"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Ops"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/inventory",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"})}),s.jsx("span",{className:"label",children:"Inventory"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/goals",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"})}),s.jsx("span",{className:"label",children:"Goals"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/monthly-report",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"})}),s.jsx("span",{className:"label",children:"Monthly Visits"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/analytics",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),s.jsx("span",{className:"label",children:"Analytics"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/system-logs",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),s.jsx("span",{className:"label",children:"System Logs"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Account"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/admin/profile",className:({isActive:o})=>"nav-link"+(o?" active":""),children:[s.jsx("svg",{className:"icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H11V21H5V19H13V17H5V15H13V13H5V11H13V9H21M15 15V17H19V19H15V21H17V23H21V21H23V17H21V15H15Z"})}),s.jsx("span",{className:"label",children:"Account"})]})}),s.jsx("li",{className:"nav-item mt-4 px-3",children:s.jsxs("button",{className:"btn btn-outline-danger w-100 d-flex align-items-center justify-content-center icon-only-btn",onClick:a,title:"Logout","aria-label":"Logout",children:[s.jsx("i",{className:"bi-box-arrow-right fs-5"}),s.jsx("span",{className:"visually-hidden",children:"Logout"})]})})]})]}),s.jsxs("div",{className:`content-area ${t.pathname==="/admin/device-approvals"?"device-approvals-content":""}`,children:[s.jsxs("div",{className:"topbar d-flex align-items-center pe-0",children:[s.jsx("button",{className:"btn btn-dark toggle-btn me-2",onClick:()=>r(o=>!o),"aria-label":"Toggle sidebar",children:s.jsx("i",{className:"bi bi-list"})}),s.jsx("div",{className:"notifications-bell me-0",children:s.jsx(m1,{})})]}),s.jsx("main",{className:`flex-grow-1 ${t.pathname==="/admin/device-approvals"?"device-approvals-main":""}`,children:s.jsx(Th,{})})]}),s.jsx("div",{})]})}const GR=()=>s.jsx("div",{className:"admin-dashboard-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100%",padding:"1.5rem",boxSizing:"border-box",overflow:"hidden"},children:s.jsx("div",{className:"container-fluid",style:{width:"100%",maxWidth:"none",padding:0},children:s.jsx("div",{className:"row",style:{margin:0,width:"100%"},children:s.jsxs("div",{className:"col-12",style:{padding:0},children:[s.jsxs("div",{className:"text-center mb-5",children:[s.jsx("div",{className:"bg-primary rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"3rem"},children:s.jsx("i",{className:"bi bi-house-door text-white"})}),s.jsx("h1",{className:"fw-bold mb-3",style:{color:"#1e293b"},children:"Welcome, Admin!"}),s.jsx("p",{className:"text-muted fs-5",children:"Your administrative control center"})]}),s.jsxs("div",{className:"row g-4 mb-5",style:{margin:0,width:"100%"},children:[s.jsx("div",{className:"col-12 col-sm-6 col-lg-3",style:{padding:"0.5rem"},children:s.jsx("div",{className:"card border-0 shadow-sm h-100",style:{borderRadius:"16px",width:"100%"},children:s.jsxs("div",{className:"card-body p-4 text-center",children:[s.jsx("div",{className:"bg-primary rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-people text-white"})}),s.jsx("h5",{className:"fw-bold text-primary",children:"Patient Management"}),s.jsx("p",{className:"text-muted small",children:"Manage patient records and appointments"})]})})}),s.jsx("div",{className:"col-12 col-sm-6 col-lg-3",style:{padding:"0.5rem"},children:s.jsx("div",{className:"card border-0 shadow-sm h-100",style:{borderRadius:"16px",width:"100%"},children:s.jsxs("div",{className:"card-body p-4 text-center",children:[s.jsx("div",{className:"bg-success rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-calendar-check text-white"})}),s.jsx("h5",{className:"fw-bold text-success",children:"Appointments"}),s.jsx("p",{className:"text-muted small",children:"Schedule and manage appointments"})]})})}),s.jsx("div",{className:"col-12 col-sm-6 col-lg-3",style:{padding:"0.5rem"},children:s.jsx("div",{className:"card border-0 shadow-sm h-100",style:{borderRadius:"16px",width:"100%"},children:s.jsxs("div",{className:"card-body p-4 text-center",children:[s.jsx("div",{className:"bg-info rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-bar-chart text-white"})}),s.jsx("h5",{className:"fw-bold text-info",children:"Analytics"}),s.jsx("p",{className:"text-muted small",children:"View reports and analytics"})]})})}),s.jsx("div",{className:"col-12 col-sm-6 col-lg-3",style:{padding:"0.5rem"},children:s.jsx("div",{className:"card border-0 shadow-sm h-100",style:{borderRadius:"16px",width:"100%"},children:s.jsxs("div",{className:"card-body p-4 text-center",children:[s.jsx("div",{className:"bg-warning rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-gear text-white"})}),s.jsx("h5",{className:"fw-bold text-warning",children:"Settings"}),s.jsx("p",{className:"text-muted small",children:"Configure system settings"})]})})})]}),s.jsxs("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px",width:"100%"},children:[s.jsx("div",{className:"card-header bg-primary text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:s.jsxs("h5",{className:"mb-0 fw-semibold",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"Dashboard Status"]})}),s.jsxs("div",{className:"card-body p-5 text-center",children:[s.jsx("div",{className:"bg-light rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center",style:{width:"100px",height:"100px",fontSize:"2.5rem"},children:""}),s.jsx("h4",{className:"fw-bold mb-3",style:{color:"#1e293b"},children:"Dashboard Under Construction"}),s.jsx("p",{className:"text-muted fs-5 mb-4",children:"We're working hard to bring you a comprehensive admin dashboard with all the features you need."}),s.jsxs("div",{className:"row g-3 justify-content-center",style:{margin:0,width:"100%"},children:[s.jsx("div",{className:"col-12 col-sm-6 col-md-4",style:{padding:"0.5rem"},children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px",width:"100%"},children:[s.jsx("div",{className:"bg-success rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:s.jsx("i",{className:"bi bi-check text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-semibold text-dark",children:"User Management"}),s.jsx("small",{className:"text-muted",children:"Available"})]})]})}),s.jsx("div",{className:"col-12 col-sm-6 col-md-4",style:{padding:"0.5rem"},children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px",width:"100%"},children:[s.jsx("div",{className:"bg-success rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:s.jsx("i",{className:"bi bi-check text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-semibold text-dark",children:"System Logs"}),s.jsx("small",{className:"text-muted",children:"Available"})]})]})}),s.jsx("div",{className:"col-12 col-sm-6 col-md-4",style:{padding:"0.5rem"},children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px",width:"100%"},children:[s.jsx("div",{className:"bg-warning rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:s.jsx("i",{className:"bi bi-clock text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-semibold text-dark",children:"Analytics"}),s.jsx("small",{className:"text-muted",children:"Coming Soon"})]})]})})]})]})]})]})})})}),$R=()=>{const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState({}),o=async()=>{try{const f=await it.get("/api/admin/pending-devices");console.log("Pending devices:",f.data),t(f.data)}catch(f){console.error("Failed to load pending devices:",f)}finally{i(!1)}};D.useEffect(()=>{o()},[]);const c=async f=>{try{await it.post("/api/admin/approve-device",{device_id:f,device_name:r[f]||""}),o()}catch(h){console.error("Failed to approve:",h)}},u=async f=>{try{await it.post("/api/admin/reject-device",{device_id:f}),o()}catch(h){console.error("Failed to reject:",h)}};return s.jsxs("div",{className:"device-approvals-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:" Device Approvals"}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Review and approve staff device registrations"})]}),s.jsx("div",{className:"d-flex align-items-center",children:s.jsxs("span",{className:"badge bg-primary fs-6",children:[e.length," pending approval",e.length!==1?"s":""]})})]}),s.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:s.jsx("div",{className:"card-body p-0",children:n?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading pending devices..."})]})}):e.length===0?s.jsx("div",{className:"text-center text-muted",style:{height:"400px"},children:s.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center py-5",children:[s.jsx("div",{className:"bg-light rounded-circle mb-4 d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"3rem"},children:""}),s.jsx("h3",{className:"text-muted mb-3",children:"No devices pending approval"}),s.jsx("p",{className:"text-muted mb-4 fs-5",children:"All staff devices have been reviewed and approved."})]})}):s.jsx("div",{className:"table-responsive",style:{width:"100%"},children:s.jsxs("table",{className:"table table-hover mb-0",style:{width:"100%"},children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"5%"},children:[s.jsx("i",{className:"bi bi-hash me-2"}),"#"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"20%"},children:[s.jsx("i",{className:"bi bi-person me-2"}),"Staff Name"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"25%"},children:[s.jsx("i",{className:"bi bi-fingerprint me-2"}),"Fingerprint"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"15%"},children:[s.jsx("i",{className:"bi bi-key me-2"}),"Temp Code"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"20%"},children:[s.jsx("i",{className:"bi bi-laptop me-2"}),"Device Name"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0 text-center",style:{fontSize:"1.1rem",width:"15%"},children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Actions"]})]})}),s.jsx("tbody",{children:e.map((f,h)=>s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-4 py-3 border-0 text-center",style:{fontSize:"1rem"},children:s.jsx("span",{className:"badge bg-secondary",children:h+1})}),s.jsx("td",{className:"px-4 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:s.jsx("i",{className:"bi bi-person text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark",children:f.staff_name}),s.jsx("small",{className:"text-muted",children:"Staff Member"})]})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"text-truncate",style:{maxWidth:"200px"},title:f.device_fingerprint,children:s.jsx("code",{className:"text-muted small",children:f.device_fingerprint})})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("span",{className:"badge bg-warning text-dark",children:f.temporary_code})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("input",{type:"text",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"8px 12px",fontSize:"0.9rem"},placeholder:"e.g. Front Desk PC",value:r[f.id]||"",onChange:p=>a(x=>({...x,[f.id]:p.target.value}))})}),s.jsx("td",{className:"px-4 py-3 border-0 text-center",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"btn-group",role:"group",children:[s.jsx("button",{className:"btn btn-sm btn-success me-1",onClick:()=>c(f.id),style:{borderRadius:"8px"},title:"Approve device",children:s.jsx("i",{className:"bi bi-check-circle"})}),s.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>u(f.id),style:{borderRadius:"8px"},title:"Reject device",children:s.jsx("i",{className:"bi bi-x-circle"})})]})})]},f.id))})]})})})})]})},YR=()=>{const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState(null),[o,c]=D.useState(""),u=async()=>{try{const p=await it.get("/api/approved-devices");t(p.data)}catch(p){console.error("Failed to load approved devices:",p)}finally{i(!1)}},f=async p=>{try{await it.put("/api/rename-device",{device_id:p,device_name:o}),a(null),c(""),u()}catch(x){console.error("Rename failed:",x)}},h=async p=>{try{await it.post("/api/revoke-device",{device_id:p}),u()}catch(x){console.error("Revoke failed:",x)}};return D.useEffect(()=>{u()},[]),s.jsxs("div",{children:[s.jsx("h2",{children:"Approved Staff Devices"}),n?s.jsx("p",{children:"Loading devices..."}):s.jsxs("table",{className:"table table-bordered",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Staff Name"}),s.jsx("th",{children:"Device Name"}),s.jsx("th",{children:"Device Fingerprint"}),s.jsx("th",{children:"Last Updated"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:e.map(p=>s.jsxs("tr",{children:[s.jsx("td",{children:p.staff_name}),s.jsx("td",{children:r===p.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:o,onChange:x=>c(x.target.value),placeholder:"New device name"}),s.jsx("button",{className:"btn btn-success btn-sm ms-2",onClick:()=>f(p.id),children:"Save"}),s.jsx("button",{className:"btn btn-secondary btn-sm ms-1",onClick:()=>a(null),children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[p.device_name||"(Unnamed)",s.jsx("button",{className:"btn btn-link btn-sm ms-2",onClick:()=>{a(p.id),c(p.device_name||"")},children:"Edit"})]})}),s.jsx("td",{children:p.device_fingerprint}),s.jsx("td",{children:new Date(p.updated_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>h(p.id),children:"Revoke"})})]},p.id))})]})]})},XR=()=>{const[e,t]=D.useState({name:"",email:"",password:"",password_confirmation:""}),[n,i]=D.useState(null),[r,a]=D.useState({}),o=u=>{t({...e,[u.target.name]:u.target.value})},c=async u=>{var f,h;u.preventDefault(),i(null),a({});try{const p=await it.post("/api/admin/staff",e);i(" Staff account created!"),t({name:"",email:"",password:"",password_confirmation:""})}catch(p){(h=(f=p.response)==null?void 0:f.data)!=null&&h.errors?a(p.response.data.errors):i(" Something went wrong.")}};return s.jsxs("div",{className:"staff-register-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box"},children:[s.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-person-plus me-2"}),"Register New Staff Account"]}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Create new staff member accounts for clinic management"})]})}),n&&s.jsx("div",{className:"alert alert-info border-0 shadow-sm mb-4",role:"alert",style:{borderRadius:"12px"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("span",{className:"me-2",children:""}),n]})}),s.jsx("div",{className:"row g-2 g-md-3 g-lg-4",children:s.jsx("div",{className:"col-12 col-lg-8 col-xl-6",children:s.jsx("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px"},children:s.jsxs("div",{className:"card-body p-4",children:[s.jsxs("h5",{className:"card-title mb-4 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-person-plus me-2"}),"Staff Account Details"]}),s.jsx("form",{onSubmit:c,children:s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-12",children:[s.jsx("label",{className:"form-label fw-medium",children:"Full Name"}),s.jsx("input",{name:"name",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:e.name,onChange:o,placeholder:"e.g. Jane Dela Cruz",required:!0}),r.name&&s.jsx("div",{className:"text-danger mt-1 small",children:r.name[0]})]}),s.jsxs("div",{className:"col-12",children:[s.jsx("label",{className:"form-label fw-medium",children:"Email Address"}),s.jsx("input",{name:"email",type:"email",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:e.email,onChange:o,placeholder:"e.g. jane.staff@clinic.com",required:!0}),r.email&&s.jsx("div",{className:"text-danger mt-1 small",children:r.email[0]})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("label",{className:"form-label fw-medium",children:"Password"}),s.jsx("input",{name:"password",type:"password",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:e.password,onChange:o,placeholder:"Enter password",required:!0}),r.password&&s.jsx("div",{className:"text-danger mt-1 small",children:r.password[0]})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("label",{className:"form-label fw-medium",children:"Confirm Password"}),s.jsx("input",{name:"password_confirmation",type:"password",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:e.password_confirmation,onChange:o,placeholder:"Re-enter password",required:!0})]}),s.jsx("div",{className:"col-12",children:s.jsxs("button",{className:"btn w-100 border-0 shadow-sm",type:"submit",style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",borderRadius:"8px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-person-plus me-2"}),"Register Staff Member"]})})]})})]})})})})]})},KR=()=>{const[e,t]=D.useState(null),[n,i]=D.useState(""),[r,a]=D.useState(""),[o,c]=D.useState(!1);Tr(),D.useEffect(()=>{(async()=>{try{const h=await it.get("/api/user");t(h.data)}catch(h){console.error("Failed to fetch user info",h)}})()},[]);const u=async()=>{var f,h;i(""),a(""),c(!0);try{const p=await it.post("/api/send-password-reset");i(p.data.message||"Password reset link sent to your email!")}catch(p){const x=((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Failed to send reset link";a(x)}finally{c(!1)}};return e?s.jsx("div",{className:"admin-profile-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box"},children:s.jsx("div",{className:"container-fluid",children:s.jsx("div",{className:"row justify-content-center",children:s.jsxs("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1e293b"},children:" Admin Account"}),s.jsx("p",{className:"text-muted",children:"Manage your account settings and security"})]}),s.jsxs("div",{className:"card border-0 shadow-sm mb-4",style:{borderRadius:"16px"},children:[s.jsx("div",{className:"card-header bg-primary text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:s.jsxs("h5",{className:"mb-0 fw-semibold",children:[s.jsx("i",{className:"bi bi-person-circle me-2"}),"Profile Information"]})}),s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"row g-3",children:[s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-person text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted small fw-semibold",children:"Full Name"}),s.jsx("div",{className:"fw-bold text-dark",children:e.name})]})]})}),s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("div",{className:"bg-info rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-envelope text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted small fw-semibold",children:"Email Address"}),s.jsx("div",{className:"fw-bold text-dark",children:e.email})]})]})}),s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("div",{className:"bg-success rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-shield-check text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted small fw-semibold",children:"Role"}),s.jsx("div",{className:"fw-bold text-dark",children:s.jsx("span",{className:"badge bg-success",children:e.role})})]})]})})]})})]}),n&&s.jsxs("div",{className:"alert alert-success border-0 shadow-sm mb-4",style:{borderRadius:"12px"},role:"alert",children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),n]}),r&&s.jsxs("div",{className:"alert alert-danger border-0 shadow-sm mb-4",style:{borderRadius:"12px"},role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),r]}),s.jsxs("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:[s.jsx("div",{className:"card-header bg-warning text-dark border-0",style:{borderRadius:"16px 16px 0 0"},children:s.jsxs("h5",{className:"mb-0 fw-semibold",children:[s.jsx("i",{className:"bi bi-key me-2"}),"Security Settings"]})}),s.jsxs("div",{className:"card-body p-4",children:[s.jsx("p",{className:"text-muted mb-4",children:"Need to change your password? We'll send you a secure reset link to your email address."}),s.jsx("button",{className:"btn border-0 shadow-sm w-100",onClick:u,disabled:o,style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:o?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-envelope me-2"}),"Send Password Reset Link"]})})]})]})]})})})}):s.jsx("p",{children:"Loading..."})};function ZR(){const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState(!1),[o,c]=D.useState(!1),[u,f]=D.useState(null),[h,p]=D.useState({name:"",description:"",price:"",category:"",is_excluded_from_analytics:!1,estimated_minutes:"",is_special:!1,special_start_date:"",special_end_date:"",bundled_service_ids:[]}),[x,b]=D.useState(!1),[w,g]=D.useState(null),[_,j]=D.useState({});D.useRef(null);const[E,k]=D.useState(!1),[F,V]=D.useState(null);D.useEffect(()=>{ne()},[]);const ne=async()=>{try{const ie=await it.get("/api/services");t(ie.data)}catch(ie){console.error("Failed to fetch services",ie)}finally{i(!1)}},P=ie=>{const{name:pe,type:ae,checked:ue,value:Q}=ie.target;p({...h,[pe]:ae==="checkbox"?ue:Q})},I=ie=>{f(ie),c(!0)},Y=async()=>{try{await it.delete(`/api/services/${u.id}`),c(!1),f(null),ne()}catch(ie){console.error("Failed to delete service",ie)}},Z=async()=>{const ie=h.is_special,pe=!h.special_start_date&&!h.special_end_date;if(ie&&pe){k(!0),V(()=>()=>z());return}z()},z=async()=>{try{x?await it.put(`/api/services/${w}`,h):await it.post("/api/services",h),a(!1),ne(),U(),j({})}catch(ie){ie.response&&ie.response.status===422?j(ie.response.data.errors||{}):console.error("Failed to save service",ie)}},U=()=>{p({name:"",description:"",price:"",category:"",is_excluded_from_analytics:!1,estimated_minutes:"",is_special:!1,special_start_date:"",special_end_date:"",bundled_service_ids:[]}),b(!1),g(null)},J=ie=>{var pe;p({name:ie.name,description:ie.description,price:ie.price,category:ie.category||"",is_excluded_from_analytics:ie.is_excluded_from_analytics||!1,estimated_minutes:ie.estimated_minutes||"",is_special:ie.is_special||!1,special_start_date:ie.special_start_date||"",special_end_date:ie.special_end_date||"",bundled_service_ids:((pe=ie.bundled_services)==null?void 0:pe.map(ae=>ae.id))||[]}),g(ie.id),b(!0),a(!0)};return s.jsxs("div",{className:"service-manager-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100%",padding:"1.5rem 1rem",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Service Management"]}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Manage your clinic's services and packages"})]}),s.jsx("div",{className:"d-flex gap-2 flex-wrap",children:s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:()=>a(!0),style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Add New Service"]})})]}),s.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:s.jsx("div",{className:"card-body p-4",children:n?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Fetching services..."})]})}):s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0 w-100",children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-tag me-2"}),"Service Name"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-file-text me-2"}),"Description"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-currency-dollar me-2"}),"Price"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-grid me-2"}),"Category"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-clock me-2"}),"Time"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-star me-2"}),"Special"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-graph-up me-2"}),"Analytics"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0 text-center",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Actions"]})]})}),s.jsx("tbody",{children:e.map(ie=>{var pe;return s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-4 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark",children:ie.name}),((pe=ie.bundled_services)==null?void 0:pe.length)>0&&s.jsxs("small",{className:"text-muted",children:["(",ie.bundled_services.map(ae=>ae.name).join(", "),")"]})]})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"text-truncate",style:{maxWidth:"200px"},title:ie.description,children:ie.description||"-"})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"fw-bold text-success fs-5",children:["",Number(ie.price).toFixed(2)]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("span",{className:"badge bg-light text-dark",children:ie.category||"-"})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsxs("span",{className:"fw-semibold text-dark",children:[ie.estimated_minutes," mins"]}),s.jsx("small",{className:"text-muted",children:"Estimated"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"d-flex flex-column align-items-start",children:ie.is_special?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"badge bg-warning text-dark mb-1",children:"Special"}),s.jsx("small",{className:"text-muted",children:ie.special_start_date&&ie.special_end_date?`${ie.special_start_date}  ${ie.special_end_date}`:"(Permanent)"})]}):s.jsx("span",{className:"text-muted",children:"-"})})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("span",{className:`badge ${ie.is_excluded_from_analytics?"bg-danger":"bg-success"}`,children:ie.is_excluded_from_analytics?"Excluded":"Included"})}),s.jsx("td",{className:"px-4 py-3 text-center border-0",children:s.jsxs("div",{className:"btn-group",role:"group",children:[s.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>J(ie),title:"Edit service",children:s.jsx("i",{className:"bi bi-pencil"})}),s.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>I(ie),title:"Delete service",children:s.jsx("i",{className:"bi bi-trash"})})]})})]},ie.id)})})]})})})}),r&&s.jsx("div",{className:"modal d-block",tabIndex:"-1",role:"dialog",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:x?"Edit Service":"Add Service"}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>{a(!1),U()}})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:["Service Name ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"text",name:"name",className:`form-control ${_.name?"is-invalid":""}`,value:h.name,onChange:P,required:!0}),_.name&&s.jsx("div",{className:"invalid-feedback",children:_.name[0]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Description"}),s.jsx("textarea",{name:"description",className:`form-control ${_.description?"is-invalid":""}`,value:h.description,onChange:P}),_.description&&s.jsx("div",{className:"invalid-feedback",children:_.description[0]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:["Price () ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"number",name:"price",className:`form-control ${_.price?"is-invalid":""}`,value:h.price,onChange:P,required:!0}),_.price&&s.jsx("div",{className:"invalid-feedback",children:_.price[0]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:["Category ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs("select",{name:"category",className:`form-select ${_.category?"is-invalid":""}`,value:h.category,onChange:P,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Category --"}),s.jsx("option",{value:"Preventive",children:"Preventive"}),s.jsx("option",{value:"Restorative",children:"Restorative"}),s.jsx("option",{value:"Cosmetic",children:"Cosmetic"}),s.jsx("option",{value:"Surgical",children:"Surgical"}),s.jsx("option",{value:"Other",children:"Other"})]}),_.category&&s.jsx("div",{className:"invalid-feedback",children:_.category[0]})]}),s.jsxs("div",{className:"form-check mb-3",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:"excludeAnalytics",name:"is_excluded_from_analytics",checked:h.is_excluded_from_analytics,onChange:P}),s.jsxs("label",{className:"form-check-label",htmlFor:"excludeAnalytics",children:["Exclude from analytics",s.jsx("br",{}),s.jsx("small",{className:"text-muted",children:"Used to hide situational services like dentures from charts and usage-based reports."})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:["Estimated Procedure Time (minutes)"," ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"number",name:"estimated_minutes",className:`form-control ${_.estimated_minutes?"is-invalid":""}`,value:h.estimated_minutes,onChange:P,required:!0}),s.jsx("small",{className:"text-muted",children:"This will be automatically rounded up to the nearest 30 minutes."}),_.estimated_minutes&&s.jsx("div",{className:"invalid-feedback",children:_.estimated_minutes[0]})]}),s.jsxs("div",{className:"form-check mb-3",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:"isSpecial",name:"is_special",checked:h.is_special,onChange:P}),s.jsxs("label",{className:"form-check-label",htmlFor:"isSpecial",children:["Mark as Special / Package",s.jsx("br",{}),s.jsx("small",{className:"text-muted",children:"Special services require a start and end date and cannot be used with promo discounts."})]})]}),h.is_special&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:["Start Date"," ",s.jsx("small",{className:"text-muted",children:"(optional)"})]}),s.jsx("input",{type:"date",name:"special_start_date",className:`form-control ${_.special_start_date?"is-invalid":""}`,value:h.special_start_date,onChange:P}),_.special_start_date&&s.jsx("div",{className:"invalid-feedback",children:_.special_start_date[0]}),s.jsxs("label",{className:"form-label mt-2",children:["End Date ",s.jsx("small",{className:"text-muted",children:"(optional)"})]}),s.jsx("input",{type:"date",name:"special_end_date",className:`form-control ${_.special_end_date?"is-invalid":""}`,value:h.special_end_date,onChange:P}),_.special_end_date&&s.jsx("div",{className:"invalid-feedback",children:_.special_end_date[0]}),s.jsx("label",{className:"form-label",children:"Bundled Services"}),s.jsx("div",{className:"border rounded p-2",style:{maxHeight:200,overflowY:"auto"},children:e.filter(ie=>ie.id!==w).map(ie=>s.jsxs("div",{className:"form-check",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:`bundle-${ie.id}`,checked:h.bundled_service_ids.includes(ie.id),onChange:pe=>{const ae=pe.target.checked;p(ue=>{const Q=ae?[...ue.bundled_service_ids,ie.id]:ue.bundled_service_ids.filter(Ne=>Ne!==ie.id);return{...ue,bundled_service_ids:Q}})}}),s.jsx("label",{className:"form-check-label",htmlFor:`bundle-${ie.id}`,children:ie.name})]},ie.id))}),s.jsx("small",{className:"text-muted",children:"Tick services to include in this package."})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{a(!1),U()},children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:Z,children:"Save"})]})]})})}),o&&s.jsx("div",{className:"modal d-block",tabIndex:"-1",role:"dialog",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header bg-danger text-white",children:[s.jsx("h5",{className:"modal-title",children:" Confirm Deletion"}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>c(!1)})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("p",{children:["Are you sure you want to delete"," ",s.jsx("strong",{children:u==null?void 0:u.name}),"?",s.jsx("br",{}),s.jsx("span",{className:"text-danger",children:"This action cannot be undone."})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-danger",onClick:Y,children:"Yes, Delete"})]})]})})}),E&&s.jsx("div",{className:"modal d-block",tabIndex:"-1",role:"dialog",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:"Confirm Permanent Special"}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>k(!1)})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("p",{children:["This special service has no start or end date.",s.jsx("br",{}),"Do you want to save it as a ",s.jsx("strong",{children:"permanent package"}),"?"]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>k(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{k(!1),F&&F()},children:"Yes, Save as Permanent"})]})]})})})]})}function JR({show:e,services:t,onSelect:n,onClose:i}){const[r,a]=D.useState(null);Yl.useEffect(()=>{e||a(null)},[e]),D.useEffect(()=>{if(e){const u=document.body.style.overflow;return document.body.style.overflow="auto",()=>{document.body.style.overflow=u}}},[e]);const o=u=>{a(u)},c=()=>{r&&(n(r),a(null))};return e?s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1055,position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:"1.75rem 0",pointerEvents:"auto"},children:s.jsx("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered",style:{maxHeight:"calc(100vh - 3.5rem)",margin:"0 auto",display:"flex",alignItems:"center",minHeight:"calc(100vh - 3.5rem)"},children:s.jsxs("div",{className:"modal-content",style:{maxHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs("div",{className:"modal-header flex-shrink-0",children:[s.jsx("h5",{className:"modal-title",children:" Select Service"}),s.jsx("button",{type:"button",className:"btn-close",onClick:i})]}),s.jsxs("div",{className:"modal-body flex-grow-1",style:{overflowY:"auto",minHeight:0,padding:"1rem",maxHeight:"calc(100vh - 200px)"},children:[s.jsxs("div",{className:"alert alert-info border-0 mb-3",style:{borderRadius:"12px"},children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),'Click on a service to select it, then click "Select Service" to confirm.']}),s.jsx("ul",{className:"list-group",children:t.map(u=>s.jsxs("li",{className:`list-group-item list-group-item-action d-flex justify-content-between align-items-center ${r===u.id?"active":""}`,onClick:()=>o(u.id),role:"button",style:{cursor:"pointer",transition:"all 0.2s ease",borderRadius:r===u.id?"8px":"0"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:u.name}),s.jsx("br",{}),s.jsx("small",{className:"text-muted",children:u.description})]}),s.jsxs("span",{className:"badge bg-primary",children:["",u.price]})]},u.id))})]}),s.jsxs("div",{className:"modal-footer flex-shrink-0",style:{borderTop:"1px solid #dee2e6",padding:"1rem",backgroundColor:"#f8f9fa"},children:[s.jsx("button",{className:"btn btn-secondary",onClick:i,children:"Cancel"}),s.jsxs("button",{className:"btn btn-primary",onClick:c,disabled:!r,children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),"Select Service"]})]})]})})}):null}function QR({show:e,promo:t,service:n,onSave:i,onCancel:r,loading:a,isCreatingNew:o=!1}){const[c,u]=D.useState({start_date:"",end_date:"",discounted_price:""}),[f,h]=D.useState({});Yl.useEffect(()=>{u(t?{start_date:t.start_date,end_date:t.end_date,discounted_price:t.discounted_price}:{start_date:"",end_date:"",discounted_price:""}),h({})},[t]),D.useEffect(()=>{if(e){const b=document.body.style.overflow;return document.body.style.overflow="auto",()=>{document.body.style.overflow=b}}},[e]);const p=b=>{u({...c,[b.target.name]:b.target.value}),f[b.target.name]&&h({...f,[b.target.name]:null})},x=async b=>{var w;b.preventDefault(),h({});try{await i(c)}catch(g){if(((w=g.response)==null?void 0:w.status)===422){const _=g.response.data.errors;h(_||{})}}};return e?s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1055,position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:"3rem 0",pointerEvents:"auto"},children:s.jsx("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered",style:{maxHeight:"calc(100vh - 6rem)",margin:"0 auto",display:"flex",alignItems:"center",minHeight:"calc(100vh - 6rem)"},children:s.jsxs("div",{className:"modal-content",style:{maxHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs("div",{className:`modal-header ${o?"bg-success":"bg-info"} text-white flex-shrink-0`,children:[s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:`bi ${o?"bi-plus-circle":"bi-pencil"} me-2`}),o?"Create New Promo":"Edit Promo"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:r})]}),s.jsxs("form",{onSubmit:x,className:"d-flex flex-column h-100",children:[s.jsxs("div",{className:"modal-body flex-grow-1",style:{overflowY:"auto",minHeight:0,padding:"1rem",maxHeight:"calc(100vh - 280px)"},children:[s.jsxs("div",{className:"alert alert-info",children:[s.jsx("strong",{children:"Service:"})," ",n==null?void 0:n.name,s.jsx("br",{}),s.jsx("strong",{children:"Original Price:"})," ",n==null?void 0:n.price]}),s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-12",children:[s.jsx("label",{className:"form-label",children:"Start Date"}),s.jsx("input",{name:"start_date",type:"date",className:`form-control ${f.start_date?"is-invalid":""}`,value:c.start_date,onChange:p,required:!0}),f.start_date&&s.jsx("div",{className:"invalid-feedback",children:f.start_date[0]})]}),s.jsxs("div",{className:"col-12",children:[s.jsx("label",{className:"form-label",children:"End Date"}),s.jsx("input",{name:"end_date",type:"date",className:`form-control ${f.end_date?"is-invalid":""}`,value:c.end_date,onChange:p,required:!0}),f.end_date&&s.jsx("div",{className:"invalid-feedback",children:f.end_date[0]})]}),s.jsxs("div",{className:"col-12",children:[s.jsx("label",{className:"form-label",children:"Discounted Price ()"}),s.jsx("input",{name:"discounted_price",type:"number",step:"0.01",min:"0",max:n==null?void 0:n.price,className:`form-control ${f.discounted_price?"is-invalid":""}`,value:c.discounted_price,onChange:p,required:!0}),f.discounted_price&&s.jsx("div",{className:"invalid-feedback",children:f.discounted_price[0]}),s.jsxs("div",{className:"form-text",children:["Maximum: ",n==null?void 0:n.price]})]})]}),f.message&&s.jsxs("div",{className:"alert alert-danger mt-3",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),f.message]})]}),s.jsxs("div",{className:"modal-footer flex-shrink-0",style:{borderTop:"1px solid #dee2e6",padding:"1rem",backgroundColor:"#f8f9fa",position:"relative",zIndex:10},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,disabled:a,children:"Cancel"}),s.jsx("button",{type:"submit",className:`btn ${o?"btn-success":"btn-primary"}`,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),o?"Creating...":"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:`bi ${o?"bi-plus-circle":"bi-check-circle"} me-1`}),o?"Create Promo":"Update Promo"]})})]})]})]})})}):null}function eO(){var Ke,ve;const[e,t]=D.useState([]),[n,i]=D.useState(null),[r,a]=D.useState({start_date:"",end_date:"",discounted_price:""}),[o,c]=D.useState({}),[u,f]=D.useState(!1),[h,p]=D.useState(!1),[x,b]=D.useState(null),[w,g]=D.useState(!1),[_,j]=D.useState(null),[E,k]=D.useState(!1),[F,V]=D.useState(null),[ne,P]=D.useState(!1),[I,Y]=D.useState([]),[Z,z]=D.useState(!1),[U,J]=D.useState(!1),[ie,pe]=D.useState(!1),[ae,ue]=D.useState(null);D.useEffect(()=>{(async()=>{try{const[Ie,st]=await Promise.all([it.get("/api/services"),it.get("/api/discounts-overview")]);t(Ie.data),Y(st.data)}catch(Ie){console.error("Failed to load initial data",Ie)}})()},[]),D.useEffect(()=>()=>{document.body.style.overflow=""},[]);const Q=async()=>{z(!0);try{const{data:se}=await it.get("/api/discounts-overview");Y(se||[])}catch(se){console.error("Failed to load overview promos",se),Y([])}finally{z(!1)}},Ne=async(se=null)=>{var st;const Ie=se||r;f(!0),c({});try{if(ne){const Ze=await it.post(`/api/services/${n}/discounts`,Ie);Ze.data.warning&&alert(` Promo saved, but some dates are clinic closed:
${Ze.data.warning}`),k(!1),P(!1)}else _&&(await it.put(`/api/discounts/${_}`,Ie),k(!1),V(null),j(null));a({start_date:"",end_date:"",discounted_price:""}),g(!1),i(null),await Q()}catch(Ze){if(((st=Ze.response)==null?void 0:st.status)===422){const ft=Ze.response.data.message,vt=Ze.response.data.errors;if(ft!=null&&ft.includes("clinic closed")){alert(` Cannot save promo: ${ft}`);return}throw c(vt||{message:ft}),Ze}else throw console.error("Unknown error",Ze),Ze}finally{f(!1)}},q=D.useMemo(()=>e.find(se=>se.id===Number(n)),[e,n]),ke=D.useCallback(()=>{p(!0),document.body.style.overflow="hidden"},[]),O=D.useCallback(async se=>{p(!1),i(se),P(!0),V(null),j(null),k(!0)},[]);D.useCallback(se=>{V(se),j(se.id),P(!1),k(!0),document.body.style.overflow="hidden"},[]);const B=D.useCallback(()=>{k(!1),V(null),j(null),P(!1),i(null),document.body.style.overflow=""},[]),W=se=>{ue(se),J(!0),document.body.style.overflow="hidden"},X=async()=>{var se,Ie;if(ae)try{await it.post(`/api/discounts/${ae.id}/launch`),await Q(),J(!1),ue(null)}catch(st){console.error("Failed to launch promo",st),alert("Failed to launch promo: "+(((Ie=(se=st.response)==null?void 0:se.data)==null?void 0:Ie.message)||"Unknown error"))}finally{document.body.style.overflow=""}},le=()=>{J(!1),ue(null),document.body.style.overflow=""},Ce=se=>{ue(se),pe(!0),document.body.style.overflow="hidden"},_e=async()=>{var se,Ie;if(ae)try{await it.post(`/api/discounts/${ae.id}/cancel`),await Q(),pe(!1),ue(null)}catch(st){console.error("Failed to cancel promo",st),alert("Failed to cancel promo: "+(((Ie=(se=st.response)==null?void 0:se.data)==null?void 0:Ie.message)||"Unknown error"))}finally{document.body.style.overflow=""}},Le=()=>{pe(!1),ue(null),document.body.style.overflow=""},ze=se=>{const Ie=e.find(st=>st.id===se.service_id);Ie&&(i(Ie.id),V(se),j(se.id),P(!1),k(!0))},nt=se=>{if(se.status!=="launched"||!se.activated_at)return!1;const Ie=new Date(se.activated_at);return(new Date-Ie)/(1e3*60*60*24)<=1},Oe=D.useCallback(se=>{switch(se){case"planned":return s.jsx("span",{className:"badge bg-secondary",children:"Planned"});case"launched":return s.jsx("span",{className:"badge bg-success",children:"Launched"});case"canceled":return s.jsx("span",{className:"badge bg-warning text-dark",children:"Canceled"});default:return s.jsx("span",{className:"badge bg-light text-dark",children:"Unknown"})}},[]),$e=D.useMemo(()=>e.filter(se=>!se.is_special),[e]);return s.jsxs("div",{className:"service-discounts-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:" Service Promo Discounts"}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Create and manage promotional discounts for services"})]}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:ke,style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create New Promo"]})]}),s.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:s.jsxs("div",{className:"card-body p-4",children:[x&&s.jsxs("div",{className:"alert alert-success border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),x]}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-12 col-md-6",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("div",{className:"bg-info rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-info-circle text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-semibold text-dark",children:"Promo Management"}),s.jsx("small",{className:"text-muted",children:"Create and manage service discounts"})]})]})}),s.jsx("div",{className:"col-12 col-md-6 mt-3 mt-md-0",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("div",{className:"bg-warning rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-exclamation-triangle text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-semibold text-dark",children:"Restrictions"}),s.jsx("small",{className:"text-muted",children:"Specials/Packages cannot be discounted"})]})]})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-start align-items-md-center mb-4 gap-3",children:[s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-list-ul me-2 text-primary"}),"Active and Planned Promos"]}),s.jsx("div",{className:"flex-grow-1"}),s.jsxs("span",{className:"badge bg-primary fs-6",children:[I.length," promo",I.length!==1?"s":""]})]}),Z?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading promos..."})]})}):I.length>0?s.jsx("div",{className:"table-responsive",style:{width:"100%"},children:s.jsxs("table",{className:"table table-hover mb-0",style:{width:"100%"},children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-tag me-2"}),"Service Name"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-calendar-event me-2"}),"Start Date"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-calendar-x me-2"}),"End Date"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-currency-dollar me-2"}),"Discounted Price"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-activity me-2"}),"Status"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-clock-history me-2"}),"Activated Date"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0 text-center",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Actions"]})]})}),s.jsx("tbody",{children:I.map(se=>{var Ie,st;return s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-4 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark",children:((Ie=se.service)==null?void 0:Ie.name)||"-"}),s.jsx("small",{className:"text-muted",children:"Dental Service"})]})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:se.start_date}),s.jsx("small",{className:"text-muted",children:"Campaign Start"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:se.end_date}),s.jsx("small",{className:"text-muted",children:"Campaign End"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsxs("span",{className:"fw-bold text-success fs-5",children:["",Number(se.discounted_price).toFixed(2)]}),s.jsx("small",{className:"text-muted",children:"Promotional Price"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column align-items-start",children:[Oe(se.status),s.jsx("small",{className:"text-muted mt-1",children:"Current State"})]})}),s.jsx("td",{className:"px-4 py-3 text-muted border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:((st=se.activated_at)==null?void 0:st.split("T")[0])||"-"}),s.jsx("small",{className:"text-muted",children:se.activated_at?"Launch Date":"Not Activated"})]})}),s.jsxs("td",{className:"px-4 py-3 border-0 text-center",style:{fontSize:"1rem"},children:[se.status==="planned"&&s.jsxs("div",{className:"btn-group",role:"group",children:[s.jsx("button",{className:"btn btn-sm btn-success me-1",onClick:()=>W(se),title:"Launch this promo",style:{borderRadius:"8px"},children:s.jsx("i",{className:"bi bi-play-fill"})}),s.jsx("button",{className:"btn btn-sm btn-warning me-1",onClick:()=>Ce(se),title:"Cancel this promo",style:{borderRadius:"8px"},children:s.jsx("i",{className:"bi bi-x-circle"})}),s.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>ze(se),title:"Edit this promo",style:{borderRadius:"8px"},children:s.jsx("i",{className:"bi bi-pencil"})})]}),se.status==="launched"&&nt(se)&&s.jsxs("button",{className:"btn btn-sm btn-warning",onClick:()=>Ce(se),title:"Cancel this promo",style:{borderRadius:"8px"},children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Cancel"]}),se.status==="launched"&&!nt(se)&&s.jsxs("span",{className:"text-muted small",children:[s.jsx("i",{className:"bi bi-check-circle text-success"})," Active"]}),se.status==="canceled"&&s.jsxs("span",{className:"text-muted small",children:[s.jsx("i",{className:"bi bi-x-circle text-warning"})," Canceled"]})]})]},se.id)})})]})}):s.jsx("div",{className:"text-center text-muted",style:{height:"400px"},children:s.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center py-5",children:[s.jsx("div",{className:"bg-light rounded-circle mb-4 d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"3rem"},children:""}),s.jsx("h3",{className:"text-muted mb-3",children:"No active or planned promos"}),s.jsx("p",{className:"text-muted mb-4 fs-5",children:"Create your first promotional discount to get started."}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:ke,style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create First Promo"]})]})})]}),s.jsx(JR,{show:h,services:$e,onSelect:O,onClose:()=>{p(!1),document.body.style.overflow=""}}),s.jsx(QR,{show:E,promo:F,service:q,onSave:Ne,onCancel:B,loading:u,isCreatingNew:ne}),U&&ae&&s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1055},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header bg-success text-white",children:[s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:"bi bi-play-circle me-2"}),"Launch Promo"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:le})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"alert alert-warning",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),s.jsx("strong",{children:"Warning:"})," This action cannot be undone easily."]}),s.jsx("p",{children:"Are you sure you want to launch this promo?"}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h6",{className:"card-title",children:(Ke=ae.service)==null?void 0:Ke.name}),s.jsxs("p",{className:"card-text mb-1",children:[s.jsx("strong",{children:"Start Date:"})," ",ae.start_date,s.jsx("br",{}),s.jsx("strong",{children:"End Date:"})," ",ae.end_date,s.jsx("br",{}),s.jsx("strong",{children:"Discounted Price:"})," ",Number(ae.discounted_price).toFixed(2)]})]})})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:le,children:"Cancel"}),s.jsxs("button",{type:"button",className:"btn btn-success",onClick:X,children:[s.jsx("i",{className:"bi bi-play-fill me-1"}),"Launch Promo"]})]})]})})}),ie&&ae&&s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1055},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header bg-warning text-dark",children:[s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancel Promo"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:Le})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"alert alert-danger",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),s.jsx("strong",{children:"Warning:"})," This action cannot be undone."]}),s.jsx("p",{children:"Are you sure you want to cancel this promo?"}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h6",{className:"card-title",children:(ve=ae.service)==null?void 0:ve.name}),s.jsxs("p",{className:"card-text mb-1",children:[s.jsx("strong",{children:"Start Date:"})," ",ae.start_date,s.jsx("br",{}),s.jsx("strong",{children:"End Date:"})," ",ae.end_date,s.jsx("br",{}),s.jsx("strong",{children:"Discounted Price:"})," ",Number(ae.discounted_price).toFixed(2),s.jsx("br",{}),s.jsx("strong",{children:"Status:"})," ",Oe(ae.status)]})]})})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Le,children:"Cancel"}),s.jsxs("button",{type:"button",className:"btn btn-warning",onClick:_e,children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Cancel Promo"]})]})]})})}),u&&s.jsx(os,{message:"Saving promo..."})]})})]})}function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}var ns=Uint8Array,ko=Uint16Array,r2=Int32Array,p1=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g1=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rb=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XS=function(e,t){for(var n=new ko(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new r2(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},KS=XS(p1,2),ZS=KS.b,ab=KS.r;ZS[28]=258,ab[258]=28;var JS=XS(g1,0),tO=JS.b,Vw=JS.r,sb=new ko(32768);for(var Xi=0;Xi<32768;++Xi){var fd=(Xi&43690)>>1|(Xi&21845)<<1;fd=(fd&52428)>>2|(fd&13107)<<2,fd=(fd&61680)>>4|(fd&3855)<<4,sb[Xi]=((fd&65280)>>8|(fd&255)<<8)>>1}var kc=function(e,t,n){for(var i=e.length,r=0,a=new ko(t);r<i;++r)e[r]&&++a[e[r]-1];var o=new ko(t);for(r=1;r<t;++r)o[r]=o[r-1]+a[r-1]<<1;var c;if(n){c=new ko(1<<t);var u=15-t;for(r=0;r<i;++r)if(e[r])for(var f=r<<4|e[r],h=t-e[r],p=o[e[r]-1]++<<h,x=p|(1<<h)-1;p<=x;++p)c[sb[p]>>u]=f}else for(c=new ko(i),r=0;r<i;++r)e[r]&&(c[r]=sb[o[e[r]-1]++]>>15-e[r]);return c},Ad=new ns(288);for(var Xi=0;Xi<144;++Xi)Ad[Xi]=8;for(var Xi=144;Xi<256;++Xi)Ad[Xi]=9;for(var Xi=256;Xi<280;++Xi)Ad[Xi]=7;for(var Xi=280;Xi<288;++Xi)Ad[Xi]=8;var um=new ns(32);for(var Xi=0;Xi<32;++Xi)um[Xi]=5;var nO=kc(Ad,9,0),iO=kc(Ad,9,1),rO=kc(um,5,0),aO=kc(um,5,1),Jx=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Hl=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},Qx=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},a2=function(e){return(e+7)/8|0},QS=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ns(e.subarray(t,n))},sO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gl=function(e,t,n){var i=new Error(t||sO[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Gl),!n)throw i;return i},oO=function(e,t,n,i){var r=e.length,a=0;if(!r||t.f&&!t.l)return n||new ns(0);var o=!n,c=o||t.i!=2,u=t.i;o&&(n=new ns(r*3));var f=function(nt){var Oe=n.length;if(nt>Oe){var $e=new ns(Math.max(Oe*2,nt));$e.set(n),n=$e}},h=t.f||0,p=t.p||0,x=t.b||0,b=t.l,w=t.d,g=t.m,_=t.n,j=r*8;do{if(!b){h=Hl(e,p,1);var E=Hl(e,p+1,3);if(p+=3,E)if(E==1)b=iO,w=aO,g=9,_=5;else if(E==2){var ne=Hl(e,p,31)+257,P=Hl(e,p+10,15)+4,I=ne+Hl(e,p+5,31)+1;p+=14;for(var Y=new ns(I),Z=new ns(19),z=0;z<P;++z)Z[rb[z]]=Hl(e,p+z*3,7);p+=P*3;for(var U=Jx(Z),J=(1<<U)-1,ie=kc(Z,U,1),z=0;z<I;){var pe=ie[Hl(e,p,J)];p+=pe&15;var k=pe>>4;if(k<16)Y[z++]=k;else{var ae=0,ue=0;for(k==16?(ue=3+Hl(e,p,3),p+=2,ae=Y[z-1]):k==17?(ue=3+Hl(e,p,7),p+=3):k==18&&(ue=11+Hl(e,p,127),p+=7);ue--;)Y[z++]=ae}}var Q=Y.subarray(0,ne),Ne=Y.subarray(ne);g=Jx(Q),_=Jx(Ne),b=kc(Q,g,1),w=kc(Ne,_,1)}else Gl(1);else{var k=a2(p)+4,F=e[k-4]|e[k-3]<<8,V=k+F;if(V>r){u&&Gl(0);break}c&&f(x+F),n.set(e.subarray(k,V),x),t.b=x+=F,t.p=p=V*8,t.f=h;continue}if(p>j){u&&Gl(0);break}}c&&f(x+131072);for(var q=(1<<g)-1,ke=(1<<_)-1,O=p;;O=p){var ae=b[Qx(e,p)&q],B=ae>>4;if(p+=ae&15,p>j){u&&Gl(0);break}if(ae||Gl(2),B<256)n[x++]=B;else if(B==256){O=p,b=null;break}else{var W=B-254;if(B>264){var z=B-257,X=p1[z];W=Hl(e,p,(1<<X)-1)+ZS[z],p+=X}var le=w[Qx(e,p)&ke],Ce=le>>4;le||Gl(3),p+=le&15;var Ne=tO[Ce];if(Ce>3){var X=g1[Ce];Ne+=Qx(e,p)&(1<<X)-1,p+=X}if(p>j){u&&Gl(0);break}c&&f(x+131072);var _e=x+W;if(x<Ne){var Le=a-Ne,ze=Math.min(Ne,_e);for(Le+x<0&&Gl(3);x<ze;++x)n[x]=i[Le+x]}for(;x<_e;++x)n[x]=n[x-Ne]}}t.l=b,t.p=O,t.b=x,t.f=h,b&&(h=1,t.m=g,t.d=w,t.n=_)}while(!h);return x!=n.length&&o?QS(n,0,x):n.subarray(0,x)},hu=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},E0=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},ev=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:t4,l:0};if(r==1){var o=new ns(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(V,ne){return V.f-ne.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],f=0,h=1,p=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};h!=r-1;)c=n[n[f].f<n[p].f?f++:p++],u=n[f!=h&&n[f].f<n[p].f?f++:p++],n[h++]={s:-1,f:c.f+u.f,l:c,r:u};for(var x=a[0].s,i=1;i<r;++i)a[i].s>x&&(x=a[i].s);var b=new ko(x+1),w=ob(n[h-1],b,0);if(w>t){var i=0,g=0,_=w-t,j=1<<_;for(a.sort(function(ne,P){return b[P.s]-b[ne.s]||ne.f-P.f});i<r;++i){var E=a[i].s;if(b[E]>t)g+=j-(1<<w-b[E]),b[E]=t;else break}for(g>>=_;g>0;){var k=a[i].s;b[k]<t?g-=1<<t-b[k]++-1:++i}for(;i>=0&&g;--i){var F=a[i].s;b[F]==t&&(--b[F],++g)}w=t}return{t:new ns(b),l:w}},ob=function(e,t,n){return e.s==-1?Math.max(ob(e.l,t,n+1),ob(e.r,t,n+1)):t[e.s]=n},qw=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ko(++t),i=0,r=e[0],a=1,o=function(u){n[i++]=u},c=1;c<=t;++c)if(e[c]==r&&c!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=e[c]}return{c:n.subarray(0,i),n:t}},T0=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},e4=function(e,t,n){var i=n.length,r=a2(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var a=0;a<i;++a)e[r+a+4]=n[a];return(r+4+i)*8},Gw=function(e,t,n,i,r,a,o,c,u,f,h){hu(t,h++,n),++r[256];for(var p=ev(r,15),x=p.t,b=p.l,w=ev(a,15),g=w.t,_=w.l,j=qw(x),E=j.c,k=j.n,F=qw(g),V=F.c,ne=F.n,P=new ko(19),I=0;I<E.length;++I)++P[E[I]&31];for(var I=0;I<V.length;++I)++P[V[I]&31];for(var Y=ev(P,7),Z=Y.t,z=Y.l,U=19;U>4&&!Z[rb[U-1]];--U);var J=f+5<<3,ie=T0(r,Ad)+T0(a,um)+o,pe=T0(r,x)+T0(a,g)+o+14+3*U+T0(P,Z)+2*P[16]+3*P[17]+7*P[18];if(u>=0&&J<=ie&&J<=pe)return e4(t,h,e.subarray(u,u+f));var ae,ue,Q,Ne;if(hu(t,h,1+(pe<ie)),h+=2,pe<ie){ae=kc(x,b,0),ue=x,Q=kc(g,_,0),Ne=g;var q=kc(Z,z,0);hu(t,h,k-257),hu(t,h+5,ne-1),hu(t,h+10,U-4),h+=14;for(var I=0;I<U;++I)hu(t,h+3*I,Z[rb[I]]);h+=3*U;for(var ke=[E,V],O=0;O<2;++O)for(var B=ke[O],I=0;I<B.length;++I){var W=B[I]&31;hu(t,h,q[W]),h+=Z[W],W>15&&(hu(t,h,B[I]>>5&127),h+=B[I]>>12)}}else ae=nO,ue=Ad,Q=rO,Ne=um;for(var I=0;I<c;++I){var X=i[I];if(X>255){var W=X>>18&31;E0(t,h,ae[W+257]),h+=ue[W+257],W>7&&(hu(t,h,X>>23&31),h+=p1[W]);var le=X&31;E0(t,h,Q[le]),h+=Ne[le],le>3&&(E0(t,h,X>>5&8191),h+=g1[le])}else E0(t,h,ae[X]),h+=ue[X]}return E0(t,h,ae[256]),h+ue[256]},lO=new r2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t4=new ns(0),cO=function(e,t,n,i,r,a){var o=a.z||e.length,c=new ns(i+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(i,c.length-r),f=a.l,h=(a.r||0)&7;if(t){h&&(u[0]=a.r>>3);for(var p=lO[t-1],x=p>>13,b=p&8191,w=(1<<n)-1,g=a.p||new ko(32768),_=a.h||new ko(w+1),j=Math.ceil(n/3),E=2*j,k=function(Ke){return(e[Ke]^e[Ke+1]<<j^e[Ke+2]<<E)&w},F=new r2(25e3),V=new ko(288),ne=new ko(32),P=0,I=0,Y=a.i||0,Z=0,z=a.w||0,U=0;Y+2<o;++Y){var J=k(Y),ie=Y&32767,pe=_[J];if(g[ie]=pe,_[J]=ie,z<=Y){var ae=o-Y;if((P>7e3||Z>24576)&&(ae>423||!f)){h=Gw(e,u,0,F,V,ne,I,Z,U,Y-U,h),Z=P=I=0,U=Y;for(var ue=0;ue<286;++ue)V[ue]=0;for(var ue=0;ue<30;++ue)ne[ue]=0}var Q=2,Ne=0,q=b,ke=ie-pe&32767;if(ae>2&&J==k(Y-ke))for(var O=Math.min(x,ae)-1,B=Math.min(32767,Y),W=Math.min(258,ae);ke<=B&&--q&&ie!=pe;){if(e[Y+Q]==e[Y+Q-ke]){for(var X=0;X<W&&e[Y+X]==e[Y+X-ke];++X);if(X>Q){if(Q=X,Ne=ke,X>O)break;for(var le=Math.min(ke,X-2),Ce=0,ue=0;ue<le;++ue){var _e=Y-ke+ue&32767,Le=g[_e],ze=_e-Le&32767;ze>Ce&&(Ce=ze,pe=_e)}}}ie=pe,pe=g[ie],ke+=ie-pe&32767}if(Ne){F[Z++]=268435456|ab[Q]<<18|Vw[Ne];var nt=ab[Q]&31,Oe=Vw[Ne]&31;I+=p1[nt]+g1[Oe],++V[257+nt],++ne[Oe],z=Y+Q,++P}else F[Z++]=e[Y],++V[e[Y]]}}for(Y=Math.max(Y,z);Y<o;++Y)F[Z++]=e[Y],++V[e[Y]];h=Gw(e,u,f,F,V,ne,I,Z,U,Y-U,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=_,a.p=g,a.i=Y,a.w=z)}else{for(var Y=a.w||0;Y<o+f;Y+=65535){var $e=Y+65535;$e>=o&&(u[h/8|0]=f,$e=o),h=e4(u,h+1,e.subarray(Y,$e))}a.i=o}return QS(c,0,i+a2(h)+r)},n4=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,a=n.length|0,o=0;o!=a;){for(var c=Math.min(o+2655,a);o<c;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},uO=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new ns(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return cO(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},i4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},dO=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=n4();r.p(t.dictionary),i4(e,2,r.d())}},fO=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Gl(6,"invalid zlib data"),(e[1]>>5&1)==1&&Gl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function lb(e,t){t||(t={});var n=n4();n.p(e);var i=uO(e,t,t.dictionary?6:2,4);return dO(i,t),i4(i,i.length-4,n.d()),i}function hO(e,t){return oO(e.subarray(fO(e),-4),{i:2},t,t)}var mO=typeof TextDecoder<"u"&&new TextDecoder,pO=0;try{mO.decode(t4,{stream:!0}),pO=1}catch{}var dn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function tv(){dn.console&&typeof dn.console.log=="function"&&dn.console.log.apply(dn.console,arguments)}var ki={log:tv,warn:function(e){dn.console&&(typeof dn.console.warn=="function"?dn.console.warn.apply(dn.console,arguments):tv.call(null,arguments))},error:function(e){dn.console&&(typeof dn.console.error=="function"?dn.console.error.apply(dn.console,arguments):tv(e))}};function nv(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Xd(i.response,t,n)},i.onerror=function(){ki.error("could not download file")},i.send()}function $w(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Op(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var W0,cb,Xd=dn.saveAs||((typeof window>"u"?"undefined":xi(window))!=="object"||window!==dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=dn.URL||dn.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?$w(r.href)?nv(e,t,n):Op(r,r.target="_blank"):Op(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Op(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if($w(e))nv(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Op(i)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:xi(a)!=="object"&&(ki.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return nv(e,t,n);var r=e.type==="application/octet-stream",a=/constructor/i.test(dn.HTMLElement)||dn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&(typeof FileReader>"u"?"undefined":xi(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var h=c.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},c.readAsDataURL(e)}else{var u=dn.URL||dn.webkitURL,f=u.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function r4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,o=r.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iv(e,t){var n=e[0],i=e[1],r=e[2],a=e[3];n=Ka(n,i,r,a,t[0],7,-680876936),a=Ka(a,n,i,r,t[1],12,-389564586),r=Ka(r,a,n,i,t[2],17,606105819),i=Ka(i,r,a,n,t[3],22,-1044525330),n=Ka(n,i,r,a,t[4],7,-176418897),a=Ka(a,n,i,r,t[5],12,1200080426),r=Ka(r,a,n,i,t[6],17,-1473231341),i=Ka(i,r,a,n,t[7],22,-45705983),n=Ka(n,i,r,a,t[8],7,1770035416),a=Ka(a,n,i,r,t[9],12,-1958414417),r=Ka(r,a,n,i,t[10],17,-42063),i=Ka(i,r,a,n,t[11],22,-1990404162),n=Ka(n,i,r,a,t[12],7,1804603682),a=Ka(a,n,i,r,t[13],12,-40341101),r=Ka(r,a,n,i,t[14],17,-1502002290),n=Za(n,i=Ka(i,r,a,n,t[15],22,1236535329),r,a,t[1],5,-165796510),a=Za(a,n,i,r,t[6],9,-1069501632),r=Za(r,a,n,i,t[11],14,643717713),i=Za(i,r,a,n,t[0],20,-373897302),n=Za(n,i,r,a,t[5],5,-701558691),a=Za(a,n,i,r,t[10],9,38016083),r=Za(r,a,n,i,t[15],14,-660478335),i=Za(i,r,a,n,t[4],20,-405537848),n=Za(n,i,r,a,t[9],5,568446438),a=Za(a,n,i,r,t[14],9,-1019803690),r=Za(r,a,n,i,t[3],14,-187363961),i=Za(i,r,a,n,t[8],20,1163531501),n=Za(n,i,r,a,t[13],5,-1444681467),a=Za(a,n,i,r,t[2],9,-51403784),r=Za(r,a,n,i,t[7],14,1735328473),n=Ja(n,i=Za(i,r,a,n,t[12],20,-1926607734),r,a,t[5],4,-378558),a=Ja(a,n,i,r,t[8],11,-2022574463),r=Ja(r,a,n,i,t[11],16,1839030562),i=Ja(i,r,a,n,t[14],23,-35309556),n=Ja(n,i,r,a,t[1],4,-1530992060),a=Ja(a,n,i,r,t[4],11,1272893353),r=Ja(r,a,n,i,t[7],16,-155497632),i=Ja(i,r,a,n,t[10],23,-1094730640),n=Ja(n,i,r,a,t[13],4,681279174),a=Ja(a,n,i,r,t[0],11,-358537222),r=Ja(r,a,n,i,t[3],16,-722521979),i=Ja(i,r,a,n,t[6],23,76029189),n=Ja(n,i,r,a,t[9],4,-640364487),a=Ja(a,n,i,r,t[12],11,-421815835),r=Ja(r,a,n,i,t[15],16,530742520),n=Qa(n,i=Ja(i,r,a,n,t[2],23,-995338651),r,a,t[0],6,-198630844),a=Qa(a,n,i,r,t[7],10,1126891415),r=Qa(r,a,n,i,t[14],15,-1416354905),i=Qa(i,r,a,n,t[5],21,-57434055),n=Qa(n,i,r,a,t[12],6,1700485571),a=Qa(a,n,i,r,t[3],10,-1894986606),r=Qa(r,a,n,i,t[10],15,-1051523),i=Qa(i,r,a,n,t[1],21,-2054922799),n=Qa(n,i,r,a,t[8],6,1873313359),a=Qa(a,n,i,r,t[15],10,-30611744),r=Qa(r,a,n,i,t[6],15,-1560198380),i=Qa(i,r,a,n,t[13],21,1309151649),n=Qa(n,i,r,a,t[4],6,-145523070),a=Qa(a,n,i,r,t[11],10,-1120210379),r=Qa(r,a,n,i,t[2],15,718787259),i=Qa(i,r,a,n,t[9],21,-343485551),e[0]=vd(n,e[0]),e[1]=vd(i,e[1]),e[2]=vd(r,e[2]),e[3]=vd(a,e[3])}function x1(e,t,n,i,r,a){return t=vd(vd(t,e),vd(i,a)),vd(t<<r|t>>>32-r,n)}function Ka(e,t,n,i,r,a,o){return x1(t&n|~t&i,e,t,r,a,o)}function Za(e,t,n,i,r,a,o){return x1(t&i|n&~i,e,t,r,a,o)}function Ja(e,t,n,i,r,a,o){return x1(t^n^i,e,t,r,a,o)}function Qa(e,t,n,i,r,a,o){return x1(n^(t|~i),e,t,r,a,o)}function a4(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iv(i,gO(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(iv(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,iv(i,r),i}function gO(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}W0=dn.atob.bind(dn),cb=dn.btoa.bind(dn);var Yw="0123456789abcdef".split("");function xO(e){for(var t="",n=0;n<4;n++)t+=Yw[e>>8*n+4&15]+Yw[e>>8*n&15];return t}function vO(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ub(e){return a4(e).map(vO).join("")}var bO=function(e){for(var t=0;t<e.length;t++)e[t]=xO(e[t]);return e.join("")}(a4("hello"))!="5d41402abc4b2a76b9719d911017c592";function vd(e,t){if(bO){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function db(e,t){var n,i,r,a;if(e!==n){for(var o=(r=e,a=1+(256/e.length>>0),new Array(a+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var h=c[u];f=(f+h+o.charCodeAt(u))%256,c[u]=c[f],c[f]=h}n=e,i=c}else c=i;var p=t.length,x=0,b=0,w="";for(u=0;u<p;u++)b=(b+(h=c[x=(x+1)%256]))%256,c[x]=c[b],c[b]=h,o=c[(c[x]+c[b])%256],w+=String.fromCharCode(t.charCodeAt(u)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xw={print:4,modify:8,copy:16,"annot-forms":32};function hh(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(c){if(Xw.perm!==void 0)throw new Error("Invalid permission: "+c);r+=Xw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^r)),this.encryptionKey=ub(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=db(this.encryptionKey,this.padding)}function mh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=e[i]}return t}function Kw(e){if(xi(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,i)}catch(c){dn.console&&ki.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function dm(e){if(!(this instanceof dm))return new dm(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function s4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xd(e,t,n,i,r){if(!(this instanceof xd))return new xd(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,s4.call(this,i,r)}function rf(e,t,n,i,r){if(!(this instanceof rf))return new rf(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,s4.call(this,i,r)}function an(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],o=[],c=1,u=16,f="S",h=null;xi(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,x={},b={internal:{},__private__:{}};b.__private__.PubSub=Kw;var w="1.3",g=b.__private__.getPdfVersion=function(){return w};b.__private__.setPdfVersion=function(C){w=C};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return _};var j=b.__private__.getPageFormat=function(C){return _[C]};r=r||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},k=E.COMPAT;function F(){this.saveGraphicsState(),se(new Pt(Nt,0,0,-Nt,0,As()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),f="n",k=E.ADVANCED}function V(){this.restoreGraphicsState(),f="S",k=E.COMPAT}var ne=b.__private__.combineFontStyleAndFontWeight=function(C,te){if(C=="bold"&&te=="normal"||C=="bold"&&te==400||C=="normal"&&te=="italic"||C=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(C=te==400||te==="normal"?C==="italic"?"italic":"normal":te!=700&&te!=="bold"||C!=="normal"?(te==700?"bold":te)+""+C:"bold"),C};b.advancedAPI=function(C){var te=k===E.COMPAT;return te&&F.call(this),typeof C!="function"||(C(this),te&&V.call(this)),this},b.compatAPI=function(C){var te=k===E.ADVANCED;return te&&V.call(this),typeof C!="function"||(C(this),te&&F.call(this)),this},b.isAdvancedAPI=function(){return k===E.ADVANCED};var P,I=function(C){if(k!==E.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=b.roundToPrecision=b.__private__.roundToPrecision=function(C,te){var Te=t||te;if(isNaN(C)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(Te).replace(/0+$/,"")};P=b.hpf=b.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(C,16)};var Z=b.f2=b.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return Y(C,2)},z=b.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return Y(C,3)},U=b.scale=b.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return k===E.COMPAT?C*Nt:k===E.ADVANCED?C:void 0},J=function(C){return k===E.COMPAT?As()-C:k===E.ADVANCED?C:void 0},ie=function(C){return U(J(C))};b.__private__.setPrecision=b.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var pe,ae="00000000000000000000000000000000",ue=b.__private__.getFileId=function(){return ae},Q=b.__private__.setFileId=function(C){return ae=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Hi=new hh(h.userPermissions,h.userPassword,h.ownerPassword,ae)),ae};b.setFileId=function(C){return Q(C),this},b.getFileId=function(){return ue()};var Ne=b.__private__.convertDateToPDFDate=function(C){var te=C.getTimezoneOffset(),Te=te<0?"+":"-",De=Math.floor(Math.abs(te/60)),Ve=Math.abs(te%60),at=[Te,W(De),"'",W(Ve),"'"].join("");return["D:",C.getFullYear(),W(C.getMonth()+1),W(C.getDate()),W(C.getHours()),W(C.getMinutes()),W(C.getSeconds()),at].join("")},q=b.__private__.convertPDFDateToDate=function(C){var te=parseInt(C.substr(2,4),10),Te=parseInt(C.substr(6,2),10)-1,De=parseInt(C.substr(8,2),10),Ve=parseInt(C.substr(10,2),10),at=parseInt(C.substr(12,2),10),xt=parseInt(C.substr(14,2),10);return new Date(te,Te,De,Ve,at,xt,0)},ke=b.__private__.setCreationDate=function(C){var te;if(C===void 0&&(C=new Date),C instanceof Date)te=Ne(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=C}return pe=te},O=b.__private__.getCreationDate=function(C){var te=pe;return C==="jsDate"&&(te=q(pe)),te};b.setCreationDate=function(C){return ke(C),this},b.getCreationDate=function(C){return O(C)};var B,W=b.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},X=b.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},le=0,Ce=[],_e=[],Le=0,ze=[],nt=[],Oe=!1,$e=_e,Ke=function(){le=0,Le=0,_e=[],Ce=[],ze=[],xe=Wn(),ye=Wn()};b.__private__.setCustomOutputDestination=function(C){Oe=!0,$e=C};var ve=function(C){Oe||($e=C)};b.__private__.resetCustomOutputDestination=function(){Oe=!1,$e=_e};var se=b.__private__.out=function(C){return C=C.toString(),Le+=C.length+1,$e.push(C),$e},Ie=b.__private__.write=function(C){return se(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},st=b.__private__.getArrayBuffer=function(C){for(var te=C.length,Te=new ArrayBuffer(te),De=new Uint8Array(Te);te--;)De[te]=C.charCodeAt(te);return Te},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ze};var ft=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(C){return ft=k===E.ADVANCED?C/Nt:C,this};var vt,wt=b.__private__.getFontSize=b.getFontSize=function(){return k===E.COMPAT?ft:ft*Nt},Rt=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(C){return Rt=C,this},b.__private__.getR2L=b.getR2L=function(){return Rt};var Dt,Bt=b.__private__.setZoomMode=function(C){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))vt=C;else if(isNaN(C)){if(te.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');vt=C}else vt=parseInt(C,10)};b.__private__.getZoomMode=function(){return vt};var _t,It=b.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Dt=C};b.__private__.getPageMode=function(){return Dt};var Kt=b.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');_t=C};b.__private__.getLayoutMode=function(){return _t},b.__private__.setDisplayMode=b.setDisplayMode=function(C,te,Te){return Bt(C),Kt(te),It(Te),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(C){if(Object.keys(kt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[C]},b.__private__.getDocumentProperties=function(){return kt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(C){for(var te in kt)kt.hasOwnProperty(te)&&C[te]&&(kt[te]=C[te]);return this},b.__private__.setDocumentProperty=function(C,te){if(Object.keys(kt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[C]=te};var Zt,Nt,Gn,sn,ni,cn={},yn={},Hn=[],xn={},vr={},Un={},Ri={},yi=null,On=0,Jt=[],vn=new Kw(b),Oi=e.hotfixes||[],ai={},tr={},En=[],Pt=function C(te,Te,De,Ve,at,xt){if(!(this instanceof C))return new C(te,Te,De,Ve,at,xt);isNaN(te)&&(te=1),isNaN(Te)&&(Te=0),isNaN(De)&&(De=0),isNaN(Ve)&&(Ve=1),isNaN(at)&&(at=0),isNaN(xt)&&(xt=0),this._matrix=[te,Te,De,Ve,at,xt]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(C)},Pt.prototype.multiply=function(C){var te=C.sx*this.sx+C.shy*this.shx,Te=C.sx*this.shy+C.shy*this.sy,De=C.shx*this.sx+C.sy*this.shx,Ve=C.shx*this.shy+C.sy*this.sy,at=C.tx*this.sx+C.ty*this.shx+this.tx,xt=C.tx*this.shy+C.ty*this.sy+this.ty;return new Pt(te,Te,De,Ve,at,xt)},Pt.prototype.decompose=function(){var C=this.sx,te=this.shy,Te=this.shx,De=this.sy,Ve=this.tx,at=this.ty,xt=Math.sqrt(C*C+te*te),Mt=(C/=xt)*Te+(te/=xt)*De;Te-=C*Mt,De-=te*Mt;var Ut=Math.sqrt(Te*Te+De*De);return Mt/=Ut,C*(De/=Ut)<te*(Te/=Ut)&&(C=-C,te=-te,Mt=-Mt,xt=-xt),{scale:new Pt(xt,0,0,Ut,0,0),translate:new Pt(1,0,0,1,Ve,at),rotate:new Pt(C,te,-te,C,0,0),skew:new Pt(1,0,Mt,1,0,0)}},Pt.prototype.toString=function(C){return this.join(" ")},Pt.prototype.inversed=function(){var C=this.sx,te=this.shy,Te=this.shx,De=this.sy,Ve=this.tx,at=this.ty,xt=1/(C*De-te*Te),Mt=De*xt,Ut=-te*xt,tn=-Te*xt,un=C*xt;return new Pt(Mt,Ut,tn,un,-Mt*Ve-tn*at,-Ut*Ve-un*at)},Pt.prototype.applyToPoint=function(C){var te=C.x*this.sx+C.y*this.shx+this.tx,Te=C.x*this.shy+C.y*this.sy+this.ty;return new wl(te,Te)},Pt.prototype.applyToRectangle=function(C){var te=this.applyToPoint(C),Te=this.applyToPoint(new wl(C.x+C.w,C.y+C.h));return new zo(te.x,te.y,Te.x-te.x,Te.y-te.y)},Pt.prototype.clone=function(){var C=this.sx,te=this.shy,Te=this.shx,De=this.sy,Ve=this.tx,at=this.ty;return new Pt(C,te,Te,De,Ve,at)},b.Matrix=Pt;var fn=b.matrixMult=function(C,te){return te.multiply(C)},Dn=new Pt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Dn;var $n=function(C,te){if(!vr[C]){var Te=(te instanceof xd?"Sh":"P")+(Object.keys(xn).length+1).toString(10);te.id=Te,vr[C]=Te,xn[Te]=te,vn.publish("addPattern",te)}};b.ShadingPattern=xd,b.TilingPattern=rf,b.addShadingPattern=function(C,te){return I("addShadingPattern()"),$n(C,te),this},b.beginTilingPattern=function(C){I("beginTilingPattern()"),ac(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},b.endTilingPattern=function(C,te){I("endTilingPattern()"),te.stream=nt[B].join(`
`),$n(C,te),vn.publish("endTilingPattern",te),En.pop().restore()};var pn=b.__private__.newObject=function(){var C=Wn();return oe(C,!0),C},Wn=b.__private__.newObjectDeferred=function(){return le++,Ce[le]=function(){return Le},le},oe=function(C,te){return te=typeof te=="boolean"&&te,Ce[C]=Le,te&&se(C+" 0 obj"),C},je=b.__private__.newAdditionalObject=function(){var C={objId:Wn(),content:""};return ze.push(C),C},xe=Wn(),ye=Wn(),Ae=b.__private__.decodeColorString=function(C){var te=C.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Te=parseFloat(te[0]);te=[Te,Te,Te,"r"]}for(var De="#",Ve=0;Ve<3;Ve++)De+=("0"+Math.floor(255*parseFloat(te[Ve])).toString(16)).slice(-2);return De},Ee=b.__private__.encodeColorString=function(C){var te;typeof C=="string"&&(C={ch1:C});var Te=C.ch1,De=C.ch2,Ve=C.ch3,at=C.ch4,xt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var Mt=new r4(Te);if(Mt.ok)Te=Mt.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var Ut=parseInt(Te.substr(1),16);Te=Ut>>16&255,De=Ut>>8&255,Ve=255&Ut}if(De===void 0||at===void 0&&Te===De&&De===Ve)if(typeof Te=="string")te=Te+" "+xt[0];else switch(C.precision){case 2:te=Z(Te/255)+" "+xt[0];break;case 3:default:te=z(Te/255)+" "+xt[0]}else if(at===void 0||xi(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return te=["1.","1.","1.",xt[1]].join(" ");if(typeof Te=="string")te=[Te,De,Ve,xt[1]].join(" ");else switch(C.precision){case 2:te=[Z(Te/255),Z(De/255),Z(Ve/255),xt[1]].join(" ");break;default:case 3:te=[z(Te/255),z(De/255),z(Ve/255),xt[1]].join(" ")}}else if(typeof Te=="string")te=[Te,De,Ve,at,xt[2]].join(" ");else switch(C.precision){case 2:te=[Z(Te),Z(De),Z(Ve),Z(at),xt[2]].join(" ");break;case 3:default:te=[z(Te),z(De),z(Ve),z(at),xt[2]].join(" ")}return te},qe=b.__private__.getFilters=function(){return o},Qe=b.__private__.putStream=function(C){var te=(C=C||{}).data||"",Te=C.filters||qe(),De=C.alreadyAppliedFilters||[],Ve=C.addLength1||!1,at=te.length,xt=C.objectId,Mt=function(Wi){return Wi};if(h!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Mt=Hi.encryptor(xt,0));var Ut={};Te===!0&&(Te=["FlateEncode"]);var tn=C.additionalKeyValues||[],un=(Ut=an.API.processDataByFilters!==void 0?an.API.processDataByFilters(te,Te):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(Ut.data.length!==0&&(tn.push({key:"Length",value:Ut.data.length}),Ve===!0&&tn.push({key:"Length1",value:at})),un.length!=0)if(un.split("/").length-1==1)tn.push({key:"Filter",value:un});else{tn.push({key:"Filter",value:"["+un+"]"});for(var wn=0;wn<tn.length;wn+=1)if(tn[wn].key==="DecodeParms"){for(var wi=[],Ti=0;Ti<Ut.reverseChain.split("/").length-1;Ti+=1)wi.push("null");wi.push(tn[wn].value),tn[wn].value="["+wi.join(" ")+"]"}}se("<<");for(var Ui=0;Ui<tn.length;Ui++)se("/"+tn[Ui].key+" "+tn[Ui].value);se(">>"),Ut.data.length!==0&&(se("stream"),se(Mt(Ut.data)),se("endstream"))},Pe=b.__private__.putPage=function(C){var te=C.number,Te=C.data,De=C.objId,Ve=C.contentsObjId;oe(De,!0),se("<</Type /Page"),se("/Parent "+C.rootDictionaryObjId+" 0 R"),se("/Resources "+C.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(P(C.mediaBox.bottomLeftX))+" "+parseFloat(P(C.mediaBox.bottomLeftY))+" "+P(C.mediaBox.topRightX)+" "+P(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&se("/CropBox ["+P(C.cropBox.bottomLeftX)+" "+P(C.cropBox.bottomLeftY)+" "+P(C.cropBox.topRightX)+" "+P(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&se("/BleedBox ["+P(C.bleedBox.bottomLeftX)+" "+P(C.bleedBox.bottomLeftY)+" "+P(C.bleedBox.topRightX)+" "+P(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&se("/TrimBox ["+P(C.trimBox.bottomLeftX)+" "+P(C.trimBox.bottomLeftY)+" "+P(C.trimBox.topRightX)+" "+P(C.trimBox.topRightY)+"]"),C.artBox!==null&&se("/ArtBox ["+P(C.artBox.bottomLeftX)+" "+P(C.artBox.bottomLeftY)+" "+P(C.artBox.topRightX)+" "+P(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&se("/UserUnit "+C.userUnit),vn.publish("putPage",{objId:De,pageContext:Jt[te],pageNumber:te,page:Te}),se("/Contents "+Ve+" 0 R"),se(">>"),se("endobj");var at=Te.join(`
`);return k===E.ADVANCED&&(at+=`
Q`),oe(Ve,!0),Qe({data:at,filters:qe(),objectId:Ve}),se("endobj"),De},We=b.__private__.putPages=function(){var C,te,Te=[];for(C=1;C<=On;C++)Jt[C].objId=Wn(),Jt[C].contentsObjId=Wn();for(C=1;C<=On;C++)Te.push(Pe({number:C,data:nt[C],objId:Jt[C].objId,contentsObjId:Jt[C].contentsObjId,mediaBox:Jt[C].mediaBox,cropBox:Jt[C].cropBox,bleedBox:Jt[C].bleedBox,trimBox:Jt[C].trimBox,artBox:Jt[C].artBox,userUnit:Jt[C].userUnit,rootDictionaryObjId:xe,resourceDictionaryObjId:ye}));oe(xe,!0),se("<</Type /Pages");var De="/Kids [";for(te=0;te<On;te++)De+=Te[te]+" 0 R ";se(De+"]"),se("/Count "+On),se(">>"),se("endobj"),vn.publish("postPutPages")},Ge=function(C){vn.publish("putFont",{font:C,out:se,newObject:pn,putStream:Qe}),C.isAlreadyPutted!==!0&&(C.objectNumber=pn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+mh(C.postScriptName)),se("/Subtype /Type1"),typeof C.encoding=="string"&&se("/Encoding /"+C.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},ut=function(){for(var C in cn)cn.hasOwnProperty(C)&&(p===!1||p===!0&&x.hasOwnProperty(C))&&Ge(cn[C])},yt=function(C){C.objectNumber=pn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[P(C.x),P(C.y),P(C.x+C.width),P(C.y+C.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var Te=C.pages[1].join(`
`);Qe({data:Te,additionalKeyValues:te,objectId:C.objectNumber}),se("endobj")},Ct=function(){for(var C in ai)ai.hasOwnProperty(C)&&yt(ai[C])},bt=function(C,te){var Te,De=[],Ve=1/(te-1);for(Te=0;Te<1;Te+=Ve)De.push(Te);if(De.push(1),C[0].offset!=0){var at={offset:0,color:C[0].color};C.unshift(at)}if(C[C.length-1].offset!=1){var xt={offset:1,color:C[C.length-1].color};C.push(xt)}for(var Mt="",Ut=0,tn=0;tn<De.length;tn++){for(Te=De[tn];Te>C[Ut+1].offset;)Ut++;var un=C[Ut].offset,wn=(Te-un)/(C[Ut+1].offset-un),wi=C[Ut].color,Ti=C[Ut+1].color;Mt+=X(Math.round((1-wn)*wi[0]+wn*Ti[0]).toString(16))+X(Math.round((1-wn)*wi[1]+wn*Ti[1]).toString(16))+X(Math.round((1-wn)*wi[2]+wn*Ti[2]).toString(16))}return Mt.trim()},jt=function(C,te){te||(te=21);var Te=pn(),De=bt(C.colors,te),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+te+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe({data:De,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),se("endobj"),C.objectNumber=pn(),se("<< /ShadingType "+C.type),se("/ColorSpace /DeviceRGB");var at="/Coords ["+P(parseFloat(C.coords[0]))+" "+P(parseFloat(C.coords[1]))+" ";C.type===2?at+=P(parseFloat(C.coords[2]))+" "+P(parseFloat(C.coords[3])):at+=P(parseFloat(C.coords[2]))+" "+P(parseFloat(C.coords[3]))+" "+P(parseFloat(C.coords[4]))+" "+P(parseFloat(C.coords[5])),se(at+="]"),C.matrix&&se("/Matrix ["+C.matrix.toString()+"]"),se("/Function "+Te+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},nn=function(C,te){var Te=Wn(),De=pn();te.push({resourcesOid:Te,objectOid:De}),C.objectNumber=De;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+C.boundingBox.map(P).join(" ")+"]"}),Ve.push({key:"XStep",value:P(C.xStep)}),Ve.push({key:"YStep",value:P(C.yStep)}),Ve.push({key:"Resources",value:Te+" 0 R"}),C.matrix&&Ve.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Qe({data:C.stream,additionalKeyValues:Ve,objectId:C.objectNumber}),se("endobj")},kn=function(C){var te;for(te in xn)xn.hasOwnProperty(te)&&(xn[te]instanceof xd?jt(xn[te]):xn[te]instanceof rf&&nn(xn[te],C))},Tn=function(C){for(var te in C.objectNumber=pn(),se("<<"),C)switch(te){case"opacity":se("/ca "+Z(C[te]));break;case"stroke-opacity":se("/CA "+Z(C[te]))}se(">>"),se("endobj")},Qn=function(){var C;for(C in Un)Un.hasOwnProperty(C)&&Tn(Un[C])},Hr=function(){for(var C in se("/XObject <<"),ai)ai.hasOwnProperty(C)&&ai[C].objectNumber>=0&&se("/"+C+" "+ai[C].objectNumber+" 0 R");vn.publish("putXobjectDict"),se(">>")},Ia=function(){Hi.oid=pn(),se("<<"),se("/Filter /Standard"),se("/V "+Hi.v),se("/R "+Hi.r),se("/U <"+Hi.toHexString(Hi.U)+">"),se("/O <"+Hi.toHexString(Hi.O)+">"),se("/P "+Hi.P),se(">>"),se("endobj")},Cr=function(){for(var C in se("/Font <<"),cn)cn.hasOwnProperty(C)&&(p===!1||p===!0&&x.hasOwnProperty(C))&&se("/"+C+" "+cn[C].objectNumber+" 0 R");se(">>")},ta=function(){if(Object.keys(xn).length>0){for(var C in se("/Shading <<"),xn)xn.hasOwnProperty(C)&&xn[C]instanceof xd&&xn[C].objectNumber>=0&&se("/"+C+" "+xn[C].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),se(">>")}},xa=function(C){if(Object.keys(xn).length>0){for(var te in se("/Pattern <<"),xn)xn.hasOwnProperty(te)&&xn[te]instanceof b.TilingPattern&&xn[te].objectNumber>=0&&xn[te].objectNumber<C&&se("/"+te+" "+xn[te].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),se(">>")}},na=function(){if(Object.keys(Un).length>0){var C;for(C in se("/ExtGState <<"),Un)Un.hasOwnProperty(C)&&Un[C].objectNumber>=0&&se("/"+C+" "+Un[C].objectNumber+" 0 R");vn.publish("putGStateDict"),se(">>")}},Ai=function(C){oe(C.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cr(),ta(),xa(C.objectOid),na(),Hr(),se(">>"),se("endobj")},kr=function(){var C=[];ut(),Qn(),Ct(),kn(C),vn.publish("putResources"),C.forEach(Ai),Ai({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources")},nc=function(){vn.publish("putAdditionalObjects");for(var C=0;C<ze.length;C++){var te=ze[C];oe(te.objId,!0),se(te.content),se("endobj")}vn.publish("postPutAdditionalObjects")},Pc=function(C){yn[C.fontName]=yn[C.fontName]||{},yn[C.fontName][C.fontStyle]=C.id},Js=function(C,te,Te,De,Ve){var at={id:"F"+(Object.keys(cn).length+1).toString(10),postScriptName:C,fontName:te,fontStyle:Te,encoding:De,isStandardFont:Ve||!1,metadata:{}};return vn.publish("addFont",{font:at,instance:this}),cn[at.id]=at,Pc(at),at.id},Ic=function(C){for(var te=0,Te=Ze.length;te<Te;te++){var De=Js.call(this,C[te][0],C[te][1],C[te][2],Ze[te][3],!0);p===!1&&(x[De]=!0);var Ve=C[te][0].split("-");Pc({id:De,fontName:Ve[0],fontStyle:Ve[1]||""})}vn.publish("addFonts",{fonts:cn,dictionary:yn})},Ei=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(De){var te=De.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var Te="Error in function "+te.split(`
`)[0].split("<")[0]+": "+De.message;if(!dn.console)throw new Error(Te);dn.console.error(Te,De),dn.alert&&alert(Te)}},C.foo.bar=C,C.foo},ar=function(C,te){var Te,De,Ve,at,xt,Mt,Ut,tn,un;if(Ve=(te=te||{}).sourceEncoding||"Unicode",xt=te.outputEncoding,(te.autoencode||xt)&&cn[Zt].metadata&&cn[Zt].metadata[Ve]&&cn[Zt].metadata[Ve].encoding&&(at=cn[Zt].metadata[Ve].encoding,!xt&&cn[Zt].encoding&&(xt=cn[Zt].encoding),!xt&&at.codePages&&(xt=at.codePages[0]),typeof xt=="string"&&(xt=at[xt]),xt)){for(Ut=!1,Mt=[],Te=0,De=C.length;Te<De;Te++)(tn=xt[C.charCodeAt(Te)])?Mt.push(String.fromCharCode(tn)):Mt.push(C[Te]),Mt[Te].charCodeAt(0)>>8&&(Ut=!0);C=Mt.join("")}for(Te=C.length;Ut===void 0&&Te!==0;)C.charCodeAt(Te-1)>>8&&(Ut=!0),Te--;if(!Ut)return C;for(Mt=te.noBOM?[]:[254,255],Te=0,De=C.length;Te<De;Te++){if((un=(tn=C.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(un),Mt.push(tn-(un<<8))}return String.fromCharCode.apply(void 0,Mt)},Yn=b.__private__.pdfEscape=b.pdfEscape=function(C,te){return ar(C,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sr=b.__private__.beginPage=function(C){nt[++On]=[],Jt[On]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},or(On),ve(nt[B])},gl=function(C,te){var Te,De,Ve;switch(n=te||n,typeof C=="string"&&(Te=j(C.toLowerCase()),Array.isArray(Te)&&(De=Te[0],Ve=Te[1])),Array.isArray(C)&&(De=C[0]*Nt,Ve=C[1]*Nt),isNaN(De)&&(De=r[0],Ve=r[1]),(De>14400||Ve>14400)&&(ki.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ve=Math.min(14400,Ve)),r=[De,Ve],n.substr(0,1)){case"l":Ve>De&&(r=[Ve,De]);break;case"p":De>Ve&&(r=[Ve,De])}sr(r),Hc(Ss),se(za),Uc!==0&&se(Uc+" J"),rc!==0&&se(rc+" j"),vn.publish("addPage",{pageNumber:On})},xl=function(C){C>0&&C<=On&&(nt.splice(C,1),Jt.splice(C,1),On--,B>On&&(B=On),this.setPage(B))},or=function(C){C>0&&C<=On&&(B=C)},ws=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return nt.length-1},Do=function(C,te,Te){var De,Ve=void 0;return Te=Te||{},C=C!==void 0?C:cn[Zt].fontName,te=te!==void 0?te:cn[Zt].fontStyle,De=C.toLowerCase(),yn[De]!==void 0&&yn[De][te]!==void 0?Ve=yn[De][te]:yn[C]!==void 0&&yn[C][te]!==void 0?Ve=yn[C][te]:Te.disableWarning===!1&&ki.warn("Unable to look up font label for font '"+C+"', '"+te+"'. Refer to getFontList() for available fonts."),Ve||Te.noFallback||(Ve=yn.times[te])==null&&(Ve=yn.times.normal),Ve},va=b.__private__.putInfo=function(){var C=pn(),te=function(De){return De};for(var Te in h!==null&&(te=Hi.encryptor(C,0)),se("<<"),se("/Producer ("+Yn(te("jsPDF "+an.version))+")"),kt)kt.hasOwnProperty(Te)&&kt[Te]&&se("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Yn(te(kt[Te]))+")");se("/CreationDate ("+Yn(te(pe))+")"),se(">>"),se("endobj")},vl=b.__private__.putCatalog=function(C){var te=(C=C||{}).rootDictionaryObjId||xe;switch(pn(),se("<<"),se("/Type /Catalog"),se("/Pages "+te+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+vt;Te.substr(Te.length-1)==="%"&&(vt=parseInt(vt)/100),typeof vt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+Z(vt)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Dt&&se("/PageMode /"+Dt),vn.publish("putCatalog"),se(">>"),se("endobj")},Bc=b.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(le+1)),se("/Root "+le+" 0 R"),se("/Info "+(le-1)+" 0 R"),h!==null&&se("/Encrypt "+Hi.oid+" 0 R"),se("/ID [ <"+ae+"> <"+ae+"> ]"),se(">>")},Qs=b.__private__.putHeader=function(){se("%PDF-"+w),se("%")},bl=b.__private__.putXRef=function(){var C="0000000000";se("xref"),se("0 "+(le+1)),se("0000000000 65535 f ");for(var te=1;te<=le;te++)typeof Ce[te]=="function"?se((C+Ce[te]()).slice(-10)+" 00000 n "):Ce[te]!==void 0?se((C+Ce[te]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},_s=b.__private__.buildDocument=function(){Ke(),ve(_e),vn.publish("buildDocument"),Qs(),We(),nc(),kr(),h!==null&&Ia(),va(),vl();var C=Le;return bl(),Bc(),se("startxref"),se(""+C),se("%%EOF"),ve(nt[B]),_e.join(`
`)},ia=b.__private__.getBlob=function(C){return new Blob([st(C)],{type:"application/pdf"})},eo=b.output=b.__private__.output=Ei(function(C,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",C){case void 0:return _s();case"save":b.save(te.filename);break;case"arraybuffer":return st(_s());case"blob":return ia(_s());case"bloburi":case"bloburl":if(dn.URL!==void 0&&typeof dn.URL.createObjectURL=="function")return dn.URL&&dn.URL.createObjectURL(ia(_s()))||void 0;ki.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",De=_s();try{Te=cb(De)}catch{Te=cb(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+te.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ve=te.pdfObjectUrl,at="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Mt=dn.open();return Mt!==null&&Mt.document.write(xt),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',tn=dn.open();if(tn!==null){tn.document.write(Ut);var un=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=te.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(un.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',wi=dn.open();if(wi!==null&&(wi.document.write(wn),wi.document.title=te.filename),wi||typeof safari>"u")return wi;break;case"datauri":case"dataurl":return dn.document.location.href=this.output("datauristring",te);default:return null}}),ba=function(C){return Array.isArray(Oi)===!0&&Oi.indexOf(C)>-1};switch(i){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=ba("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Nt=i}var Hi=null;ke(),Q();var to=function(C){return h!==null?Hi.encryptor(C,0):function(te){return te}},ya=b.__private__.getPageInfo=b.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[C].objId,pageNumber:C,pageContext:Jt[C]}},rn=b.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Jt)if(Jt[te].objId===C)break;return ya(te)},no=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Jt[B].objId,pageNumber:B,pageContext:Jt[B]}};b.addPage=function(){return gl.apply(this,arguments),this},b.setPage=function(){return or.apply(this,arguments),ve.call(this,nt[B]),this},b.insertPage=function(C){return this.addPage(),this.movePage(B,C),this},b.movePage=function(C,te){var Te,De;if(C>te){Te=nt[C],De=Jt[C];for(var Ve=C;Ve>te;Ve--)nt[Ve]=nt[Ve-1],Jt[Ve]=Jt[Ve-1];nt[te]=Te,Jt[te]=De,this.setPage(te)}else if(C<te){Te=nt[C],De=Jt[C];for(var at=C;at<te;at++)nt[at]=nt[at+1],Jt[at]=Jt[at+1];nt[te]=Te,Jt[te]=De,this.setPage(te)}return this},b.deletePage=function(){return xl.apply(this,arguments),this},b.__private__.text=b.text=function(C,te,Te,De,Ve){var at,xt,Mt,Ut,tn,un,wn,wi,Ti,Ui=(De=De||{}).scope||this;if(typeof C=="number"&&typeof te=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Wi=Te;Te=te,te=C,C=Wi}if(arguments[3]instanceof Pt?(I("The transform parameter of text() with a Matrix value"),Ti=Ve):(Mt=arguments[4],Ut=arguments[5],xi(wn=arguments[3])==="object"&&wn!==null||(typeof Mt=="string"&&(Ut=Mt,Mt=null),typeof wn=="string"&&(Ut=wn,wn=null),typeof wn=="number"&&(Mt=wn,wn=null),De={flags:wn,angle:Mt,align:Ut})),isNaN(te)||isNaN(Te)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Ui;var lr="",cs=!1,Sa=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:Wr,us=Ui.internal.scaleFactor;function qr(_n){return _n=_n.split("	").join(Array(De.TabLen||9).join(" ")),Yn(_n,wn)}function Es(_n){for(var Nn,li=_n.concat(),qi=[],Va=li.length;Va--;)typeof(Nn=li.shift())=="string"?qi.push(Nn):Array.isArray(_n)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?qi.push(Nn[0]):qi.push([Nn[0],Nn[1],Nn[2]]);return qi}function Ts(_n,Nn){var li;if(typeof _n=="string")li=Nn(_n)[0];else if(Array.isArray(_n)){for(var qi,Va,Ko=_n.concat(),Zo=[],yr=Ko.length;yr--;)typeof(qi=Ko.shift())=="string"?Zo.push(Nn(qi)[0]):Array.isArray(qi)&&typeof qi[0]=="string"&&(Va=Nn(qi[0],qi[1],qi[2]),Zo.push([Va[0],Va[1],Va[2]]));li=Zo}return li}var Nl=!1,Uo=!0;if(typeof C=="string")Nl=!0;else if(Array.isArray(C)){var sc=C.concat();xt=[];for(var Wo,Di=sc.length;Di--;)(typeof(Wo=sc.shift())!="string"||Array.isArray(Wo)&&typeof Wo[0]!="string")&&(Uo=!1);Nl=Uo}if(Nl===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Vo=ft/Ui.internal.scaleFactor,Sl=Vo*(Sa-1);switch(De.baseline){case"bottom":Te-=Sl;break;case"top":Te+=Vo-Sl;break;case"hanging":Te+=Vo-2*Sl;break;case"middle":Te+=Vo/2-Sl}if((un=De.maxWidth||0)>0&&(typeof C=="string"?C=Ui.splitTextToSize(C,un):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(_n,Nn){return _n.concat(Ui.splitTextToSize(Nn,un))},[]))),at={text:C,x:te,y:Te,options:De,mutex:{pdfEscape:Yn,activeFontKey:Zt,fonts:cn,activeFontSize:ft}},vn.publish("preProcessText",at),C=at.text,Mt=(De=at.options).angle,!(Ti instanceof Pt)&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,De.rotationDirection===0&&(Mt=-Mt),k===E.ADVANCED&&(Mt=-Mt);var qo=Math.cos(Mt),oc=Math.sin(Mt);Ti=new Pt(qo,oc,-oc,qo,0,0)}else Mt&&Mt instanceof Pt&&(Ti=Mt);k!==E.ADVANCED||Ti||(Ti=Dn),(tn=De.charSpace||Bo)!==void 0&&(lr+=P(U(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wi=De.horizontalScale)!==void 0&&(lr+=P(100*wi)+` Tz
`),De.lang;var aa=-1,Bu=De.renderingMode!==void 0?De.renderingMode:De.stroke,lc=Ui.internal.getCurrentPageInfo().pageContext;switch(Bu){case 0:case!1:case"fill":aa=0;break;case 1:case!0:case"stroke":aa=1;break;case 2:case"fillThenStroke":aa=2;break;case 3:case"invisible":aa=3;break;case 4:case"fillAndAddForClipping":aa=4;break;case 5:case"strokeAndAddPathForClipping":aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":aa=6;break;case 7:case"addToPathForClipping":aa=7}var $c=lc.usedRenderingMode!==void 0?lc.usedRenderingMode:-1;aa!==-1?lr+=aa+` Tr
`:$c!==-1&&(lr+=`0 Tr
`),aa!==-1&&(lc.usedRenderingMode=aa),Ut=De.align||"left";var Gr,nr=ft*Sa,Cs=Ui.internal.pageSize.getWidth(),Lr=cn[Zt];tn=De.charSpace||Bo,un=De.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},De.flags);var oo=[],Go=function(_n){return Ui.getStringUnitWidth(_n,{font:Lr,charSpace:tn,fontSize:ft,doKerning:!1})*ft/us};if(Object.prototype.toString.call(C)==="[object Array]"){var Rr;xt=Es(C),Ut!=="left"&&(Gr=xt.map(Go));var cr,$o=0;if(Ut==="right"){te-=Gr[0],C=[],Di=xt.length;for(var sa=0;sa<Di;sa++)sa===0?(cr=ra(te),Rr=Vr(Te)):(cr=U($o-Gr[sa]),Rr=-nr),C.push([xt[sa],cr,Rr]),$o=Gr[sa]}else if(Ut==="center"){te-=Gr[0]/2,C=[],Di=xt.length;for(var ds=0;ds<Di;ds++)ds===0?(cr=ra(te),Rr=Vr(Te)):(cr=U(($o-Gr[ds])/2),Rr=-nr),C.push([xt[ds],cr,Rr]),$o=Gr[ds]}else if(Ut==="left"){C=[],Di=xt.length;for(var ks=0;ks<Di;ks++)C.push(xt[ks])}else if(Ut==="justify"&&Lr.encoding==="Identity-H"){C=[],Di=xt.length,un=un!==0?un:Cs;for(var fs=0,Mi=0;Mi<Di;Mi++)if(Rr=Mi===0?Vr(Te):-nr,cr=Mi===0?ra(te):fs,Mi<Di-1){var Ua=U((un-Gr[Mi])/(xt[Mi].split(" ").length-1)),Vi=xt[Mi].split(" ");C.push([Vi[0]+" ",cr,Rr]),fs=0;for(var Or=1;Or<Vi.length;Or++){var jl=(Go(Vi[Or-1]+" "+Vi[Or])-Go(Vi[Or]))*us+Ua;Or==Vi.length-1?C.push([Vi[Or],jl,0]):C.push([Vi[Or]+" ",jl,0]),fs-=jl}}else C.push([xt[Mi],cr,Rr]);C.push(["",fs,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Di=xt.length,un=un!==0?un:Cs,Mi=0;Mi<Di;Mi++)Rr=Mi===0?Vr(Te):-nr,cr=Mi===0?ra(te):0,Mi<Di-1?oo.push(P(U((un-Gr[Mi])/(xt[Mi].split(" ").length-1)))):oo.push(0),C.push([xt[Mi],cr,Rr])}}var Ls=typeof De.R2L=="boolean"?De.R2L:Rt;Ls===!0&&(C=Ts(C,function(_n,Nn,li){return[_n.split("").reverse().join(""),Nn,li]})),at={text:C,x:te,y:Te,options:De,mutex:{pdfEscape:Yn,activeFontKey:Zt,fonts:cn,activeFontSize:ft}},vn.publish("postProcessText",at),C=at.text,cs=at.mutex.isHex||!1;var Wa=cn[Zt].encoding;Wa!=="WinAnsiEncoding"&&Wa!=="StandardEncoding"||(C=Ts(C,function(_n,Nn,li){return[qr(_n),Nn,li]})),xt=Es(C),C=[];for(var Dr,lo,Yo,Xo=0,Al=1,co=Array.isArray(xt[0])?Al:Xo,Rs="",El=function(_n,Nn,li){var qi="";return li instanceof Pt?(li=typeof De.angle=="number"?fn(li,new Pt(1,0,0,1,_n,Nn)):fn(new Pt(1,0,0,1,_n,Nn),li),k===E.ADVANCED&&(li=fn(new Pt(1,0,0,-1,0,0),li)),qi=li.join(" ")+` Tm
`):qi=P(_n)+" "+P(Nn)+` Td
`,qi},Fi=0;Fi<xt.length;Fi++){switch(Rs="",co){case Al:Yo=(cs?"<":"(")+xt[Fi][0]+(cs?">":")"),Dr=parseFloat(xt[Fi][1]),lo=parseFloat(xt[Fi][2]);break;case Xo:Yo=(cs?"<":"(")+xt[Fi]+(cs?">":")"),Dr=ra(te),lo=Vr(Te)}oo!==void 0&&oo[Fi]!==void 0&&(Rs=oo[Fi]+` Tw
`),Fi===0?C.push(Rs+El(Dr,lo,Ti)+Yo):co===Xo?C.push(Rs+Yo):co===Al&&C.push(Rs+El(Dr,lo,Ti)+Yo)}C=co===Xo?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ja=`BT
/`;return ja+=Zt+" "+ft+` Tf
`,ja+=P(ft*Sa)+` TL
`,ja+=Io+`
`,ja+=lr,ja+=C,se(ja+="ET"),x[Zt]=!0,Ui};var zc=b.__private__.clip=b.clip=function(C){return se(C==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return zc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return se("n"),this};var Ur=b.__private__.isValidStyle=function(C){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(te=!0),te};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(C){return Ur(C)&&(f=C),this};var wa=b.__private__.getStyle=b.getStyle=function(C){var te=f;switch(C){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=C}return te},ls=b.close=function(){return se("h"),this};b.stroke=function(){return se("S"),this},b.fill=function(C){return Ns("f",C),this},b.fillEvenOdd=function(C){return Ns("f*",C),this},b.fillStroke=function(C){return Ns("B",C),this},b.fillStrokeEvenOdd=function(C){return Ns("B*",C),this};var Ns=function(C,te){xi(te)==="object"?io(te,C):se(C)},_a=function(C){C===null||k===E.ADVANCED&&C===void 0||(C=wa(C),se(C))};function yl(C,te,Te,De,Ve){var at=new rf(te||this.boundingBox,Te||this.xStep,De||this.yStep,this.gState,Ve||this.matrix);at.stream=this.stream;var xt=C+"$$"+this.cloneIndex+++"$$";return $n(xt,at),at}var io=function(C,te){var Te=vr[C.key],De=xn[Te];if(De instanceof xd)se("q"),se(ic(te)),De.gState&&b.setGState(De.gState),se(C.matrix.toString()+" cm"),se("/"+Te+" sh"),se("Q");else if(De instanceof rf){var Ve=new Pt(1,0,0,-1,0,As());C.matrix&&(Ve=Ve.multiply(C.matrix||Dn),Te=yl.call(De,C.key,C.boundingBox,C.xStep,C.yStep,Ve).id),se("q"),se("/Pattern cs"),se("/"+Te+" scn"),De.gState&&b.setGState(De.gState),se(te),se("Q")}},ic=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Mo=b.moveTo=function(C,te){return se(P(U(C))+" "+P(ie(te))+" m"),this},Na=b.lineTo=function(C,te){return se(P(U(C))+" "+P(ie(te))+" l"),this},ro=b.curveTo=function(C,te,Te,De,Ve,at){return se([P(U(C)),P(ie(te)),P(U(Te)),P(ie(De)),P(U(Ve)),P(ie(at)),"c"].join(" ")),this};b.__private__.line=b.line=function(C,te,Te,De,Ve){if(isNaN(C)||isNaN(te)||isNaN(Te)||isNaN(De)||!Ur(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return k===E.COMPAT?this.lines([[Te-C,De-te]],C,te,[1,1],Ve||"S"):this.lines([[Te-C,De-te]],C,te,[1,1]).stroke()},b.__private__.lines=b.lines=function(C,te,Te,De,Ve,at){var xt,Mt,Ut,tn,un,wn,wi,Ti,Ui,Wi,lr,cs;if(typeof C=="number"&&(cs=Te,Te=te,te=C,C=cs),De=De||[1,1],at=at||!1,isNaN(te)||isNaN(Te)||!Array.isArray(C)||!Array.isArray(De)||!Ur(Ve)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mo(te,Te),xt=De[0],Mt=De[1],tn=C.length,Wi=te,lr=Te,Ut=0;Ut<tn;Ut++)(un=C[Ut]).length===2?(Wi=un[0]*xt+Wi,lr=un[1]*Mt+lr,Na(Wi,lr)):(wn=un[0]*xt+Wi,wi=un[1]*Mt+lr,Ti=un[2]*xt+Wi,Ui=un[3]*Mt+lr,Wi=un[4]*xt+Wi,lr=un[5]*Mt+lr,ro(wn,wi,Ti,Ui,Wi,lr));return at&&ls(),_a(Ve),this},b.path=function(C){for(var te=0;te<C.length;te++){var Te=C[te],De=Te.c;switch(Te.op){case"m":Mo(De[0],De[1]);break;case"l":Na(De[0],De[1]);break;case"c":ro.apply(this,De);break;case"h":ls()}}return this},b.__private__.rect=b.rect=function(C,te,Te,De,Ve){if(isNaN(C)||isNaN(te)||isNaN(Te)||isNaN(De)||!Ur(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return k===E.COMPAT&&(De=-De),se([P(U(C)),P(ie(te)),P(U(Te)),P(U(De)),"re"].join(" ")),_a(Ve),this},b.__private__.triangle=b.triangle=function(C,te,Te,De,Ve,at,xt){if(isNaN(C)||isNaN(te)||isNaN(Te)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Ur(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-C,De-te],[Ve-Te,at-De],[C-Ve,te-at]],C,te,[1,1],xt,!0),this},b.__private__.roundedRect=b.roundedRect=function(C,te,Te,De,Ve,at,xt){if(isNaN(C)||isNaN(te)||isNaN(Te)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Ur(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Te),at=Math.min(at,.5*De),this.lines([[Te-2*Ve,0],[Ve*Mt,0,Ve,at-at*Mt,Ve,at],[0,De-2*at],[0,at*Mt,-Ve*Mt,at,-Ve,at],[2*Ve-Te,0],[-Ve*Mt,0,-Ve,-at*Mt,-Ve,-at],[0,2*at-De],[0,-at*Mt,Ve*Mt,-at,Ve,-at]],C+Ve,te,[1,1],xt,!0),this},b.__private__.ellipse=b.ellipse=function(C,te,Te,De,Ve){if(isNaN(C)||isNaN(te)||isNaN(Te)||isNaN(De)||!Ur(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*Te,xt=4/3*(Math.SQRT2-1)*De;return Mo(C+Te,te),ro(C+Te,te-xt,C+at,te-De,C,te-De),ro(C-at,te-De,C-Te,te-xt,C-Te,te),ro(C-Te,te+xt,C-at,te+De,C,te+De),ro(C+at,te+De,C+Te,te+xt,C+Te,te),_a(Ve),this},b.__private__.circle=b.circle=function(C,te,Te,De){if(isNaN(C)||isNaN(te)||isNaN(Te)||!Ur(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,te,Te,Te,De)},b.setFont=function(C,te,Te){return Te&&(te=ne(te,Te)),Zt=Do(C,te,{disableWarning:!1}),this};var br=b.__private__.getFont=b.getFont=function(){return cn[Do.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var C,te,Te={};for(C in yn)if(yn.hasOwnProperty(C))for(te in Te[C]=[],yn[C])yn[C].hasOwnProperty(te)&&Te[C].push(te);return Te},b.addFont=function(C,te,Te,De,Ve){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(Te=ne(Te,De)),Ve=Ve||"Identity-H",Js.call(this,C,te,Te,Ve)};var Wr,Ss=e.lineWidth||.200025,Ba=b.__private__.getLineWidth=b.getLineWidth=function(){return Ss},Hc=b.__private__.setLineWidth=b.setLineWidth=function(C){return Ss=C,se(P(U(C))+" w"),this};b.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(C,te){if(C=C||[],te=te||0,isNaN(te)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(Te){return P(U(Te))}).join(" "),te=P(U(te)),se("["+C+"] "+te+" d"),this};var js=b.__private__.getLineHeight=b.getLineHeight=function(){return ft*Wr};b.__private__.getLineHeight=b.getLineHeight=function(){return ft*Wr};var Fo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Wr=C),this},ao=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Wr};Fo(e.lineHeight);var ra=b.__private__.getHorizontalCoordinate=function(C){return U(C)},Vr=b.__private__.getVerticalCoordinate=function(C){return k===E.ADVANCED?C:Jt[B].mediaBox.topRightY-Jt[B].mediaBox.bottomLeftY-U(C)},Od=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(C){return P(ra(C))},so=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(C){return P(Vr(C))},za=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Ae(za)},b.__private__.setStrokeColor=b.setDrawColor=function(C,te,Te,De){return za=Ee({ch1:C,ch2:te,ch3:Te,ch4:De,pdfColorType:"draw",precision:2}),se(za),this};var Po=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Ae(Po)},b.__private__.setFillColor=b.setFillColor=function(C,te,Te,De){return Po=Ee({ch1:C,ch2:te,ch3:Te,ch4:De,pdfColorType:"fill",precision:2}),se(Po),this};var Io=e.textColor||"0 g",Pu=b.__private__.getTextColor=b.getTextColor=function(){return Ae(Io)};b.__private__.setTextColor=b.setTextColor=function(C,te,Te,De){return Io=Ee({ch1:C,ch2:te,ch3:Te,ch4:De,pdfColorType:"text",precision:3}),this};var Bo=e.charSpace,Iu=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Bo||0)};b.__private__.setCharSpace=b.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bo=C,this};var Uc=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(C){var te=b.CapJoinStyles[C];if(te===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=te,se(te+" J"),this};var rc=0;b.__private__.setLineJoin=b.setLineJoin=function(C){var te=b.CapJoinStyles[C];if(te===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rc=te,se(te+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(P(U(C))+" M"),this},b.GState=dm,b.setGState=function(C){(C=typeof C=="string"?Un[Ri[C]]:Wc(null,C)).equals(yi)||(se("/"+C.id+" gs"),yi=C)};var Wc=function(C,te){if(!C||!Ri[C]){var Te=!1;for(var De in Un)if(Un.hasOwnProperty(De)&&Un[De].equals(te)){Te=!0;break}if(Te)te=Un[De];else{var Ve="GS"+(Object.keys(Un).length+1).toString(10);Un[Ve]=te,te.id=Ve}return C&&(Ri[C]=te.id),vn.publish("addGState",te),te}};b.addGState=function(C,te){return Wc(C,te),this},b.saveGraphicsState=function(){return se("q"),Hn.push({key:Zt,size:ft,color:Io}),this},b.restoreGraphicsState=function(){se("Q");var C=Hn.pop();return Zt=C.key,ft=C.size,Io=C.color,yi=null,this},b.setCurrentTransformationMatrix=function(C){return se(C.toString()+" cm"),this},b.comment=function(C){return se("#"+C),this};var wl=function(C,te){var Te=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(at){isNaN(at)||(Te=parseFloat(at))}});var De=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(at){isNaN(at)||(De=parseFloat(at))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(at){Ve=at.toString()}}),this},zo=function(C,te,Te,De){wl.call(this,C,te),this.type="rect";var Ve=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(xt){isNaN(xt)||(Ve=parseFloat(xt))}});var at=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(xt){isNaN(xt)||(at=parseFloat(xt))}}),this},Vc=function(){this.page=On,this.currentPage=B,this.pages=nt.slice(0),this.pagesContext=Jt.slice(0),this.x=Gn,this.y=sn,this.matrix=ni,this.width=Ho(B),this.height=As(B),this.outputDestination=$e,this.id="",this.objectNumber=-1};Vc.prototype.restore=function(){On=this.page,B=this.currentPage,Jt=this.pagesContext,nt=this.pages,Gn=this.x,sn=this.y,ni=this.matrix,Ha(B,this.width),Gc(B,this.height),$e=this.outputDestination};var ac=function(C,te,Te,De,Ve){En.push(new Vc),On=B=0,nt=[],Gn=C,sn=te,ni=Ve,sr([Te,De])},qc=function(C){if(tr[C])En.pop().restore();else{var te=new Vc,Te="Xo"+(Object.keys(ai).length+1).toString(10);te.id=Te,tr[C]=Te,ai[Te]=te,vn.publish("addFormObject",te),En.pop().restore()}};for(var _l in b.beginFormObject=function(C,te,Te,De,Ve){return ac(C,te,Te,De,Ve),this},b.endFormObject=function(C){return qc(C),this},b.doFormObject=function(C,te){var Te=ai[tr[C]];return se("q"),se(te.toString()+" cm"),se("/"+Te.id+" Do"),se("Q"),this},b.getFormObject=function(C){var te=ai[tr[C]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},b.save=function(C,te){return C=C||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Xd(ia(_s()),C),typeof Xd.unload=="function"&&dn.setTimeout&&setTimeout(Xd.unload,911),this):new Promise(function(Te,De){try{var Ve=Xd(ia(_s()),C);typeof Xd.unload=="function"&&dn.setTimeout&&setTimeout(Xd.unload,911),Te(Ve)}catch(at){De(at.message)}})},an.API)an.API.hasOwnProperty(_l)&&(_l==="events"&&an.API.events.length?function(C,te){var Te,De,Ve;for(Ve=te.length-1;Ve!==-1;Ve--)Te=te[Ve][0],De=te[Ve][1],C.subscribe.apply(C,[Te].concat(typeof De=="function"?[De]:De))}(vn,an.API.events):b[_l]=an.API[_l]);var Ho=b.getPageWidth=function(C){return(Jt[C=C||B].mediaBox.topRightX-Jt[C].mediaBox.bottomLeftX)/Nt},Ha=b.setPageWidth=function(C,te){Jt[C].mediaBox.topRightX=te*Nt+Jt[C].mediaBox.bottomLeftX},As=b.getPageHeight=function(C){return(Jt[C=C||B].mediaBox.topRightY-Jt[C].mediaBox.bottomLeftY)/Nt},Gc=b.setPageHeight=function(C,te){Jt[C].mediaBox.topRightY=te*Nt+Jt[C].mediaBox.bottomLeftY};return b.internal={pdfEscape:Yn,getStyle:wa,getFont:br,getFontSize:wt,getCharSpace:Iu,getTextColor:Pu,getLineHeight:js,getLineHeightFactor:ao,getLineWidth:Ba,write:Ie,getHorizontalCoordinate:ra,getVerticalCoordinate:Vr,getCoordinateString:Od,getVerticalCoordinateString:so,collections:{},newObject:pn,newAdditionalObject:je,newObjectDeferred:Wn,newObjectDeferredBegin:oe,getFilters:qe,putStream:Qe,events:vn,scaleFactor:Nt,pageSize:{getWidth:function(){return Ho(B)},setWidth:function(C){Ha(B,C)},getHeight:function(){return As(B)},setHeight:function(C){Gc(B,C)}},encryptionOptions:h,encryption:Hi,getEncryptor:to,output:eo,getNumberOfPages:ws,pages:nt,out:se,f2:Z,f3:z,getPageInfo:ya,getPageInfoByObjId:rn,getCurrentPageInfo:no,getPDFVersion:g,Point:wl,Rectangle:zo,Matrix:Pt,hasHotfix:ba},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ho(B)},set:function(C){Ha(B,C)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return As(B)},set:function(C){Gc(B,C)},enumerable:!0,configurable:!0}),Ic.call(b,Ze),Zt="F1",gl(r,n),vn.publish("initialized"),b}hh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},hh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hh.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},hh.prototype.processOwnerPassword=function(e,t){return db(ub(t).substr(0,5),e)},hh.prototype.encryptor=function(e,t){var n=ub(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return db(n,i)}},dm.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||xi(e)!==xi(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},an.API={events:[]},an.version="3.0.1";var mr=an.API,s2=1,wf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gn=function(e){return e.toFixed(2)},hd=function(e){return e.toFixed(5)};mr.__acroform__={};var Zs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Zw=function(e){return e*s2},Sc=function(e){var t=new l4,n=Gt.internal.getHeight(e)||0,i=Gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gn(i)),Number(gn(n))],t},yO=mr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},wO=mr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},_O=mr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Nr=mr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _O(e,t-1)},Sr=mr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yO(e,t-1)},jr=mr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wO(e,t-1)},NO=mr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],a=e[1],o=e[2],c=e[3],u={};return u.lowerLeft_X=n(r)||0,u.lowerLeft_Y=i(a+c)||0,u.upperRight_X=n(r+o)||0,u.upperRight_Y=i(a)||0,[Number(gn(u.lowerLeft_X)),Number(gn(u.lowerLeft_Y)),Number(gn(u.upperRight_X)),Number(gn(u.upperRight_Y))]},SO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=fb(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+gn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Sc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},fb=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(z){return z.split(`
`)}):r.map(function(z){return[z]});var a=n,o=Gt.internal.getHeight(e)||0;o=o<0?-o:o;var c=Gt.internal.getWidth(e)||0;c=c<0?-c:c;var u=function(z,U,J){if(z+1<r.length){var ie=U+" "+r[z+1][0];return Dp(ie,e,J).width<=c-4}return!1};a++;e:for(;a>0;){t="",a--;var f,h,p=Dp("3",e,a).height,x=e.multiline?o-a:(o-p)/2,b=x+=2,w=0,g=0,_=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Dp(t,e,a=12).width+", FieldWidth:"+c+`
`;break}for(var j="",E=0,k=0;k<r.length;k++)if(r.hasOwnProperty(k)){var F=!1;if(r[k].length!==1&&_!==r[k].length-1){if((p+2)*(E+2)+2>o)continue e;j+=r[k][_],F=!0,g=k,k--}else{j=(j+=r[k][_]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var V=parseInt(k),ne=u(V,j,a),P=k>=r.length-1;if(ne&&!P){j+=" ",_=0;continue}if(ne||P){if(P)g=V;else if(e.multiline&&(p+2)*(E+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(E+2)+2>o)continue e;g=V}}for(var I="",Y=w;Y<=g;Y++){var Z=r[Y];if(e.multiline){if(Y===g){I+=Z[_]+" ",_=(_+1)%Z.length;continue}if(Y===w){I+=Z[Z.length-1]+" ";continue}}I+=Z[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,h=Dp(I,e,a).width,e.textAlign){case"right":f=c-h-2;break;case"center":f=(c-h)/2;break;case"left":default:f=2}t+=gn(f)+" "+gn(b)+` Td
`,t+="("+wf(I)+`) Tj
`,t+=-gn(f)+` 0 Td
`,b=-(a+2),h=0,w=F?g:g+1,E++,j=""}break}return i.text=t,i.fontSize=a,i},Dp=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},jO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},AO=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},EO=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),xi(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete e[i]}},TO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ec.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(jO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new c4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&AO(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var c=i[o],u=[],f=c.Rect;if(c.Rect&&(c.Rect=NO(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Gt.createDefaultAppearanceStream(c),xi(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var h=SO(c);u.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(c.appearanceStreamContent){var p="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var b=c.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var w=b[o];typeof w=="function"&&(w=w.call(r,c)),p+="/"+o+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=b)=="function"&&(w=w.call(r,c)),p+="/"+o+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}a&&EO(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},o4=mr.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(o){return o};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(a!==0&&(r+=" "),xi(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+wf(i(e[a].toString()))+")"):r+=e[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rv=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+wf(i(e))+")"},Cc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cc.prototype.toString=function(){return this.objId+" 0 R"},Cc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Cc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:o4(r,this.objId,this.scope)}):r instanceof Cc?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var l4=function(){Cc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Zs(l4,Cc);var c4=function(){Cc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wf(n(e))+")"}},set:function(n){e=n}})};Zs(c4,Cc);var ec=function e(){Cc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(t,3)},set:function(j){j?this.F=Sr(t,3):this.F=jr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');n=j}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(j){i=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(j){i[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(j){i[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(j){i[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(j){i[3]=j}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ag)return;a="FieldObject"+e.FieldNum++}var j=function(E){return E};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+wf(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/s2:f},set:function(j){f=j}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Ag||this instanceof Nd))return rv(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Jr?x:rv(x,this.objId,this.scope)},set:function(j){j=j.toString(),x=this instanceof Jr?j:j.substr(0,1)==="("?nh(j.substr(1,j.length-2)):nh(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?nh(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof Jr?"/"+j:j}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Jr?b:rv(b,this.objId,this.scope)},set:function(j){j=j.toString(),b=this instanceof Jr?j:j.substr(0,1)==="("?nh(j.substr(1,j.length-2)):nh(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?nh(b.substr(1,b.length-1)):b},set:function(j){j=j.toString(),b=this instanceof Jr?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){j=!!j,g=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(j){w=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(j){j?this.Ff=Sr(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(j){j?this.Ff=Sr(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(j){j?this.Ff=Sr(this.Ff,3):this.Ff=jr(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');_=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(_){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Zs(ec,Cc);var of=function(){ec.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return o4(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(a,o,c){c||(c=1);for(var u,f=[];u=o.exec(a);)f.push(u[c]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(n){n?this.Ff=Sr(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Sr(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(n){n?(this.Ff=Sr(this.Ff,20),t.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(n){n?this.Ff=Sr(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(n){n?this.Ff=Sr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(n){n?this.Ff=Sr(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};Zs(of,ec);var lf=function(){of.call(this),this.fontName="helvetica",this.combo=!1};Zs(lf,of);var cf=function(){lf.call(this),this.combo=!0};Zs(cf,lf);var V0=function(){cf.call(this),this.edit=!0};Zs(V0,cf);var Jr=function(){ec.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(n){n?this.Ff=Sr(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(n){n?this.Ff=Sr(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(n){n?this.Ff=Sr(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(n){n?this.Ff=Sr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+wf(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){xi(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Zs(Jr,ec);var q0=function(){Jr.call(this),this.pushButton=!0};Zs(q0,Jr);var uf=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Zs(uf,Jr);var Ag=function(){var e,t;ec.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),i)o.push("/"+a+" ("+wf(r(i[a]))+")");return o.push(">>"),o.join(`
`)},set:function(r){xi(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zs(Ag,ec),uf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},uf.prototype.createOption=function(e){var t=new Ag;return t.Parent=this,t.optionName=e,this.Kids.push(t),CO.call(this.scope,t),t};var G0=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};Zs(G0,Jr);var Nd=function(){ec.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(t){t?this.Ff=Sr(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(t){t?this.Ff=Sr(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(t){t?this.Ff=Sr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(t){t?this.Ff=Sr(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(t){t?this.Ff=Sr(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(t){t?this.Ff=Sr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zs(Nd,ec);var $0=function(){Nd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(e){e?this.Ff=Sr(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};Zs($0,Nd);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Sc(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=fb(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+gn(Gt.internal.getWidth(e))+" "+gn(Gt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+gn(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Sc(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=Gt.internal.getHeight(e),o=Gt.internal.getWidth(e),c=fb(e,e.caption);return r.push("1 g"),r.push("0 0 "+gn(o)+" "+gn(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+gn(o-1)+" "+gn(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+gn(c.fontSize)+" Tf "+i),r.push(c.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Sc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gn(Gt.internal.getWidth(e))+" "+gn(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Circle.YesNormal,t.D[e]=Gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Sc(e);t.scope=e.scope;var n=[],i=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Gt.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+hd(Gt.internal.getWidth(e)/2)+" "+hd(Gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Sc(e);t.scope=e.scope;var n=[],i=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Gt.internal.Bezier_C).toFixed(5)),o=Number((i*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hd(Gt.internal.getWidth(e)/2)+" "+hd(Gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+hd(Gt.internal.getWidth(e)/2)+" "+hd(Gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Sc(e);t.scope=e.scope;var n=[],i=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hd(Gt.internal.getWidth(e)/2)+" "+hd(Gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Cross.YesNormal,t.D[e]=Gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Sc(e);t.scope=e.scope;var n=[],i=Gt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+gn(Gt.internal.getWidth(e)-2)+" "+gn(Gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gn(i.x1.x)+" "+gn(i.x1.y)+" m"),n.push(gn(i.x2.x)+" "+gn(i.x2.y)+" l"),n.push(gn(i.x4.x)+" "+gn(i.x4.y)+" m"),n.push(gn(i.x3.x)+" "+gn(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Sc(e);t.scope=e.scope;var n=Gt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+gn(Gt.internal.getWidth(e))+" "+gn(Gt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+gn(Gt.internal.getWidth(e)-2)+" "+gn(Gt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(gn(n.x1.x)+" "+gn(n.x1.y)+" m"),i.push(gn(n.x2.x)+" "+gn(n.x2.y)+" l"),i.push(gn(n.x4.x)+" "+gn(n.x4.y)+" m"),i.push(gn(n.x3.x)+" "+gn(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Sc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gn(Gt.internal.getWidth(e))+" "+gn(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gt.internal.getWidth(e),n=Gt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Gt.internal.getWidth=function(e){var t=0;return xi(e)==="object"&&(t=Zw(e.Rect[2])),t},Gt.internal.getHeight=function(e){var t=0;return xi(e)==="object"&&(t=Zw(e.Rect[3])),t};var CO=mr.addField=function(e){if(TO(this,e),!(e instanceof ec))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mr.AcroFormChoiceField=of,mr.AcroFormListBox=lf,mr.AcroFormComboBox=cf,mr.AcroFormEditBox=V0,mr.AcroFormButton=Jr,mr.AcroFormPushButton=q0,mr.AcroFormRadioButton=uf,mr.AcroFormCheckBox=G0,mr.AcroFormTextField=Nd,mr.AcroFormPasswordField=$0,mr.AcroFormAppearance=Gt,mr.AcroForm={ChoiceField:of,ListBox:lf,ComboBox:cf,EditBox:V0,Button:Jr,PushButton:q0,RadioButton:uf,CheckBox:G0,TextField:Nd,PasswordField:$0,Appearance:Gt},an.AcroForm={ChoiceField:of,ListBox:lf,ComboBox:cf,EditBox:V0,Button:Jr,PushButton:q0,RadioButton:uf,CheckBox:G0,TextField:Nd,PasswordField:$0,Appearance:Gt};an.AcroForm;function u4(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(z,U){var J,ie,pe,ae,ue,Q=t;if((U=U||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(ne(z))for(ue in n)for(pe=n[ue],J=0;J<pe.length;J+=1){for(ae=!0,ie=0;ie<pe[J].length;ie+=1)if(pe[J][ie]!==void 0&&pe[J][ie]!==z[ie]){ae=!1;break}if(ae===!0){Q=ue;break}}else for(ue in n)for(pe=n[ue],J=0;J<pe.length;J+=1){for(ae=!0,ie=0;ie<pe[J].length;ie+=1)if(pe[J][ie]!==void 0&&pe[J][ie]!==z.charCodeAt(ie)){ae=!1;break}if(ae===!0){Q=ue;break}}return Q===t&&U!==t&&(Q=U),Q},r=function z(U){for(var J=this.internal.write,ie=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:U.width}),ae.push({key:"Height",value:U.height}),U.colorSpace===_.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===_.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var ue="",Q=0,Ne=U.transparency.length;Q<Ne;Q++)ue+=U.transparency[Q]+" "+U.transparency[Q]+" ";ae.push({key:"Mask",value:"["+ue+"]"})}U.sMask!==void 0&&ae.push({key:"SMask",value:U.objectId+1+" 0 R"});var q=U.filter!==void 0?["/"+U.filter]:void 0;if(ie({data:U.data,additionalKeyValues:ae,alreadyAppliedFilters:q,objectId:U.objectId}),J("endobj"),"sMask"in U&&U.sMask!==void 0){var ke="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,O={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:ke,data:U.sMask};"filter"in U&&(O.filter=U.filter),z.call(this,O)}if(U.colorSpace===_.INDEXED){var B=this.internal.newObject();ie({data:I(new Uint8Array(U.palette)),objectId:B}),J("endobj")}},a=function(){var z=this.internal.collections.addImage_images;for(var U in z)r.call(this,z[U])},o=function(){var z,U=this.internal.collections.addImage_images,J=this.internal.write;for(var ie in U)J("/I"+(z=U[ie]).index,z.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var z=this.internal.collections.addImage_images;return c.call(this),z},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(z){return typeof e["process"+z.toUpperCase()]=="function"},p=function(z){return xi(z)==="object"&&z.nodeType===1},x=function(z,U){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var J=""+z.getAttribute("src");if(J.indexOf("data:image/")===0)return W0(unescape(J).split("base64,").pop());var ie=e.loadFile(J,!0);if(ie!==void 0)return ie}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var pe;switch(U){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return W0(z.toDataURL(pe,1).split("base64,").pop())}},b=function(z){var U=this.internal.collections.addImage_images;if(U){for(var J in U)if(z===U[J].alias)return U[J]}},w=function(z,U,J){return z||U||(z=-96,U=-96),z<0&&(z=-1*J.width*72/z/this.internal.scaleFactor),U<0&&(U=-1*J.height*72/U/this.internal.scaleFactor),z===0&&(z=U*J.width/J.height),U===0&&(U=z*J.height/J.width),[z,U]},g=function(z,U,J,ie,pe,ae){var ue=w.call(this,J,ie,pe),Q=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,q=u.call(this);if(J=ue[0],ie=ue[1],q[pe.index]=pe,ae){ae*=Math.PI/180;var ke=Math.cos(ae),O=Math.sin(ae),B=function(X){return X.toFixed(4)},W=[B(ke),B(O),B(-1*O),B(ke),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,Q(z),Ne(U+ie),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([Q(J),"0","0",Q(ie),"0","0","cm"].join(" "))):this.internal.write([Q(J),"0","0",Q(ie),Q(z),Ne(U+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},_=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(z){var U,J,ie=0;if(typeof z=="string")for(J=z.length,U=0;U<J;U++)ie=(ie<<5)-ie+z.charCodeAt(U),ie|=0;else if(ne(z))for(J=z.byteLength/2,U=0;U<J;U++)ie=(ie<<5)-ie+z[U],ie|=0;return ie},k=e.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var U=!0;return z.length===0&&(U=!1),z.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(U=!1),U},F=e.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var U=z.indexOf(",");return U<0?null:z.substring(0,U).trim().endsWith("base64")?z.substring(U+1):null},V=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(z){return V()&&z instanceof ArrayBuffer};var ne=e.__addimage__.isArrayBufferView=function(z){return V()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(z){for(var U=z.length,J=new Uint8Array(U),ie=0;ie<U;ie++)J[ie]=z.charCodeAt(ie);return J},I=e.__addimage__.arrayBufferToBinaryString=function(z){for(var U="",J=ne(z)?z:new Uint8Array(z),ie=0;ie<J.length;ie+=8192)U+=String.fromCharCode.apply(null,J.subarray(ie,ie+8192));return U};e.addImage=function(){var z,U,J,ie,pe,ae,ue,Q,Ne;if(typeof arguments[1]=="number"?(U=t,J=arguments[1],ie=arguments[2],pe=arguments[3],ae=arguments[4],ue=arguments[5],Q=arguments[6],Ne=arguments[7]):(U=arguments[1],J=arguments[2],ie=arguments[3],pe=arguments[4],ae=arguments[5],ue=arguments[6],Q=arguments[7],Ne=arguments[8]),xi(z=arguments[0])==="object"&&!p(z)&&"imageData"in z){var q=z;z=q.imageData,U=q.format||U||t,J=q.x||J||0,ie=q.y||ie||0,pe=q.w||q.width||pe,ae=q.h||q.height||ae,ue=q.alias||ue,Q=q.compression||Q,Ne=q.rotation||q.angle||Ne}var ke=this.internal.getFilters();if(Q===void 0&&ke.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(J)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=Y.call(this,z,U,ue,Q);return g.call(this,J,ie,pe,ae,O,Ne),this};var Y=function(z,U,J,ie){var pe,ae,ue;if(typeof z=="string"&&i(z)===t){z=unescape(z);var Q=Z(z,!1);(Q!==""||(Q=e.loadFile(z,!0))!==void 0)&&(z=Q)}if(p(z)&&(z=x(z,U)),U=i(z,U),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ue=J)==null||ue.length===0)&&(J=function(Ne){return typeof Ne=="string"||ne(Ne)?E(Ne):ne(Ne.data)?E(Ne.data):null}(z)),(pe=b.call(this,J))||(V()&&(z instanceof Uint8Array||U==="RGBA"||(ae=z,z=P(z))),pe=this["process"+U.toUpperCase()](z,f.call(this),J,function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in e.image_compression?Ne:j.NONE}(ie),ae)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},Z=e.__addimage__.convertBase64ToBinaryString=function(z,U){U=typeof U!="boolean"||U;var J,ie="";if(typeof z=="string"){var pe;J=(pe=F(z))!==null&&pe!==void 0?pe:z;try{ie=W0(J)}catch(ae){if(U)throw k(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};e.getImageProperties=function(z){var U,J,ie="";if(p(z)&&(z=x(z)),typeof z=="string"&&i(z)===t&&((ie=Z(z,!1))===""&&(ie=e.loadFile(z)||""),z=ie),J=i(z),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!V()||z instanceof Uint8Array||(z=P(z)),!(U=this["process"+J.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=J,U}})(an.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};an.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,a,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((i=f[p]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){i=f[x];var b=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(g.objId),E=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(j(i.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+b(j(E))+") >>",g.content=a;var k=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+k,i.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(g.objId,"0 R",_.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var F=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+b(w(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var V=this.annotations._nameMap[i.options.name];i.options.pageNumber=V.page,i.options.top=V.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+b(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ne=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+ne+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,a,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:f(i),w:u(n+r),h:f(i+a)},options:o,type:"link"})},e.textWithLink=function(n,i,r,a){var o,c,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var h=this.splitTextToSize(n,c).length;o=Math.ceil(f*h)}else c=u,o=f;return this.text(n,i,r,a),r+=.2*f,a.align==="center"&&(i-=u/2),a.align==="right"&&(i-=u),this.link(i,r-f,c,o,a),u},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(an.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},c=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&r.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(g){var _=0,j=n,E="",k=0;for(_=0;_<g.length;_+=1)j[g.charCodeAt(_)]!==void 0?(k++,typeof(j=j[g.charCodeAt(_)])=="number"&&(E+=String.fromCharCode(j),j=n,k=0),_===g.length-1&&(j=n,E+=g.charAt(_-(k-1)),_-=k-1,k=0)):(j=n,E+=g.charAt(_-k),_-=k,k=0);return E};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&i[g.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(g,_,j){return o(g)?a(g)===!1?-1:!f(g)||!o(_)&&!o(j)||!o(j)&&c(_)||c(g)&&!o(_)||c(g)&&u(_)||c(g)&&c(_)?0:h(g)&&o(_)&&!c(_)&&o(j)&&f(j)?3:c(g)||!o(j)?1:2:-1},b=function(g){var _=0,j=0,E=0,k="",F="",V="",ne=(g=g||"").split("\\s+"),P=[];for(_=0;_<ne.length;_+=1){for(P.push(""),j=0;j<ne[_].length;j+=1)k=ne[_][j],F=ne[_][j-1],V=ne[_][j+1],o(k)?(E=x(k,F,V),P[_]+=E!==-1?String.fromCharCode(t[k.charCodeAt(0)][E]):k):P[_]+=k;P[_]=p(P[_])}return P.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var g,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(_)){var E=0;for(j=[],E=0;E<_.length;E+=1)Array.isArray(_[E])?j.push([b(_[E][0]),_[E][1],_[E][2]]):j.push([b(_[E])]);g=j}else g=b(_);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",w])}(an.API),an.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(an.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(g){x=g}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(g){b=g}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(g){w=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){i.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,b=0,w=0,g=0,_=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var j=f.maxWidth;j>0?typeof u=="string"?u=this.splitTextToSize(u,j):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(k,F){return k.concat(_.splitTextToSize(F,j))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)b<(g=this.getStringUnitWidth(u[E],{font:p})*h)&&(b=g);return b!==0&&(w=u.length),{w:b/=x,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,b&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,p,x){if(i.call(this),!h)throw new Error("No data for PDF table.");var b,w,g,_,j=[],E=[],k=[],F={},V={},ne=[],P=[],I=(x=x||{}).autoSize||!1,Y=x.printHeaders!==!1,Z=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,z=x.margins||Object.assign({width:this.getPageWidth()},t),U=typeof x.padding=="number"?x.padding:3,J=x.headerBackgroundColor||"#c8c8c8",ie=x.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=ie,this.setFontSize(Z),p==null)E=j=Object.keys(h[0]),k=j.map(function(){return"left"});else if(Array.isArray(p)&&xi(p[0])==="object")for(j=p.map(function(q){return q.name}),E=p.map(function(q){return q.prompt||q.name||""}),k=p.map(function(q){return q.align||"left"}),b=0;b<p.length;b+=1)V[p[b].name]=p[b].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(E=j=p,k=j.map(function(){return"left"}));if(I||Array.isArray(p)&&typeof p[0]=="string")for(b=0;b<j.length;b+=1){for(F[_=j[b]]=h.map(function(q){return q[_]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(E[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=F[_],this.setFont(void 0,"normal"),g=0;g<w.length;g+=1)ne.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[_]=Math.max.apply(null,ne)+U+U,ne=[]}if(Y){var pe={};for(b=0;b<j.length;b+=1)pe[j[b]]={},pe[j[b]].text=E[b],pe[j[b]].align=k[b];var ae=c.call(this,pe,V);P=j.map(function(q){return new a(u,f,V[q],ae,pe[q].text,void 0,pe[q].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ue=p.reduce(function(q,ke){return q[ke.name]=ke.align,q},{});for(b=0;b<h.length;b+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:b,data:h[b]},this);var Q=c.call(this,h[b],V);for(g=0;g<j.length;g+=1){var Ne=h[b][j[g]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:b,col:g,data:Ne},this),o.call(this,new a(u,f,V[j[g]],Q,Ne,b+2,ue[j[g]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(b){var w=u[b];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[b]-h-h)},this).map(function(b){return this.getLineHeightFactor()*b.length*p/x+h+h},this).reduce(function(b,w){return Math.max(b,w)},0)};e.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){h=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}}(an.API);var d4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hb=u4(f4),h4=[100,200,300,400,500,600,700,800,900],kO=u4(h4);function mb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return d4[a=a||"normal"]?a:"normal"}(e.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),r=function(a){return typeof hb[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function Jw(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var LO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Qw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e_(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function RO(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},LO,n.genericFontFamilies||{}),a=null,o=null,c=0;c<t.length;++c)if(r[(a=mb(t[c])).family]&&(a.family=r[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[i]))throw new Error("Could not find a font-family for the rule '"+e_(a)+"' and default family '"+i+"'.");if(o=function(u,f){if(f[u])return f[u];var h=hb[u],p=h<=hb.normal?-1:1,x=Jw(f,f4,h,p);if(!x)throw new Error("Could not find a matching font-stretch value for "+u);return x}(a.stretch,o),o=function(u,f){if(f[u])return f[u];for(var h=d4[u],p=0;p<h.length;++p)if(f[h[p]])return f[h[p]];throw new Error("Could not find a matching font-style for "+u)}(a.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var h=kO[u],p=Jw(f,h4,h,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+e_(a)+"'.");return o}function t_(e){return e.trimLeft()}function OO(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function DO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Mp,n_,i_,av=["times"];(function(e){var t,n,i,r,a,o,c,u,f,h=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var p=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=O;Object.defineProperty(this,"pdf",{get:function(){return B}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(ve){W=!!ve}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(ve){X=!!ve}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(ve){isNaN(ve)||(le=ve)}});var Ce=0;Object.defineProperty(this,"posY",{get:function(){return Ce},set:function(ve){isNaN(ve)||(Ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ve){var se;typeof ve=="number"?se=[ve,ve,ve,ve]:((se=new Array(4))[0]=ve[0],se[1]=ve.length>=2?ve[1]:se[0],se[2]=ve.length>=3?ve[2]:se[0],se[3]=ve.length>=4?ve[3]:se[1]),f.margin=se}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(ve){_e=ve}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(ve){Le=ve}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(ve){ze=ve}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ve){ve instanceof h&&(f=ve)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ve){f.path=ve}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(ve){nt=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var se;se=x(ve),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var se=x(ve);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Oe=null;function $e(ve,se){if(Oe===null){var Ie=function(st){var Ze=[];return Object.keys(st).forEach(function(ft){st[ft].forEach(function(vt){var wt=null;switch(vt){case"bold":wt={family:ft,weight:"bold"};break;case"italic":wt={family:ft,style:"italic"};break;case"bolditalic":wt={family:ft,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:ft}}wt!==null&&(wt.ref={name:ft,style:vt},Ze.push(wt))})}),Ze}(ve.getFontList());Oe=function(st){for(var Ze={},ft=0;ft<st.length;++ft){var vt=mb(st[ft]),wt=vt.family,Rt=vt.stretch,Dt=vt.style,Bt=vt.weight;Ze[wt]=Ze[wt]||{},Ze[wt][Rt]=Ze[wt][Rt]||{},Ze[wt][Rt][Dt]=Ze[wt][Rt][Dt]||{},Ze[wt][Rt][Dt][Bt]=vt}return Ze}(Ie.concat(se))}return Oe}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(ve){Oe=null,Ke=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var se;if(this.ctx.font=ve,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Ie=se[1];se[2];var st=se[3],Ze=se[4];se[5];var ft=se[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(vt==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var wt=function(kt){var Zt,Nt,Gn=[],sn=kt.trim();if(sn==="")return av;if(sn in Qw)return[Qw[sn]];for(;sn!=="";){switch(Nt=null,Zt=(sn=t_(sn)).charAt(0)){case'"':case"'":Nt=OO(sn.substring(1),Zt);break;default:Nt=DO(sn)}if(Nt===null||(Gn.push(Nt[0]),(sn=t_(Nt[1]))!==""&&sn.charAt(0)!==","))return av;sn=sn.replace(/^,/,"")}return Gn}(ft);if(this.fontFaces){var Rt=RO($e(this.pdf,this.fontFaces),wt.map(function(kt){return{family:kt,stretch:"normal",weight:st,style:Ie}}));this.pdf.setFont(Rt.ref.name,Rt.ref.style)}else{var Dt="";(st==="bold"||parseInt(st,10)>=700||Ie==="bold")&&(Dt="bold"),Ie==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var Bt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<wt.length;It++){if(this.pdf.internal.getFont(wt[It],Dt,{noFallback:!0,disableWarning:!0})!==void 0){Bt=wt[It];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(wt[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=wt[It],Dt="bold";else if(this.pdf.internal.getFont(wt[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=wt[It],Dt="normal";break}}if(Bt===""){for(var Kt=0;Kt<wt.length;Kt++)if(_t[wt[Kt]]){Bt=_t[wt[Kt]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};p.prototype.setLineDash=function(O){this.lineDash=O},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){F.call(this,"fill",!1)},p.prototype.stroke=function(){F.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(O,B){if(isNaN(O)||isNaN(B))throw ki.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new o(O,B));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(O,B)},p.prototype.closePath=function(){var O=new o(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&xi(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){O=new o(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},p.prototype.lineTo=function(O,B){if(isNaN(O)||isNaN(B))throw ki.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new o(O,B));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},p.prototype.quadraticCurveTo=function(O,B,W,X){if(isNaN(W)||isNaN(X)||isNaN(O)||isNaN(B))throw ki.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(W,X)),Ce=this.ctx.transform.applyToPoint(new o(O,B));this.path.push({type:"qct",x1:Ce.x,y1:Ce.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},p.prototype.bezierCurveTo=function(O,B,W,X,le,Ce){if(isNaN(le)||isNaN(Ce)||isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X))throw ki.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new o(le,Ce)),Le=this.ctx.transform.applyToPoint(new o(O,B)),ze=this.ctx.transform.applyToPoint(new o(W,X));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:ze.x,y2:ze.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},p.prototype.arc=function(O,B,W,X,le,Ce){if(isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X)||isNaN(le))throw ki.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ce=!!Ce,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new o(O,B));O=_e.x,B=_e.y;var Le=this.ctx.transform.applyToPoint(new o(0,W)),ze=this.ctx.transform.applyToPoint(new o(0,0));W=Math.sqrt(Math.pow(Le.x-ze.x,2)+Math.pow(Le.y-ze.y,2))}Math.abs(le-X)>=2*Math.PI&&(X=0,le=2*Math.PI),this.path.push({type:"arc",x:O,y:B,radius:W,startAngle:X,endAngle:le,counterclockwise:Ce})},p.prototype.arcTo=function(O,B,W,X,le){throw new Error("arcTo not implemented.")},p.prototype.rect=function(O,B,W,X){if(isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X))throw ki.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,B),this.lineTo(O+W,B),this.lineTo(O+W,B+X),this.lineTo(O,B+X),this.lineTo(O,B),this.lineTo(O+W,B),this.lineTo(O,B)},p.prototype.fillRect=function(O,B,W,X){if(isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X))throw ki.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,B,W,X),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},p.prototype.strokeRect=function(O,B,W,X){if(isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X))throw ki.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(O,B,W,X),this.stroke())},p.prototype.clearRect=function(O,B,W,X){if(isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X))throw ki.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,B,W,X))},p.prototype.save=function(O){O=typeof O!="boolean"||O;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},p.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(B),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(O){var B,W,X,le;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))B=0,W=0,X=0,le=0;else{var Ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Ce!==null)B=parseInt(Ce[1]),W=parseInt(Ce[2]),X=parseInt(Ce[3]),le=1;else if((Ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)B=parseInt(Ce[1]),W=parseInt(Ce[2]),X=parseInt(Ce[3]),le=parseFloat(Ce[4]);else{if(le=1,typeof O=="string"&&O.charAt(0)!=="#"){var _e=new r4(O);O=_e.ok?_e.toHex():"#000000"}O.length===4?(B=O.substring(1,2),B+=B,W=O.substring(2,3),W+=W,X=O.substring(3,4),X+=X):(B=O.substring(1,3),W=O.substring(3,5),X=O.substring(5,7)),B=parseInt(B,16),W=parseInt(W,16),X=parseInt(X,16)}}return{r:B,g:W,b:X,a:le,style:O}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(O,B,W,X){if(isNaN(B)||isNaN(W)||typeof O!="string")throw ki.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!b.call(this)){var le=Q(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;U.call(this,{text:O,x:B,y:W,scale:Ce,angle:le,align:this.textAlign,maxWidth:X})}},p.prototype.strokeText=function(O,B,W,X){if(isNaN(B)||isNaN(W)||typeof O!="string")throw ki.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){X=isNaN(X)?void 0:X;var le=Q(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;U.call(this,{text:O,x:B,y:W,scale:Ce,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:X})}},p.prototype.measureText=function(O){if(typeof O!="string")throw ki.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,W=this.pdf.internal.scaleFactor,X=B.internal.getFontSize(),le=B.getStringUnitWidth(O)*X/B.internal.scaleFactor,Ce=function(_e){var Le=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this};return new Ce({width:le*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(O,B){if(isNaN(O)||isNaN(B))throw ki.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new u(O,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(O){if(isNaN(O))throw ki.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},p.prototype.translate=function(O,B){if(isNaN(O)||isNaN(B))throw ki.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new u(1,0,0,1,O,B);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(O,B,W,X,le,Ce){if(isNaN(O)||isNaN(B)||isNaN(W)||isNaN(X)||isNaN(le)||isNaN(Ce))throw ki.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new u(O,B,W,X,le,Ce);this.ctx.transform=this.ctx.transform.multiply(_e)},p.prototype.setTransform=function(O,B,W,X,le,Ce){O=isNaN(O)?1:O,B=isNaN(B)?0:B,W=isNaN(W)?0:W,X=isNaN(X)?1:X,le=isNaN(le)?0:le,Ce=isNaN(Ce)?0:Ce,this.ctx.transform=new u(O,B,W,X,le,Ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(O,B,W,X,le,Ce,_e,Le,ze){var nt=this.pdf.getImageProperties(O),Oe=1,$e=1,Ke=1,ve=1;X!==void 0&&Le!==void 0&&(Ke=Le/X,ve=ze/le,Oe=nt.width/X*Le/X,$e=nt.height/le*ze/le),Ce===void 0&&(Ce=B,_e=W,B=0,W=0),X!==void 0&&Le===void 0&&(Le=X,ze=le),X===void 0&&Le===void 0&&(Le=nt.width,ze=nt.height);for(var se,Ie=this.ctx.transform.decompose(),st=Q(Ie.rotate.shx),Ze=new u,ft=(Ze=(Ze=(Ze=Ze.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new c(Ce-B*Ke,_e-W*ve,X*Oe,le*$e)),vt=_.call(this,ft),wt=[],Rt=0;Rt<vt.length;Rt+=1)wt.indexOf(vt[Rt])===-1&&wt.push(vt[Rt]);if(k(wt),this.autoPaging)for(var Dt=wt[0],Bt=wt[wt.length-1],_t=Dt;_t<Bt+1;_t++){this.pdf.setPage(_t);var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=_t===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=_t===1?0:kt+(_t-2)*Zt;if(this.ctx.clip_path.length!==0){var Gn=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(se,this.posX+this.margin[3],-Nt+Kt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=Gn}var sn=JSON.parse(JSON.stringify(ft));sn=E([sn],this.posX+this.margin[3],-Nt+Kt+this.ctx.prevPageLastElemOffset)[0];var ni=(_t>Dt||_t<Bt)&&g.call(this);ni&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,Zt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",sn.x,sn.y,sn.w,sn.h,null,null,st),ni&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,st)};var _=function(O,B,W){var X=[];B=B||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":X.push(Math.floor((O.y+le)/W)+1);break;case"arc":X.push(Math.floor((O.y+le-O.radius)/W)+1),X.push(Math.floor((O.y+le+O.radius)/W)+1);break;case"qct":var Ce=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);X.push(Math.floor((Ce.y+le)/W)+1),X.push(Math.floor((Ce.y+Ce.h+le)/W)+1);break;case"bct":var _e=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);X.push(Math.floor((_e.y+le)/W)+1),X.push(Math.floor((_e.y+_e.h+le)/W)+1);break;case"rect":X.push(Math.floor((O.y+le)/W)+1),X.push(Math.floor((O.y+O.h+le)/W)+1)}for(var Le=0;Le<X.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<X[Le];)j.call(this);return X},j=function(){var O=this.fillStyle,B=this.strokeStyle,W=this.font,X=this.lineCap,le=this.lineWidth,Ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=B,this.font=W,this.lineCap=X,this.lineWidth=le,this.lineJoin=Ce},E=function(O,B,W){for(var X=0;X<O.length;X++)switch(O[X].type){case"bct":O[X].x2+=B,O[X].y2+=W;case"qct":O[X].x1+=B,O[X].y1+=W;case"mt":case"lt":case"arc":default:O[X].x+=B,O[X].y+=W}return O},k=function(O){return O.sort(function(B,W){return B-W})},F=function(O,B){for(var W,X,le=this.fillStyle,Ce=this.strokeStyle,_e=this.lineCap,Le=this.lineWidth,ze=Math.abs(Le*this.ctx.transform.scaleX),nt=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),Ke=[],ve=0;ve<$e.length;ve++)if($e[ve].x!==void 0)for(var se=_.call(this,$e[ve]),Ie=0;Ie<se.length;Ie+=1)Ke.indexOf(se[Ie])===-1&&Ke.push(se[Ie]);for(var st=0;st<Ke.length;st++)for(;this.pdf.internal.getNumberOfPages()<Ke[st];)j.call(this);if(k(Ke),this.autoPaging)for(var Ze=Ke[0],ft=Ke[Ke.length-1],vt=Ze;vt<ft+1;vt++){this.pdf.setPage(vt),this.fillStyle=le,this.strokeStyle=Ce,this.lineCap=_e,this.lineWidth=ze,this.lineJoin=nt;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=vt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=vt===1?0:Dt+(vt-2)*Bt;if(this.ctx.clip_path.length!==0){var It=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(W,this.posX+this.margin[3],-_t+Rt+this.ctx.prevPageLastElemOffset),V.call(this,O,!0),this.path=It}if(X=JSON.parse(JSON.stringify(Oe)),this.path=E(X,this.posX+this.margin[3],-_t+Rt+this.ctx.prevPageLastElemOffset),B===!1||vt===0){var Kt=(vt>Ze||vt<ft)&&g.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Bt,null).clip().discardPath()),V.call(this,O,B),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Le}else this.lineWidth=ze,V.call(this,O,B),this.lineWidth=Le;this.path=Oe},V=function(O,B){if((O!=="stroke"||B||!w.call(this))&&(O==="stroke"||B||!b.call(this))){for(var W,X,le=[],Ce=this.path,_e=0;_e<Ce.length;_e++){var Le=Ce[_e];switch(Le.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Le,deltas:[],abs:[]});break;case"lt":var ze=le.length;if(Ce[_e-1]&&!isNaN(Ce[_e-1].x)&&(W=[Le.x-Ce[_e-1].x,Le.y-Ce[_e-1].y],ze>0)){for(;ze>=0;ze--)if(le[ze-1].close!==!0&&le[ze-1].begin!==!0){le[ze-1].deltas.push(W),le[ze-1].abs.push(Le);break}}break;case"bct":W=[Le.x1-Ce[_e-1].x,Le.y1-Ce[_e-1].y,Le.x2-Ce[_e-1].x,Le.y2-Ce[_e-1].y,Le.x-Ce[_e-1].x,Le.y-Ce[_e-1].y],le[le.length-1].deltas.push(W);break;case"qct":var nt=Ce[_e-1].x+2/3*(Le.x1-Ce[_e-1].x),Oe=Ce[_e-1].y+2/3*(Le.y1-Ce[_e-1].y),$e=Le.x+2/3*(Le.x1-Le.x),Ke=Le.y+2/3*(Le.y1-Le.y),ve=Le.x,se=Le.y;W=[nt-Ce[_e-1].x,Oe-Ce[_e-1].y,$e-Ce[_e-1].x,Ke-Ce[_e-1].y,ve-Ce[_e-1].x,se-Ce[_e-1].y],le[le.length-1].deltas.push(W);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Le)}}X=B?null:O==="stroke"?"stroke":"fill";for(var Ie=!1,st=0;st<le.length;st++)if(le[st].arc)for(var Ze=le[st].abs,ft=0;ft<Ze.length;ft++){var vt=Ze[ft];vt.type==="arc"?I.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,B,!Ie):J.call(this,vt.x,vt.y),Ie=!0}else if(le[st].close===!0)this.pdf.internal.out("h"),Ie=!1;else if(le[st].begin!==!0){var wt=le[st].start.x,Rt=le[st].start.y;ie.call(this,le[st].deltas,wt,Rt),Ie=!0}X&&Y.call(this,X),B&&Z.call(this)}},ne=function(O){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-W;case"top":return O+B-W;case"hanging":return O+B-2*W;case"middle":return O+B/2-W;case"ideographic":return O;case"alphabetic":default:return O}},P=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(B,W){this.colorStops.push([B,W])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(O,B,W,X,le,Ce,_e,Le,ze){for(var nt=ae.call(this,W,X,le,Ce),Oe=0;Oe<nt.length;Oe++){var $e=nt[Oe];Oe===0&&(ze?z.call(this,$e.x1+O,$e.y1+B):J.call(this,$e.x1+O,$e.y1+B)),pe.call(this,O,B,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}Le?Z.call(this):Y.call(this,_e)},Y=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(O,B){this.pdf.internal.out(n(O)+" "+i(B)+" m")},U=function(O){var B;switch(O.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var W=this.pdf.getTextDimensions(O.text),X=ne.call(this,O.y),le=P.call(this,X)-W.h,Ce=this.ctx.transform.applyToPoint(new o(O.x,X)),_e=this.ctx.transform.decompose(),Le=new u;Le=(Le=(Le=Le.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var ze,nt,Oe,$e=this.ctx.transform.applyToRectangle(new c(O.x,X,W.w,W.h)),Ke=Le.applyToRectangle(new c(O.x,le,W.w,W.h)),ve=_.call(this,Ke),se=[],Ie=0;Ie<ve.length;Ie+=1)se.indexOf(ve[Ie])===-1&&se.push(ve[Ie]);if(k(se),this.autoPaging)for(var st=se[0],Ze=se[se.length-1],ft=st;ft<Ze+1;ft++){this.pdf.setPage(ft);var vt=ft===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],Dt=Rt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],_t=Bt-this.margin[3],It=ft===1?0:wt+(ft-2)*Dt;if(this.ctx.clip_path.length!==0){var Kt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ze,this.posX+this.margin[3],-1*It+vt),V.call(this,"fill",!0),this.path=Kt}var kt=E([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-It+vt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*O.scale),Oe=this.lineWidth,this.lineWidth=Oe*O.scale);var Zt=this.autoPaging!=="text";if(Zt||kt.y+kt.h<=Rt){if(Zt||kt.y>=vt&&kt.x<=Bt){var Nt=Zt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Bt-kt.x)[0],Gn=E([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-It+vt+this.ctx.prevPageLastElemOffset)[0],sn=Zt&&(ft>st||ft<Ze)&&g.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Dt,null).clip().discardPath()),this.pdf.text(Nt,Gn.x,Gn.y,{angle:O.angle,align:B,renderingMode:O.renderingMode}),sn&&this.pdf.restoreGraphicsState()}}else kt.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-kt.y);O.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=Oe)}else O.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*O.scale),Oe=this.lineWidth,this.lineWidth=Oe*O.scale),this.pdf.text(O.text,Ce.x+this.posX,Ce.y+this.posY,{angle:O.angle,align:B,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=Oe)},J=function(O,B,W,X){W=W||0,X=X||0,this.pdf.internal.out(n(O+W)+" "+i(B+X)+" l")},ie=function(O,B,W){return this.pdf.lines(O,B,W,null,null)},pe=function(O,B,W,X,le,Ce,_e,Le){this.pdf.internal.out([t(r(W+O)),t(a(X+B)),t(r(le+O)),t(a(Ce+B)),t(r(_e+O)),t(a(Le+B)),"c"].join(" "))},ae=function(O,B,W,X){for(var le=2*Math.PI,Ce=Math.PI/2;B>W;)B-=le;var _e=Math.abs(W-B);_e<le&&X&&(_e=le-_e);for(var Le=[],ze=X?-1:1,nt=B;_e>1e-5;){var Oe=nt+ze*Math.min(_e,Ce);Le.push(ue.call(this,O,nt,Oe)),_e-=Math.abs(Oe-nt),nt=Oe}return Le},ue=function(O,B,W){var X=(W-B)/2,le=O*Math.cos(X),Ce=O*Math.sin(X),_e=le,Le=-Ce,ze=_e*_e+Le*Le,nt=ze+_e*le+Le*Ce,Oe=4/3*(Math.sqrt(2*ze*nt)-nt)/(_e*Ce-Le*le),$e=_e-Oe*Le,Ke=Le+Oe*_e,ve=$e,se=-Ke,Ie=X+B,st=Math.cos(Ie),Ze=Math.sin(Ie);return{x1:O*Math.cos(B),y1:O*Math.sin(B),x2:$e*st-Ke*Ze,y2:$e*Ze+Ke*st,x3:ve*st-se*Ze,y3:ve*Ze+se*st,x4:O*Math.cos(W),y4:O*Math.sin(W)}},Q=function(O){return 180*O/Math.PI},Ne=function(O,B,W,X,le,Ce){var _e=O+.5*(W-O),Le=B+.5*(X-B),ze=le+.5*(W-le),nt=Ce+.5*(X-Ce),Oe=Math.min(O,le,_e,ze),$e=Math.max(O,le,_e,ze),Ke=Math.min(B,Ce,Le,nt),ve=Math.max(B,Ce,Le,nt);return new c(Oe,Ke,$e-Oe,ve-Ke)},q=function(O,B,W,X,le,Ce,_e,Le){var ze,nt,Oe,$e,Ke,ve,se,Ie,st,Ze,ft,vt,wt,Rt,Dt=W-O,Bt=X-B,_t=le-W,It=Ce-X,Kt=_e-le,kt=Le-Ce;for(nt=0;nt<41;nt++)st=(se=(Oe=O+(ze=nt/40)*Dt)+ze*((Ke=W+ze*_t)-Oe))+ze*(Ke+ze*(le+ze*Kt-Ke)-se),Ze=(Ie=($e=B+ze*Bt)+ze*((ve=X+ze*It)-$e))+ze*(ve+ze*(Ce+ze*kt-ve)-Ie),nt==0?(ft=st,vt=Ze,wt=st,Rt=Ze):(ft=Math.min(ft,st),vt=Math.min(vt,Ze),wt=Math.max(wt,st),Rt=Math.max(Rt,Ze));return new c(Math.round(ft),Math.round(vt),Math.round(wt-ft),Math.round(Rt-vt))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,B,W=(O=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:B}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(an.API),function(e){var t=function(a){var o,c,u,f,h,p,x,b,w,g;for(c=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(g=h%85))/85)-(w=h%85))/85)-(b=h%85))/85)-(x=h%85))/85)%85,c.push(p+33,x+33,b+33,w+33,g+33)):c.push(122);return function(_,j){for(var E=j;E>0;E--)_.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,f,h,p=String,x="length",b=255,w="charCodeAt",g="slice",_="replace";for(a[g](-2),a=a[g](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],f=0,h=(a+=o="uuuuu"[g](a[x]%5||5))[x];h>f;f+=5)c=52200625*(a[w](f)-33)+614125*(a[w](f+1)-33)+7225*(a[w](f+2)-33)+85*(a[w](f+3)-33)+(a[w](f+4)-33),u.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(j,E){for(var k=E;k>0;k--)j.pop()}(u,o[x]),p.fromCharCode.apply(p,u)},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},r=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return a=(o=lb(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,o){var c=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(an.API),function(e){e.loadFile=function(t,n,i){return function(r,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,f,h){var p=new XMLHttpRequest,x=0,b=function(w){var g=w.length,_=[],j=String.fromCharCode;for(x=0;x<g;x+=1)_.push(j(255&w.charCodeAt(x)));return _.join("")};if(p.open("GET",u,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(b(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return b(p.responseText)}(r,a,o)}catch{}return c}(t,n,i)},e.loadImageFile=e.loadFile}(an.API),function(e){function t(){return(dn.html2canvas?Promise.resolve(dn.html2canvas):jd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(dn.DOMPurify?Promise.resolve(dn.DOMPurify):jd(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=xi(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,h){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||p.appendChild(u(x,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var x=0;x<f.length;++x){var b=f[x],w=b.src.find(function(g){return g.format==="truetype"});w&&u.addFont(w.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,f),p}).then(f,h).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=u.call(f,o,c);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,an.getPageSize=function(o,c,u){if(xi(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var b,w=0,g=0;if(x.hasOwnProperty(p))w=x[p][1]/h,g=x[p][0]/h;else try{w=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",g>w&&(b=g,g=w,w=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>g&&(b=g,g=w,w=b)}return{width:g,height:w,unit:c,k:h,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(mb):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}}(an.API),an.API.addJS=function(e){return i_=e,this.internal.events.subscribe("postPutResources",function(){Mp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mp!==void 0&&n_!==void 0&&this.internal.out("/Names <</JavaScript "+Mp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var o=r[a],c=i.exec(o);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var p=n.internal.newObject();h.push(p);var x=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var o={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var o=i.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])}(an.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,a,o,c){var u,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(p){for(var x,b=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,g={width:0,height:0,numcomponents:1},_=4;_<w;_+=2){if(_+=b,t.indexOf(p.charCodeAt(_+1))!==-1){x=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),g={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:x,numcomponents:p.charCodeAt(_+9)};break}b=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}h={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:r}}return h}}(an.API);var ih,Fp,r_,a_,s_,MO=function(){var e,t,n;function i(a){var o,c,u,f,h,p,x,b,w,g,_,j,E,k;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),w=(function(){var F,V;for(V=[],F=0;F<4;++F)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,p.delay=1e3*h/f,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),a=(p!=null?p.data:void 0)||this.imgData,j=0;0<=o?j<o:j>o;0<=o?++j:--j)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((g=u-this.transparency.indexed.length)>0)for(E=0;0<=g?E<g:E>g;0<=g?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":x=(_=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,_.slice(0,x)),this.text[b]=String.fromCharCode.apply(String,_.slice(x+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var o,c;for(c=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(p,x,b,w){var g,_,j,E,k,F,V,ne,P,I,Y,Z,z,U,J,ie,pe,ae,ue,Q,Ne,q=Math.ceil((f.width-p)/b),ke=Math.ceil((f.height-x)/w),O=f.width==q&&f.height==ke;for(U=o*q,Z=O?c:new Uint8Array(U*ke),F=a.length,z=0,_=0;z<ke&&u<F;){switch(a[u++]){case 0:for(E=pe=0;pe<U;E=pe+=1)Z[_++]=a[u++];break;case 1:for(E=ae=0;ae<U;E=ae+=1)g=a[u++],k=E<o?0:Z[_-o],Z[_++]=(g+k)%256;break;case 2:for(E=ue=0;ue<U;E=ue+=1)g=a[u++],j=(E-E%o)/o,J=z&&Z[(z-1)*U+j*o+E%o],Z[_++]=(J+g)%256;break;case 3:for(E=Q=0;Q<U;E=Q+=1)g=a[u++],j=(E-E%o)/o,k=E<o?0:Z[_-o],J=z&&Z[(z-1)*U+j*o+E%o],Z[_++]=(g+Math.floor((k+J)/2))%256;break;case 4:for(E=Ne=0;Ne<U;E=Ne+=1)g=a[u++],j=(E-E%o)/o,k=E<o?0:Z[_-o],z===0?J=ie=0:(J=Z[(z-1)*U+j*o+E%o],ie=j&&Z[(z-1)*U+(j-1)*o+E%o]),V=k+J-ie,ne=Math.abs(V-k),I=Math.abs(V-J),Y=Math.abs(V-ie),P=ne<=I&&ne<=Y?k:I<=Y?J:ie,Z[_++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!O){var B=((x+z*w)*f.width+p)*o,W=z*U;for(E=0;E<q;E+=1){for(var X=0;X<o;X+=1)c[B++]=Z[W++];B+=(b-1)*o}}z++}}return a=hO(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),c},i.prototype.decodePalette=function(){var a,o,c,u,f,h,p,x,b;for(c=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+c.length),u=0,a=0,o=p=0,x=c.length;p<x;o=p+=3)f[u++]=c[o],f[u++]=c[o+1],f[u++]=c[o+2],f[u++]=(b=h[a++])!=null?b:255;return f},i.prototype.copyToImageData=function(a,o){var c,u,f,h,p,x,b,w,g,_,j;if(u=this.colors,g=null,c=this.hasAlphaChannel,this.palette.length&&(g=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),u=4,c=!0),w=(f=a.data||a).length,p=g||o,h=x=0,u===1)for(;h<w;)b=g?4*o[h/4]:x,_=p[b++],f[h++]=_,f[h++]=_,f[h++]=_,f[h++]=c?p[b++]:255,x=b;else for(;h<w;)b=g?4*o[h/4]:x,f[h++]=p[b++],f[h++]=p[b++],f[h++]=p[b++],f[h++]=c?p[b++]:255,x=b},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(dn)==="[object Window]"){try{t=dn.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),e=function(a){var o;if(r()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var o,c,u,f,h,p,x,b;if(this.animation){for(b=[],c=h=0,p=(x=this.animation.frames).length;h<p;c=++h)o=x[c],u=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,b.push(o.image=e(u));return b}},i.prototype.renderFrame=function(a,o){var c,u,f;return c=(u=this.animation.frames)[o],f=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(a){var o,c,u,f,h,p,x=this;return c=0,p=this.animation,f=p.numFrames,u=p.frames,h=p.numPlays,(o=function(){var b,w;if(b=c++%f,w=u[b],x.renderFrame(a,b),f>1&&c/f<h)return x.animation._timeout=setTimeout(o,w.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var o,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function FO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,o=1<<(7&r)+1;e[t++],e[t++];var c=null,u=null;a&&(c=t,u=o,t+=3*o);var f=!0,h=[],p=0,x=null,b=0,w=null;for(this.width=n,this.height=i;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];p=e[t++]|e[t++]<<8,x=e[t++],(1&g)==0&&(x=null),b=g>>2&7,t++;break;case 254:for(;;){if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,F=e[t++],V=F>>6&1,ne=1<<(7&F)+1,P=c,I=u,Y=!1;F>>7&&(Y=!0,P=t,I=ne,t+=3*ne);var Z=t;for(t++;;){var z;if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}h.push({x:_,y:j,width:E,height:k,has_local_palette:Y,palette_offset:P,palette_size:I,data_offset:Z,data_length:t-Z,transparent_index:x,interlaced:!!V,delay:p,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,J){var ie=this.frameInfo(U),pe=ie.width*ie.height,ae=new Uint8Array(pe);o_(e,ie.data_offset,ae,pe);var ue=ie.palette_offset,Q=ie.transparent_index;Q===null&&(Q=256);var Ne=ie.width,q=n-Ne,ke=Ne,O=4*(ie.y*n+ie.x),B=4*((ie.y+ie.height)*n+ie.x),W=O,X=4*q;ie.interlaced===!0&&(X+=4*n*7);for(var le=8,Ce=0,_e=ae.length;Ce<_e;++Ce){var Le=ae[Ce];if(ke===0&&(ke=Ne,(W+=X)>=B&&(X=4*q+4*n*(le-1),W=O+(Ne+q)*(le<<1),le>>=1)),Le===Q)W+=4;else{var ze=e[ue+3*Le],nt=e[ue+3*Le+1],Oe=e[ue+3*Le+2];J[W++]=Oe,J[W++]=nt,J[W++]=ze,J[W++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(U,J){var ie=this.frameInfo(U),pe=ie.width*ie.height,ae=new Uint8Array(pe);o_(e,ie.data_offset,ae,pe);var ue=ie.palette_offset,Q=ie.transparent_index;Q===null&&(Q=256);var Ne=ie.width,q=n-Ne,ke=Ne,O=4*(ie.y*n+ie.x),B=4*((ie.y+ie.height)*n+ie.x),W=O,X=4*q;ie.interlaced===!0&&(X+=4*n*7);for(var le=8,Ce=0,_e=ae.length;Ce<_e;++Ce){var Le=ae[Ce];if(ke===0&&(ke=Ne,(W+=X)>=B&&(X=4*q+4*n*(le-1),W=O+(Ne+q)*(le<<1),le>>=1)),Le===Q)W+=4;else{var ze=e[ue+3*Le],nt=e[ue+3*Le+1],Oe=e[ue+3*Le+2];J[W++]=ze,J[W++]=nt,J[W++]=Oe,J[W++]=255}--ke}}}function o_(e,t,n,i){for(var r=e[t++],a=1<<r,o=a+1,c=o+1,u=r+1,f=(1<<u)-1,h=0,p=0,x=0,b=e[t++],w=new Int32Array(4096),g=null;;){for(;h<16&&b!==0;)p|=e[t++]<<h,h+=8,b===1?b=e[t++]:--b;if(h<u)break;var _=p&f;if(p>>=u,h-=u,_!==a){if(_===o)break;for(var j=_<c?_:g,E=0,k=j;k>a;)k=w[k]>>8,++E;var F=k;if(x+E+(j!==_?1:0)>i)return void ki.log("Warning, gif stream longer than expected.");n[x++]=F;var V=x+=E;for(j!==_&&(n[x++]=F),k=j;E--;)k=w[k],n[--V]=255&k,k>>=8;g!==null&&c<4096&&(w[c++]=g<<8|F,c>=f+1&&u<12&&(++u,f=f<<1|1)),g=_}else c=o+1,f=(1<<(u=r+1))-1,g=null}return x!==i&&ki.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sv(e){var t,n,i,r,a,o=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),x=new Array(65535),b=new Array(64),w=new Array(64),g=[],_=0,j=7,E=new Array(64),k=new Array(64),F=new Array(64),V=new Array(256),ne=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(O,B){for(var W=0,X=0,le=new Array,Ce=1;Ce<=16;Ce++){for(var _e=1;_e<=O[Ce];_e++)le[B[X]]=[],le[B[X]][0]=W,le[B[X]][1]=Ce,X++,W++;W*=2}return le}function ue(O){for(var B=O[0],W=O[1]-1;W>=0;)B&1<<W&&(_|=1<<j),W--,--j<0&&(_==255?(Q(255),Q(0)):Q(_),j=7,_=0)}function Q(O){g.push(O)}function Ne(O){Q(O>>8&255),Q(255&O)}function q(O,B,W,X,le){for(var Ce,_e=le[0],Le=le[240],ze=function(Ze,ft){var vt,wt,Rt,Dt,Bt,_t,It,Kt,kt,Zt,Nt=0;for(kt=0;kt<8;++kt){vt=Ze[Nt],wt=Ze[Nt+1],Rt=Ze[Nt+2],Dt=Ze[Nt+3],Bt=Ze[Nt+4],_t=Ze[Nt+5],It=Ze[Nt+6];var Gn=vt+(Kt=Ze[Nt+7]),sn=vt-Kt,ni=wt+It,cn=wt-It,yn=Rt+_t,Hn=Rt-_t,xn=Dt+Bt,vr=Dt-Bt,Un=Gn+xn,Ri=Gn-xn,yi=ni+yn,On=ni-yn;Ze[Nt]=Un+yi,Ze[Nt+4]=Un-yi;var Jt=.707106781*(On+Ri);Ze[Nt+2]=Ri+Jt,Ze[Nt+6]=Ri-Jt;var vn=.382683433*((Un=vr+Hn)-(On=cn+sn)),Oi=.5411961*Un+vn,ai=1.306562965*On+vn,tr=.707106781*(yi=Hn+cn),En=sn+tr,Pt=sn-tr;Ze[Nt+5]=Pt+Oi,Ze[Nt+3]=Pt-Oi,Ze[Nt+1]=En+ai,Ze[Nt+7]=En-ai,Nt+=8}for(Nt=0,kt=0;kt<8;++kt){vt=Ze[Nt],wt=Ze[Nt+8],Rt=Ze[Nt+16],Dt=Ze[Nt+24],Bt=Ze[Nt+32],_t=Ze[Nt+40],It=Ze[Nt+48];var fn=vt+(Kt=Ze[Nt+56]),Dn=vt-Kt,$n=wt+It,pn=wt-It,Wn=Rt+_t,oe=Rt-_t,je=Dt+Bt,xe=Dt-Bt,ye=fn+je,Ae=fn-je,Ee=$n+Wn,qe=$n-Wn;Ze[Nt]=ye+Ee,Ze[Nt+32]=ye-Ee;var Qe=.707106781*(qe+Ae);Ze[Nt+16]=Ae+Qe,Ze[Nt+48]=Ae-Qe;var Pe=.382683433*((ye=xe+oe)-(qe=pn+Dn)),We=.5411961*ye+Pe,Ge=1.306562965*qe+Pe,ut=.707106781*(Ee=oe+pn),yt=Dn+ut,Ct=Dn-ut;Ze[Nt+40]=Ct+We,Ze[Nt+24]=Ct-We,Ze[Nt+8]=yt+Ge,Ze[Nt+56]=yt-Ge,Nt++}for(kt=0;kt<64;++kt)Zt=Ze[kt]*ft[kt],b[kt]=Zt>0?Zt+.5|0:Zt-.5|0;return b}(O,B),nt=0;nt<64;++nt)w[P[nt]]=ze[nt];var Oe=w[0]-W;W=w[0],Oe==0?ue(X[0]):(ue(X[x[Ce=32767+Oe]]),ue(p[Ce]));for(var $e=63;$e>0&&w[$e]==0;)$e--;if($e==0)return ue(_e),W;for(var Ke,ve=1;ve<=$e;){for(var se=ve;w[ve]==0&&ve<=$e;)++ve;var Ie=ve-se;if(Ie>=16){Ke=Ie>>4;for(var st=1;st<=Ke;++st)ue(Le);Ie&=15}Ce=32767+w[ve],ue(le[(Ie<<4)+x[Ce]]),ue(p[Ce]),ve++}return $e!=63&&ue(_e),W}function ke(O){O=Math.min(Math.max(O,1),100),a!=O&&(function(B){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var le=o((W[X]*B+50)/100);le=Math.min(Math.max(le,1),255),c[P[X]]=le}for(var Ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Le=o((Ce[_e]*B+50)/100);Le=Math.min(Math.max(Le,1),255),u[P[_e]]=Le}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,Oe=0;Oe<8;Oe++)for(var $e=0;$e<8;$e++)f[nt]=1/(c[P[nt]]*ze[Oe]*ze[$e]*8),h[nt]=1/(u[P[nt]]*ze[Oe]*ze[$e]*8),nt++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,B){B&&ke(B),g=new Array,_=0,j=7,Ne(65496),Ne(65504),Ne(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),Ne(1),Ne(1),Q(0),Q(0),function(){Ne(65499),Ne(132),Q(0);for(var wt=0;wt<64;wt++)Q(c[wt]);Q(1);for(var Rt=0;Rt<64;Rt++)Q(u[Rt])}(),function(wt,Rt){Ne(65472),Ne(17),Q(8),Ne(Rt),Ne(wt),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(O.width,O.height),function(){Ne(65476),Ne(418),Q(0);for(var wt=0;wt<16;wt++)Q(I[wt+1]);for(var Rt=0;Rt<=11;Rt++)Q(Y[Rt]);Q(16);for(var Dt=0;Dt<16;Dt++)Q(Z[Dt+1]);for(var Bt=0;Bt<=161;Bt++)Q(z[Bt]);Q(1);for(var _t=0;_t<16;_t++)Q(U[_t+1]);for(var It=0;It<=11;It++)Q(J[It]);Q(17);for(var Kt=0;Kt<16;Kt++)Q(ie[Kt+1]);for(var kt=0;kt<=161;kt++)Q(pe[kt])}(),Ne(65498),Ne(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var W=0,X=0,le=0;_=0,j=7,this.encode.displayName="_encode_";for(var Ce,_e,Le,ze,nt,Oe,$e,Ke,ve,se=O.data,Ie=O.width,st=O.height,Ze=4*Ie,ft=0;ft<st;){for(Ce=0;Ce<Ze;){for(nt=Ze*ft+Ce,$e=-1,Ke=0,ve=0;ve<64;ve++)Oe=nt+(Ke=ve>>3)*Ze+($e=4*(7&ve)),ft+Ke>=st&&(Oe-=Ze*(ft+1+Ke-st)),Ce+$e>=Ze&&(Oe-=Ce+$e-Ze+4),_e=se[Oe++],Le=se[Oe++],ze=se[Oe++],E[ve]=(ne[_e]+ne[Le+256>>0]+ne[ze+512>>0]>>16)-128,k[ve]=(ne[_e+768>>0]+ne[Le+1024>>0]+ne[ze+1280>>0]>>16)-128,F[ve]=(ne[_e+1280>>0]+ne[Le+1536>>0]+ne[ze+1792>>0]>>16)-128;W=q(E,f,W,t,i),X=q(k,h,X,n,r),le=q(F,h,le,n,r),Ce+=32}ft+=8}if(j>=0){var vt=[];vt[1]=j+1,vt[0]=(1<<j+1)-1,ue(vt)}return Ne(65497),new Uint8Array(g)},e=e||50,function(){for(var O=String.fromCharCode,B=0;B<256;B++)V[B]=O(B)}(),t=ae(I,Y),n=ae(U,J),i=ae(Z,z),r=ae(ie,pe),function(){for(var O=1,B=2,W=1;W<=15;W++){for(var X=O;X<B;X++)x[32767+X]=W,p[32767+X]=[],p[32767+X][1]=W,p[32767+X][0]=X;for(var le=-(B-1);le<=-O;le++)x[32767+le]=W,p[32767+le]=[],p[32767+le][1]=W,p[32767+le][0]=B-1+le;O<<=1,B<<=1}}(),function(){for(var O=0;O<256;O++)ne[O]=19595*O,ne[O+256>>0]=38470*O,ne[O+512>>0]=7471*O+32768,ne[O+768>>0]=-11059*O,ne[O+1024>>0]=-21709*O,ne[O+1280>>0]=32768*O+8421375,ne[O+1536>>0]=-27439*O,ne[O+1792>>0]=-5329*O}(),ke(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ul(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l_(e){function t(I){if(!I)throw Error("assert :P")}function n(I,Y,Z){for(var z=0;4>z;z++)if(I[Y+z]!=Z.charCodeAt(z))return!0;return!1}function i(I,Y,Z,z,U){for(var J=0;J<U;J++)I[Y+J]=Z[z+J]}function r(I,Y,Z,z){for(var U=0;U<z;U++)I[Y+U]=Z}function a(I){return new Int32Array(I)}function o(I,Y){for(var Z=[],z=0;z<I;z++)Z.push(new Y);return Z}function c(I,Y){var Z=[];return function z(U,J,ie){for(var pe=ie[J],ae=0;ae<pe&&(U.push(ie.length>J+1?[]:new Y),!(ie.length<J+1));ae++)z(U[ae],J+1,ie)}(Z,0,I),Z}var u=function(){var I=this;function Y(y,A){for(var L=1<<A-1>>>0;y&L;)L>>>=1;return L?(y&L-1)+L:y}function Z(y,A,L,H,ee){t(!(H%L));do y[A+(H-=L)]=ee;while(0<H)}function z(y,A,L,H,ee){if(t(2328>=ee),512>=ee)var re=a(512);else if((re=a(ee))==null)return 0;return function(ce,de,me,Se,M,N){var R,G,we=de,ge=1<<me,he=a(16),be=a(16);for(t(M!=0),t(Se!=null),t(ce!=null),t(0<me),G=0;G<M;++G){if(15<Se[G])return 0;++he[Se[G]]}if(he[0]==M)return 0;for(be[1]=0,R=1;15>R;++R){if(he[R]>1<<R)return 0;be[R+1]=be[R]+he[R]}for(G=0;G<M;++G)R=Se[G],0<Se[G]&&(N[be[R]++]=G);if(be[15]==1)return(Se=new U).g=0,Se.value=N[0],Z(ce,we,1,ge,Se),ge;var Me,He=-1,Be=ge-1,tt=0,ct=1,pt=1,lt=1<<me;for(G=0,R=1,M=2;R<=me;++R,M<<=1){if(ct+=pt<<=1,0>(pt-=he[R]))return 0;for(;0<he[R];--he[R])(Se=new U).g=R,Se.value=N[G++],Z(ce,we+tt,M,lt,Se),tt=Y(tt,R)}for(R=me+1,M=2;15>=R;++R,M<<=1){if(ct+=pt<<=1,0>(pt-=he[R]))return 0;for(;0<he[R];--he[R]){if(Se=new U,(tt&Be)!=He){for(we+=lt,Me=1<<(He=R)-me;15>He&&!(0>=(Me-=he[He]));)++He,Me<<=1;ge+=lt=1<<(Me=He-me),ce[de+(He=tt&Be)].g=Me+me,ce[de+He].value=we-de-He}Se.g=R-me,Se.value=N[G++],Z(ce,we+(tt>>me),M,lt,Se),tt=Y(tt,R)}}return ct!=2*be[15]-1?0:ge}(y,A,L,H,ee,re)}function U(){this.value=this.g=0}function J(){this.value=this.g=0}function ie(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Di,J)}function pe(y,A,L,H){t(y!=null),t(A!=null),t(2147483648>H),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=A,y.pa=L,y.Jd=A,y.Yc=L+H,y.Zc=4<=H?L+H-4+1:L,Ce(y)}function ae(y,A){for(var L=0;0<A--;)L|=Le(y,128)<<A;return L}function ue(y,A){var L=ae(y,A);return _e(y)?-L:L}function Q(y,A,L,H){var ee,re=0;for(t(y!=null),t(A!=null),t(4294967288>H),y.Sb=H,y.Ra=0,y.u=0,y.h=0,4<H&&(H=4),ee=0;ee<H;++ee)re+=A[L+ee]<<8*ee;y.Ra=re,y.bb=H,y.oa=A,y.pa=L}function Ne(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<qo-8>>>0,++y.bb,y.u-=8;W(y)&&(y.h=1,y.u=0)}function q(y,A){if(t(0<=A),!y.h&&A<=Sl){var L=B(y)&Vo[A];return y.u+=A,Ne(y),L}return y.h=1,y.u=0}function ke(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(y){return y.Ra>>>(y.u&qo-1)>>>0}function W(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>qo}function X(y,A){y.u=A,y.h=W(y)}function le(y){y.u>=oc&&(t(y.u>=oc),Ne(y))}function Ce(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function _e(y){return ae(y,1)}function Le(y,A){var L=y.Ca;0>y.b&&Ce(y);var H=y.b,ee=L*A>>>8,re=(y.I>>>H>ee)+0;for(re?(L-=ee,y.I-=ee+1<<H>>>0):L=ee+1,H=L,ee=0;256<=H;)ee+=8,H>>=8;return H=7^ee+aa[H],y.b-=H,y.Ca=(L<<H)-1,re}function ze(y,A,L){y[A+0]=L>>24&255,y[A+1]=L>>16&255,y[A+2]=L>>8&255,y[A+3]=L>>0&255}function nt(y,A){return y[A+0]<<0|y[A+1]<<8}function Oe(y,A){return nt(y,A)|y[A+2]<<16}function $e(y,A){return nt(y,A)|nt(y,A+2)<<16}function Ke(y,A){var L=1<<A;return t(y!=null),t(0<A),y.X=a(L),y.X==null?0:(y.Mb=32-A,y.Xa=A,1)}function ve(y,A){t(y!=null),t(A!=null),t(y.Xa==A.Xa),i(A.X,0,y.X,0,1<<A.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Ie(y,A,L,H){t(L!=null),t(H!=null);var ee=L[0],re=H[0];return ee==0&&(ee=(y*re+A/2)/A),re==0&&(re=(A*ee+y/2)/y),0>=ee||0>=re?0:(L[0]=ee,H[0]=re,1)}function st(y,A){return y+(1<<A)-1>>>A}function Ze(y,A){return((4278255360&y)+(4278255360&A)>>>0&4278255360)+((16711935&y)+(16711935&A)>>>0&16711935)>>>0}function ft(y,A){I[A]=function(L,H,ee,re,ce,de,me){var Se;for(Se=0;Se<ce;++Se){var M=I[y](de[me+Se-1],ee,re+Se);de[me+Se]=Ze(L[H+Se],M)}}}function vt(){this.ud=this.hd=this.jd=0}function wt(y,A){return((4278124286&(y^A))>>>1)+(y&A)>>>0}function Rt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Dt(y,A){return Rt(y+(y-A+.5>>1))}function Bt(y,A,L){return Math.abs(A-L)-Math.abs(y-L)}function _t(y,A,L,H,ee,re,ce){for(H=re[ce-1],L=0;L<ee;++L)re[ce+L]=H=Ze(y[A+L],H)}function It(y,A,L,H,ee){var re;for(re=0;re<L;++re){var ce=y[A+re],de=ce>>8&255,me=16711935&(me=(me=16711935&ce)+((de<<16)+de));H[ee+re]=(4278255360&ce)+me>>>0}}function Kt(y,A){A.jd=y>>0&255,A.hd=y>>8&255,A.ud=y>>16&255}function kt(y,A,L,H,ee,re){var ce;for(ce=0;ce<H;++ce){var de=A[L+ce],me=de>>>8,Se=de,M=255&(M=(M=de>>>16)+((y.jd<<24>>24)*(me<<24>>24)>>>5));Se=255&(Se=(Se=Se+((y.hd<<24>>24)*(me<<24>>24)>>>5))+((y.ud<<24>>24)*(M<<24>>24)>>>5)),ee[re+ce]=(4278255360&de)+(M<<16)+Se}}function Zt(y,A,L,H,ee){I[A]=function(re,ce,de,me,Se,M,N,R,G){for(me=N;me<R;++me)for(N=0;N<G;++N)Se[M++]=ee(de[H(re[ce++])])},I[y]=function(re,ce,de,me,Se,M,N){var R=8>>re.b,G=re.Ea,we=re.K[0],ge=re.w;if(8>R)for(re=(1<<re.b)-1,ge=(1<<R)-1;ce<de;++ce){var he,be=0;for(he=0;he<G;++he)he&re||(be=H(me[Se++])),M[N++]=ee(we[be&ge]),be>>=R}else I["VP8LMapColor"+L](me,Se,we,ge,M,N,ce,de,G)}}function Nt(y,A,L,H,ee){for(L=A+L;A<L;){var re=y[A++];H[ee++]=re>>16&255,H[ee++]=re>>8&255,H[ee++]=re>>0&255}}function Gn(y,A,L,H,ee){for(L=A+L;A<L;){var re=y[A++];H[ee++]=re>>16&255,H[ee++]=re>>8&255,H[ee++]=re>>0&255,H[ee++]=re>>24&255}}function sn(y,A,L,H,ee){for(L=A+L;A<L;){var re=(ce=y[A++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;H[ee++]=re,H[ee++]=ce}}function ni(y,A,L,H,ee){for(L=A+L;A<L;){var re=(ce=y[A++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;H[ee++]=re,H[ee++]=ce}}function cn(y,A,L,H,ee){for(L=A+L;A<L;){var re=y[A++];H[ee++]=re>>0&255,H[ee++]=re>>8&255,H[ee++]=re>>16&255}}function yn(y,A,L,H,ee,re){if(re==0)for(L=A+L;A<L;)ze(H,((re=y[A++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),ee+=32;else i(H,ee,y,A,L)}function Hn(y,A){I[A][0]=I[y+"0"],I[A][1]=I[y+"1"],I[A][2]=I[y+"2"],I[A][3]=I[y+"3"],I[A][4]=I[y+"4"],I[A][5]=I[y+"5"],I[A][6]=I[y+"6"],I[A][7]=I[y+"7"],I[A][8]=I[y+"8"],I[A][9]=I[y+"9"],I[A][10]=I[y+"10"],I[A][11]=I[y+"11"],I[A][12]=I[y+"12"],I[A][13]=I[y+"13"],I[A][14]=I[y+"0"],I[A][15]=I[y+"0"]}function xn(y){return y==Kc||y==uo||y==Ds||y==Ms}function vr(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ri(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vr,this.f.kb=new Un,this.sd=null}function yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function On(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function vn(y,A){var L=y.T,H=A.ba.f.RGBA,ee=H.eb,re=H.fb+y.ka*H.A,ce=dr[A.ba.S],de=y.y,me=y.O,Se=y.f,M=y.N,N=y.ea,R=y.W,G=A.cc,we=A.dc,ge=A.Mc,he=A.Nc,be=y.ka,Me=y.ka+y.T,He=y.U,Be=He+1>>1;for(be==0?ce(de,me,null,null,Se,M,N,R,Se,M,N,R,ee,re,null,null,He):(ce(A.ec,A.fc,de,me,G,we,ge,he,Se,M,N,R,ee,re-H.A,ee,re,He),++L);be+2<Me;be+=2)G=Se,we=M,ge=N,he=R,M+=y.Rc,R+=y.Rc,re+=2*H.A,ce(de,(me+=2*y.fa)-y.fa,de,me,G,we,ge,he,Se,M,N,R,ee,re-H.A,ee,re,He);return me+=y.fa,y.j+Me<y.o?(i(A.ec,A.fc,de,me,He),i(A.cc,A.dc,Se,M,Be),i(A.Mc,A.Nc,N,R,Be),L--):1&Me||ce(de,me,null,null,Se,M,N,R,Se,M,N,R,ee,re+H.A,null,null,He),L}function Oi(y,A,L){var H=y.F,ee=[y.J];if(H!=null){var re=y.U,ce=A.ba.S,de=ce==Cl||ce==Ds;A=A.ba.f.RGBA;var me=[0],Se=y.ka;me[0]=y.T,y.Kb&&(Se==0?--me[0]:(--Se,ee[0]-=y.width),y.j+y.ka+y.T==y.o&&(me[0]=y.o-y.j-Se));var M=A.eb;Se=A.fb+Se*A.A,y=Nn(H,ee[0],y.width,re,me,M,Se+(de?0:3),A.A),t(L==me),y&&xn(ce)&&ja(M,Se,de,re,me,A.A)}return 0}function ai(y){var A=y.ma,L=A.ba.S,H=11>L,ee=L==cc||L==Xc||L==Cl||L==hs||L==12||xn(L);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Uo(A.Oa,y,ee?11:12))return 0;if(ee&&xn(L)&&xt(),y.da)alert("todo:use_scaling");else{if(H){if(A.Ib=Jt,y.Kb){if(L=y.U+1>>1,A.memory=a(y.U+2*L),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+y.U,A.Mc=A.cc,A.Nc=A.dc+L,A.Ib=vn,xt()}}else alert("todo:EmitYUV");ee&&(A.Jb=Oi,H&&Ve())}if(H&&!Wu){for(y=0;256>y;++y)Lf[y]=89858*(y-128)+$i>>ms,Dl[y]=-22014*(y-128)+$i,Vu[y]=-45773*(y-128),Yi[y]=113618*(y-128)+$i>>ms;for(y=po;y<Is;++y)A=76283*(y-16)+$i>>ms,Qc[y-po]=Sa(A,255),go[y-po]=Sa(A+8>>4,15);Wu=1}return 1}function tr(y){var A=y.ma,L=y.U,H=y.T;return t(!(1&y.ka)),0>=L||0>=H?0:(L=A.Ib(y,A),A.Jb!=null&&A.Jb(y,A,L),A.Dc+=L,1)}function En(y){y.ma.memory=null}function Pt(y,A,L,H){return q(y,8)!=47?0:(A[0]=q(y,14)+1,L[0]=q(y,14)+1,H[0]=q(y,1),q(y,3)!=0?0:!y.h)}function fn(y,A){if(4>y)return y+1;var L=y-2>>1;return(2+(1&y)<<L)+q(A,L)+1}function Dn(y,A){return 120<A?A-120:1<=(L=((L=fo[A-1])>>4)*y+(8-(15&L)))?L:1;var L}function $n(y,A,L){var H=B(L),ee=y[A+=255&H].g-8;return 0<ee&&(X(L,L.u+8),H=B(L),A+=y[A].value,A+=H&(1<<ee)-1),X(L,L.u+y[A].g),y[A].value}function pn(y,A,L){return L.g+=y.g,L.value+=y.value<<A>>>0,t(8>=L.g),y.g}function Wn(y,A,L){var H=y.xc;return t((A=H==0?0:y.vc[y.md*(L>>H)+(A>>H)])<y.Wb),y.Ya[A]}function oe(y,A,L,H){var ee=y.ab,re=y.c*A,ce=y.C;A=ce+A;var de=L,me=H;for(H=y.Ta,L=y.Ua;0<ee--;){var Se=y.gc[ee],M=ce,N=A,R=de,G=me,we=(me=H,de=L,Se.Ea);switch(t(M<N),t(N<=Se.nc),Se.hc){case 2:$c(R,G,(N-M)*we,me,de);break;case 0:var ge=M,he=N,be=me,Me=de,He=(lt=Se).Ea;ge==0&&(Bu(R,G,null,null,1,be,Me),_t(R,G+1,0,0,He-1,be,Me+1),G+=He,Me+=He,++ge);for(var Be=1<<lt.b,tt=Be-1,ct=st(He,lt.b),pt=lt.K,lt=lt.w+(ge>>lt.b)*ct;ge<he;){var Lt=pt,Ft=lt,zt=1;for(lc(R,G,be,Me-He,1,be,Me);zt<He;){var Wt=(zt&~tt)+Be;Wt>He&&(Wt=He),(0,oo[Lt[Ft++]>>8&15])(R,G+ +zt,be,Me+zt-He,Wt-zt,be,Me+zt),zt=Wt}G+=He,Me+=He,++ge&tt||(lt+=ct)}N!=Se.nc&&i(me,de-we,me,de+(N-M-1)*we,we);break;case 1:for(we=R,he=G,He=(R=Se.Ea)-(Me=R&~(be=(G=1<<Se.b)-1)),ge=st(R,Se.b),Be=Se.K,Se=Se.w+(M>>Se.b)*ge;M<N;){for(tt=Be,ct=Se,pt=new vt,lt=he+Me,Lt=he+R;he<lt;)Kt(tt[ct++],pt),Go(pt,we,he,G,me,de),he+=G,de+=G;he<Lt&&(Kt(tt[ct++],pt),Go(pt,we,he,He,me,de),he+=He,de+=He),++M&be||(Se+=ge)}break;case 3:if(R==me&&G==de&&0<Se.b){for(he=me,R=we=de+(N-M)*we-(Me=(N-M)*st(Se.Ea,Se.b)),G=me,be=de,ge=[],Me=(He=Me)-1;0<=Me;--Me)ge[Me]=G[be+Me];for(Me=He-1;0<=Me;--Me)he[R+Me]=ge[Me];Gr(Se,M,N,me,we,me,de)}else Gr(Se,M,N,R,G,me,de)}de=H,me=L}me!=L&&i(H,L,de,me,re)}function je(y,A){var L=y.V,H=y.Ba+y.c*y.C,ee=A-y.C;if(t(A<=y.l.o),t(16>=ee),0<ee){var re=y.l,ce=y.Ta,de=y.Ua,me=re.width;if(oe(y,ee,L,H),ee=de=[de],t((L=y.C)<(H=A)),t(re.v<re.va),H>re.o&&(H=re.o),L<re.j){var Se=re.j-L;L=re.j,ee[0]+=Se*me}if(L>=H?L=0:(ee[0]+=4*re.v,re.ka=L-re.j,re.U=re.va-re.v,re.T=H-L,L=1),L){if(de=de[0],11>(L=y.ca).S){var M=L.f.RGBA,N=(H=L.S,ee=re.U,re=re.T,Se=M.eb,M.A),R=re;for(M=M.fb+y.Ma*M.A;0<R--;){var G=ce,we=de,ge=ee,he=Se,be=M;switch(H){case Mr:Rr(G,we,ge,he,be);break;case cc:cr(G,we,ge,he,be);break;case Kc:cr(G,we,ge,he,be),ja(he,be,0,ge,1,0);break;case Os:ds(G,we,ge,he,be);break;case Xc:yn(G,we,ge,he,be,1);break;case uo:yn(G,we,ge,he,be,1),ja(he,be,0,ge,1,0);break;case Cl:yn(G,we,ge,he,be,0);break;case Ds:yn(G,we,ge,he,be,0),ja(he,be,1,ge,1,0);break;case hs:$o(G,we,ge,he,be);break;case Ms:$o(G,we,ge,he,be),_n(he,be,ge,1,0);break;case kl:sa(G,we,ge,he,be);break;default:t(0)}de+=me,M+=N}y.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=L.height)}}y.C=A,t(y.C<=y.i)}function xe(y){var A;if(0<y.ua)return 0;for(A=0;A<y.Wb;++A){var L=y.Ya[A].G,H=y.Ya[A].H;if(0<L[1][H[1]+0].g||0<L[2][H[2]+0].g||0<L[3][H[3]+0].g)return 0}return 1}function ye(y,A,L,H,ee,re){if(y.Z!=0){var ce=y.qd,de=y.rd;for(t(Fs[y.Z]!=null);A<L;++A)Fs[y.Z](ce,de,H,ee,H,ee,re),ce=H,de=ee,ee+=re;y.qd=ce,y.rd=de}}function Ae(y,A){var L=y.l.ma,H=L.Z==0||L.Z==1?y.l.j:y.C;if(H=y.C<H?H:y.C,t(A<=y.l.o),A>H){var ee=y.l.width,re=L.ca,ce=L.tb+ee*H,de=y.V,me=y.Ba+y.c*H,Se=y.gc;t(y.ab==1),t(Se[0].hc==3),Cs(Se[0],H,A,de,me,re,ce),ye(L,H,A,re,ce,ee)}y.C=y.Ma=A}function Ee(y,A,L,H,ee,re,ce){var de=y.$/H,me=y.$%H,Se=y.m,M=y.s,N=L+y.$,R=N;ee=L+H*ee;var G=L+H*re,we=280+M.ua,ge=y.Pb?de:16777216,he=0<M.ua?M.Wa:null,be=M.wc,Me=N<G?Wn(M,me,de):null;t(y.C<re),t(G<=ee);var He=!1;e:for(;;){for(;He||N<G;){var Be=0;if(de>=ge){var tt=N-L;t((ge=y).Pb),ge.wd=ge.m,ge.xd=tt,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=de+Tf}if(me&be||(Me=Wn(M,me,de)),t(Me!=null),Me.Qb&&(A[N]=Me.qb,He=!0),!He)if(le(Se),Me.jc){Be=Se,tt=A;var ct=N,pt=Me.pd[B(Be)&Di-1];t(Me.jc),256>pt.g?(X(Be,Be.u+pt.g),tt[ct]=pt.value,Be=0):(X(Be,Be.u+pt.g-256),t(256<=pt.value),Be=pt.value),Be==0&&(He=!0)}else Be=$n(Me.G[0],Me.H[0],Se);if(Se.h)break;if(He||256>Be){if(!He)if(Me.nd)A[N]=(Me.qb|Be<<8)>>>0;else{if(le(Se),He=$n(Me.G[1],Me.H[1],Se),le(Se),tt=$n(Me.G[2],Me.H[2],Se),ct=$n(Me.G[3],Me.H[3],Se),Se.h)break;A[N]=(ct<<24|He<<16|Be<<8|tt)>>>0}if(He=!1,++N,++me>=H&&(me=0,++de,ce!=null&&de<=re&&!(de%16)&&ce(y,de),he!=null))for(;R<N;)Be=A[R++],he.X[(506832829*Be&4294967295)>>>he.Mb]=Be}else if(280>Be){if(Be=fn(Be-256,Se),tt=$n(Me.G[4],Me.H[4],Se),le(Se),tt=Dn(H,tt=fn(tt,Se)),Se.h)break;if(N-L<tt||ee-N<Be)break e;for(ct=0;ct<Be;++ct)A[N+ct]=A[N+ct-tt];for(N+=Be,me+=Be;me>=H;)me-=H,++de,ce!=null&&de<=re&&!(de%16)&&ce(y,de);if(t(N<=ee),me&be&&(Me=Wn(M,me,de)),he!=null)for(;R<N;)Be=A[R++],he.X[(506832829*Be&4294967295)>>>he.Mb]=Be}else{if(!(Be<we))break e;for(He=Be-280,t(he!=null);R<N;)Be=A[R++],he.X[(506832829*Be&4294967295)>>>he.Mb]=Be;Be=N,t(!(He>>>(tt=he).Xa)),A[Be]=tt.X[He],He=!0}He||t(Se.h==W(Se))}if(y.Pb&&Se.h&&N<ee)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&ve(y.s.vb,y.s.Wa);else{if(Se.h)break e;ce!=null&&ce(y,de>re?re:de),y.a=0,y.$=N-L}return 1}return y.a=3,0}function qe(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var A=y.Wa;A!=null&&(A.X=null),y.vb=null,t(y!=null)}function Qe(){var y=new qc;return y==null?null:(y.a=0,y.xb=dc,Hn("Predictor","VP8LPredictors"),Hn("Predictor","VP8LPredictors_C"),Hn("PredictorAdd","VP8LPredictorsAdd"),Hn("PredictorAdd","VP8LPredictorsAdd_C"),$c=It,Go=kt,Rr=Nt,cr=Gn,$o=sn,sa=ni,ds=cn,I.VP8LMapColor32b=nr,I.VP8LMapColor8b=Lr,y)}function Pe(y,A,L,H,ee){var re=1,ce=[y],de=[A],me=H.m,Se=H.s,M=null,N=0;e:for(;;){if(L)for(;re&&q(me,1);){var R=ce,G=de,we=H,ge=1,he=we.m,be=we.gc[we.ab],Me=q(he,2);if(we.Oc&1<<Me)re=0;else{switch(we.Oc|=1<<Me,be.hc=Me,be.Ea=R[0],be.nc=G[0],be.K=[null],++we.ab,t(4>=we.ab),Me){case 0:case 1:be.b=q(he,3)+2,ge=Pe(st(be.Ea,be.b),st(be.nc,be.b),0,we,be.K),be.K=be.K[0];break;case 3:var He,Be=q(he,8)+1,tt=16<Be?0:4<Be?1:2<Be?2:3;if(R[0]=st(be.Ea,tt),be.b=tt,He=ge=Pe(Be,1,0,we,be.K)){var ct,pt=Be,lt=be,Lt=1<<(8>>lt.b),Ft=a(Lt);if(Ft==null)He=0;else{var zt=lt.K[0],Wt=lt.w;for(Ft[0]=lt.K[0][0],ct=1;ct<1*pt;++ct)Ft[ct]=Ze(zt[Wt+ct],Ft[ct-1]);for(;ct<4*Lt;++ct)Ft[ct]=0;lt.K[0]=null,lt.K[0]=Ft,He=1}}ge=He;break;case 2:break;default:t(0)}re=ge}}if(ce=ce[0],de=de[0],re&&q(me,1)&&!(re=1<=(N=q(me,4))&&11>=N)){H.a=3;break e}var Ht;if(Ht=re)t:{var $t,St,Vt,Et=H,Ot=ce,qt=de,en=N,Zn=L,ei=Et.m,Ln=Et.s,qn=[null],Xn=1,Fn=0,bn=Rl[en];n:for(;;){if(Zn&&q(ei,1)){var ti=q(ei,3)+2,Fr=st(Ot,ti),di=st(qt,ti),Pn=Fr*di;if(!Pe(Fr,di,0,Et,qn))break n;for(qn=qn[0],Ln.xc=ti,$t=0;$t<Pn;++$t){var Ii=qn[$t]>>8&65535;qn[$t]=Ii,Ii>=Xn&&(Xn=Ii+1)}}if(ei.h)break n;for(St=0;5>St;++St){var Rn=Aa[St];!St&&0<en&&(Rn+=1<<en),Fn<Rn&&(Fn=Rn)}var $a=o(Xn*bn,U),Ml=Xn,Pr=o(Ml,ie);if(Pr==null)var _i=null;else t(65536>=Ml),_i=Pr;var Bs=a(Fn);if(_i==null||Bs==null||$a==null){Et.a=1;break n}var il=$a;for($t=Vt=0;$t<Xn;++$t){var la=_i[$t],zs=la.G,ca=la.H,fc=0,hc=1,eu=0;for(St=0;5>St;++St){Rn=Aa[St],zs[St]=il,ca[St]=Vt,!St&&0<en&&(Rn+=1<<en);r:{var mc,qu=Rn,tu=Et,Ya=Bs,nu=il,Dd=Vt,pc=0,ps=tu.m,Df=q(ps,1);if(r(Ya,0,0,qu),Df){var Md=q(ps,1)+1,Fd=q(ps,1),Gu=q(ps,Fd==0?1:8);Ya[Gu]=1,Md==2&&(Ya[Gu=q(ps,8)]=1);var gc=1}else{var Pd=a(19),iu=q(ps,4)+4;if(19<iu){tu.a=3;var xc=0;break r}for(mc=0;mc<iu;++mc)Pd[$r[mc]]=q(ps,3);var Mf=void 0,$u=void 0,Wm=tu,Vm=Pd,Fl=qu,Id=Ya,Ff=0,vo=Wm.m,Yu=8,qh=o(128,U);i:for(;z(qh,0,7,Vm,19);){if(q(vo,1)){var qm=2+2*q(vo,3);if((Mf=2+q(vo,qm))>Fl)break i}else Mf=Fl;for($u=0;$u<Fl&&Mf--;){le(vo);var Gh=qh[0+(127&B(vo))];X(vo,vo.u+Gh.g);var ru=Gh.value;if(16>ru)Id[$u++]=ru,ru!=0&&(Yu=ru);else{var Gm=ru==16,$h=ru-16,Yh=Ga[$h],Xh=q(vo,uc[$h])+Yh;if($u+Xh>Fl)break i;for(var $m=Gm?Yu:0;0<Xh--;)Id[$u++]=$m}}Ff=1;break i}Ff||(Wm.a=3),gc=Ff}(gc=gc&&!ps.h)&&(pc=z(nu,Dd,8,Ya,qu)),gc&&pc!=0?xc=pc:(tu.a=3,xc=0)}if(xc==0)break n;if(hc&&Ll[St]==1&&(hc=il[Vt].g==0),fc+=il[Vt].g,Vt+=xc,3>=St){var au,Pf=Bs[0];for(au=1;au<Rn;++au)Bs[au]>Pf&&(Pf=Bs[au]);eu+=Pf}}if(la.nd=hc,la.Qb=0,hc&&(la.qb=(zs[3][ca[3]+0].value<<24|zs[1][ca[1]+0].value<<16|zs[2][ca[2]+0].value)>>>0,fc==0&&256>zs[0][ca[0]+0].value&&(la.Qb=1,la.qb+=zs[0][ca[0]+0].value<<8)),la.jc=!la.Qb&&6>eu,la.jc){var Bd,Pl=la;for(Bd=0;Bd<Di;++Bd){var rl=Bd,Il=Pl.pd[rl],zd=Pl.G[0][Pl.H[0]+rl];256<=zd.value?(Il.g=zd.g+256,Il.value=zd.value):(Il.g=0,Il.value=0,rl>>=pn(zd,8,Il),rl>>=pn(Pl.G[1][Pl.H[1]+rl],16,Il),rl>>=pn(Pl.G[2][Pl.H[2]+rl],0,Il),pn(Pl.G[3][Pl.H[3]+rl],24,Il))}}}Ln.vc=qn,Ln.Wb=Xn,Ln.Ya=_i,Ln.yc=$a,Ht=1;break t}Ht=0}if(!(re=Ht)){H.a=3;break e}if(0<N){if(Se.ua=1<<N,!Ke(Se.Wa,N)){H.a=1,re=0;break e}}else Se.ua=0;var Hd=H,Kh=ce,Ym=de,Zh=Hd.s,Jh=Zh.xc;if(Hd.c=Kh,Hd.i=Ym,Zh.md=st(Kh,Jh),Zh.wc=Jh==0?-1:(1<<Jh)-1,L){H.xb=tl;break e}if((M=a(ce*de))==null){H.a=1,re=0;break e}re=(re=Ee(H,M,0,ce,de,de,null))&&!me.h;break e}return re?(ee!=null?ee[0]=M:(t(M==null),t(L)),H.$=0,L||qe(Se)):qe(Se),re}function We(y,A){var L=y.c*y.i,H=L+A+16*A;return t(y.c<=A),y.V=a(H),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+L+A,1)}function Ge(y,A){var L=y.C,H=A-L,ee=y.V,re=y.Ba+y.c*L;for(t(A<=y.l.o);0<H;){var ce=16<H?16:H,de=y.l.ma,me=y.l.width,Se=me*ce,M=de.ca,N=de.tb+me*L,R=y.Ta,G=y.Ua;oe(y,ce,ee,re),li(R,G,M,N,Se),ye(de,L,L+ce,M,N,me),H-=ce,ee+=ce*y.c,L+=ce}t(L==A),y.C=y.Ma=A}function ut(){this.ub=this.yd=this.td=this.Rb=0}function yt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function bt(){this.Yb=function(){var y=[];return function A(L,H,ee){for(var re=ee[H],ce=0;ce<re&&(L.push(ee.length>H+1?[]:0),!(ee.length<H+1));ce++)A(L[ce],H+1,ee)}(y,0,[3,11]),y}()}function jt(){this.jb=a(3),this.Wc=c([4,8],bt),this.Xc=c([4,17],bt)}function nn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function kn(){this.ld=this.La=this.dd=this.tc=0}function Tn(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ia(){this.uc=this.M=this.Nb=0,this.wa=Array(new kn),this.Y=0,this.ya=Array(new Hr),this.aa=0,this.l=new xa}function Cr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ta(){this.cb=this.a=0,this.sc="",this.m=new ke,this.Od=new ut,this.Kc=new yt,this.ed=new nn,this.Qa=new Ct,this.Ic=this.$c=this.Aa=0,this.D=new Ia,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ke),this.ia=0,this.pb=o(4,Qn),this.Pa=new jt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cr),this.Hd=0,this.rb=Array(new Tn),this.sb=0,this.wa=Array(new kn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hr),this.L=this.aa=0,this.gd=c([4,2],kn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function na(){var y=new ta;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Gi||(Gi=Pc)),y}function Ai(y,A,L){return y.a==0&&(y.a=A,y.sc=L,y.cb=0),0}function kr(y,A,L){return 3<=L&&y[A+0]==157&&y[A+1]==1&&y[A+2]==42}function nc(y,A){if(y==null)return 0;if(y.a=0,y.sc="OK",A==null)return Ai(y,2,"null VP8Io passed to VP8GetHeaders()");var L=A.data,H=A.w,ee=A.ha;if(4>ee)return Ai(y,7,"Truncated header.");var re=L[H+0]|L[H+1]<<8|L[H+2]<<16,ce=y.Od;if(ce.Rb=!(1&re),ce.td=re>>1&7,ce.yd=re>>4&1,ce.ub=re>>5,3<ce.td)return Ai(y,3,"Incorrect keyframe parameters.");if(!ce.yd)return Ai(y,4,"Frame not displayable.");H+=3,ee-=3;var de=y.Kc;if(ce.Rb){if(7>ee)return Ai(y,7,"cannot parse picture header");if(!kr(L,H,ee))return Ai(y,3,"Bad code word");de.c=16383&(L[H+4]<<8|L[H+3]),de.Td=L[H+4]>>6,de.i=16383&(L[H+6]<<8|L[H+5]),de.Ud=L[H+6]>>6,H+=7,ee-=7,y.za=de.c+15>>4,y.Ub=de.i+15>>4,A.width=de.c,A.height=de.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,r((re=y.Pa).jb,0,255,re.jb.length),t((re=y.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,r(re.Zb,0,0,re.Zb.length),r(re.Lb,0,0,re.Lb)}if(ce.ub>ee)return Ai(y,7,"bad partition length");pe(re=y.m,L,H,ce.ub),H+=ce.ub,ee-=ce.ub,ce.Rb&&(de.Ld=_e(re),de.Kd=_e(re)),de=y.Qa;var me,Se=y.Pa;if(t(re!=null),t(de!=null),de.Cb=_e(re),de.Cb){if(de.Bb=_e(re),_e(re)){for(de.Fb=_e(re),me=0;4>me;++me)de.Zb[me]=_e(re)?ue(re,7):0;for(me=0;4>me;++me)de.Lb[me]=_e(re)?ue(re,6):0}if(de.Bb)for(me=0;3>me;++me)Se.jb[me]=_e(re)?ae(re,8):255}else de.Bb=0;if(re.Ka)return Ai(y,3,"cannot parse segment header");if((de=y.ed).zd=_e(re),de.Tb=ae(re,6),de.wb=ae(re,3),de.Pc=_e(re),de.Pc&&_e(re)){for(Se=0;4>Se;++Se)_e(re)&&(de.vd[Se]=ue(re,6));for(Se=0;4>Se;++Se)_e(re)&&(de.od[Se]=ue(re,6))}if(y.L=de.Tb==0?0:de.zd?1:2,re.Ka)return Ai(y,3,"cannot parse filter header");var M=ee;if(ee=me=H,H=me+M,de=M,y.Xb=(1<<ae(y.m,2))-1,M<3*(Se=y.Xb))L=7;else{for(me+=3*Se,de-=3*Se,M=0;M<Se;++M){var N=L[ee+0]|L[ee+1]<<8|L[ee+2]<<16;N>de&&(N=de),pe(y.Jc[+M],L,me,N),me+=N,de-=N,ee+=3}pe(y.Jc[+Se],L,me,de),L=me<H?0:5}if(L!=0)return Ai(y,L,"cannot parse partitions");for(L=ae(me=y.m,7),ee=_e(me)?ue(me,4):0,H=_e(me)?ue(me,4):0,de=_e(me)?ue(me,4):0,Se=_e(me)?ue(me,4):0,me=_e(me)?ue(me,4):0,M=y.Qa,N=0;4>N;++N){if(M.Cb){var R=M.Zb[N];M.Fb||(R+=L)}else{if(0<N){y.pb[N]=y.pb[0];continue}R=L}var G=y.pb[N];G.Sc[0]=Zc[Sa(R+ee,127)],G.Sc[1]=Jo[Sa(R+0,127)],G.Eb[0]=2*Zc[Sa(R+H,127)],G.Eb[1]=101581*Jo[Sa(R+de,127)]>>16,8>G.Eb[1]&&(G.Eb[1]=8),G.Qc[0]=Zc[Sa(R+Se,117)],G.Qc[1]=Jo[Sa(R+me,127)],G.lc=R+me}if(!ce.Rb)return Ai(y,4,"Not a key frame.");for(_e(re),ce=y.Pa,L=0;4>L;++L){for(ee=0;8>ee;++ee)for(H=0;3>H;++H)for(de=0;11>de;++de)Se=Le(re,el[L][ee][H][de])?ae(re,8):Yr[L][ee][H][de],ce.Wc[L][ee].Yb[H][de]=Se;for(ee=0;17>ee;++ee)ce.Xc[L][ee]=ce.Wc[L][Cf[ee]]}return y.kc=_e(re),y.kc&&(y.Bd=ae(re,8)),y.cb=1}function Pc(y,A,L,H,ee,re,ce){var de=A[ee].Yb[L];for(L=0;16>ee;++ee){if(!Le(y,de[L+0]))return ee;for(;!Le(y,de[L+1]);)if(de=A[++ee].Yb[0],L=0,ee==16)return 16;var me=A[ee+1].Yb;if(Le(y,de[L+2])){var Se=y,M=0;if(Le(Se,(R=de)[(N=L)+3]))if(Le(Se,R[N+6])){for(de=0,N=2*(M=Le(Se,R[N+8]))+(R=Le(Se,R[N+9+M])),M=0,R=Pi[N];R[de];++de)M+=M+Le(Se,R[de]);M+=3+(8<<N)}else Le(Se,R[N+7])?(M=7+2*Le(Se,165),M+=Le(Se,145)):M=5+Le(Se,159);else M=Le(Se,R[N+4])?3+Le(Se,R[N+5]):2;de=me[2]}else M=1,de=me[1];me=ce+Vn[ee],0>(Se=y).b&&Ce(Se);var N,R=Se.b,G=(N=Se.Ca>>1)-(Se.I>>R)>>31;--Se.b,Se.Ca+=G,Se.Ca|=1,Se.I-=(N+1&G)<<R,re[me]=((M^G)-G)*H[(0<ee)+0]}return 16}function Js(y){var A=y.rb[y.sb-1];A.la=0,A.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function Ic(y,A){if(y==null)return 0;if(A==null)return Ai(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!nc(y,A))return 0;if(t(y.cb),A.ac==null||A.ac(A)){A.ob&&(y.L=0);var L=xo[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=A.v-L>>4,y.zb=A.j-L>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=A.o+15+L>>4,y.Hb=A.va+15+L>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var H=y.ed;for(L=0;4>L;++L){var ee;if(y.Qa.Cb){var re=y.Qa.Lb[L];y.Qa.Fb||(re+=H.Tb)}else re=H.Tb;for(ee=0;1>=ee;++ee){var ce=y.gd[L][ee],de=re;if(H.Pc&&(de+=H.vd[0],ee&&(de+=H.od[0])),0<(de=0>de?0:63<de?63:de)){var me=de;0<H.wb&&(me=4<H.wb?me>>2:me>>1)>9-H.wb&&(me=9-H.wb),1>me&&(me=1),ce.dd=me,ce.tc=2*de+me,ce.ld=40<=de?2:15<=de?1:0}else ce.tc=0;ce.La=ee}}}L=0}else Ai(y,6,"Frame setup failed"),L=y.a;if(L=L==0){if(L){y.$c=0,0<y.Aa||(y.Ic=Rf);e:{L=y.Ic,H=4*(me=y.za);var Se=32*me,M=me+1,N=0<y.L?me*(0<y.Aa?2:1):0,R=(y.Aa==2?2:1)*me;if((ce=H+832+(ee=3*(16*L+xo[y.L])/2*Se)+(re=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ce)L=0;else{if(ce>y.Vb){if(y.Vb=0,y.Ec=a(ce),y.Fc=0,y.Ec==null){L=Ai(y,1,"no memory during frame initialization.");break e}y.Vb=ce}ce=y.Ec,de=y.Fc,y.Ac=ce,y.Bc=de,de+=H,y.Gd=o(Se,Cr),y.Hd=0,y.rb=o(M+1,Tn),y.sb=1,y.wa=N?o(N,kn):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=me),t(!0),y.oc=ce,y.pc=de,de+=832,y.ya=o(R,Hr),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=me),y.R=16*me,y.B=8*me,me=(Se=xo[y.L])*y.R,Se=Se/2*y.B,y.sa=ce,y.ta=de+me,y.qa=y.sa,y.ra=y.ta+16*L*y.R+Se,y.Ha=y.qa,y.Ia=y.ra+8*L*y.B+Se,y.$c=0,de+=ee,y.mb=re?ce:null,y.nb=re?de:null,t(de+re<=y.Fc+y.Vb),Js(y),r(y.Ac,y.Bc,0,H),L=1}}if(L){if(A.ka=0,A.y=y.sa,A.O=y.ta,A.f=y.qa,A.N=y.ra,A.ea=y.Ha,A.Vd=y.Ia,A.fa=y.R,A.Rc=y.B,A.F=null,A.J=0,!yr){for(L=-255;255>=L;++L)qi[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)Va[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)Ko[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)Zo[255+L]=0>L?0:255<L?255:L;yr=1}ks=va,fs=xl,Ua=or,Vi=ws,Or=Do,Mi=gl,jl=Po,Ls=Io,Wa=Iu,Dr=Uc,lo=Pu,Yo=Bo,Xo=rc,Al=Wc,co=ao,Rs=ra,El=Vr,Fi=Od,Xr[0]=Ur,Xr[1]=Bc,Xr[2]=no,Xr[3]=zc,Xr[4]=wa,Xr[5]=Ns,Xr[6]=ls,Xr[7]=_a,Xr[8]=io,Xr[9]=yl,ho[0]=ba,ho[1]=bl,ho[2]=_s,ho[3]=ia,ho[4]=Hi,ho[5]=to,ho[6]=ya,wr[0]=ro,wr[1]=Qs,wr[2]=ic,wr[3]=Mo,wr[4]=Wr,wr[5]=br,wr[6]=Ss,L=1}else L=0}L&&(L=function(G,we){for(G.M=0;G.M<G.Va;++G.M){var ge,he=G.Jc[G.M&G.Xb],be=G.m,Me=G;for(ge=0;ge<Me.za;++ge){var He=be,Be=Me,tt=Be.Ac,ct=Be.Bc+4*ge,pt=Be.zc,lt=Be.ya[Be.aa+ge];if(Be.Qa.Bb?lt.$b=Le(He,Be.Pa.jb[0])?2+Le(He,Be.Pa.jb[2]):Le(He,Be.Pa.jb[1]):lt.$b=0,Be.kc&&(lt.Ad=Le(He,Be.Bd)),lt.Za=!Le(He,145)+0,lt.Za){var Lt=lt.Ob,Ft=0;for(Be=0;4>Be;++Be){var zt,Wt=pt[0+Be];for(zt=0;4>zt;++zt){Wt=Jc[tt[ct+zt]][Wt];for(var Ht=Qo[Le(He,Wt[0])];0<Ht;)Ht=Qo[2*Ht+Le(He,Wt[Ht])];Wt=-Ht,tt[ct+zt]=Wt}i(Lt,Ft,tt,ct,4),Ft+=4,pt[0+Be]=Wt}}else Wt=Le(He,156)?Le(He,128)?1:3:Le(He,163)?2:0,lt.Ob[0]=Wt,r(tt,ct,Wt,4),r(pt,0,Wt,4);lt.Dd=Le(He,142)?Le(He,114)?Le(He,183)?1:3:2:0}if(Me.m.Ka)return Ai(G,7,"Premature end-of-partition0 encountered.");for(;G.ja<G.za;++G.ja){if(Me=he,He=(be=G).rb[be.sb-1],tt=be.rb[be.sb+be.ja],ge=be.ya[be.aa+be.ja],ct=be.kc?ge.Ad:0)He.la=tt.la=0,ge.Za||(He.Na=tt.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var $t,St;if(He=tt,tt=Me,ct=be.Pa.Xc,pt=be.ya[be.aa+be.ja],lt=be.pb[pt.$b],Be=pt.ad,Lt=0,Ft=be.rb[be.sb-1],Wt=zt=0,r(Be,Lt,0,384),pt.Za)var Vt=0,Et=ct[3];else{Ht=a(16);var Ot=He.Na+Ft.Na;if(Ot=Gi(tt,ct[1],Ot,lt.Eb,0,Ht,0),He.Na=Ft.Na=(0<Ot)+0,1<Ot)ks(Ht,0,Be,Lt);else{var qt=Ht[0]+3>>3;for(Ht=0;256>Ht;Ht+=16)Be[Lt+Ht]=qt}Vt=1,Et=ct[0]}var en=15&He.la,Zn=15&Ft.la;for(Ht=0;4>Ht;++Ht){var ei=1&Zn;for(qt=St=0;4>qt;++qt)en=en>>1|(ei=(Ot=Gi(tt,Et,Ot=ei+(1&en),lt.Sc,Vt,Be,Lt))>Vt)<<7,St=St<<2|(3<Ot?3:1<Ot?2:Be[Lt+0]!=0),Lt+=16;en>>=4,Zn=Zn>>1|ei<<7,zt=(zt<<8|St)>>>0}for(Et=en,Vt=Zn>>4,$t=0;4>$t;$t+=2){for(St=0,en=He.la>>4+$t,Zn=Ft.la>>4+$t,Ht=0;2>Ht;++Ht){for(ei=1&Zn,qt=0;2>qt;++qt)Ot=ei+(1&en),en=en>>1|(ei=0<(Ot=Gi(tt,ct[2],Ot,lt.Qc,0,Be,Lt)))<<3,St=St<<2|(3<Ot?3:1<Ot?2:Be[Lt+0]!=0),Lt+=16;en>>=2,Zn=Zn>>1|ei<<5}Wt|=St<<4*$t,Et|=en<<4<<$t,Vt|=(240&Zn)<<$t}He.la=Et,Ft.la=Vt,pt.Hc=zt,pt.Gc=Wt,pt.ia=43690&Wt?0:lt.ia,ct=!(zt|Wt)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[ge.$b][ge.Za],be.wa[be.Y+be.ja].La|=!ct),Me.Ka)return Ai(G,7,"Premature end-of-file encountered.")}if(Js(G),be=we,Me=1,ge=(he=G).D,He=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(ge.M=he.M,ge.uc=He,Ts(he,ge),Me=1,ge=(St=he.D).Nb,He=(Wt=xo[he.L])*he.R,tt=Wt/2*he.B,Ht=16*ge*he.R,qt=8*ge*he.B,ct=he.sa,pt=he.ta-He+Ht,lt=he.qa,Be=he.ra-tt+qt,Lt=he.Ha,Ft=he.Ia-tt+qt,Zn=(en=St.M)==0,zt=en>=he.Va-1,he.Aa==2&&Ts(he,St),St.uc)for(ei=(Ot=he).D.M,t(Ot.D.uc),St=Ot.yb;St<Ot.Hb;++St){Vt=St,Et=ei;var Ln=(qn=(Rn=Ot).D).Nb;$t=Rn.R;var qn=qn.wa[qn.Y+Vt],Xn=Rn.sa,Fn=Rn.ta+16*Ln*$t+16*Vt,bn=qn.dd,ti=qn.tc;if(ti!=0)if(t(3<=ti),Rn.L==1)0<Vt&&Rs(Xn,Fn,$t,ti+4),qn.La&&Fi(Xn,Fn,$t,ti),0<Et&&co(Xn,Fn,$t,ti+4),qn.La&&El(Xn,Fn,$t,ti);else{var Fr=Rn.B,di=Rn.qa,Pn=Rn.ra+8*Ln*Fr+8*Vt,Ii=Rn.Ha,Rn=Rn.Ia+8*Ln*Fr+8*Vt;Ln=qn.ld,0<Vt&&(Ls(Xn,Fn,$t,ti+4,bn,Ln),Dr(di,Pn,Ii,Rn,Fr,ti+4,bn,Ln)),qn.La&&(Yo(Xn,Fn,$t,ti,bn,Ln),Al(di,Pn,Ii,Rn,Fr,ti,bn,Ln)),0<Et&&(jl(Xn,Fn,$t,ti+4,bn,Ln),Wa(di,Pn,Ii,Rn,Fr,ti+4,bn,Ln)),qn.La&&(lo(Xn,Fn,$t,ti,bn,Ln),Xo(di,Pn,Ii,Rn,Fr,ti,bn,Ln))}}if(he.ia&&alert("todo:DitherRow"),be.put!=null){if(St=16*en,en=16*(en+1),Zn?(be.y=he.sa,be.O=he.ta+Ht,be.f=he.qa,be.N=he.ra+qt,be.ea=he.Ha,be.W=he.Ia+qt):(St-=Wt,be.y=ct,be.O=pt,be.f=lt,be.N=Be,be.ea=Lt,be.W=Ft),zt||(en-=Wt),en>be.o&&(en=be.o),be.F=null,be.J=null,he.Fa!=null&&0<he.Fa.length&&St<en&&(be.J=Gc(he,be,St,en-St),be.F=he.mb,be.F==null&&be.F.length==0)){Me=Ai(he,3,"Could not decode alpha data.");break e}St<be.j&&(Wt=be.j-St,St=be.j,t(!(1&Wt)),be.O+=he.R*Wt,be.N+=he.B*(Wt>>1),be.W+=he.B*(Wt>>1),be.F!=null&&(be.J+=be.width*Wt)),St<en&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=St-be.j,be.U=be.va-be.v,be.T=en-St,Me=be.put(be))}ge+1!=he.Ic||zt||(i(he.sa,he.ta-He,ct,pt+16*he.R,He),i(he.qa,he.ra-tt,lt,Be+8*he.B,tt),i(he.Ha,he.Ia-tt,Lt,Ft+8*he.B,tt))}if(!Me)return Ai(G,6,"Output aborted.")}return 1}(y,A)),A.bc!=null&&A.bc(A),L&=1}return L?(y.cb=0,L):0}function Ei(y,A,L,H,ee){ee=y[A+L+32*H]+(ee>>3),y[A+L+32*H]=-256&ee?0>ee?0:255:ee}function ar(y,A,L,H,ee,re){Ei(y,A,0,L,H+ee),Ei(y,A,1,L,H+re),Ei(y,A,2,L,H-re),Ei(y,A,3,L,H-ee)}function Yn(y){return(20091*y>>16)+y}function sr(y,A,L,H){var ee,re=0,ce=a(16);for(ee=0;4>ee;++ee){var de=y[A+0]+y[A+8],me=y[A+0]-y[A+8],Se=(35468*y[A+4]>>16)-Yn(y[A+12]),M=Yn(y[A+4])+(35468*y[A+12]>>16);ce[re+0]=de+M,ce[re+1]=me+Se,ce[re+2]=me-Se,ce[re+3]=de-M,re+=4,A++}for(ee=re=0;4>ee;++ee)de=(y=ce[re+0]+4)+ce[re+8],me=y-ce[re+8],Se=(35468*ce[re+4]>>16)-Yn(ce[re+12]),Ei(L,H,0,0,de+(M=Yn(ce[re+4])+(35468*ce[re+12]>>16))),Ei(L,H,1,0,me+Se),Ei(L,H,2,0,me-Se),Ei(L,H,3,0,de-M),re++,H+=32}function gl(y,A,L,H){var ee=y[A+0]+4,re=35468*y[A+4]>>16,ce=Yn(y[A+4]),de=35468*y[A+1]>>16;ar(L,H,0,ee+ce,y=Yn(y[A+1]),de),ar(L,H,1,ee+re,y,de),ar(L,H,2,ee-re,y,de),ar(L,H,3,ee-ce,y,de)}function xl(y,A,L,H,ee){sr(y,A,L,H),ee&&sr(y,A+16,L,H+4)}function or(y,A,L,H){fs(y,A+0,L,H,1),fs(y,A+32,L,H+128,1)}function ws(y,A,L,H){var ee;for(y=y[A+0]+4,ee=0;4>ee;++ee)for(A=0;4>A;++A)Ei(L,H,A,ee,y)}function Do(y,A,L,H){y[A+0]&&Vi(y,A+0,L,H),y[A+16]&&Vi(y,A+16,L,H+4),y[A+32]&&Vi(y,A+32,L,H+128),y[A+48]&&Vi(y,A+48,L,H+128+4)}function va(y,A,L,H){var ee,re=a(16);for(ee=0;4>ee;++ee){var ce=y[A+0+ee]+y[A+12+ee],de=y[A+4+ee]+y[A+8+ee],me=y[A+4+ee]-y[A+8+ee],Se=y[A+0+ee]-y[A+12+ee];re[0+ee]=ce+de,re[8+ee]=ce-de,re[4+ee]=Se+me,re[12+ee]=Se-me}for(ee=0;4>ee;++ee)ce=(y=re[0+4*ee]+3)+re[3+4*ee],de=re[1+4*ee]+re[2+4*ee],me=re[1+4*ee]-re[2+4*ee],Se=y-re[3+4*ee],L[H+0]=ce+de>>3,L[H+16]=Se+me>>3,L[H+32]=ce-de>>3,L[H+48]=Se-me>>3,H+=64}function vl(y,A,L){var H,ee=A-32,re=ur,ce=255-y[ee-1];for(H=0;H<L;++H){var de,me=re,Se=ce+y[A-1];for(de=0;de<L;++de)y[A+de]=me[Se+y[ee+de]];A+=32}}function Bc(y,A){vl(y,A,4)}function Qs(y,A){vl(y,A,8)}function bl(y,A){vl(y,A,16)}function _s(y,A){var L;for(L=0;16>L;++L)i(y,A+32*L,y,A-32,16)}function ia(y,A){var L;for(L=16;0<L;--L)r(y,A,y[A-1],16),A+=32}function eo(y,A,L){var H;for(H=0;16>H;++H)r(A,L+32*H,y,16)}function ba(y,A){var L,H=16;for(L=0;16>L;++L)H+=y[A-1+32*L]+y[A+L-32];eo(H>>5,y,A)}function Hi(y,A){var L,H=8;for(L=0;16>L;++L)H+=y[A-1+32*L];eo(H>>4,y,A)}function to(y,A){var L,H=8;for(L=0;16>L;++L)H+=y[A+L-32];eo(H>>4,y,A)}function ya(y,A){eo(128,y,A)}function rn(y,A,L){return y+2*A+L+2>>2}function no(y,A){var L,H=A-32;for(H=new Uint8Array([rn(y[H-1],y[H+0],y[H+1]),rn(y[H+0],y[H+1],y[H+2]),rn(y[H+1],y[H+2],y[H+3]),rn(y[H+2],y[H+3],y[H+4])]),L=0;4>L;++L)i(y,A+32*L,H,0,H.length)}function zc(y,A){var L=y[A-1],H=y[A-1+32],ee=y[A-1+64],re=y[A-1+96];ze(y,A+0,16843009*rn(y[A-1-32],L,H)),ze(y,A+32,16843009*rn(L,H,ee)),ze(y,A+64,16843009*rn(H,ee,re)),ze(y,A+96,16843009*rn(ee,re,re))}function Ur(y,A){var L,H=4;for(L=0;4>L;++L)H+=y[A+L-32]+y[A-1+32*L];for(H>>=3,L=0;4>L;++L)r(y,A+32*L,H,4)}function wa(y,A){var L=y[A-1+0],H=y[A-1+32],ee=y[A-1+64],re=y[A-1-32],ce=y[A+0-32],de=y[A+1-32],me=y[A+2-32],Se=y[A+3-32];y[A+0+96]=rn(H,ee,y[A-1+96]),y[A+1+96]=y[A+0+64]=rn(L,H,ee),y[A+2+96]=y[A+1+64]=y[A+0+32]=rn(re,L,H),y[A+3+96]=y[A+2+64]=y[A+1+32]=y[A+0+0]=rn(ce,re,L),y[A+3+64]=y[A+2+32]=y[A+1+0]=rn(de,ce,re),y[A+3+32]=y[A+2+0]=rn(me,de,ce),y[A+3+0]=rn(Se,me,de)}function ls(y,A){var L=y[A+1-32],H=y[A+2-32],ee=y[A+3-32],re=y[A+4-32],ce=y[A+5-32],de=y[A+6-32],me=y[A+7-32];y[A+0+0]=rn(y[A+0-32],L,H),y[A+1+0]=y[A+0+32]=rn(L,H,ee),y[A+2+0]=y[A+1+32]=y[A+0+64]=rn(H,ee,re),y[A+3+0]=y[A+2+32]=y[A+1+64]=y[A+0+96]=rn(ee,re,ce),y[A+3+32]=y[A+2+64]=y[A+1+96]=rn(re,ce,de),y[A+3+64]=y[A+2+96]=rn(ce,de,me),y[A+3+96]=rn(de,me,me)}function Ns(y,A){var L=y[A-1+0],H=y[A-1+32],ee=y[A-1+64],re=y[A-1-32],ce=y[A+0-32],de=y[A+1-32],me=y[A+2-32],Se=y[A+3-32];y[A+0+0]=y[A+1+64]=re+ce+1>>1,y[A+1+0]=y[A+2+64]=ce+de+1>>1,y[A+2+0]=y[A+3+64]=de+me+1>>1,y[A+3+0]=me+Se+1>>1,y[A+0+96]=rn(ee,H,L),y[A+0+64]=rn(H,L,re),y[A+0+32]=y[A+1+96]=rn(L,re,ce),y[A+1+32]=y[A+2+96]=rn(re,ce,de),y[A+2+32]=y[A+3+96]=rn(ce,de,me),y[A+3+32]=rn(de,me,Se)}function _a(y,A){var L=y[A+0-32],H=y[A+1-32],ee=y[A+2-32],re=y[A+3-32],ce=y[A+4-32],de=y[A+5-32],me=y[A+6-32],Se=y[A+7-32];y[A+0+0]=L+H+1>>1,y[A+1+0]=y[A+0+64]=H+ee+1>>1,y[A+2+0]=y[A+1+64]=ee+re+1>>1,y[A+3+0]=y[A+2+64]=re+ce+1>>1,y[A+0+32]=rn(L,H,ee),y[A+1+32]=y[A+0+96]=rn(H,ee,re),y[A+2+32]=y[A+1+96]=rn(ee,re,ce),y[A+3+32]=y[A+2+96]=rn(re,ce,de),y[A+3+64]=rn(ce,de,me),y[A+3+96]=rn(de,me,Se)}function yl(y,A){var L=y[A-1+0],H=y[A-1+32],ee=y[A-1+64],re=y[A-1+96];y[A+0+0]=L+H+1>>1,y[A+2+0]=y[A+0+32]=H+ee+1>>1,y[A+2+32]=y[A+0+64]=ee+re+1>>1,y[A+1+0]=rn(L,H,ee),y[A+3+0]=y[A+1+32]=rn(H,ee,re),y[A+3+32]=y[A+1+64]=rn(ee,re,re),y[A+3+64]=y[A+2+64]=y[A+0+96]=y[A+1+96]=y[A+2+96]=y[A+3+96]=re}function io(y,A){var L=y[A-1+0],H=y[A-1+32],ee=y[A-1+64],re=y[A-1+96],ce=y[A-1-32],de=y[A+0-32],me=y[A+1-32],Se=y[A+2-32];y[A+0+0]=y[A+2+32]=L+ce+1>>1,y[A+0+32]=y[A+2+64]=H+L+1>>1,y[A+0+64]=y[A+2+96]=ee+H+1>>1,y[A+0+96]=re+ee+1>>1,y[A+3+0]=rn(de,me,Se),y[A+2+0]=rn(ce,de,me),y[A+1+0]=y[A+3+32]=rn(L,ce,de),y[A+1+32]=y[A+3+64]=rn(H,L,ce),y[A+1+64]=y[A+3+96]=rn(ee,H,L),y[A+1+96]=rn(re,ee,H)}function ic(y,A){var L;for(L=0;8>L;++L)i(y,A+32*L,y,A-32,8)}function Mo(y,A){var L;for(L=0;8>L;++L)r(y,A,y[A-1],8),A+=32}function Na(y,A,L){var H;for(H=0;8>H;++H)r(A,L+32*H,y,8)}function ro(y,A){var L,H=8;for(L=0;8>L;++L)H+=y[A+L-32]+y[A-1+32*L];Na(H>>4,y,A)}function br(y,A){var L,H=4;for(L=0;8>L;++L)H+=y[A+L-32];Na(H>>3,y,A)}function Wr(y,A){var L,H=4;for(L=0;8>L;++L)H+=y[A-1+32*L];Na(H>>3,y,A)}function Ss(y,A){Na(128,y,A)}function Ba(y,A,L){var H=y[A-L],ee=y[A+0],re=3*(ee-H)+Yc[1020+y[A-2*L]-y[A+L]],ce=Tl[112+(re+4>>3)];y[A-L]=ur[255+H+Tl[112+(re+3>>3)]],y[A+0]=ur[255+ee-ce]}function Hc(y,A,L,H){var ee=y[A+0],re=y[A+L];return qa[255+y[A-2*L]-y[A-L]]>H||qa[255+re-ee]>H}function js(y,A,L,H){return 4*qa[255+y[A-L]-y[A+0]]+qa[255+y[A-2*L]-y[A+L]]<=H}function Fo(y,A,L,H,ee){var re=y[A-3*L],ce=y[A-2*L],de=y[A-L],me=y[A+0],Se=y[A+L],M=y[A+2*L],N=y[A+3*L];return 4*qa[255+de-me]+qa[255+ce-Se]>H?0:qa[255+y[A-4*L]-re]<=ee&&qa[255+re-ce]<=ee&&qa[255+ce-de]<=ee&&qa[255+N-M]<=ee&&qa[255+M-Se]<=ee&&qa[255+Se-me]<=ee}function ao(y,A,L,H){var ee=2*H+1;for(H=0;16>H;++H)js(y,A+H,L,ee)&&Ba(y,A+H,L)}function ra(y,A,L,H){var ee=2*H+1;for(H=0;16>H;++H)js(y,A+H*L,1,ee)&&Ba(y,A+H*L,1)}function Vr(y,A,L,H){var ee;for(ee=3;0<ee;--ee)ao(y,A+=4*L,L,H)}function Od(y,A,L,H){var ee;for(ee=3;0<ee;--ee)ra(y,A+=4,L,H)}function so(y,A,L,H,ee,re,ce,de){for(re=2*re+1;0<ee--;){if(Fo(y,A,L,re,ce))if(Hc(y,A,L,de))Ba(y,A,L);else{var me=y,Se=A,M=L,N=me[Se-2*M],R=me[Se-M],G=me[Se+0],we=me[Se+M],ge=me[Se+2*M],he=27*(Me=Yc[1020+3*(G-R)+Yc[1020+N-we]])+63>>7,be=18*Me+63>>7,Me=9*Me+63>>7;me[Se-3*M]=ur[255+me[Se-3*M]+Me],me[Se-2*M]=ur[255+N+be],me[Se-M]=ur[255+R+he],me[Se+0]=ur[255+G-he],me[Se+M]=ur[255+we-be],me[Se+2*M]=ur[255+ge-Me]}A+=H}}function za(y,A,L,H,ee,re,ce,de){for(re=2*re+1;0<ee--;){if(Fo(y,A,L,re,ce))if(Hc(y,A,L,de))Ba(y,A,L);else{var me=y,Se=A,M=L,N=me[Se-M],R=me[Se+0],G=me[Se+M],we=Tl[112+((ge=3*(R-N))+4>>3)],ge=Tl[112+(ge+3>>3)],he=we+1>>1;me[Se-2*M]=ur[255+me[Se-2*M]+he],me[Se-M]=ur[255+N+ge],me[Se+0]=ur[255+R-we],me[Se+M]=ur[255+G-he]}A+=H}}function Po(y,A,L,H,ee,re){so(y,A,L,1,16,H,ee,re)}function Io(y,A,L,H,ee,re){so(y,A,1,L,16,H,ee,re)}function Pu(y,A,L,H,ee,re){var ce;for(ce=3;0<ce;--ce)za(y,A+=4*L,L,1,16,H,ee,re)}function Bo(y,A,L,H,ee,re){var ce;for(ce=3;0<ce;--ce)za(y,A+=4,1,L,16,H,ee,re)}function Iu(y,A,L,H,ee,re,ce,de){so(y,A,ee,1,8,re,ce,de),so(L,H,ee,1,8,re,ce,de)}function Uc(y,A,L,H,ee,re,ce,de){so(y,A,1,ee,8,re,ce,de),so(L,H,1,ee,8,re,ce,de)}function rc(y,A,L,H,ee,re,ce,de){za(y,A+4*ee,ee,1,8,re,ce,de),za(L,H+4*ee,ee,1,8,re,ce,de)}function Wc(y,A,L,H,ee,re,ce,de){za(y,A+4,1,ee,8,re,ce,de),za(L,H+4,1,ee,8,re,ce,de)}function wl(){this.ba=new Ri,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new On,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ac(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new U}function qc(){this.xb=this.a=0,this.l=new xa,this.ca=new Ri,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ac,this.ab=0,this.gc=o(4,Vc),this.Oc=0}function _l(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ho(y,A,L,H,ee,re,ce){for(y=y==null?0:y[A+0],A=0;A<ce;++A)ee[re+A]=y+L[H+A]&255,y=ee[re+A]}function Ha(y,A,L,H,ee,re,ce){var de;if(y==null)Ho(null,null,L,H,ee,re,ce);else for(de=0;de<ce;++de)ee[re+de]=y[A+de]+L[H+de]&255}function As(y,A,L,H,ee,re,ce){if(y==null)Ho(null,null,L,H,ee,re,ce);else{var de,me=y[A+0],Se=me,M=me;for(de=0;de<ce;++de)Se=M+(me=y[A+de])-Se,M=L[H+de]+(-256&Se?0>Se?0:255:Se)&255,Se=me,ee[re+de]=M}}function Gc(y,A,L,H){var ee=A.width,re=A.o;if(t(y!=null&&A!=null),0>L||0>=H||L+H>re)return null;if(!y.Cc){if(y.ga==null){var ce;if(y.ga=new _l,(ce=y.ga==null)||(ce=A.width*A.o,t(y.Gb.length==0),y.Gb=a(ce),y.Uc=0,y.Gb==null?ce=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ce=1),ce=!ce),!ce){ce=y.ga;var de=y.Fa,me=y.P,Se=y.qc,M=y.mb,N=y.nb,R=me+1,G=Se-1,we=ce.l;if(t(de!=null&&M!=null&&A!=null),Fs[0]=null,Fs[1]=Ho,Fs[2]=Ha,Fs[3]=As,ce.ca=M,ce.tb=N,ce.c=A.width,ce.i=A.height,t(0<ce.c&&0<ce.i),1>=Se)A=0;else if(ce.$a=de[me+0]>>0&3,ce.Z=de[me+0]>>2&3,ce.Lc=de[me+0]>>4&3,me=de[me+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||me)A=0;else if(we.put=tr,we.ac=ai,we.bc=En,we.ma=ce,we.width=A.width,we.height=A.height,we.Da=A.Da,we.v=A.v,we.va=A.va,we.j=A.j,we.o=A.o,ce.$a)e:{t(ce.$a==1),A=Qe();t:for(;;){if(A==null){A=0;break e}if(t(ce!=null),ce.mc=A,A.c=ce.c,A.i=ce.i,A.l=ce.l,A.l.ma=ce,A.l.width=ce.c,A.l.height=ce.i,A.a=0,Q(A.m,de,R,G),!Pe(ce.c,ce.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&xe(A.s)?(ce.ic=1,de=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(de),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ce.ic=0,A=We(A,ce.c)),!A))break t;A=1;break e}ce.mc=null,A=0}else A=G>=ce.c*ce.i;ce=!A}if(ce)return null;y.ga.Lc!=1?y.Ga=0:H=re-L}t(y.ga!=null),t(L+H<=re);e:{if(A=(de=y.ga).c,re=de.l.o,de.$a==0){if(R=y.rc,G=y.Vc,we=y.Fa,me=y.P+1+L*A,Se=y.mb,M=y.nb+L*A,t(me<=y.P+y.qc),de.Z!=0)for(t(Fs[de.Z]!=null),ce=0;ce<H;++ce)Fs[de.Z](R,G,we,me,Se,M,A),R=Se,G=M,M+=A,me+=A;else for(ce=0;ce<H;++ce)i(Se,M,we,me,A),R=Se,G=M,M+=A,me+=A;y.rc=R,y.Vc=G}else{if(t(de.mc!=null),A=L+H,t((ce=de.mc)!=null),t(A<=ce.i),ce.C>=A)A=1;else if(de.ic||Ve(),de.ic){de=ce.V,R=ce.Ba,G=ce.c;var ge=ce.i,he=(we=1,me=ce.$/G,Se=ce.$%G,M=ce.m,N=ce.s,ce.$),be=G*ge,Me=G*A,He=N.wc,Be=he<Me?Wn(N,Se,me):null;t(he<=be),t(A<=ge),t(xe(N));t:for(;;){for(;!M.h&&he<Me;){if(Se&He||(Be=Wn(N,Se,me)),t(Be!=null),le(M),256>(ge=$n(Be.G[0],Be.H[0],M)))de[R+he]=ge,++he,++Se>=G&&(Se=0,++me<=A&&!(me%16)&&Ae(ce,me));else{if(!(280>ge)){we=0;break t}ge=fn(ge-256,M);var tt,ct=$n(Be.G[4],Be.H[4],M);if(le(M),!(he>=(ct=Dn(G,ct=fn(ct,M)))&&be-he>=ge)){we=0;break t}for(tt=0;tt<ge;++tt)de[R+he+tt]=de[R+he+tt-ct];for(he+=ge,Se+=ge;Se>=G;)Se-=G,++me<=A&&!(me%16)&&Ae(ce,me);he<Me&&Se&He&&(Be=Wn(N,Se,me))}t(M.h==W(M))}Ae(ce,me>A?A:me);break t}!we||M.h&&he<be?(we=0,ce.a=M.h?5:3):ce.$=he,A=we}else A=Ee(ce,ce.V,ce.Ba,ce.c,ce.i,A,Ge);if(!A){H=0;break e}}L+H>=re&&(y.Cc=1),H=1}if(!H)return null;if(y.Cc&&((H=y.ga)!=null&&(H.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+L*ee}function C(y,A,L,H,ee,re){for(;0<ee--;){var ce,de=y,me=A+(L?1:0),Se=y,M=A+(L?0:3);for(ce=0;ce<H;++ce){var N=Se[M+4*ce];N!=255&&(N*=32897,de[me+4*ce+0]=de[me+4*ce+0]*N>>23,de[me+4*ce+1]=de[me+4*ce+1]*N>>23,de[me+4*ce+2]=de[me+4*ce+2]*N>>23)}A+=re}}function te(y,A,L,H,ee){for(;0<H--;){var re;for(re=0;re<L;++re){var ce=y[A+2*re+0],de=15&(Se=y[A+2*re+1]),me=4369*de,Se=(240&Se|Se>>4)*me>>16;y[A+2*re+0]=(240&ce|ce>>4)*me>>16&240|(15&ce|ce<<4)*me>>16>>4&15,y[A+2*re+1]=240&Se|de}A+=ee}}function Te(y,A,L,H,ee,re,ce,de){var me,Se,M=255;for(Se=0;Se<ee;++Se){for(me=0;me<H;++me){var N=y[A+me];re[ce+4*me]=N,M&=N}A+=L,ce+=de}return M!=255}function De(y,A,L,H,ee){var re;for(re=0;re<ee;++re)L[H+re]=y[A+re]>>8}function Ve(){ja=C,_n=te,Nn=Te,li=De}function at(y,A,L){I[y]=function(H,ee,re,ce,de,me,Se,M,N,R,G,we,ge,he,be,Me,He){var Be,tt=He-1>>1,ct=de[me+0]|Se[M+0]<<16,pt=N[R+0]|G[we+0]<<16;t(H!=null);var lt=3*ct+pt+131074>>2;for(A(H[ee+0],255&lt,lt>>16,ge,he),re!=null&&(lt=3*pt+ct+131074>>2,A(re[ce+0],255&lt,lt>>16,be,Me)),Be=1;Be<=tt;++Be){var Lt=de[me+Be]|Se[M+Be]<<16,Ft=N[R+Be]|G[we+Be]<<16,zt=ct+Lt+pt+Ft+524296,Wt=zt+2*(Lt+pt)>>3;lt=Wt+ct>>1,ct=(zt=zt+2*(ct+Ft)>>3)+Lt>>1,A(H[ee+2*Be-1],255&lt,lt>>16,ge,he+(2*Be-1)*L),A(H[ee+2*Be-0],255&ct,ct>>16,ge,he+(2*Be-0)*L),re!=null&&(lt=zt+pt>>1,ct=Wt+Ft>>1,A(re[ce+2*Be-1],255&lt,lt>>16,be,Me+(2*Be-1)*L),A(re[ce+2*Be+0],255&ct,ct>>16,be,Me+(2*Be+0)*L)),ct=Lt,pt=Ft}1&He||(lt=3*ct+pt+131074>>2,A(H[ee+He-1],255&lt,lt>>16,ge,he+(He-1)*L),re!=null&&(lt=3*pt+ct+131074>>2,A(re[ce+He-1],255&lt,lt>>16,be,Me+(He-1)*L)))}}function xt(){dr[Mr]=mo,dr[cc]=Ps,dr[Os]=nl,dr[Xc]=zu,dr[Cl]=Hu,dr[hs]=Ol,dr[kl]=Uu,dr[Kc]=Ps,dr[uo]=zu,dr[Ds]=Hu,dr[Ms]=Ol}function Mt(y){return y&-16384?0>y?0:255:y>>kf}function Ut(y,A){return Mt((19077*y>>8)+(26149*A>>8)-14234)}function tn(y,A,L){return Mt((19077*y>>8)-(6419*A>>8)-(13320*L>>8)+8708)}function un(y,A){return Mt((19077*y>>8)+(33050*A>>8)-17685)}function wn(y,A,L,H,ee){H[ee+0]=Ut(y,L),H[ee+1]=tn(y,A,L),H[ee+2]=un(y,A)}function wi(y,A,L,H,ee){H[ee+0]=un(y,A),H[ee+1]=tn(y,A,L),H[ee+2]=Ut(y,L)}function Ti(y,A,L,H,ee){var re=tn(y,A,L);A=re<<3&224|un(y,A)>>3,H[ee+0]=248&Ut(y,L)|re>>5,H[ee+1]=A}function Ui(y,A,L,H,ee){var re=240&un(y,A)|15;H[ee+0]=240&Ut(y,L)|tn(y,A,L)>>4,H[ee+1]=re}function Wi(y,A,L,H,ee){H[ee+0]=255,wn(y,A,L,H,ee+1)}function lr(y,A,L,H,ee){wi(y,A,L,H,ee),H[ee+3]=255}function cs(y,A,L,H,ee){wn(y,A,L,H,ee),H[ee+3]=255}function Sa(y,A){return 0>y?0:y>A?A:y}function us(y,A,L){I[y]=function(H,ee,re,ce,de,me,Se,M,N){for(var R=M+(-2&N)*L;M!=R;)A(H[ee+0],re[ce+0],de[me+0],Se,M),A(H[ee+1],re[ce+0],de[me+0],Se,M+L),ee+=2,++ce,++me,M+=2*L;1&N&&A(H[ee+0],re[ce+0],de[me+0],Se,M)}}function qr(y,A,L){return L==0?y==0?A==0?6:5:A==0?4:0:L}function Es(y,A,L,H,ee){switch(y>>>30){case 3:fs(A,L,H,ee,0);break;case 2:Mi(A,L,H,ee);break;case 1:Vi(A,L,H,ee)}}function Ts(y,A){var L,H,ee=A.M,re=A.Nb,ce=y.oc,de=y.pc+40,me=y.oc,Se=y.pc+584,M=y.oc,N=y.pc+600;for(L=0;16>L;++L)ce[de+32*L-1]=129;for(L=0;8>L;++L)me[Se+32*L-1]=129,M[N+32*L-1]=129;for(0<ee?ce[de-1-32]=me[Se-1-32]=M[N-1-32]=129:(r(ce,de-32-1,127,21),r(me,Se-32-1,127,9),r(M,N-32-1,127,9)),H=0;H<y.za;++H){var R=A.ya[A.aa+H];if(0<H){for(L=-1;16>L;++L)i(ce,de+32*L-4,ce,de+32*L+12,4);for(L=-1;8>L;++L)i(me,Se+32*L-4,me,Se+32*L+4,4),i(M,N+32*L-4,M,N+32*L+4,4)}var G=y.Gd,we=y.Hd+H,ge=R.ad,he=R.Hc;if(0<ee&&(i(ce,de-32,G[we].y,0,16),i(me,Se-32,G[we].f,0,8),i(M,N-32,G[we].ea,0,8)),R.Za){var be=ce,Me=de-32+16;for(0<ee&&(H>=y.za-1?r(be,Me,G[we].y[15],4):i(be,Me,G[we+1].y,0,4)),L=0;4>L;L++)be[Me+128+L]=be[Me+256+L]=be[Me+384+L]=be[Me+0+L];for(L=0;16>L;++L,he<<=2)be=ce,Me=de+oa[L],Xr[R.Ob[L]](be,Me),Es(he,ge,16*+L,be,Me)}else if(be=qr(H,ee,R.Ob[0]),ho[be](ce,de),he!=0)for(L=0;16>L;++L,he<<=2)Es(he,ge,16*+L,ce,de+oa[L]);for(L=R.Gc,be=qr(H,ee,R.Dd),wr[be](me,Se),wr[be](M,N),he=ge,be=me,Me=Se,255&(R=L>>0)&&(170&R?Ua(he,256,be,Me):Or(he,256,be,Me)),R=M,he=N,255&(L>>=8)&&(170&L?Ua(ge,320,R,he):Or(ge,320,R,he)),ee<y.Ub-1&&(i(G[we].y,0,ce,de+480,16),i(G[we].f,0,me,Se+224,8),i(G[we].ea,0,M,N+224,8)),L=8*re*y.B,G=y.sa,we=y.ta+16*H+16*re*y.R,ge=y.qa,R=y.ra+8*H+L,he=y.Ha,be=y.Ia+8*H+L,L=0;16>L;++L)i(G,we+L*y.R,ce,de+32*L,16);for(L=0;8>L;++L)i(ge,R+L*y.B,me,Se+32*L,8),i(he,be+L*y.B,M,N+32*L,8)}}function Nl(y,A,L,H,ee,re,ce,de,me){var Se=[0],M=[0],N=0,R=me!=null?me.kd:0,G=me??new zo;if(y==null||12>L)return 7;G.data=y,G.w=A,G.ha=L,A=[A],L=[L],G.gb=[G.gb];e:{var we=A,ge=L,he=G.gb;if(t(y!=null),t(ge!=null),t(he!=null),he[0]=0,12<=ge[0]&&!n(y,we[0],"RIFF")){if(n(y,we[0]+8,"WEBP")){he=3;break e}var be=$e(y,we[0]+4);if(12>be||4294967286<be){he=3;break e}if(R&&be>ge[0]-8){he=7;break e}he[0]=be,we[0]+=12,ge[0]-=12}he=0}if(he!=0)return he;for(be=0<G.gb[0],L=L[0];;){e:{var Me=y;ge=A,he=L;var He=Se,Be=M,tt=we=[0];if((lt=N=[N])[0]=0,8>he[0])he=7;else{if(!n(Me,ge[0],"VP8X")){if($e(Me,ge[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var ct=$e(Me,ge[0]+8),pt=1+Oe(Me,ge[0]+12);if(2147483648<=pt*(Me=1+Oe(Me,ge[0]+15))){he=3;break e}tt!=null&&(tt[0]=ct),He!=null&&(He[0]=pt),Be!=null&&(Be[0]=Me),ge[0]+=18,he[0]-=18,lt[0]=1}he=0}}if(N=N[0],we=we[0],he!=0)return he;if(ge=!!(2&we),!be&&N)return 3;if(re!=null&&(re[0]=!!(16&we)),ce!=null&&(ce[0]=ge),de!=null&&(de[0]=0),ce=Se[0],we=M[0],N&&ge&&me==null){he=0;break}if(4>L){he=7;break}if(be&&N||!be&&!N&&!n(y,A[0],"ALPH")){L=[L],G.na=[G.na],G.P=[G.P],G.Sa=[G.Sa];e:{ct=y,he=A,be=L;var lt=G.gb;He=G.na,Be=G.P,tt=G.Sa,pt=22,t(ct!=null),t(be!=null),Me=he[0];var Lt=be[0];for(t(He!=null),t(tt!=null),He[0]=null,Be[0]=null,tt[0]=0;;){if(he[0]=Me,be[0]=Lt,8>Lt){he=7;break e}var Ft=$e(ct,Me+4);if(4294967286<Ft){he=3;break e}var zt=8+Ft+1&-2;if(pt+=zt,0<lt&&pt>lt){he=3;break e}if(!n(ct,Me,"VP8 ")||!n(ct,Me,"VP8L")){he=0;break e}if(Lt[0]<zt){he=7;break e}n(ct,Me,"ALPH")||(He[0]=ct,Be[0]=Me+8,tt[0]=Ft),Me+=zt,Lt-=zt}}if(L=L[0],G.na=G.na[0],G.P=G.P[0],G.Sa=G.Sa[0],he!=0)break}L=[L],G.Ja=[G.Ja],G.xa=[G.xa];e:if(lt=y,he=A,be=L,He=G.gb[0],Be=G.Ja,tt=G.xa,ct=he[0],Me=!n(lt,ct,"VP8 "),pt=!n(lt,ct,"VP8L"),t(lt!=null),t(be!=null),t(Be!=null),t(tt!=null),8>be[0])he=7;else{if(Me||pt){if(lt=$e(lt,ct+4),12<=He&&lt>He-12){he=3;break e}if(R&&lt>be[0]-8){he=7;break e}Be[0]=lt,he[0]+=8,be[0]-=8,tt[0]=pt}else tt[0]=5<=be[0]&&lt[ct+0]==47&&!(lt[ct+4]>>5),Be[0]=be[0];he=0}if(L=L[0],G.Ja=G.Ja[0],G.xa=G.xa[0],A=A[0],he!=0)break;if(4294967286<G.Ja)return 3;if(de==null||ge||(de[0]=G.xa?2:1),ce=[ce],we=[we],G.xa){if(5>L){he=7;break}de=ce,R=we,ge=re,y==null||5>L?y=0:5<=L&&y[A+0]==47&&!(y[A+4]>>5)?(be=[0],lt=[0],He=[0],Q(Be=new O,y,A,L),Pt(Be,be,lt,He)?(de!=null&&(de[0]=be[0]),R!=null&&(R[0]=lt[0]),ge!=null&&(ge[0]=He[0]),y=1):y=0):y=0}else{if(10>L){he=7;break}de=we,y==null||10>L||!kr(y,A+3,L-3)?y=0:(R=y[A+0]|y[A+1]<<8|y[A+2]<<16,ge=16383&(y[A+7]<<8|y[A+6]),y=16383&(y[A+9]<<8|y[A+8]),1&R||3<(R>>1&7)||!(R>>4&1)||R>>5>=G.Ja||!ge||!y?y=0:(ce&&(ce[0]=ge),de&&(de[0]=y),y=1))}if(!y||(ce=ce[0],we=we[0],N&&(Se[0]!=ce||M[0]!=we)))return 3;me!=null&&(me[0]=G,me.offset=A-me.w,t(4294967286>A-me.w),t(me.offset==me.ha-L));break}return he==0||he==7&&N&&me==null?(re!=null&&(re[0]|=G.na!=null&&0<G.na.length),H!=null&&(H[0]=ce),ee!=null&&(ee[0]=we),0):he}function Uo(y,A,L){var H=A.width,ee=A.height,re=0,ce=0,de=H,me=ee;if(A.Da=y!=null&&0<y.Da,A.Da&&(de=y.cd,me=y.bd,re=y.v,ce=y.j,11>L||(re&=-2,ce&=-2),0>re||0>ce||0>=de||0>=me||re+de>H||ce+me>ee))return 0;if(A.v=re,A.j=ce,A.va=re+de,A.o=ce+me,A.U=de,A.T=me,A.da=y!=null&&0<y.da,A.da){if(!Ie(de,me,L=[y.ib],re=[y.hb]))return 0;A.ib=L[0],A.hb=re[0]}return A.ob=y!=null&&y.ob,A.Kb=y==null||!y.Sd,A.da&&(A.ob=A.ib<3*H/4&&A.hb<3*ee/4,A.Kb=0),1}function sc(y){if(y==null)return 2;if(11>y.S){var A=y.f.RGBA;A.fb+=(y.height-1)*A.A,A.A=-A.A}else A=y.f.kb,y=y.height,A.O+=(y-1)*A.fa,A.fa=-A.fa,A.N+=(y-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(y-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(y-1)*A.lb,A.lb=-A.lb);return 0}function Wo(y,A,L,H){if(H==null||0>=y||0>=A)return 2;if(L!=null){if(L.Da){var ee=L.cd,re=L.bd,ce=-2&L.v,de=-2&L.j;if(0>ce||0>de||0>=ee||0>=re||ce+ee>y||de+re>A)return 2;y=ee,A=re}if(L.da){if(!Ie(y,A,ee=[L.ib],re=[L.hb]))return 2;y=ee[0],A=re[0]}}H.width=y,H.height=A;e:{var me=H.width,Se=H.height;if(y=H.S,0>=me||0>=Se||!(y>=Mr&&13>y))y=2;else{if(0>=H.Rd&&H.sd==null){ce=re=ee=A=0;var M=(de=me*Of[y])*Se;if(11>y||(re=(Se+1)/2*(A=(me+1)/2),y==12&&(ce=(ee=me)*Se)),(Se=a(M+2*re+ce))==null){y=1;break e}H.sd=Se,11>y?((me=H.f.RGBA).eb=Se,me.fb=0,me.A=de,me.size=M):((me=H.f.kb).y=Se,me.O=0,me.fa=de,me.Fd=M,me.f=Se,me.N=0+M,me.Ab=A,me.Cd=re,me.ea=Se,me.W=0+M+re,me.Db=A,me.Ed=re,y==12&&(me.F=Se,me.J=0+M+2*re),me.Tc=ce,me.lb=ee)}if(A=1,ee=H.S,re=H.width,ce=H.height,ee>=Mr&&13>ee)if(11>ee)y=H.f.RGBA,A&=(de=Math.abs(y.A))*(ce-1)+re<=y.size,A&=de>=re*Of[ee],A&=y.eb!=null;else{y=H.f.kb,de=(re+1)/2,M=(ce+1)/2,me=Math.abs(y.fa),Se=Math.abs(y.Ab);var N=Math.abs(y.Db),R=Math.abs(y.lb),G=R*(ce-1)+re;A&=me*(ce-1)+re<=y.Fd,A&=Se*(M-1)+de<=y.Cd,A=(A&=N*(M-1)+de<=y.Ed)&me>=re&Se>=de&N>=de,A&=y.y!=null,A&=y.f!=null,A&=y.ea!=null,ee==12&&(A&=R>=re,A&=G<=y.Tc,A&=y.F!=null)}else A=0;y=A?0:2}}return y!=0||L!=null&&L.fd&&(y=sc(H)),y}var Di=64,Vo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sl=24,qo=32,oc=8,aa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,A,L){return A[L+0]},I.Predictor3=function(y,A,L){return A[L+1]},I.Predictor4=function(y,A,L){return A[L-1]},I.Predictor5=function(y,A,L){return wt(wt(y,A[L+1]),A[L+0])},I.Predictor6=function(y,A,L){return wt(y,A[L-1])},I.Predictor7=function(y,A,L){return wt(y,A[L+0])},I.Predictor8=function(y,A,L){return wt(A[L-1],A[L+0])},I.Predictor9=function(y,A,L){return wt(A[L+0],A[L+1])},I.Predictor10=function(y,A,L){return wt(wt(y,A[L-1]),wt(A[L+0],A[L+1]))},I.Predictor11=function(y,A,L){var H=A[L+0];return 0>=Bt(H>>24&255,y>>24&255,(A=A[L-1])>>24&255)+Bt(H>>16&255,y>>16&255,A>>16&255)+Bt(H>>8&255,y>>8&255,A>>8&255)+Bt(255&H,255&y,255&A)?H:y},I.Predictor12=function(y,A,L){var H=A[L+0];return(Rt((y>>24&255)+(H>>24&255)-((A=A[L-1])>>24&255))<<24|Rt((y>>16&255)+(H>>16&255)-(A>>16&255))<<16|Rt((y>>8&255)+(H>>8&255)-(A>>8&255))<<8|Rt((255&y)+(255&H)-(255&A)))>>>0},I.Predictor13=function(y,A,L){var H=A[L-1];return(Dt((y=wt(y,A[L+0]))>>24&255,H>>24&255)<<24|Dt(y>>16&255,H>>16&255)<<16|Dt(y>>8&255,H>>8&255)<<8|Dt(y>>0&255,H>>0&255))>>>0};var Bu=I.PredictorAdd0;I.PredictorAdd1=_t,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var lc=I.PredictorAdd2;Zt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var $c,Gr=I.ColorIndexInverseTransform,nr=I.MapARGB,Cs=I.VP8LColorIndexInverseTransformAlpha,Lr=I.MapAlpha,oo=I.VP8LPredictorsAdd=[];oo.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Go,Rr,cr,$o,sa,ds,ks,fs,Mi,Ua,Vi,Or,jl,Ls,Wa,Dr,lo,Yo,Xo,Al,co,Rs,El,Fi,ja,_n,Nn,li,qi=a(511),Va=a(2041),Ko=a(225),Zo=a(767),yr=0,Yc=Va,Tl=Ko,ur=Zo,qa=qi,Mr=0,cc=1,Os=2,Xc=3,Cl=4,hs=5,kl=6,Kc=7,uo=8,Ds=9,Ms=10,uc=[2,3,7],Ga=[3,3,11],Aa=[280,256,256,256,40],Ll=[0,1,1,1,0],$r=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tf=8,Zc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Jo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gi=null,Pi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Qo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],el=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],Xr=[],wr=[],tl=1,dc=2,Fs=[],dr=[];at("UpsampleRgbLinePair",wn,3),at("UpsampleBgrLinePair",wi,3),at("UpsampleRgbaLinePair",cs,4),at("UpsampleBgraLinePair",lr,4),at("UpsampleArgbLinePair",Wi,4),at("UpsampleRgba4444LinePair",Ui,2),at("UpsampleRgb565LinePair",Ti,2);var mo=I.UpsampleRgbLinePair,nl=I.UpsampleBgrLinePair,Ps=I.UpsampleRgbaLinePair,zu=I.UpsampleBgraLinePair,Hu=I.UpsampleArgbLinePair,Ol=I.UpsampleRgba4444LinePair,Uu=I.UpsampleRgb565LinePair,ms=16,$i=1<<ms-1,po=-227,Is=482,kf=6,Wu=0,Lf=a(256),Yi=a(256),Vu=a(256),Dl=a(256),Qc=a(Is-po),go=a(Is-po);us("YuvToRgbRow",wn,3),us("YuvToBgrRow",wi,3),us("YuvToRgbaRow",cs,4),us("YuvToBgraRow",lr,4),us("YuvToArgbRow",Wi,4),us("YuvToRgba4444Row",Ui,2),us("YuvToRgb565Row",Ti,2);var oa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xo=[0,2,8],Vh=[8,7,6,4,4,2,2,2,1,1,1,1],Rf=1;this.WebPDecodeRGBA=function(y,A,L,H,ee){var re=cc,ce=new wl,de=new Ri;ce.ba=de,de.S=re,de.width=[de.width],de.height=[de.height];var me=de.width,Se=de.height,M=new yi;if(M==null||y==null)var N=2;else t(M!=null),N=Nl(y,A,L,M.width,M.height,M.Pd,M.Qd,M.format,null);if(N!=0?me=0:(me!=null&&(me[0]=M.width[0]),Se!=null&&(Se[0]=M.height[0]),me=1),me){de.width=de.width[0],de.height=de.height[0],H!=null&&(H[0]=de.width),ee!=null&&(ee[0]=de.height);e:{if(H=new xa,(ee=new zo).data=y,ee.w=A,ee.ha=L,ee.kd=1,A=[0],t(ee!=null),((y=Nl(ee.data,ee.w,ee.ha,null,null,null,A,null,ee))==0||y==7)&&A[0]&&(y=4),(A=y)==0){if(t(ce!=null),H.data=ee.data,H.w=ee.w+ee.offset,H.ha=ee.ha-ee.offset,H.put=tr,H.ac=ai,H.bc=En,H.ma=ce,ee.xa){if((y=Qe())==null){ce=1;break e}if(function(R,G){var we=[0],ge=[0],he=[0];t:for(;;){if(R==null)return 0;if(G==null)return R.a=2,0;if(R.l=G,R.a=0,Q(R.m,G.data,G.w,G.ha),!Pt(R.m,we,ge,he)){R.a=3;break t}if(R.xb=dc,G.width=we[0],G.height=ge[0],!Pe(we[0],ge[0],1,R,null))break t;return 1}return t(R.a!=0),0}(y,H)){if(H=(A=Wo(H.width,H.height,ce.Oa,ce.ba))==0){t:{H=y;n:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((L=H.l)!=null),t((ee=L.ma)!=null),H.xb!=0){if(H.ca=ee.ba,H.tb=ee.tb,t(H.ca!=null),!Uo(ee.Oa,L,Xc)){H.a=2;break n}if(!We(H,L.width)||L.da)break n;if((L.da||xn(H.ca.S))&&Ve(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ve()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Ke(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Ee(H,H.V,H.Ba,H.c,H.i,L.o,je))break n;ee.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(A=y.a)}else A=y.a}else{if((y=new na)==null){ce=1;break e}if(y.Fa=ee.na,y.P=ee.P,y.qc=ee.Sa,nc(y,H)){if((A=Wo(H.width,H.height,ce.Oa,ce.ba))==0){if(y.Aa=0,L=ce.Oa,t((ee=y)!=null),L!=null){if(0<(me=0>(me=L.Md)?0:100<me?255:255*me/100)){for(Se=M=0;4>Se;++Se)12>(N=ee.pb[Se]).lc&&(N.ia=me*Vh[0>N.lc?0:N.lc]>>3),M|=N.ia;M&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=L.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}Ic(y,H)||(A=y.a)}}else A=y.a}A==0&&ce.Oa!=null&&ce.Oa.fd&&(A=sc(ce.ba))}ce=A}re=ce!=0?null:11>re?de.f.RGBA.eb:de.f.kb.y}else re=null;return re};var Of=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,Y){for(var Z="",z=0;z<4;z++)Z+=String.fromCharCode(I[Y++]);return Z}function h(I,Y){return(I[Y+0]<<0|I[Y+1]<<8|I[Y+2]<<16)>>>0}function p(I,Y){return(I[Y+0]<<0|I[Y+1]<<8|I[Y+2]<<16|I[Y+3]<<24)>>>0}new u;var x=[0],b=[0],w=[],g=new u,_=e,j=function(I,Y){var Z={},z=0,U=!1,J=0,ie=0;if(Z.frames=[],!function(B,W,X,le){for(var Ce=0;Ce<le;Ce++)if(B[W+Ce]!=X.charCodeAt(Ce))return!0;return!1}(I,Y,"RIFF",4)){for(p(I,Y+=4),Y+=8;Y<I.length;){var pe=f(I,Y),ae=p(I,Y+=4);Y+=4;var ue=ae+(1&ae);switch(pe){case"VP8 ":case"VP8L":Z.frames[z]===void 0&&(Z.frames[z]={}),(q=Z.frames[z]).src_off=U?ie:Y-8,q.src_size=J+ae+8,z++,U&&(U=!1,J=0,ie=0);break;case"VP8X":(q=Z.header={}).feature_flags=I[Y];var Q=Y+4;q.canvas_width=1+h(I,Q),Q+=3,q.canvas_height=1+h(I,Q),Q+=3;break;case"ALPH":U=!0,J=ue+8,ie=Y-8;break;case"ANIM":(q=Z.header).bgcolor=p(I,Y),Q=Y+4,q.loop_count=(ke=I)[(O=Q)+0]<<0|ke[O+1]<<8,Q+=2;break;case"ANMF":var Ne,q;(q=Z.frames[z]={}).offset_x=2*h(I,Y),Y+=3,q.offset_y=2*h(I,Y),Y+=3,q.width=1+h(I,Y),Y+=3,q.height=1+h(I,Y),Y+=3,q.duration=h(I,Y),Y+=3,Ne=I[Y++],q.dispose=1&Ne,q.blend=Ne>>1&1}pe!="ANMF"&&(Y+=ue)}var ke,O;return Z}}(_,0);j.response=_,j.rgbaoutput=!0,j.dataurl=!1;var E=j.header?j.header:null,k=j.frames?j.frames:null;if(E){E.loop_counter=E.loop_count,x=[E.canvas_height],b=[E.canvas_width];for(var F=0;F<k.length&&k[F].blend!=0;F++);}var V=k[0],ne=g.WebPDecodeRGBA(_,V.src_off,V.src_size,b,x);V.rgba=ne,V.imgwidth=b[0],V.imgheight=x[0];for(var P=0;P<b[0]*x[0]*4;P++)w[P]=ne[P];return this.width=b,this.height=x,this.data=w,this}(function(e){var t=function(){return typeof lb=="function"},n=function(x,b,w,g){var _=4,j=o;switch(g){case e.image_compression.FAST:_=1,j=a;break;case e.image_compression.MEDIUM:_=6,j=c;break;case e.image_compression.SLOW:_=9,j=u}x=i(x,b,w,j);var E=lb(x,{level:_});return e.__addimage__.arrayBufferToBinaryString(E)},i=function(x,b,w,g){for(var _,j,E,k=x.length/b,F=new Uint8Array(x.length+k),V=h(),ne=0;ne<k;ne+=1){if(E=ne*b,_=x.subarray(E,E+b),g)F.set(g(_,w,j),E+ne);else{for(var P,I=V.length,Y=[];P<I;P+=1)Y[P]=V[P](_,w,j);var Z=p(Y.concat());F.set(Y[Z],E+ne)}j=_}return F},r=function(x){var b=Array.apply([],x);return b.unshift(0),b},a=function(x,b){var w,g=[],_=x.length;g[0]=1;for(var j=0;j<_;j+=1)w=x[j-b]||0,g[j+1]=x[j]-w+256&255;return g},o=function(x,b,w){var g,_=[],j=x.length;_[0]=2;for(var E=0;E<j;E+=1)g=w&&w[E]||0,_[E+1]=x[E]-g+256&255;return _},c=function(x,b,w){var g,_,j=[],E=x.length;j[0]=3;for(var k=0;k<E;k+=1)g=x[k-b]||0,_=w&&w[k]||0,j[k+1]=x[k]+256-(g+_>>>1)&255;return j},u=function(x,b,w){var g,_,j,E,k=[],F=x.length;k[0]=4;for(var V=0;V<F;V+=1)g=x[V-b]||0,_=w&&w[V]||0,j=w&&w[V-b]||0,E=f(g,_,j),k[V+1]=x[V]-E+256&255;return k},f=function(x,b,w){if(x===b&&b===w)return x;var g=Math.abs(b-w),_=Math.abs(x-w),j=Math.abs(x+b-w-w);return g<=_&&g<=j?x:_<=j?b:w},h=function(){return[r,a,o,c,u]},p=function(x){var b=x.map(function(w){return w.reduce(function(g,_){return g+Math.abs(_)},0)});return b.indexOf(Math.min.apply(null,b))};e.processPNG=function(x,b,w,g){var _,j,E,k,F,V,ne,P,I,Y,Z,z,U,J,ie,pe=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(E=new MO(x)).imgData,j=E.bits,_=E.colorSpace,F=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){I=(P=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,Z=new Uint8Array(I*E.colors),Y=new Uint8Array(I);var ue,Q=E.pixelBitlength-E.bits;for(J=0,ie=0;J<I;J++){for(U=P[J],ue=0;ue<Q;)Z[ie++]=U>>>ue&255,ue+=E.bits;Y[J]=U>>>ue&255}}if(E.bits===16){I=(P=new Uint32Array(E.decodePixels().buffer)).length,Z=new Uint8Array(I*(32/E.pixelBitlength)*E.colors),Y=new Uint8Array(I*(32/E.pixelBitlength)),z=E.colors>1,J=0,ie=0;for(var Ne=0;J<I;)U=P[J++],Z[ie++]=U>>>0&255,z&&(Z[ie++]=U>>>16&255,U=P[J++],Z[ie++]=U>>>0&255),Y[Ne++]=U>>>16&255;j=8}g!==e.image_compression.NONE&&t()?(x=n(Z,E.width*E.colors,E.colors,g),ne=n(Y,E.width,1,g)):(x=Z,ne=Y,pe=void 0)}if(E.colorType===3&&(_=this.color_spaces.INDEXED,V=E.palette,E.transparency.indexed)){var q=E.transparency.indexed,ke=0;for(J=0,I=q.length;J<I;++J)ke+=q[J];if((ke/=255)===I-1&&q.indexOf(0)!==-1)k=[q.indexOf(0)];else if(ke!==I){for(P=E.decodePixels(),Y=new Uint8Array(P.length),J=0,I=P.length;J<I;J++)Y[J]=q[P[J]];ne=n(Y,E.width,1)}}var O=function(B){var W;switch(B){case e.image_compression.FAST:W=11;break;case e.image_compression.MEDIUM:W=13;break;case e.image_compression.SLOW:W=14;break;default:W=12}return W}(g);return pe===this.decode.FLATE_DECODE&&(ae="/Predictor "+O+" "),ae+="/Colors "+F+" /BitsPerComponent "+j+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(ne&&this.__addimage__.isArrayBuffer(ne)||this.__addimage__.isArrayBufferView(ne))&&(ne=this.__addimage__.arrayBufferToBinaryString(ne)),{alias:w,data:x,index:b,filter:pe,decodeParameters:ae,transparency:k,palette:V,sMask:ne,predictor:O,width:E.width,height:E.height,bitsPerComponent:j,colorSpace:_}}}})(an.API),function(e){e.processGIF89A=function(t,n,i,r){var a=new FO(t),o=a.width,c=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:c},h=new sv(100).encode(f,100);return e.processJPEG.call(this,h,n,i,r)},e.processGIF87A=e.processGIF89A}(an.API),Ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ul.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ki.log("bit decode error:"+n)}},Ul.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[a>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ul.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,c=a>>4,u=15&a,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ul.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ul.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,f=a>>15?255:0,h=i*this.width*4+4*r;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=f}this.pos+=e}},Ul.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&n)/n*255|0,f=(o>>11)/t*255|0,h=r*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=c,this.data[h+3]=255}this.pos+=e}},Ul.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Ul.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=a,this.data[c+1]=r,this.data[c+2]=i,this.data[c+3]=o}},Ul.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var a=new Ul(t,!1),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},f=new sv(100).encode(u,100);return e.processJPEG.call(this,f,n,i,r)}}(an.API),l_.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var a=new l_(t),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},f=new sv(100).encode(u,100);return e.processJPEG.call(this,f,n,i,r)}}(an.API),an.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,f=0;f<r;f+=4){var h=i[f],p=i[f+1],x=i[f+2],b=i[f+3];a[c++]=h,a[c++]=p,a[c++]=x,o[u++]=b}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},an.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ih=an.API,Fp=ih.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=t.doKerning!==!1,x=0,b=e.length,w=0,g=c[0]||u,_=[];for(n=0;n<b;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?_.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/a)||0)/1e3):(x=p&&xi(f[i])==="object"&&!isNaN(parseInt(f[i][w],10))?f[i][w]/h:0,_.push((c[i]||g)/u+x)),w=i;return _},r_=ih.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return ih.processArabic&&(e=ih.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:Fp.apply(this,arguments).reduce(function(a,o){return a+o},0)},a_=function(e,t,n,i){for(var r=[],a=0,o=e.length,c=0;a!==o&&c+t[a]<n;)c+=t[a],a++;r.push(e.slice(0,a));var u=a;for(c=0;a!==o;)c+t[a]>i&&(r.push(e.slice(u,a)),c=0,u=a),c+=t[a],a++;return u!==a&&r.push(e.slice(u,a)),r},s_=function(e,t,n){n||(n={});var i,r,a,o,c,u,f,h=[],p=[h],x=n.textIndent||0,b=0,w=0,g=e.split(" "),_=Fp.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var j=Array(u).join(" "),E=[];g.map(function(F){(F=F.split(/\s*\n/)).length>1?E=E.concat(F.map(function(V,ne){return(ne&&V.length?`
`:"")+V})):E.push(F[0])}),g=E,u=r_.apply(this,[j,n])}for(a=0,o=g.length;a<o;a++){var k=0;if(i=g[a],u&&i[0]==`
`&&(i=i.substr(1),k=1),x+b+(w=(r=Fp.apply(this,[i,n])).reduce(function(F,V){return F+V},0))>t||k){if(w>t){for(c=a_.apply(this,[i,r,t-(x+b),t]),h.push(c.shift()),h=[c.pop()];c.length;)p.push([c.shift()]);w=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(F,V){return F+V},0)}else h=[i];p.push(h),x=w+u,b=_}else h.push(i),x+=b+w,b=_}return f=u?function(F,V){return(V?j:"")+F.join(" ")}:function(F){return F.join(" ")},p.map(f)},ih.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var c,u,f=[];for(c=0,u=i.length;c<u;c++)f=f.concat(s_.apply(this,[i[c],o,a]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var x,b,w,g,_=["{"];for(var j in p){if(x=p[j],isNaN(parseInt(j,10))?b="'"+j+"'":(j=parseInt(j,10),b=(b=a(j).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof x=="number")x<0?(w=a(x).slice(3),g="-"):(w=a(x).slice(2),g=""),w=g+w.slice(0,-1)+i[w.slice(-1)];else{if(xi(x)!=="object")throw new Error("Don't know what to do with value type "+xi(x)+".");w=o(x)}_.push(b+w)}return _.push("}"),_.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,w,g,_={},j=1,E=_,k=[],F="",V="",ne=p.length-1,P=1;P<ne;P+=1)(g=p[P])=="'"?x?(w=x.join(""),x=void 0):x=[]:x?x.push(g):g=="{"?(k.push([E,w]),E={},w=void 0):g=="}"?((b=k.pop())[0][b[1]]=E,w=void 0,E=b[0]):g=="-"?j=-1:w===void 0?n.hasOwnProperty(g)?(F+=n[g],w=parseInt(F,16)*j,j=1,F=""):F+=g:n.hasOwnProperty(g)?(V+=n[g],E[w]=parseInt(V,16)*j,j=1,w=void 0,V=""):V+=g;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var x=p.font,b=h.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var w=f.Unicode[x.postScriptName];w&&(x.metadata.Unicode.encoding=w,x.encoding=w.codePages[0])}])}(an.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(W0(c)),o.metadata=e.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(an),function(e){function t(){return(dn.canvg?Promise.resolve(dn.canvg):jd(()=>import("./index.es-DSp6wfbz.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}an.API.addSvgAsImage=function(n,i,r,a,o,c,u,f){if(isNaN(i)||isNaN(r))throw ki.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw ki.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(w){return w.fromString(p,n,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(x)}).then(function(){b.addImage(h.toDataURL("image/jpeg",1),i,r,a,o,u,f)})}}(),an.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},an.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],f=0,h=0,p=0;function x(w,g){var _,j=!1;for(_=0;_<w.length;_+=1)w[_]===g&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var b=c.length;for(p=0;p<b;p+=1)n[c[p]].value=n[c[p]].defaultValue,n[c[p]].explicitSet=!1}if(xi(e)==="object"){for(r in e)if(a=e[r],x(c,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&x(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(i=!1);i===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}n[r].value="["+u.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,g=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?g.push("/"+w+" /"+n[w].value):g.push("/"+w+" "+n[w].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+a+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(an.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var c,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,x=a.length;p<x;++p){if(c=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=a.charCodeAt(p),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return h.join("");c=c.toString(16),h.push(f[4-c.length],c)}return h.join("")},i=function(a){var o,c,u,f,h,p,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,x=(c=Object.keys(a).sort(function(b,w){return b-w})).length;p<x;p++)o=c[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,f=o.newObject,h=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",w=0;w<x.length;w++)b+=String.fromCharCode(x[w]);var g=f();h({data:b,addLength1:!0,objectId:g}),u("endobj");var _=f();h({data:i(c.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var j=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+mh(c.fontName)),u("/FontFile2 "+g+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+mh(c.fontName)),u("/FontDescriptor "+j+" 0 R"),u("/W "+e.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+_+" 0 R"),u("/BaseFont /"+mh(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,f=o.newObject,h=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,x="",b=0;b<p.length;b++)x+=String.fromCharCode(p[b]);var w=f();h({data:x,addLength1:!0,objectId:w}),u("endobj");var g=f();h({data:i(c.metadata.toUnicode),addLength1:!0,objectId:g}),u("endobj");var _=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+mh(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+mh(c.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]);var r=function(a){var o,c=a.text||"",u=a.x,f=a.y,h=a.options||{},p=a.mutex||{},x=p.pdfEscape,b=p.activeFontKey,w=p.fonts,g=b,_="",j=0,E="",k=w[g].encoding;if(w[g].encoding!=="Identity-H")return{text:c,x:u,y:f,options:h,mutex:p};for(E=c,g=b,Array.isArray(c)&&(E=c[0]),j=0;j<E.length;j+=1)w[g].metadata.hasOwnProperty("cmap")&&(o=w[g].metadata.cmap.unicode.codeMap[E[j].charCodeAt(0)]),o||E[j].charCodeAt(0)<256&&w[g].metadata.hasOwnProperty("Unicode")?_+=E[j]:_+="";var F="";return parseInt(g.slice(1))<14||k==="WinAnsiEncoding"?F=x(_,g).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(F=n(_,w[g])),p.isHex=!0,{text:F,x:u,y:f,options:h,mutex:p}};t.events.push(["postProcessText",function(a){var o=a.text||"",c=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([r(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(r(Object.assign({},u,{text:o[f]})).text);a.text=c}else a.text=r(Object.assign({},u,{text:o})).text}])}(an),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(an.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,a,o,c,u,f,h,p=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,k=0;this.__bidiEngine__={};var F=function(z){var U=z.charCodeAt(),J=U>>8,ie=g[J];return ie!==void 0?p[256*ie+(255&U)]:J===252||J===253?"AL":j.test(J)?"L":J===8?"R":"N"},V=function(z){for(var U,J=0;J<z.length;J++){if((U=F(z.charAt(J)))==="L")return!1;if(U==="R")return!0}return!1},ne=function(z,U,J,ie){var pe,ae,ue,Q,Ne=U[ie];switch(Ne){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(Ne="AN");break;case"AL":E=!0,Ne="R";break;case"WS":Ne="N";break;case"CS":ie<1||ie+1>=U.length||(pe=J[ie-1])!=="EN"&&pe!=="AN"||(ae=U[ie+1])!=="EN"&&ae!=="AN"?Ne="N":E&&(ae="AN"),Ne=ae===pe?ae:"N";break;case"ES":Ne=(pe=ie>0?J[ie-1]:"B")==="EN"&&ie+1<U.length&&U[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&J[ie-1]==="EN"){Ne="EN";break}if(E){Ne="N";break}for(ue=ie+1,Q=U.length;ue<Q&&U[ue]==="ET";)ue++;Ne=ue<Q&&U[ue]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(Q=U.length,ue=ie+1;ue<Q&&U[ue]==="NSM";)ue++;if(ue<Q){var q=z[ie],ke=q>=1425&&q<=2303||q===64286;if(pe=U[ue],ke&&(pe==="R"||pe==="AL")){Ne="R";break}}}Ne=ie<1||(pe=U[ie-1])==="B"?"N":J[ie-1];break;case"B":E=!1,r=!0,Ne=k;break;case"S":a=!0,Ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":Ne="N"}return Ne},P=function(z,U,J){var ie=z.split("");return J&&I(ie,J,{hiLevel:k}),ie.reverse(),U&&U.reverse(),ie.join("")},I=function(z,U,J){var ie,pe,ae,ue,Q,Ne=-1,q=z.length,ke=0,O=[],B=k?b:x,W=[];for(E=!1,r=!1,a=!1,pe=0;pe<q;pe++)W[pe]=F(z[pe]);for(ae=0;ae<q;ae++){if(Q=ke,O[ae]=ne(z,W,O,ae),ie=240&(ke=B[Q][w[O[ae]]]),ke&=15,U[ae]=ue=B[ke][5],ie>0)if(ie===16){for(pe=Ne;pe<ae;pe++)U[pe]=1;Ne=-1}else Ne=-1;if(B[ke][6])Ne===-1&&(Ne=ae);else if(Ne>-1){for(pe=Ne;pe<ae;pe++)U[pe]=ue;Ne=-1}W[ae]==="B"&&(U[ae]=0),J.hiLevel|=ue}a&&function(X,le,Ce){for(var _e=0;_e<Ce;_e++)if(X[_e]==="S"){le[_e]=k;for(var Le=_e-1;Le>=0&&X[Le]==="WS";Le--)le[Le]=k}}(W,U,q)},Y=function(z,U,J,ie,pe){if(!(pe.hiLevel<z)){if(z===1&&k===1&&!r)return U.reverse(),void(J&&J.reverse());for(var ae,ue,Q,Ne,q=U.length,ke=0;ke<q;){if(ie[ke]>=z){for(Q=ke+1;Q<q&&ie[Q]>=z;)Q++;for(Ne=ke,ue=Q-1;Ne<ue;Ne++,ue--)ae=U[Ne],U[Ne]=U[ue],U[ue]=ae,J&&(ae=J[Ne],J[Ne]=J[ue],J[ue]=ae);ke=Q}ke++}}},Z=function(z,U,J){var ie=z.split(""),pe={hiLevel:k};return J||(J=[]),I(ie,J,pe),function(ae,ue,Q){if(Q.hiLevel!==0&&h)for(var Ne,q=0;q<ae.length;q++)ue[q]===1&&(Ne=_.indexOf(ae[q]))>=0&&(ae[q]=_[Ne+1])}(ie,J,pe),Y(2,ie,U,J,pe),Y(1,ie,U,J,pe),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(z,U,J){if(function(pe,ae){if(ae)for(var ue=0;ue<pe.length;ue++)ae[ue]=ue;c===void 0&&(c=V(pe)),f===void 0&&(f=V(pe))}(z,U),o||!u||f)if(o&&u&&c^f)k=c?1:0,z=P(z,U,J);else if(!o&&u&&f)k=c?1:0,z=Z(z,U,J),z=P(z,U);else if(!o||c||u||f){if(o&&!u&&c^f)z=P(z,U),c?(k=0,z=Z(z,U,J)):(k=1,z=Z(z,U,J),z=P(z,U));else if(o&&c&&!u&&f)k=1,z=Z(z,U,J),z=P(z,U);else if(!o&&!u&&c^f){var ie=h;c?(k=1,z=Z(z,U,J),k=0,h=!1,z=Z(z,U,J),h=ie):(k=0,z=Z(z,U,J),z=P(z,U),k=1,h=!1,z=Z(z,U,J),h=ie,z=P(z,U))}}else k=0,z=Z(z,U,J);else k=c?1:0,z=Z(z,U,J);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,u=z.isOutputVisual,c=z.isInputRtl,f=z.isOutputRtl,h=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([n.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([n.doBidiReorder(r[c])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Ed(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ZO(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new PO(this.contents),this.head=new BO(this),this.name=new VO(this),this.cmap=new m4(this),this.toUnicode={},this.hhea=new zO(this),this.maxp=new qO(this),this.hmtx=new GO(this),this.post=new UO(this),this.os2=new HO(this),this.loca=new KO(this),this.glyf=new $O(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,f;for(f=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(n=r>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,a,o,c;for(o=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)r=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var tc,Ed=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,a,o,c,u;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*o+256*c+u},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)n=t[i],a.push(this.writeByte(n));return a},e}(),PO=function(){var e;function t(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,a,o,c,u,f,h,p,x,b,w,g;for(g in b=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(b)/u),o=Math.floor(p/u),h=16*b-p,(r=new Ed).writeInt(this.scalarType),r.writeShort(b),r.writeShort(p),r.writeShort(o),r.writeShort(h),a=16*b,f=r.pos+a,c=null,w=[],n)for(x=n[g],r.writeString(g),r.writeInt(e(x)),r.writeInt(f),r.writeInt(x.length),w=w.concat(x),g==="head"&&(c=f),f+=x.length;f%4;)w.push(0),f++;return r.write(w),i=2981146554-e(r.data),r.pos=c+8,r.writeUInt32(i),r.data},e=function(n){var i,r,a,o;for(n=p4.call(n);n.length%4;)n.push(0);for(a=new Ed(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=a.readUInt32();return 4294967295&r},t}(),IO={}.hasOwnProperty,Fc=function(e,t){for(var n in t)IO.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};tc=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var BO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var i;return(i=new Ed).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},t}(),c_=function(){function e(t,n){var i,r,a,o,c,u,f,h,p,x,b,w,g,_,j,E,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(b=t.readUInt16(),x=b/2,t.pos+=6,a=function(){var F,V;for(V=[],u=F=0;0<=x?F<x:F>x;u=0<=x?++F:--F)V.push(t.readUInt16());return V}(),t.pos+=2,g=function(){var F,V;for(V=[],u=F=0;0<=x?F<x:F>x;u=0<=x?++F:--F)V.push(t.readUInt16());return V}(),f=function(){var F,V;for(V=[],u=F=0;0<=x?F<x:F>x;u=0<=x?++F:--F)V.push(t.readUInt16());return V}(),h=function(){var F,V;for(V=[],u=F=0;0<=x?F<x:F>x;u=0<=x?++F:--F)V.push(t.readUInt16());return V}(),r=(this.length-t.pos+this.offset)/2,c=function(){var F,V;for(V=[],u=F=0;0<=r?F<r:F>r;u=0<=r?++F:--F)V.push(t.readUInt16());return V}(),u=j=0,k=a.length;j<k;u=++j)for(_=a[u],i=E=w=g[u];w<=_?E<=_:E>=_;i=w<=_?++E:--E)h[u]===0?o=i+f[u]:(o=c[h[u]/2+(i-w)-(x-u)]||0)!==0&&(o+=f[u]),this.codeMap[i]=65535&o}t.pos=p}return e.encode=function(t,n){var i,r,a,o,c,u,f,h,p,x,b,w,g,_,j,E,k,F,V,ne,P,I,Y,Z,z,U,J,ie,pe,ae,ue,Q,Ne,q,ke,O,B,W,X,le,Ce,_e,Le,ze,nt,Oe;switch(ie=new Ed,o=Object.keys(t).sort(function($e,Ke){return $e-Ke}),n){case"macroman":for(g=0,_=function(){var $e=[];for(w=0;w<256;++w)$e.push(0);return $e}(),E={0:0},a={},pe=0,Ne=o.length;pe<Ne;pe++)E[Le=t[r=o[pe]]]==null&&(E[Le]=++g),a[r]={old:t[r],new:E[t[r]]},_[r]=E[t[r]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(_),{charMap:a,subtable:ie.data,maxGlyphID:g+1};case"unicode":for(U=[],p=[],k=0,E={},i={},j=f=null,ae=0,q=o.length;ae<q;ae++)E[V=t[r=o[ae]]]==null&&(E[V]=++k),i[r]={old:V,new:E[V]},c=E[V]-r,j!=null&&c===f||(j&&p.push(j),U.push(r),f=c),j=r;for(j&&p.push(j),p.push(65535),U.push(65535),Z=2*(Y=U.length),I=2*Math.pow(Math.log(Y)/Math.LN2,2),x=Math.log(I/2)/Math.LN2,P=2*Y-I,u=[],ne=[],b=[],w=ue=0,ke=U.length;ue<ke;w=++ue){if(z=U[w],h=p[w],z===65535){u.push(0),ne.push(0);break}if(z-(J=i[z].new)>=32768)for(u.push(0),ne.push(2*(b.length+Y-w)),r=Q=z;z<=h?Q<=h:Q>=h;r=z<=h?++Q:--Q)b.push(i[r].new);else u.push(J-z),ne.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*Y+2*b.length),ie.writeUInt16(0),ie.writeUInt16(Z),ie.writeUInt16(I),ie.writeUInt16(x),ie.writeUInt16(P),Ce=0,O=p.length;Ce<O;Ce++)r=p[Ce],ie.writeUInt16(r);for(ie.writeUInt16(0),_e=0,B=U.length;_e<B;_e++)r=U[_e],ie.writeUInt16(r);for(ze=0,W=u.length;ze<W;ze++)c=u[ze],ie.writeUInt16(c);for(nt=0,X=ne.length;nt<X;nt++)F=ne[nt],ie.writeUInt16(F);for(Oe=0,le=b.length;Oe<le;Oe++)g=b[Oe],ie.writeUInt16(g);return{charMap:i,subtable:ie.data,maxGlyphID:k+1}}},e}(),m4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,r,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)i=new c_(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(n,i){var r,a;return i==null&&(i="macroman"),r=c_.encode(n,i),(a=new Ed).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t}(),zO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),HO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),UO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="post",t.prototype.parse=function(n){var i,r,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)i=n.readByte(),a.push(this.names.push(n.readString(i)));return a;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(n.readUInt32());return f}).call(this)}},t}(),WO=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},VO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="name",t.prototype.parse=function(n){var i,r,a,o,c,u,f,h,p,x,b;for(n.pos=this.offset,n.readShort(),i=n.readShort(),u=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},o=p=0,x=r.length;p<x;o=++p)a=r[o],n.pos=a.offset,h=n.readString(a.length),c=new WO(h,a),f[b=a.nameID]==null&&(f[b]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),qO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),GO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,r,a,o,c,u,f;for(n.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,p;for(p=[],i=h=0;0<=a?h<a:h>a;i=0<=a?++h:--h)p.push(n.readInt16());return p}(),this.widths=(function(){var h,p,x,b;for(b=[],h=0,p=(x=this.metrics).length;h<p;h++)o=x[h],b.push(o.advance);return b}).call(this),r=this.widths[this.widths.length-1],f=[],i=c=0;0<=a?c<a:c>a;i=0<=a?++c:--c)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),p4=[].slice,$O=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var i,r,a,o,c,u,f,h,p,x;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,c=(u=new Ed(i.read(a))).readShort(),h=u.readShort(),x=u.readShort(),f=u.readShort(),p=u.readShort(),this.cache[n]=c===-1?new XO(u,h,x,f,p):new YO(u,c,h,x,f,p),this.cache[n]))},t.prototype.encode=function(n,i,r){var a,o,c,u,f;for(c=[],o=[],u=0,f=i.length;u<f;u++)a=n[i[u]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},t}(),YO=function(){function e(t,n,i,r,a,o){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),XO=function(){function e(t,n,i,r,a){var o,c;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new Ed(p4.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),KO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fc(t,tc),t.prototype.tag="loca",t.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<i.length&&i[o]==c){++o,r[c]=a;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(a+=f)}for(var h=new Array(4*r.length),p=0;p<r.length;++p)h[4*p+3]=255&r[p],h[4*p+2]=(65280&r[p])>>8,h[4*p+1]=(16711680&r[p])>>16,h[4*p]=(4278190080&r[p])>>24;return h},t}(),ZO=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,a,o,c,u;for(r={},o=0,c=t.length;o<c;o++)r[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))i=u[a],r[a]=i;return r},e.prototype.encode=function(t,n){var i,r,a,o,c,u,f,h,p,x,b,w,g,_,j;for(r in i=m4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),b={0:0},j=i.charMap)b[(u=j[r]).old]=u.new;for(w in x=i.maxGlyphID,o)w in b||(b[w]=x++);return h=function(E){var k,F;for(k in F={},E)F[E[k]]=k;return F}(b),p=Object.keys(h).sort(function(E,k){return E-k}),g=function(){var E,k,F;for(F=[],E=0,k=p.length;E<k;E++)c=p[E],F.push(h[c]);return F}(),a=this.font.glyf.encode(o,g,b),f=this.font.loca.encode(a.offsets,g),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e}();an.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,a,o;if(Array.isArray(n))return"["+function(){var c,u,f;for(f=[],c=0,u=n.length;c<u;c++)i=n[c],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)o=n[r],a.push("/"+r+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();const g4=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:Gt,AcroFormButton:Jr,AcroFormCheckBox:G0,AcroFormChoiceField:of,AcroFormComboBox:cf,AcroFormEditBox:V0,AcroFormListBox:lf,AcroFormPasswordField:$0,AcroFormPushButton:q0,AcroFormRadioButton:uf,AcroFormTextField:Nd,GState:dm,ShadingPattern:xd,TilingPattern:rf,default:an,jsPDF:an},Symbol.toStringTag,{value:"Module"}));function x4(e,t,n,i,r){i=i||{};var a=1.15,o=r.internal.scaleFactor,c=r.internal.getFontSize()/o,u=r.getLineHeightFactor?r.getLineHeightFactor():a,f=c*u,h=/\r\n|\r|\n/g,p="",x=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(p=typeof e=="string"?e.split(h):e,x=p.length||1),n+=c*(2-a),i.valign==="middle"?n-=x/2*f:i.valign==="bottom"&&(n-=x*f),i.halign==="center"||i.halign==="right"){var b=c;if(i.halign==="center"&&(b*=.5),p&&x>=1){for(var w=0;w<p.length;w++)r.text(p[w],t-r.getStringUnitWidth(p[w])*b,n),n+=f;return r}t-=r.getStringUnitWidth(e)*b}return i.halign==="justify"?r.text(e,t,n,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(e,t,n),r}var u_={},bh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:u_=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var i,r,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(u,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var h=e.unifyColor(t.fillColor);h&&(i=this.jsPDFDocument).setFillColor.apply(i,h),h=e.unifyColor(t.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=e.unifyColor(t.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,i){return this.jsPDFDocument.splitTextToSize(t,n,i)},e.prototype.rect=function(t,n,i,r,a){return this.jsPDFDocument.rect(t,n,i,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return u_||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),pb=function(e,t){return pb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},pb(e,t)};function v4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var b4=function(e){v4(t,e);function t(n){var i=e.call(this)||this;return i._element=n,i}return t}(Array);function JO(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function QO(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Eg(e,t,n){n.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],r=i.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return r}function y4(e,t,n,i){var r=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:a});var o=w4(r,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,o)}function w4(e,t){var n=e>0,i=t||t===0;return n&&i?"DF":n?"S":i?"F":null}function v1(e,t){var n,i,r,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(r=e.right)!==null&&r!==void 0?r:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function _4(e,t){var n=v1(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function e7(e,t,n,i,r){var a={},o=1.3333333333333333,c=ov(t,function(k){return r.getComputedStyle(k).backgroundColor});c!=null&&(a.fillColor=c);var u=ov(t,function(k){return r.getComputedStyle(k).color});u!=null&&(a.textColor=u);var f=n7(i,n);f&&(a.cellPadding=f);var h="borderTopColor",p=o*n,x=i.borderTopWidth;if(i.borderBottomWidth===x&&i.borderRightWidth===x&&i.borderLeftWidth===x){var b=(parseFloat(x)||0)/p;b&&(a.lineWidth=b)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/p,right:(parseFloat(i.borderRightWidth)||0)/p,bottom:(parseFloat(i.borderBottomWidth)||0)/p,left:(parseFloat(i.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var w=ov(t,function(k){return r.getComputedStyle(k)[h]});w!=null&&(a.lineColor=w);var g=["left","right","center","justify"];g.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),g=["middle","bottom","top"],g.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var _=parseInt(i.fontSize||"");isNaN(_)||(a.fontSize=_/o);var j=t7(i);j&&(a.fontStyle=j);var E=(i.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(a.font=E),a}function t7(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function ov(e,t){var n=N4(e,t);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function N4(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:N4(e.parentElement,t):n}function n7(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(c){return parseInt(c||"0")/i}),o=v1(a,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function S4(e,t,n,i,r){var a,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var c;typeof t=="string"?c=n.document.querySelector(t):c=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],p=[],x=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:h,body:p,foot:x};for(var b=0;b<c.rows.length;b++){var w=c.rows[b],g=(o=(a=w==null?void 0:w.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),_=i7(u,f,n,w,i,r);_&&(g==="thead"?h.push(_):g==="tfoot"?x.push(_):p.push(_))}return{head:h,body:p,foot:x}}function i7(e,t,n,i,r,a){for(var o=new b4(i),c=0;c<i.cells.length;c++){var u=i.cells[c],f=n.getComputedStyle(u);if(r||f.display!=="none"){var h=void 0;a&&(h=e7(e,u,t,f,n)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:r7(u)})}}var p=n.getComputedStyle(i);if(o.length>0&&(r||p.display!=="none"))return o}function r7(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function a7(e,t,n){for(var i=0,r=[e,t,n];i<r.length;i++){var a=r[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function bu(e,t,n,i,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(a[u]=c[u])}return a}function j4(e,t){var n=new bh(e),i=n.getDocumentOptions(),r=n.getGlobalOptions();a7(r,i,t);var a=bu({},r,i,t),o;typeof window<"u"&&(o=window);var c=s7(r,i,t),u=o7(r,i,t),f=l7(n,a),h=u7(n,a,o);return{id:t.tableId,content:h,hooks:u,styles:c,settings:f}}function s7(e,t,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],p=n[u];i.columnStyles=bu({},f,h,p)}else{var x=[e,t,n],b=x.map(function(w){return w[u]||{}});i[u]=bu({},b[0],b[1],b[2])}},a=0,o=Object.keys(i);a<o.length;a++){var c=o[a];r(c)}return i}function o7(e,t,n){for(var i=[e,t,n],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=i;a<o.length;a++){var c=o[a];c.didParseCell&&r.didParseCell.push(c.didParseCell),c.willDrawCell&&r.willDrawCell.push(c.willDrawCell),c.didDrawCell&&r.didDrawCell.push(c.didDrawCell),c.willDrawPage&&r.willDrawPage.push(c.willDrawPage),c.didDrawPage&&r.didDrawPage.push(c.didDrawPage)}return r}function l7(e,t){var n,i,r,a,o,c,u,f,h,p,x,b,w=v1(t.margin,40/e.scaleFactor()),g=(n=c7(e,t.startY))!==null&&n!==void 0?n:w.top,_;t.showFoot===!0?_="everyPage":t.showFoot===!1?_="never":_=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var E=(a=t.useCss)!==null&&a!==void 0?a:!1,k=t.theme||(E?"plain":"striped"),F=!!t.horizontalPageBreak,V=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:E,theme:k,startY:g,margin:w,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:j,showFoot:_,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:F,horizontalPageBreakRepeat:V,horizontalPageBreakBehaviour:(b=t.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function c7(e,t){var n=e.getLastAutoTable(),i=e.scaleFactor(),r=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===r}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function u7(e,t,n){var i=t.head||[],r=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var c=S4(e,t.html,n,o,t.useCss)||{};i=c.head||i,r=c.body||i,a=c.foot||i}else console.error("Cannot parse html in non browser environment")}var u=t.columns||d7(i,r,a);return{columns:u,head:i,body:r,foot:a}}function d7(e,t,n){var i=e[0]||t[0]||n[0]||[],r=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,c;Array.isArray(i)?c=i[parseInt(a)]:c=i[a],typeof c=="object"&&!Array.isArray(c)&&(o=(c==null?void 0:c.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(i)?f=r.length:f=a+(u>0?"_".concat(u):"");var h={dataKey:f};r.push(h)}}),r}var Tg=function(){function e(t,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=t.getDocument()}return e}(),A4=function(e){v4(t,e);function t(n,i,r,a,o,c){var u=e.call(this,n,i,c)||this;return u.cell=r,u.row=a,u.column=o,u.section=a.section,u}return t}(Tg),E4=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,i,r,a,o){for(var c=0,u=n;c<u.length;c++){var f=u[c],h=new A4(t,this,i,r,a,o),p=f(h)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var a=r[i];a(new Tg(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var a=r[i];a(new Tg(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return n}else{var i=this.settings.margin;return t-i.left-i.right}},e}(),o2=function(){function e(t,n,i,r,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof b4&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=i,this.cells=r,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(i,r){var a;return Math.max(i,((a=n.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(i){var r=n.cells[i.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var i=this;return t.reduce(function(r,a){var o=i.cells[a.index];if(!o)return 0;var c=n.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+c;return f>r?f:r},0)},e}(),l2=function(){function e(t,n,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*n,a=i*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=v1(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),T4=function(){function e(t,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,i=0,r=t.allRows();i<r.length;i++){var a=r[i],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function f7(e,t){h7(e,t);var n=[],i=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),i+=a.width});var r=t.getWidth(e.pageSize().width)-i;r&&(r=gb(n,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=gb(n,r,function(a){return a.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),p7(t),g7(t,e),m7(t)}function h7(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,r=_4(e,t);t.allRows().forEach(function(a){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=a.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,a,u,null);var p=f.padding("horizontal");f.contentWidth=Eg(f.text,f.styles,e)+p;var x=Eg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=x+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/n;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=a.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function gb(e,t,n){for(var i=t,r=e.reduce(function(b,w){return b+w.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],c=o.wrappedWidth/r,u=i*c,f=o.width+u,h=n(o),p=f<h?h:f;t-=p-o.width,o.width=p}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(b){return t<0?b.width>n(b):!0});x.length&&(t=gb(x,t,n))}return t}function m7(e){for(var t={},n=1,i=e.allRows(),r=0;r<i.length;r++)for(var a=i[r],o=0,c=e.columns;o<c.length;o++){var u=c[o],f=t[u.index];if(n>1)n--,delete a.cells[u.index];else if(f)f.cell.height+=a.height,n=f.cell.colSpan,delete a.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=a.cells[u.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=i.length-r,x=h.rowSpan>p?p:h.rowSpan;t[u.index]={cell:h,left:x,row:a}}}}}function p7(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var i=t[n],r=null,a=0,o=0,c=0;c<e.columns.length;c++){var u=e.columns[c];if(o-=1,o>1&&e.columns[c+1])a+=u.width,delete i.cells[u.index];else if(r){var f=r;delete i.cells[u.index],r=null,f.width=u.width+a}else{var f=i.cells[u.index];if(!f)continue;if(o=f.colSpan,a=0,f.colSpan>1){r=f,a+=u.width;continue}f.width=u.width+a}}}function g7(e,t){for(var n={count:0,height:0},i=0,r=e.allRows();i<r.length;i++){for(var a=r[i],o=0,c=e.columns;o<c.length;o++){var u=c[o],f=a.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=d_(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=d_(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,h);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<x*f.rowSpan?n={height:x,count:f.rowSpan}:n&&n.count>0&&n.height>x&&(x=n.height),x>a.height&&(a.height=x)}}n.count--}}function d_(e,t,n,i,r){return e.map(function(a){return x7(a,t,n,i,r)})}function x7(e,t,n,i,r){var a=1e4*i.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Eg(e,n,i))return e;for(;t<Eg(e+r,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function C4(e,t){var n=new bh(e),i=v7(t,n.scaleFactor()),r=new E4(t,i);return f7(n,r),n.applyStyles(n.userStyles),r}function v7(e,t){var n=e.content,i=y7(n.columns);if(n.head.length===0){var r=f_(i,"head");r&&n.head.push(r)}if(n.foot.length===0){var r=f_(i,"foot");r&&n.foot.push(r)}var a=e.settings.theme,o=e.styles;return{columns:i,head:lv("head",n.head,i,o,a,t),body:lv("body",n.body,i,o,a,t),foot:lv("foot",n.foot,i,o,a,t)}}function lv(e,t,n,i,r,a){var o={},c=t.map(function(u,f){for(var h=0,p={},x=0,b=0,w=0,g=n;w<g.length;w++){var _=g[w];if(o[_.index]==null||o[_.index].left===0)if(b===0){var j=void 0;Array.isArray(u)?j=u[_.index-x-h]:j=u[_.dataKey];var E={};typeof j=="object"&&!Array.isArray(j)&&(E=(j==null?void 0:j.styles)||{});var k=w7(e,_,f,r,i,a,E),F=new l2(j,k,e);p[_.dataKey]=F,p[_.index]=F,b=F.colSpan-1,o[_.index]={left:F.rowSpan-1,times:b}}else b--,x++;else o[_.index].left--,b=o[_.index].times,h++}return new o2(u,f,e,p)});return c}function f_(e,t){var n={};return e.forEach(function(i){if(i.raw!=null){var r=b7(t,i.raw);r!=null&&(n[i.dataKey]=r)}}),Object.keys(n).length>0?n:null}function b7(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function y7(e){return e.map(function(t,n){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:n:r=n,new T4(r,t,n)})}function w7(e,t,n,i,r,a,o){var c=QO(i),u;e==="head"?u=r.headStyles:e==="body"?u=r.bodyStyles:e==="foot"&&(u=r.footStyles);var f=bu({},c.table,c[e],r.styles,u),h=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},p=e==="body"?h:{},x=e==="body"&&n%2===0?bu({},c.alternateRow,r.alternateRowStyles):{},b=JO(a),w=bu({},b,f,x,p);return bu(w,o)}function _7(e,t,n){var i;n===void 0&&(n={});var r=_4(e,t),a=new Map,o=[],c=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(x){var b=t.columns.find(function(w){return w.dataKey===x||w.index===x});b&&!a.has(b.index)&&(a.set(b.index,!0),o.push(b.index),c.push(t.columns[b.index]),r-=b.wrappedWidth)});for(var f=!0,h=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;h<t.columns.length;){if(a.has(h)){h++;continue}var p=t.columns[h].wrappedWidth;if(f||r>=p)f=!1,o.push(h),c.push(t.columns[h]),r-=p;else break;h++}return{colIndexes:o,columns:c,lastIndex:h-1}}function N7(e,t){for(var n=[],i=0;i<t.columns.length;i++){var r=_7(e,t,{start:i});r.columns.length&&(n.push(r),i=r.lastIndex)}return n}function k4(e,t){var n=t.settings,i=n.startY,r=n.margin,a={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=i+r.bottom+o;if(n.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(x,b){return x+b.height},0);c+=f}var h=new bh(e);(n.pageBreak==="always"||n.startY!=null&&c>h.pageSize().height)&&(R4(h),a.y=r.top),t.callWillDrawPageHooks(h,a);var p=bu({},a);t.startPageNumber=h.pageNumber(),n.horizontalPageBreak?S7(h,t,p,a):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(x){return ku(h,t,x,a,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(x,b){var w=b===t.body.length-1;Cg(h,t,x,w,p,a,t.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(x){return ku(h,t,x,a,t.columns)})),y4(h,t,p,a),t.callEndPageHooks(h,a),t.finalY=a.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function S7(e,t,n,i){var r=N7(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Y0(e,t,n,i,f.columns,!0):h_(e,t,i,f.columns),j7(e,t,n,i,f.columns),cv(e,t,i,f.columns)});else for(var o=-1,c=r[0],u=function(){var f=o;if(c){e.applyStyles(e.userStyles);var h=c.columns;o>=0?Y0(e,t,n,i,h,!0):h_(e,t,i,h),f=m_(e,t,o+1,i,h),cv(e,t,i,h)}var p=f-o;r.slice(1).forEach(function(x){e.applyStyles(e.userStyles),Y0(e,t,n,i,x.columns,!0),m_(e,t,o+1,i,x.columns,p),cv(e,t,i,x.columns)}),o=f};o<t.body.length-1;)u()}function h_(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(a){return ku(e,t,a,n,i)})}function j7(e,t,n,i,r){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var c=o===t.body.length-1;Cg(e,t,a,c,n,i,r)})}function m_(e,t,n,i,r,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(n+a,t.body.length),c=-1;return t.body.slice(n,o).forEach(function(u,f){var h=n+f===t.body.length-1,p=L4(e,t,h,i);u.canEntireRowFit(p,r)&&(ku(e,t,u,i,r),c=n+f)}),c}function cv(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(a){return ku(e,t,a,n,i)})}function A7(e,t,n){var i=n.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),a=Math.floor((t-r)/i);return Math.max(0,a)}function E7(e,t,n,i){var r={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,c=n.columns;o<c.length;o++){var u=c[o],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new l2(f.raw,f.styles,f.section);h=bu(h,f),h.text=[];var p=A7(f,t,i);f.text.length>p&&(h.text=f.text.splice(p,f.text.length));var x=i.scaleFactor(),b=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(x,b),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(x,b),h.contentHeight>a&&(a=h.contentHeight),r[u.index]=h}}var w=new o2(e.raw,-1,e.section,r,!0);w.height=a;for(var g=0,_=n.columns;g<_.length;g++){var u=_[g],h=w.cells[u.index];h&&(h.height=w.height);var f=e.cells[u.index];f&&(f.height=e.height)}return w}function T7(e,t,n,i){var r=e.pageSize().height,a=i.settings.margin,o=a.top+a.bottom,c=r-o;t.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=t.getMinimumRowHeight(i.columns,e),f=u<n;if(u>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(i.columns),p=t.getMaxCellHeight(i.columns)>c;return p?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||i.settings.rowPageBreak==="avoid")}function Cg(e,t,n,i,r,a,o){var c=L4(e,t,i,a);if(n.canEntireRowFit(c,o))ku(e,t,n,a,o);else if(T7(e,n,c,t)){var u=E7(n,c,t,e);ku(e,t,n,a,o),Y0(e,t,r,a,o),Cg(e,t,u,i,r,a,o)}else Y0(e,t,r,a,o),Cg(e,t,n,i,r,a,o)}function ku(e,t,n,i,r){i.x=t.settings.margin.left;for(var a=0,o=r;a<o.length;a++){var c=o[a],u=n.cells[c.index];if(!u){i.x+=c.width;continue}e.applyStyles(u.styles),u.x=i.x,u.y=i.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,n,c,i);if(f===!1){i.x+=c.width;continue}C7(e,u,i);var h=u.getTextPos();x4(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,n,c,i),i.x+=c.width}i.y+=n.height}function C7(e,t,n){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=w4(i.lineWidth,i.fillColor);r&&e.rect(t.x,n.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),k7(e,t,n,i.lineWidth))}function k7(e,t,n,i){var r,a,o,c;i.top&&(r=n.x,a=n.y,o=n.x+t.width,c=n.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.top,r,a,o,c)),i.bottom&&(r=n.x,a=n.y+t.height,o=n.x+t.width,c=n.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.bottom,r,a,o,c)),i.left&&(r=n.x,a=n.y,o=n.x,c=n.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.left,r,a,o,c)),i.right&&(r=n.x+t.width,a=n.y,o=n.x+t.width,c=n.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.right,r,a,o,c));function u(f,h,p,x,b){e.getDocument().setLineWidth(f),e.getDocument().line(h,p,x,b,"S")}}function L4(e,t,n,i){var r=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(r+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-r}function Y0(e,t,n,i,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(c){return ku(e,t,c,i,r)}),t.callEndPageHooks(e,i);var o=t.settings.margin;y4(e,t,n,i),R4(e),t.pageNumber++,i.x=o.left,i.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return ku(e,t,c,i,r)}),e.applyStyles(e.userStyles))}function R4(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function O4(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],r=j4(this,i),a=C4(this,r);return k4(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,i,r){x4(t,n,i,r,this)},e.API.autoTableSetDefaults=function(t){return bh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){bh.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new bh(this),a=S4(r,t,window,n,!1),o=a.head,c=a.body,u=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:u,rows:c,data:c}}}var uv;function xb(e,t){var n=j4(e,t),i=C4(e,n);k4(e,i)}try{if(typeof window<"u"&&window){var p_=window,g_=p_.jsPDF||((uv=p_.jspdf)===null||uv===void 0?void 0:uv.jsPDF);g_&&O4(g_)}}catch(e){console.error("Could not apply autoTable plugin",e)}const D4=Object.freeze(Object.defineProperty({__proto__:null,Cell:l2,CellHookData:A4,Column:T4,HookData:Tg,Row:o2,Table:E4,applyPlugin:O4,autoTable:xb,default:xb},Symbol.toStringTag,{value:"Module"})),c2=async(e,t=20)=>{try{const n=await L7(Ph);return e.addImage(n,"PNG",20,t,32,32),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Kreative Dental & Orthodontics",60,t+20),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(20,t+40,e.internal.pageSize.getWidth()-20,t+40),t+50}catch(n){return console.error("Error adding clinic header to PDF:",n),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Kreative Dental & Orthodontics",20,t+20),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(20,t+40,e.internal.pageSize.getWidth()-20,t+40),t+50}},L7=e=>new Promise((t,n)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{const r=document.createElement("canvas"),a=r.getContext("2d");r.width=i.width,r.height=i.height,a.drawImage(i,0,0);const o=r.toDataURL("image/png");t(o)},i.onerror=()=>n(new Error("Failed to load image")),i.src=e});function R7(){const e=new Date().getFullYear(),[t,n]=D.useState(e),[i,r]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{c()},[t]);const c=async()=>{o(!0);try{const{data:h}=await it.get(`/api/discounts-archive?year=${t}`);r(h)}catch(h){console.error("Failed to load archive",h)}finally{o(!1)}},u=async()=>{const h=new an,p=await c2(h,20);h.setFont("helvetica","normal"),h.setFontSize(14),h.text(`Promo Archive - ${t}`,40,p),xb(h,{startY:p+20,head:[["Service","Start","End","Price","Status","Activated"]],body:i.map(x=>{var b,w;return[((b=x.service)==null?void 0:b.name)||"-",x.start_date,x.end_date,`PHP ${Number(x.discounted_price).toFixed(2)}`,x.status.charAt(0).toUpperCase()+x.status.slice(1),((w=x.activated_at)==null?void 0:w.split("T")[0])||"-"]}),theme:"grid",styles:{fontSize:10,font:"helvetica",textColor:20,cellPadding:3},headStyles:{fillColor:[52,58,64],textColor:255}}),h.save(`PromoArchive-${t}.pdf`)},f=h=>{switch(h){case"planned":return s.jsx("span",{className:"badge bg-secondary",children:"Planned"});case"launched":return s.jsx("span",{className:"badge bg-success",children:"Launched"});case"canceled":return s.jsx("span",{className:"badge bg-warning text-dark",children:"Canceled"});case"done":return s.jsx("span",{className:"badge bg-dark",children:"Done"});default:return s.jsx("span",{className:"badge bg-light text-dark",children:"Unknown"})}};return s.jsxs("div",{className:"promo-archive-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:" Promo Archive"}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"View and manage archived promotional campaigns"})]}),s.jsxs("div",{className:"d-flex gap-3 align-items-center",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label fw-semibold mb-1",children:"Filter by Year"}),s.jsx("select",{className:"form-control border-0 shadow-sm",style:{width:120,borderRadius:"12px",padding:"12px 16px",fontSize:"14px",fontWeight:"500"},value:t,onChange:h=>n(h.target.value),children:[...Array(e-2022)].map((h,p)=>{const x=e-p;return s.jsx("option",{value:x,children:x},x)})})]}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:u,style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease",marginTop:"24px"},children:[s.jsx("i",{className:"bi bi-download me-2"}),"Export PDF"]})]})]}),s.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:s.jsx("div",{className:"card-body p-0",children:a?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading archived promos..."})]})}):s.jsx("div",{className:"table-responsive",style:{width:"100%"},children:s.jsxs("table",{className:"table table-hover mb-0",style:{width:"100%",tableLayout:"fixed"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:"25%"}}),s.jsx("col",{style:{width:"12%"}}),s.jsx("col",{style:{width:"12%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"12%"}}),s.jsx("col",{style:{width:"24%"}})]}),s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-tag me-2"}),"Service Name"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-calendar-event me-2"}),"Start Date"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-calendar-x me-2"}),"End Date"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-currency-dollar me-2"}),"Discounted Price"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-activity me-2"}),"Status"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-clock-history me-2"}),"Date Activated"]})]})}),s.jsx("tbody",{children:i.length>0?i.map(h=>{var p,x;return s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-4 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark",children:((p=h.service)==null?void 0:p.name)||"-"}),s.jsx("small",{className:"text-muted",children:"Dental Service"})]})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:h.start_date}),s.jsx("small",{className:"text-muted",children:"Campaign Start"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:h.end_date}),s.jsx("small",{className:"text-muted",children:"Campaign End"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsxs("span",{className:"fw-bold text-success fs-5",children:["",Number(h.discounted_price).toFixed(2)]}),s.jsx("small",{className:"text-muted",children:"Promotional Price"})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column align-items-start",children:[f(h.status),s.jsx("small",{className:"text-muted mt-1",children:"Current State"})]})}),s.jsx("td",{className:"px-4 py-3 text-muted border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:((x=h.activated_at)==null?void 0:x.split("T")[0])||"-"}),s.jsx("small",{className:"text-muted",children:h.activated_at?"Launch Date":"Not Activated"})]})})]},h.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"text-center text-muted border-0",style:{height:"400px"},children:s.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center py-5",children:[s.jsx("div",{className:"bg-light rounded-circle mb-4 d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"3rem"},children:""}),s.jsxs("h3",{className:"text-muted mb-3",children:["No promos found for ",t]}),s.jsx("p",{className:"text-muted mb-4 fs-5",children:"This year doesn't have any promotional campaigns yet."}),s.jsxs("div",{className:"d-flex gap-3",children:[s.jsxs("button",{className:"btn btn-outline-primary",children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create New Promo"]}),s.jsxs("button",{className:"btn btn-outline-secondary",children:[s.jsx("i",{className:"bi bi-calendar me-2"}),"Try Different Year"]})]})]})})})})]})})})})]})}function M4(){const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState(!1),[o,c]=D.useState(""),[u,f]=D.useState(!0),[h,p]=D.useState(""),[x,b]=D.useState(""),[w,g]=D.useState(""),[_,j]=D.useState(null),[E,k]=D.useState(!1),[F,V]=D.useState(null),[ne,P]=D.useState(!1),[I,Y]=D.useState(null);D.useEffect(()=>{Z()},[]);const Z=async()=>{try{const ue=await it.get("/api/clinic-calendar");t(ue.data)}catch(ue){console.error("Failed to fetch clinic calendar",ue)}finally{i(!1)}};D.useEffect(()=>{(async()=>{if(o)try{const Q=await it.get("/api/clinic-calendar/resolve",{params:{date:o}}),{source:Ne,data:q}=Q.data;Ne==="override"?(j(q),f(!!q.is_open),p(q.open_time??""),b(q.close_time??""),g(q.note??""),alert(" This date already has an override. You are editing it.")):(j(null),f(!!q.is_open),p(q.open_time??""),b(q.close_time??""),g(q.note??""))}catch{console.warn("Resolve not available; continuing without it.")}})()},[o]);const z=async ue=>{ue.preventDefault();try{const Q={date:o,is_open:u,open_time:u?ae(h):null,close_time:u?ae(x):null,note:w||null};_?await it.put(`/api/clinic-calendar/${_.id}`,Q):await it.post("/api/clinic-calendar",Q),a(!1),c(""),f(!0),p(""),b(""),g(""),j(null),Z()}catch(Q){console.error("Failed to add/update entry",Q),alert("Failed to save entry. Maybe the date already exists?")}},U=ue=>{V({...ue,open_time:ue.open_time??"",close_time:ue.close_time??""}),k(!0)},J=async ue=>{ue.preventDefault();try{await it.put(`/api/clinic-calendar/${F.id}`,{is_open:!!F.is_open,open_time:F.is_open?ae(F.open_time):null,close_time:F.is_open?ae(F.close_time):null,note:F.note||null}),k(!1),V(null),Z()}catch(Q){console.error("Failed to update entry",Q),alert("Update failed.")}},ie=ue=>{Y(ue),P(!0)},pe=async()=>{try{await it.delete(`/api/clinic-calendar/${I.id}`),P(!1),Y(null),Z()}catch(ue){console.error("Failed to delete entry",ue),alert("Deletion failed.")}},ae=ue=>ue?String(ue).slice(0,5):null;return s.jsxs("div",{className:"clinic-calendar-manager-page",style:{width:"100%",maxWidth:"100%",padding:"0",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-4 gap-3",style:{width:"100%",maxWidth:"100%"},children:[s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:" Clinic Calendar Manager"}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Manage clinic operating hours and special dates"})]}),s.jsxs("button",{className:"btn border-0 shadow-sm flex-shrink-0",onClick:()=>a(!0),style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Add Entry"]})]}),s.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px",width:"100%",maxWidth:"100%"},children:s.jsx("div",{className:"card-body p-0",style:{width:"100%",maxWidth:"100%"},children:n?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading calendar entries..."})]})}):s.jsx("div",{className:"table-responsive",style:{width:"100%",maxWidth:"100%",margin:0},children:s.jsxs("table",{className:"table table-hover mb-0",style:{width:"100%",maxWidth:"100%",margin:0,tableLayout:"fixed"},children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-3 py-3 border-0",style:{fontSize:"1.1rem",width:"18%"},children:[s.jsx("i",{className:"bi bi-calendar-date me-2"}),"Date"]}),s.jsxs("th",{className:"fw-semibold px-3 py-3 border-0",style:{fontSize:"1.1rem",width:"12%"},children:[s.jsx("i",{className:"bi bi-toggle-on me-2"}),"Status"]}),s.jsxs("th",{className:"fw-semibold px-3 py-3 border-0",style:{fontSize:"1.1rem",width:"15%"},children:[s.jsx("i",{className:"bi bi-clock me-2"}),"Opening"]}),s.jsxs("th",{className:"fw-semibold px-3 py-3 border-0",style:{fontSize:"1.1rem",width:"15%"},children:[s.jsx("i",{className:"bi bi-clock-history me-2"}),"Closing"]}),s.jsxs("th",{className:"fw-semibold px-3 py-3 border-0",style:{fontSize:"1.1rem",width:"25%"},children:[s.jsx("i",{className:"bi bi-chat-text me-2"}),"Note"]}),s.jsxs("th",{className:"fw-semibold px-3 py-3 border-0 text-center",style:{fontSize:"1.1rem",width:"15%"},children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Actions"]})]})}),s.jsx("tbody",{children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"text-center text-muted border-0",style:{height:"400px"},children:s.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center py-5",children:[s.jsx("div",{className:"bg-light rounded-circle mb-4 d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"3rem"},children:""}),s.jsx("h3",{className:"text-muted mb-3",children:"No calendar entries"}),s.jsx("p",{className:"text-muted mb-4 fs-5",children:"Start by adding your first calendar entry."}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:()=>a(!0),style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Add First Entry"]})]})})}):e.map(ue=>{var Q,Ne;return s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-3 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",fontSize:"1rem"},children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark",children:new Date(ue.date).toLocaleDateString()}),s.jsx("small",{className:"text-muted",children:"Calendar Date"})]})]})}),s.jsx("td",{className:"px-3 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column align-items-start",children:[ue.is_open?s.jsx("span",{className:"badge bg-success",children:" Open"}):s.jsx("span",{className:"badge bg-danger",children:" Closed"}),s.jsx("small",{className:"text-muted mt-1",children:"Operating Status"})]})}),s.jsx("td",{className:"px-3 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:((Q=ue.open_time)==null?void 0:Q.slice(0,5))||""}),s.jsx("small",{className:"text-muted",children:"Opening Time"})]})}),s.jsx("td",{className:"px-3 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:((Ne=ue.close_time)==null?void 0:Ne.slice(0,5))||""}),s.jsx("small",{className:"text-muted",children:"Closing Time"})]})}),s.jsx("td",{className:"px-3 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"text-truncate",title:ue.note||"",children:ue.note||""})}),s.jsx("td",{className:"px-3 py-3 border-0 text-center",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"btn-group",role:"group",children:[s.jsx("button",{className:"btn btn-sm btn-warning me-1",onClick:()=>U(ue),style:{borderRadius:"8px"},title:"Edit entry",children:s.jsx("i",{className:"bi bi-pencil"})}),s.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>ie(ue),style:{borderRadius:"8px"},title:"Delete entry",children:s.jsx("i",{className:"bi bi-trash"})})]})})]},ue.id)})})]})})})}),r&&s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.5)",zIndex:1055},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content border-0 shadow",style:{borderRadius:"16px"},children:[s.jsxs("div",{className:"modal-header bg-primary text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:[s.jsxs("h5",{className:"modal-title fw-semibold",children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Add Clinic Calendar Entry"]}),s.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>a(!1)})]}),s.jsx("div",{className:"modal-body p-4",children:s.jsxs("form",{onSubmit:z,children:[s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-12",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-calendar-date me-1"}),"Date"]}),s.jsx("input",{type:"date",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},required:!0,value:o,onChange:ue=>c(ue.target.value),disabled:!!_})]}),s.jsxs("div",{className:"col-12",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-toggle-on me-1"}),"Open Status"]}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:u?"true":"false",onChange:ue=>f(ue.target.value==="true"),children:[s.jsx("option",{value:"true",children:"Open"}),s.jsx("option",{value:"false",children:"Closed"})]})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-clock me-1"}),"Opening Time"]}),s.jsx("input",{type:"time",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:h,onChange:ue=>p(ue.target.value),required:u})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-clock-history me-1"}),"Closing Time"]}),s.jsx("input",{type:"time",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:x,onChange:ue=>b(ue.target.value),required:u})]}),s.jsxs("div",{className:"col-12",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-chat-text me-1"}),"Note"]}),s.jsx("input",{type:"text",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:w,onChange:ue=>g(ue.target.value),placeholder:"Optional note about this date"})]})]}),s.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[s.jsx("button",{type:"button",className:"btn border-0 shadow-sm",style:{background:"linear-gradient(135deg, #6c757d 0%, #495057 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},onClick:()=>{a(!1),c(""),f(!0),p(""),b(""),g(""),j(null)},children:"Cancel"}),s.jsxs("button",{type:"submit",className:"btn border-0 shadow-sm",style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),"Save Entry"]})]})]})})]})})}),E&&F&&s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.5)",zIndex:1055},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content border-0 shadow",style:{borderRadius:"16px"},children:[s.jsxs("div",{className:"modal-header bg-warning text-dark border-0",style:{borderRadius:"16px 16px 0 0"},children:[s.jsxs("h5",{className:"modal-title fw-semibold",children:[s.jsx("i",{className:"bi bi-pencil-square me-2"}),"Edit Clinic Calendar Entry"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>k(!1)})]}),s.jsx("div",{className:"modal-body p-4",children:s.jsxs("form",{onSubmit:J,children:[s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-12",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-calendar-date me-1"}),"Date"]}),s.jsx("input",{type:"date",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:F.date.slice(0,10),disabled:!0})]}),s.jsxs("div",{className:"col-12",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-toggle-on me-1"}),"Open Status"]}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:F.is_open?"true":"false",onChange:ue=>V({...F,is_open:ue.target.value==="true"}),children:[s.jsx("option",{value:"true",children:"Open"}),s.jsx("option",{value:"false",children:"Closed"})]})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-clock me-1"}),"Opening Time"]}),s.jsx("input",{type:"time",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:F.open_time||"",onChange:ue=>V({...F,open_time:ue.target.value}),disabled:!F.is_open})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-clock-history me-1"}),"Closing Time"]}),s.jsx("input",{type:"time",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:F.close_time||"",onChange:ue=>V({...F,close_time:ue.target.value}),disabled:!F.is_open})]}),s.jsxs("div",{className:"col-12",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-chat-text me-1"}),"Note"]}),s.jsx("input",{type:"text",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:F.note||"",onChange:ue=>V({...F,note:ue.target.value}),placeholder:"Optional note about this date"})]})]}),s.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[s.jsx("button",{type:"button",className:"btn border-0 shadow-sm",style:{background:"linear-gradient(135deg, #6c757d 0%, #495057 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},onClick:()=>k(!1),children:"Cancel"}),s.jsxs("button",{type:"submit",className:"btn border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffc107 0%, #e0a800 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),"Update Entry"]})]})]})})]})})}),ne&&I&&s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.5)",zIndex:1055},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content border-0 shadow",style:{borderRadius:"16px"},children:[s.jsxs("div",{className:"modal-header bg-danger text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:[s.jsxs("h5",{className:"modal-title fw-semibold",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Confirm Deletion"]}),s.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>P(!1)})]}),s.jsxs("div",{className:"modal-body p-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"bg-danger rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px",fontSize:"2rem"},children:s.jsx("i",{className:"bi bi-trash text-white"})}),s.jsx("h5",{className:"fw-bold",children:"Are you sure?"}),s.jsxs("p",{className:"text-muted",children:["You are about to delete the calendar entry for ",s.jsx("strong",{children:I.date.slice(0,10)}),"."]}),s.jsx("p",{className:"text-danger fw-semibold",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[s.jsx("button",{className:"btn border-0 shadow-sm",style:{background:"linear-gradient(135deg, #6c757d 0%, #495057 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},onClick:()=>P(!1),children:"Cancel"}),s.jsxs("button",{className:"btn border-0 shadow-sm",style:{background:"linear-gradient(135deg, #dc3545 0%, #b02a37 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},onClick:pe,children:[s.jsx("i",{className:"bi bi-trash me-2"}),"Delete Entry"]})]})]})]})})})]})}const x_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function O7(){const[e,t]=D.useState([]),[n,i]=D.useState(null);D.useEffect(()=>{r()},[]);const r=async()=>{try{const c=await it.get("/api/weekly-schedule");t(c.data)}catch(c){console.error("Failed to load weekly schedule",c)}},a=(c,u,f)=>{t(h=>h.map(p=>{if(p.id!==c)return p;if(u==="is_open"){const x=f;return{...p,is_open:x,open_time:x?p.open_time||"08:00":"",close_time:x?p.close_time||"17:00":""}}return{...p,[u]:f}}))},o=async c=>{const u=e.find(f=>f.id===c);i(c);try{await it.patch(`/api/weekly-schedule/${c}`,{is_open:!!u.is_open,open_time:u.is_open?u.open_time:null,close_time:u.is_open?u.close_time:null,note:u.note??null}),alert(` ${x_[u.weekday]} saved.`)}catch(f){console.error("Failed to save",f),alert(" Save failed. See console.")}finally{i(null)}};return s.jsxs("div",{className:"weekly-schedule-page",style:{width:"100%",maxWidth:"100%",padding:"0",boxSizing:"border-box"},children:[s.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-calendar-week me-2"}),"Weekly Default Schedule"]}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Configure clinic operating hours and availability for each day of the week"})]})}),s.jsx("div",{className:"row g-2 g-md-3 g-lg-4 m-0",children:s.jsx("div",{className:"col-12 p-0",children:s.jsxs("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",width:"100%",maxWidth:"100%"},children:[s.jsx("div",{className:"card-header bg-transparent border-0 p-4 pb-0",children:s.jsxs("h5",{className:"card-title mb-0 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-clock me-2"}),"Operating Hours Configuration"]})}),s.jsxs("div",{className:"card-body p-4",style:{width:"100%",maxWidth:"100%"},children:[s.jsx("div",{className:"table-responsive",style:{width:"100%",maxWidth:"100%"},children:s.jsxs("table",{className:"table table-hover align-middle mb-0",children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem",minWidth:"140px"},children:[s.jsx("i",{className:"bi bi-calendar-day me-2"}),"Day"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem",minWidth:"120px"},children:[s.jsx("i",{className:"bi bi-power me-2"}),"Status"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem",minWidth:"120px"},children:[s.jsx("i",{className:"bi bi-sunrise me-2"}),"Opening"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem",minWidth:"120px"},children:[s.jsx("i",{className:"bi bi-sunset me-2"}),"Closing"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-chat-text me-2"}),"Note"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem",minWidth:"110px"},children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Action"]})]})}),s.jsx("tbody",{children:e.map(c=>s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-3 px-md-4 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:""}),s.jsx("div",{children:s.jsx("div",{className:"fw-bold text-dark",children:x_[c.weekday]})})]})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"8px",padding:"8px 12px"},value:c.is_open?"true":"false",onChange:u=>a(c.id,"is_open",u.target.value==="true"),children:[s.jsx("option",{value:"true",children:"Open"}),s.jsx("option",{value:"false",children:"Closed"})]})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:c.is_open?s.jsx("input",{type:"time",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"8px 12px"},value:c.open_time||"",onChange:u=>a(c.id,"open_time",u.target.value)}):s.jsx("input",{className:"form-control border-0 shadow-sm",disabled:!0,placeholder:"",style:{borderRadius:"8px",padding:"8px 12px"}})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:c.is_open?s.jsx("input",{type:"time",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"8px 12px"},value:c.close_time||"",onChange:u=>a(c.id,"close_time",u.target.value)}):s.jsx("input",{className:"form-control border-0 shadow-sm",disabled:!0,placeholder:"",style:{borderRadius:"8px",padding:"8px 12px"}})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("input",{type:"text",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"8px 12px"},value:c.note||"",onChange:u=>a(c.id,"note",u.target.value),placeholder:"Optional note"})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",children:s.jsx("button",{className:"btn btn-sm border-0 shadow-sm",onClick:()=>o(c.id),disabled:n===c.id,style:{background:n===c.id?"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",borderRadius:"8px",padding:"8px 16px",fontWeight:"600",transition:"all 0.3s ease"},children:n===c.id?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-check-lg me-1"}),"Save"]})})})]},c.id))})]})}),s.jsx("div",{className:"mt-4 p-3 bg-light rounded-3",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"me-3",children:s.jsx("i",{className:"bi bi-info-circle text-primary",style:{fontSize:"1.2rem"}})}),s.jsxs("div",{children:[s.jsx("h6",{className:"fw-semibold mb-2 text-dark",children:"Important Notes"}),s.jsxs("p",{className:"text-muted mb-0 small",children:[s.jsx("strong",{children:"Dentist headcount and per-slot capacity"})," are managed separately in the"," ",s.jsx("strong",{children:" Capacity (14 days)"})," section and by individual dentist schedulesnot in this weekly configuration."]})]})]})})]})]})})})]})}const D7=()=>new Date().toISOString().slice(0,10),M7=e=>{if(!e)return"";const t=String(e);return t.includes("T")?t.split("T")[0]:t.slice(0,10)};function F7(){const[e,t]=D.useState([]),[n,i]=D.useState([]),[r,a]=D.useState(!0),[o,c]=D.useState(!1),[u,f]=D.useState(""),h=D.useMemo(()=>D7(),[]),p=14;D.useEffect(()=>{(async()=>{var j,E;a(!0),f("");try{const k=await it.get("/api/clinic-calendar/daily",{params:{from:h,days:p}}),V=(Array.isArray(k.data)?k.data:[]).map(ne=>({date:M7(ne.date),active_dentists:Number.isFinite(+ne.active_dentists)?+ne.active_dentists:0,max_parallel:ne.max_parallel===null||ne.max_parallel===void 0?"":String(ne.max_parallel),is_closed:!!ne.is_closed,note:ne.note??""}));t(V),i(V)}catch(k){console.error(k),f(((E=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to load capacity.")}finally{a(!1)}})()},[h]);const x=(_,j)=>t(E=>E.map((k,F)=>F===_?{...k,...j}:k)),b=(_,j)=>j?_.is_closed!==j.is_closed||(_.max_parallel??"")!==(j.max_parallel??"")||(_.note??"")!==(j.note??""):!0,w=async(_,j)=>{var k,F;if(!b(_,j))return;_.is_closed!==j.is_closed&&await it.put(`/api/clinic-calendar/${_.date}/closure`,{closed:_.is_closed,message:((k=_.note)==null?void 0:k.trim())||null}),_.is_closed||await it.put(`/api/clinic-calendar/day/${_.date}`,{max_parallel:_.max_parallel===""||_.max_parallel===null?null:Number(_.max_parallel),note:((F=_.note)==null?void 0:F.trim())||null})},g=async()=>{var _,j;c(!0),f("");try{const E=Object.fromEntries(n.map(k=>[k.date,k]));await Promise.all(e.map(k=>w(k,E[k.date]))),alert("Changes saved."),i(e)}catch(E){console.error(E),f(((j=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:j.message)||"Save failed.")}finally{c(!1)}};return s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h3",{className:"m-0",children:" Capacity (next 14 days)"}),s.jsx("button",{className:"btn btn-dark",disabled:o||r,onClick:g,children:o?"Saving":"Save All"})]}),u&&s.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:u}),r?s.jsx("div",{children:"Loading"}):s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-sm table-bordered align-middle",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{style:{minWidth:115},children:"Date"}),s.jsx("th",{children:"Weekday"}),s.jsx("th",{className:"text-center",children:"Active Dentists"}),s.jsx("th",{style:{minWidth:180},children:"Max sametime appts"}),s.jsx("th",{className:"text-center",style:{minWidth:120},children:"Status"}),s.jsx("th",{children:"Note / Reason"}),s.jsx("th",{className:"text-center",children:"Effective capacity"})]})}),s.jsxs("tbody",{children:[e.map((_,j)=>{const E=new Date(_.date).toLocaleDateString(void 0,{weekday:"short"}),k=Number.isFinite(+_.active_dentists)?+_.active_dentists:0,F=_.max_parallel===""||_.max_parallel===null?1/0:Math.max(0,Number(_.max_parallel)),V=_.is_closed?0:Math.min(k,F);return s.jsxs("tr",{children:[s.jsx("td",{className:"fw-medium",children:_.date}),s.jsx("td",{children:E}),s.jsx("td",{className:"text-center",children:k}),s.jsxs("td",{children:[s.jsx("input",{type:"number",min:0,className:"form-control form-control-sm",value:_.max_parallel,placeholder:`${k} (default)`,onChange:ne=>x(j,{max_parallel:ne.target.value}),disabled:_.is_closed,"aria-label":`Max same-time appts for ${_.date}`}),s.jsxs("div",{className:"form-text",children:["Leave blank to default to days active dentists (",k,")."]}),_.max_parallel!==""&&Number(_.max_parallel)>k&&!_.is_closed&&s.jsxs("small",{className:"text-danger",children:["Cap exceeds available dentists  effective capacity wont exceed ",k,"."]})]}),s.jsx("td",{className:"text-center",children:s.jsxs("select",{className:"form-select form-select-sm",value:_.is_closed?"closed":"open",onChange:ne=>x(j,{is_closed:ne.target.value==="closed"}),"aria-label":`Status for ${_.date}`,children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"closed",children:"Closed"})]})}),s.jsx("td",{children:s.jsx("input",{className:"form-control form-control-sm",value:_.note,onChange:ne=>x(j,{note:ne.target.value}),placeholder:_.is_closed?"Reason for closure (shown to users)":"Optional note"})}),s.jsx("td",{className:"text-center",children:F===1/0?_.is_closed?0:k:V})]},_.date)}),e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center text-muted py-3",children:"No days found."})})]})]})})]})}function P7(){const[e,t]=D.useState("calendar"),n=({id:i,icon:r,label:a})=>s.jsxs("button",{className:`btn flex-fill flex-sm-grow-0 border-0 shadow-sm ${e===i?"":"btn-outline-primary"}`,onClick:()=>t(i),type:"button",style:{background:e===i?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":"transparent",color:e===i?"white":"#3b82f6",border:e===i?"none":"1px solid #3b82f6",borderRadius:"8px",padding:"12px 16px",fontWeight:"600",transition:"all 0.3s ease",minWidth:"140px"},children:[s.jsx("i",{className:`bi bi-${r===""?"calendar":r===""?"arrow-repeat":"bar-chart"} me-2`}),s.jsx("span",{className:"d-none d-sm-inline",children:a}),s.jsx("span",{className:"d-sm-none",children:a.split(" ")[0]})]});return s.jsx("div",{className:"schedule-manager-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100%",maxWidth:"100%",padding:"1.5rem",boxSizing:"border-box",overflow:"hidden"},children:s.jsx("div",{className:"row g-2 g-md-3 g-lg-4 m-0",children:s.jsx("div",{className:"col-12 p-0",children:s.jsxs("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",width:"100%",maxWidth:"100%"},children:[s.jsxs("div",{className:"card-header bg-primary text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:[s.jsxs("h2",{className:"card-title mb-0 fw-bold",children:[s.jsx("i",{className:"bi bi-calendar3 me-2"}),"Clinic Schedule Management"]}),s.jsx("p",{className:"mb-0 mt-2 opacity-75",children:"Comprehensive scheduling and capacity management system"})]}),s.jsxs("div",{className:"card-body p-4",style:{width:"100%",maxWidth:"100%"},children:[s.jsxs("div",{className:"d-flex flex-column flex-sm-row gap-2 mb-4",role:"group","aria-label":"Schedule tabs",children:[s.jsx(n,{id:"calendar",icon:"",label:"Calendar Overrides"}),s.jsx(n,{id:"weekly",icon:"",label:"Weekly Defaults"}),s.jsx(n,{id:"capacity",icon:"",label:"Capacity (14 days)"})]}),s.jsxs("div",{className:"tab-content",style:{width:"100%",maxWidth:"100%"},children:[e==="calendar"&&s.jsx("div",{className:"tab-pane fade show active",style:{width:"100%",maxWidth:"100%"},children:s.jsx(M4,{})}),e==="weekly"&&s.jsx("div",{className:"tab-pane fade show active",style:{width:"100%",maxWidth:"100%"},children:s.jsx(O7,{})}),e==="capacity"&&s.jsx("div",{className:"tab-pane fade show active",style:{width:"100%",maxWidth:"100%"},children:s.jsx(F7,{})})]})]})]})})})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kg={};kg.version="0.18.5";var F4=1252,I7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],P4=function(e){I7.indexOf(e)!=-1&&(F4=e)};function B7(){P4(1252)}var fm=function(e){P4(e)};function z7(){fm(1200),B7()}var Pp=function(t){return String.fromCharCode(t)},v_=function(t){return String.fromCharCode(t)},b_,bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function hm(e){for(var t="",n=0,i=0,r=0,a=0,o=0,c=0,u=0,f=0;f<e.length;)n=e.charCodeAt(f++),a=n>>2,i=e.charCodeAt(f++),o=(n&3)<<4|i>>4,r=e.charCodeAt(f++),c=(i&15)<<2|r>>6,u=r&63,isNaN(i)?c=u=64:isNaN(r)&&(u=64),t+=bd.charAt(a)+bd.charAt(o)+bd.charAt(c)+bd.charAt(u);return t}function Lu(e){var t="",n=0,i=0,r=0,a=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)a=bd.indexOf(e.charAt(f++)),o=bd.indexOf(e.charAt(f++)),n=a<<2|o>>4,t+=String.fromCharCode(n),c=bd.indexOf(e.charAt(f++)),i=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(i)),u=bd.indexOf(e.charAt(f++)),r=(c&3)<<6|u,u!==64&&(t+=String.fromCharCode(r));return t}var si=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Du=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function gf(e){return si?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function y_(e){return si?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var $l=function(t){return si?Du(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function b1(e){if(typeof ArrayBuffer>"u")return $l(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i!=e.length;++i)n[i]=e.charCodeAt(i)&255;return t}function Dm(e){if(Array.isArray(e))return e.map(function(i){return String.fromCharCode(i)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function H7(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ra=si?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Du(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var i=new Uint8Array(n),r=0;for(t=0,n=0;t<e.length;n+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)i.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";i.set(new Uint8Array(e[t]),n)}return i}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function U7(e){for(var t=[],n=0,i=e.length+250,r=gf(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)r[n++]=o;else if(o<2048)r[n++]=192|o>>6&31,r[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++a)&1023;r[n++]=240|o>>8&7,r[n++]=128|o>>2&63,r[n++]=128|c>>6&15|(o&3)<<4,r[n++]=128|c&63}else r[n++]=224|o>>12&15,r[n++]=128|o>>6&63,r[n++]=128|o&63;n>i&&(t.push(r.slice(0,n)),n=0,r=gf(65535),i=65530)}return t.push(r.slice(0,n)),Ra(t)}var X0=/\u0000/g,Ip=/[\u0001-\u0006]/g;function yh(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Xl(e,t){var n=""+e;return n.length>=t?n:pr("0",t-n.length)+n}function u2(e,t){var n=""+e;return n.length>=t?n:pr(" ",t-n.length)+n}function Lg(e,t){var n=""+e;return n.length>=t?n:n+pr(" ",t-n.length)}function W7(e,t){var n=""+Math.round(e);return n.length>=t?n:pr("0",t-n.length)+n}function V7(e,t){var n=""+e;return n.length>=t?n:pr("0",t-n.length)+n}var w_=Math.pow(2,32);function rh(e,t){if(e>w_||e<-w_)return W7(e,t);var n=Math.round(e);return V7(n,t)}function Rg(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var __=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],dv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function q7(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var xr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},N_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},G7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Og(e,t,n){for(var i=e<0?-1:1,r=e*i,a=0,o=1,c=0,u=1,f=0,h=0,p=Math.floor(r);f<t&&(p=Math.floor(r),c=p*o+a,h=p*f+u,!(r-p<5e-8));)r=1/(r-p),a=o,o=c,u=f,f=h;if(h>t&&(f>t?(h=u,c=a):(h=f,c=o)),!n)return[0,i*c,h];var x=Math.floor(i*c/h);return[x,i*c-x*h,h]}function Bp(e,t,n){if(e>2958465||e<0)return null;var i=e|0,r=Math.floor(86400*(e-i)),a=0,o=[],c={D:i,T:r,u:86400*(e-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(i+=1462),c.u>.9999&&(c.u=0,++r==86400&&(c.T=r=0,++i,++c.D)),i===60)o=n?[1317,10,29]:[1900,2,29],a=3;else if(i===0)o=n?[1317,8,29]:[1900,1,0],a=6;else{i>60&&--i;var u=new Date(1900,0,1);u.setDate(u.getDate()+i-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),i<60&&(a=(a+6)%7),n&&(a=Q7(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=r%60,r=Math.floor(r/60),c.M=r%60,r=Math.floor(r/60),c.H=r,c.q=a,c}var I4=new Date(1899,11,31,0,0,0),$7=I4.getTime(),Y7=new Date(1900,2,1,0,0,0);function B4(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=Y7&&(n+=24*60*60*1e3),(n-($7+(e.getTimezoneOffset()-I4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function d2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function X7(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function K7(e){var t=e<0?12:11,n=d2(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function Z7(e){var t=d2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function J7(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=K7(e):t===10?n=e.toFixed(10).substr(0,12):n=Z7(e),d2(X7(n.toUpperCase()))}function vb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):J7(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Td(14,B4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Q7(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function eD(e,t,n,i){var r="",a=0,o=0,c=n.y,u,f=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:u=c%100,f=2;break;default:u=c%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=n.m,f=t.length;break;case 3:return dv[n.m-1][1];case 5:return dv[n.m-1][0];default:return dv[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=n.d,f=t.length;break;case 3:return __[n.q][0];default:return __[n.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(n.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=n.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=n.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Xl(n.S,t.length):(i>=2?o=i===3?1e3:100:o=i===1?10:1,a=Math.round(o*(n.S+n.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(r=Xl(a,2+i),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=c,f=1;break}var h=f>0?Xl(u,f):"";return h}function yd(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,i=e.substr(0,n);n!=e.length;n+=t)i+=(i.length>0?",":"")+e.substr(n,t);return i}var z4=/%/g;function tD(e,t,n){var i=t.replace(z4,""),r=t.length-i.length;return ju(e,i,n*Math.pow(10,2*r))+pr("%",r)}function nD(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return ju(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function H4(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+H4(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),n=(t/Math.pow(10,a)).toPrecision(i+1+(r+a)%r),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,h){return u+f+h.substr(0,(r+a)%r)+"."+h.substr(a)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var U4=/# (\?+)( ?)\/( ?)(\d+)/;function iD(e,t,n){var i=parseInt(e[4],10),r=Math.round(t*i),a=Math.floor(r/i),o=r-a*i,c=i;return n+(a===0?"":""+a)+" "+(o===0?pr(" ",e[1].length+1+e[4].length):u2(o,e[1].length)+e[2]+"/"+e[3]+Xl(c,e[4].length))}function rD(e,t,n){return n+(t===0?"":""+t)+pr(" ",e[1].length+2+e[4].length)}var W4=/^#*0*\.([0#]+)/,V4=/\).*[0#]/,q4=/\(###\) ###\\?-####/;function xs(e){for(var t="",n,i=0;i!=e.length;++i)switch(n=e.charCodeAt(i)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function S_(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function j_(e,t){var n=e-Math.floor(e),i=Math.pow(10,t);return t<(""+Math.round(n*i)).length?0:Math.round(n*i)}function aD(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function sD(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function cl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(V4)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?cl("n",i,n):"("+cl("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return nD(e,t,n);if(t.indexOf("%")!==-1)return tD(e,t,n);if(t.indexOf("E")!==-1)return H4(t,n);if(t.charCodeAt(0)===36)return"$"+cl(e,t.substr(t.charAt(1)==" "?2:1),n);var r,a,o,c,u=Math.abs(n),f=n<0?"-":"";if(t.match(/^00+$/))return f+rh(u,t.length);if(t.match(/^[#?]+$/))return r=rh(n,0),r==="0"&&(r=""),r.length>t.length?r:xs(t.substr(0,t.length-r.length))+r;if(a=t.match(U4))return iD(a,u,f);if(t.match(/^#+0+$/))return f+rh(u,t.length-t.indexOf("0"));if(a=t.match(W4))return r=S_(n,a[1].length).replace(/^([^\.]+)$/,"$1."+xs(a[1])).replace(/\.$/,"."+xs(a[1])).replace(/\.(\d*)$/,function(w,g){return"."+g+pr("0",xs(a[1]).length-g.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+S_(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+yd(rh(u,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+cl(e,t,-n):yd(""+(Math.floor(n)+aD(n,a[1].length)))+"."+Xl(j_(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return cl(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=yh(cl(e,t.replace(/[\\-]/g,""),n)),o=0,yh(yh(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<r.length?r.charAt(o++):w==="0"?"0":""}));if(t.match(q4))return r=cl(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=Og(u,Math.pow(10,o)-1,!1),r=""+f,h=ju("n",a[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),r+=h+a[2]+"/"+a[3],h=Lg(c[2],o),h.length<a[4].length&&(h=xs(a[4].substr(a[4].length-h.length))+h),r+=h,r;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=Og(u,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?u2(c[1],o)+a[2]+"/"+a[3]+Lg(c[2],o):pr(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=rh(n,0),t.length<=r.length?r:xs(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var p=t.indexOf(".")-o,x=t.length-r.length-p;return xs(t.substr(0,p)+r+t.substr(t.length-x))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=j_(n,a[1].length),n<0?"-"+cl(e,t,-n):yd(sD(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Xl(0,3-w.length):"")+w})+"."+Xl(o,a[1].length);switch(t){case"###,##0.00":return cl(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var b=yd(rh(u,0));return b!=="0"?f+b:"";case"###,###.00":return cl(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return cl(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function oD(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return ju(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function lD(e,t,n){var i=t.replace(z4,""),r=t.length-i.length;return ju(e,i,n*Math.pow(10,2*r))+pr("%",r)}function G4(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+G4(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),n=(t/Math.pow(10,a)).toPrecision(i+1+(r+a)%r),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,h){return u+f+h.substr(0,(r+a)%r)+"."+h.substr(a)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function jc(e,t,n){if(e.charCodeAt(0)===40&&!t.match(V4)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?jc("n",i,n):"("+jc("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return oD(e,t,n);if(t.indexOf("%")!==-1)return lD(e,t,n);if(t.indexOf("E")!==-1)return G4(t,n);if(t.charCodeAt(0)===36)return"$"+jc(e,t.substr(t.charAt(1)==" "?2:1),n);var r,a,o,c,u=Math.abs(n),f=n<0?"-":"";if(t.match(/^00+$/))return f+Xl(u,t.length);if(t.match(/^[#?]+$/))return r=""+n,n===0&&(r=""),r.length>t.length?r:xs(t.substr(0,t.length-r.length))+r;if(a=t.match(U4))return rD(a,u,f);if(t.match(/^#+0+$/))return f+Xl(u,t.length-t.indexOf("0"));if(a=t.match(W4))return r=(""+n).replace(/^([^\.]+)$/,"$1."+xs(a[1])).replace(/\.$/,"."+xs(a[1])),r=r.replace(/\.(\d*)$/,function(w,g){return"."+g+pr("0",xs(a[1]).length-g.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+yd(""+u);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+jc(e,t,-n):yd(""+n)+"."+pr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return jc(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=yh(jc(e,t.replace(/[\\-]/g,""),n)),o=0,yh(yh(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<r.length?r.charAt(o++):w==="0"?"0":""}));if(t.match(q4))return r=jc(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=Og(u,Math.pow(10,o)-1,!1),r=""+f,h=ju("n",a[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),r+=h+a[2]+"/"+a[3],h=Lg(c[2],o),h.length<a[4].length&&(h=xs(a[4].substr(a[4].length-h.length))+h),r+=h,r;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=Og(u,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?u2(c[1],o)+a[2]+"/"+a[3]+Lg(c[2],o):pr(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=""+n,t.length<=r.length?r:xs(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var p=t.indexOf(".")-o,x=t.length-r.length-p;return xs(t.substr(0,p)+r+t.substr(t.length-x))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+jc(e,t,-n):yd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Xl(0,3-w.length):"")+w})+"."+Xl(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var b=yd(""+u);return b!=="0"?f+b:"";default:if(t.match(/\.[0#?]*$/))return jc(e,t.slice(0,t.lastIndexOf(".")),n)+xs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ju(e,t,n){return(n|0)===n?jc(e,t,n):cl(e,t,n)}function cD(e){for(var t=[],n=!1,i=0,r=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(r,i-r),r=i+1}if(t[t.length]=e.substr(r),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var $4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Y4(e){for(var t=0,n="",i="";t<e.length;)switch(n=e.charAt(t)){case"G":Rg(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(i=n;e.charAt(t++)!=="]"&&t<e.length;)i+=e.charAt(t);if(i.match($4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function uD(e,t,n,i){for(var r=[],a="",o=0,c="",u="t",f,h,p,x="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!Rg(e,o))throw new Error("unrecognized character "+c+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(p=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(p);r[r.length]={t:"t",v:a},++o;break;case"\\":var b=e.charAt(++o),w=b==="("||b===")"?b:"t";r[r.length]={t:w,v:b},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(f==null&&(f=Bp(t,n,e.charAt(o+1)==="2"),f==null))return"";r[r.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=Bp(t,n),f==null))return"";for(a=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)a+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=x),r[r.length]={t:c,v:a},u=c;break;case"A":case"a":case"":var g={t:c,v:c};if(f==null&&(f=Bp(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(g.v=f.H>=12?"P":"A"),g.t="T",x="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(g.v=f.H>=12?"PM":"AM"),g.t="T",o+=5,x="h"):e.substr(o,5).toUpperCase()==="/"?(f!=null&&(g.v=f.H>=12?"":""),g.t="T",o+=5,x="h"):(g.t="t",++o),f==null&&g.t==="T")return"";r[r.length]=g,u=c;break;case"[":for(a=c;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match($4)){if(f==null&&(f=Bp(t,n),f==null))return"";r[r.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Y4(e)||(r[r.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=c;++o<e.length&&(c=e.charAt(o))==="0";)a+=c;r[r.length]={t:"s",v:a};break}case"0":case"#":for(a=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)a+=c;r[r.length]={t:"n",v:a};break;case"?":for(a=c;e.charAt(++o)===c;)a+=c;r[r.length]={t:c,v:a},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:i===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);r[r.length]={t:"D",v:a};break;case" ":r[r.length]={t:c,v:c},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);r[r.length]={t:"t",v:c},++o;break}var _=0,j=0,E;for(o=r.length-1,u="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=x,u="h",_<1&&(_=1);break;case"s":(E=r[o].v.match(/\.0+$/))&&(j=Math.max(j,E[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":u=r[o].t;break;case"m":u==="s"&&(r[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&r[o].v.match(/[Hh]/)&&(_=1),_<2&&r[o].v.match(/[Mm]/)&&(_=2),_<3&&r[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var k="",F;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=eD(r[o].t.charCodeAt(0),r[o].v,f,j),r[o].t="t";break;case"n":case"?":for(F=o+1;r[F]!=null&&((c=r[F].t)==="?"||c==="D"||(c===" "||c==="t")&&r[F+1]!=null&&(r[F+1].t==="?"||r[F+1].t==="t"&&r[F+1].v==="/")||r[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(r[F].v==="/"||r[F].v===" "&&r[F+1]!=null&&r[F+1].t=="?"));)r[o].v+=r[F].v,r[F]={v:"",t:";"},++F;k+=r[o].v,o=F-1;break;case"G":r[o].t="t",r[o].v=vb(t,n);break}var V="",ne,P;if(k.length>0){k.charCodeAt(0)==40?(ne=t<0&&k.charCodeAt(0)===45?-t:t,P=ju("n",k,ne)):(ne=t<0&&i>1?-t:t,P=ju("n",k,ne),ne<0&&r[0]&&r[0].t=="t"&&(P=P.substr(1),r[0].v="-"+r[0].v)),F=P.length-1;var I=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){I=o;break}var Y=r.length;if(I===r.length&&P.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(F>=r[o].v.length-1?(F-=r[o].v.length,r[o].v=P.substr(F+1,r[o].v.length)):F<0?r[o].v="":(r[o].v=P.substr(0,F+1),F=-1),r[o].t="t",Y=o);F>=0&&Y<r.length&&(r[Y].v=P.substr(0,F+1)+r[Y].v)}else if(I!==r.length&&P.indexOf("E")===-1){for(F=P.indexOf(".")-1,o=I;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(h=r[o].v.indexOf(".")>-1&&o===I?r[o].v.indexOf(".")-1:r[o].v.length-1,V=r[o].v.substr(h+1);h>=0;--h)F>=0&&(r[o].v.charAt(h)==="0"||r[o].v.charAt(h)==="#")&&(V=P.charAt(F--)+V);r[o].v=V,r[o].t="t",Y=o}for(F>=0&&Y<r.length&&(r[Y].v=P.substr(0,F+1)+r[Y].v),F=P.indexOf(".")+1,o=I;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==I)){for(h=r[o].v.indexOf(".")>-1&&o===I?r[o].v.indexOf(".")+1:0,V=r[o].v.substr(0,h);h<r[o].v.length;++h)F<P.length&&(V+=P.charAt(F++));r[o].v=V,r[o].t="t",Y=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(ne=i>1&&t<0&&o>0&&r[o-1].v==="-"?-t:t,r[o].v=ju(r[o].t,r[o].v,ne),r[o].t="t");var Z="";for(o=0;o!==r.length;++o)r[o]!=null&&(Z+=r[o].v);return Z}var A_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function E_(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function dD(e,t){var n=cD(e),i=n.length,r=n[i-1].indexOf("@");if(i<4&&r>-1&&--i,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||r>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[i,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(A_),c=n[1].match(A_);return E_(t,o)?[i,n[0]]:E_(t,c)?[i,n[1]]:[i,n[o!=null&&c!=null?2:1]]}return[i,a]}function Td(e,t,n){n==null&&(n={});var i="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?i=n.dateNF:i=e;break;case"number":e==14&&n.dateNF?i=n.dateNF:i=(n.table!=null?n.table:xr)[e],i==null&&(i=n.table&&n.table[N_[e]]||xr[N_[e]]),i==null&&(i=G7[e]||"General");break}if(Rg(i,0))return vb(t,n);t instanceof Date&&(t=B4(t,n.date1904));var r=dD(i,t);if(Rg(r[1]))return vb(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return uD(r[1],t,n,r[0])}function X4(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(xr[n]==null){t<0&&(t=n);continue}if(xr[n]==e){t=n;break}}t<0&&(t=391)}return xr[t]=e,t}function y1(e){for(var t=0;t!=392;++t)e[t]!==void 0&&X4(e[t],t)}function w1(){xr=q7()}var K4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fD(e){var t=typeof e=="number"?xr[e]:e;return t=t.replace(K4,"(\\d+)"),new RegExp("^"+t+"$")}function hD(e,t,n){var i=-1,r=-1,a=-1,o=-1,c=-1,u=-1;(t.match(K4)||[]).forEach(function(p,x){var b=parseInt(n[x+1],10);switch(p.toLowerCase().charAt(0)){case"y":i=b;break;case"d":a=b;break;case"h":o=b;break;case"s":u=b;break;case"m":o>=0?c=b:r=b;break}}),u>=0&&c==-1&&r>=0&&(c=r,r=-1);var f=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?f:i==-1&&r==-1&&a==-1?h:f+"T"+h}var mD=function(){var e={};e.version="1.2.0";function t(){for(var P=0,I=new Array(256),Y=0;Y!=256;++Y)P=Y,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,I[Y]=P;return typeof Int32Array<"u"?new Int32Array(I):I}var n=t();function i(P){var I=0,Y=0,Z=0,z=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Z=0;Z!=256;++Z)z[Z]=P[Z];for(Z=0;Z!=256;++Z)for(Y=P[Z],I=256+Z;I<4096;I+=256)Y=z[I]=Y>>>8^P[Y&255];var U=[];for(Z=1;Z!=16;++Z)U[Z-1]=typeof Int32Array<"u"?z.subarray(Z*256,Z*256+256):z.slice(Z*256,Z*256+256);return U}var r=i(n),a=r[0],o=r[1],c=r[2],u=r[3],f=r[4],h=r[5],p=r[6],x=r[7],b=r[8],w=r[9],g=r[10],_=r[11],j=r[12],E=r[13],k=r[14];function F(P,I){for(var Y=I^-1,Z=0,z=P.length;Z<z;)Y=Y>>>8^n[(Y^P.charCodeAt(Z++))&255];return~Y}function V(P,I){for(var Y=I^-1,Z=P.length-15,z=0;z<Z;)Y=k[P[z++]^Y&255]^E[P[z++]^Y>>8&255]^j[P[z++]^Y>>16&255]^_[P[z++]^Y>>>24]^g[P[z++]]^w[P[z++]]^b[P[z++]]^x[P[z++]]^p[P[z++]]^h[P[z++]]^f[P[z++]]^u[P[z++]]^c[P[z++]]^o[P[z++]]^a[P[z++]]^n[P[z++]];for(Z+=15;z<Z;)Y=Y>>>8^n[(Y^P[z++])&255];return~Y}function ne(P,I){for(var Y=I^-1,Z=0,z=P.length,U=0,J=0;Z<z;)U=P.charCodeAt(Z++),U<128?Y=Y>>>8^n[(Y^U)&255]:U<2048?(Y=Y>>>8^n[(Y^(192|U>>6&31))&255],Y=Y>>>8^n[(Y^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,J=P.charCodeAt(Z++)&1023,Y=Y>>>8^n[(Y^(240|U>>8&7))&255],Y=Y>>>8^n[(Y^(128|U>>2&63))&255],Y=Y>>>8^n[(Y^(128|J>>6&15|(U&3)<<4))&255],Y=Y>>>8^n[(Y^(128|J&63))&255]):(Y=Y>>>8^n[(Y^(224|U>>12&15))&255],Y=Y>>>8^n[(Y^(128|U>>6&63))&255],Y=Y>>>8^n[(Y^(128|U&63))&255]);return~Y}return e.table=n,e.bstr=F,e.buf=V,e.str=ne,e}(),ji=function(){var t={};t.version="1.2.1";function n(oe,je){for(var xe=oe.split("/"),ye=je.split("/"),Ae=0,Ee=0,qe=Math.min(xe.length,ye.length);Ae<qe;++Ae){if(Ee=xe[Ae].length-ye[Ae].length)return Ee;if(xe[Ae]!=ye[Ae])return xe[Ae]<ye[Ae]?-1:1}return xe.length-ye.length}function i(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:i(oe.slice(0,-1));var je=oe.lastIndexOf("/");return je===-1?oe:oe.slice(0,je+1)}function r(oe){if(oe.charAt(oe.length-1)=="/")return r(oe.slice(0,-1));var je=oe.lastIndexOf("/");return je===-1?oe:oe.slice(je+1)}function a(oe,je){typeof je=="string"&&(je=new Date(je));var xe=je.getHours();xe=xe<<6|je.getMinutes(),xe=xe<<5|je.getSeconds()>>>1,oe.write_shift(2,xe);var ye=je.getFullYear()-1980;ye=ye<<4|je.getMonth()+1,ye=ye<<5|je.getDate(),oe.write_shift(2,ye)}function o(oe){var je=oe.read_shift(2)&65535,xe=oe.read_shift(2)&65535,ye=new Date,Ae=xe&31;xe>>>=5;var Ee=xe&15;xe>>>=4,ye.setMilliseconds(0),ye.setFullYear(xe+1980),ye.setMonth(Ee-1),ye.setDate(Ae);var qe=je&31;je>>>=5;var Qe=je&63;return je>>>=6,ye.setHours(je),ye.setMinutes(Qe),ye.setSeconds(qe<<1),ye}function c(oe){Ao(oe,0);for(var je={},xe=0;oe.l<=oe.length-4;){var ye=oe.read_shift(2),Ae=oe.read_shift(2),Ee=oe.l+Ae,qe={};switch(ye){case 21589:xe=oe.read_shift(1),xe&1&&(qe.mtime=oe.read_shift(4)),Ae>5&&(xe&2&&(qe.atime=oe.read_shift(4)),xe&4&&(qe.ctime=oe.read_shift(4))),qe.mtime&&(qe.mt=new Date(qe.mtime*1e3));break}oe.l=Ee,je[ye]=qe}return je}var u;function f(){return u||(u={})}function h(oe,je){if(oe[0]==80&&oe[1]==75)return Un(oe,je);if((oe[0]|32)==109&&(oe[1]|32)==105)return En(oe,je);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var xe=3,ye=512,Ae=0,Ee=0,qe=0,Qe=0,Pe=0,We=[],Ge=oe.slice(0,512);Ao(Ge,0);var ut=p(Ge);switch(xe=ut[0],xe){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(ut[1]==0)return Un(oe,je);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}ye!==512&&(Ge=oe.slice(0,ye),Ao(Ge,28));var yt=oe.slice(0,ye);x(Ge,xe);var Ct=Ge.read_shift(4,"i");if(xe===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);Ge.l+=4,qe=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),Qe=Ge.read_shift(4,"i"),Ae=Ge.read_shift(4,"i"),Pe=Ge.read_shift(4,"i"),Ee=Ge.read_shift(4,"i");for(var bt=-1,jt=0;jt<109&&(bt=Ge.read_shift(4,"i"),!(bt<0));++jt)We[jt]=bt;var nn=b(oe,ye);_(Pe,Ee,nn,ye,We);var kn=E(nn,qe,We,ye);kn[qe].name="!Directory",Ae>0&&Qe!==J&&(kn[Qe].name="!MiniFAT"),kn[We[0]].name="!FAT",kn.fat_addrs=We,kn.ssz=ye;var Tn={},Qn=[],Hr=[],Ia=[];k(qe,kn,nn,Qn,Ae,Tn,Hr,Qe),w(Hr,Ia,Qn),Qn.shift();var Cr={FileIndex:Hr,FullPaths:Ia};return je&&je.raw&&(Cr.raw={header:yt,sectors:nn}),Cr}function p(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(ie,"Header Signature: "),oe.l+=16;var je=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),je]}function x(oe,je){var xe=9;switch(oe.l+=2,xe=oe.read_shift(2)){case 9:if(je!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(je!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function b(oe,je){for(var xe=Math.ceil(oe.length/je)-1,ye=[],Ae=1;Ae<xe;++Ae)ye[Ae-1]=oe.slice(Ae*je,(Ae+1)*je);return ye[xe-1]=oe.slice(xe*je),ye}function w(oe,je,xe){for(var ye=0,Ae=0,Ee=0,qe=0,Qe=0,Pe=xe.length,We=[],Ge=[];ye<Pe;++ye)We[ye]=Ge[ye]=ye,je[ye]=xe[ye];for(;Qe<Ge.length;++Qe)ye=Ge[Qe],Ae=oe[ye].L,Ee=oe[ye].R,qe=oe[ye].C,We[ye]===ye&&(Ae!==-1&&We[Ae]!==Ae&&(We[ye]=We[Ae]),Ee!==-1&&We[Ee]!==Ee&&(We[ye]=We[Ee])),qe!==-1&&(We[qe]=ye),Ae!==-1&&ye!=We[ye]&&(We[Ae]=We[ye],Ge.lastIndexOf(Ae)<Qe&&Ge.push(Ae)),Ee!==-1&&ye!=We[ye]&&(We[Ee]=We[ye],Ge.lastIndexOf(Ee)<Qe&&Ge.push(Ee));for(ye=1;ye<Pe;++ye)We[ye]===ye&&(Ee!==-1&&We[Ee]!==Ee?We[ye]=We[Ee]:Ae!==-1&&We[Ae]!==Ae&&(We[ye]=We[Ae]));for(ye=1;ye<Pe;++ye)if(oe[ye].type!==0){if(Qe=ye,Qe!=We[Qe])do Qe=We[Qe],je[ye]=je[Qe]+"/"+je[ye];while(Qe!==0&&We[Qe]!==-1&&Qe!=We[Qe]);We[ye]=-1}for(je[0]+="/",ye=1;ye<Pe;++ye)oe[ye].type!==2&&(je[ye]+="/")}function g(oe,je,xe){for(var ye=oe.start,Ae=oe.size,Ee=[],qe=ye;xe&&Ae>0&&qe>=0;)Ee.push(je.slice(qe*U,qe*U+U)),Ae-=U,qe=Qd(xe,qe*4);return Ee.length===0?ot(0):Ra(Ee).slice(0,oe.size)}function _(oe,je,xe,ye,Ae){var Ee=J;if(oe===J){if(je!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var qe=xe[oe],Qe=(ye>>>2)-1;if(!qe)return;for(var Pe=0;Pe<Qe&&(Ee=Qd(qe,Pe*4))!==J;++Pe)Ae.push(Ee);_(Qd(qe,ye-4),je-1,xe,ye,Ae)}}function j(oe,je,xe,ye,Ae){var Ee=[],qe=[];Ae||(Ae=[]);var Qe=ye-1,Pe=0,We=0;for(Pe=je;Pe>=0;){Ae[Pe]=!0,Ee[Ee.length]=Pe,qe.push(oe[Pe]);var Ge=xe[Math.floor(Pe*4/ye)];if(We=Pe*4&Qe,ye<4+We)throw new Error("FAT boundary crossed: "+Pe+" 4 "+ye);if(!oe[Ge])break;Pe=Qd(oe[Ge],We)}return{nodes:Ee,data:M_([qe])}}function E(oe,je,xe,ye){var Ae=oe.length,Ee=[],qe=[],Qe=[],Pe=[],We=ye-1,Ge=0,ut=0,yt=0,Ct=0;for(Ge=0;Ge<Ae;++Ge)if(Qe=[],yt=Ge+je,yt>=Ae&&(yt-=Ae),!qe[yt]){Pe=[];var bt=[];for(ut=yt;ut>=0;){bt[ut]=!0,qe[ut]=!0,Qe[Qe.length]=ut,Pe.push(oe[ut]);var jt=xe[Math.floor(ut*4/ye)];if(Ct=ut*4&We,ye<4+Ct)throw new Error("FAT boundary crossed: "+ut+" 4 "+ye);if(!oe[jt]||(ut=Qd(oe[jt],Ct),bt[ut]))break}Ee[yt]={nodes:Qe,data:M_([Pe])}}return Ee}function k(oe,je,xe,ye,Ae,Ee,qe,Qe){for(var Pe=0,We=ye.length?2:0,Ge=je[oe].data,ut=0,yt=0,Ct;ut<Ge.length;ut+=128){var bt=Ge.slice(ut,ut+128);Ao(bt,64),yt=bt.read_shift(2),Ct=g2(bt,0,yt-We),ye.push(Ct);var jt={name:Ct,type:bt.read_shift(1),color:bt.read_shift(1),L:bt.read_shift(4,"i"),R:bt.read_shift(4,"i"),C:bt.read_shift(4,"i"),clsid:bt.read_shift(16),state:bt.read_shift(4,"i"),start:0,size:0},nn=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);nn!==0&&(jt.ct=F(bt,bt.l-8));var kn=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);kn!==0&&(jt.mt=F(bt,bt.l-8)),jt.start=bt.read_shift(4,"i"),jt.size=bt.read_shift(4,"i"),jt.size<0&&jt.start<0&&(jt.size=jt.type=0,jt.start=J,jt.name=""),jt.type===5?(Pe=jt.start,Ae>0&&Pe!==J&&(je[Pe].name="!StreamData")):jt.size>=4096?(jt.storage="fat",je[jt.start]===void 0&&(je[jt.start]=j(xe,jt.start,je.fat_addrs,je.ssz)),je[jt.start].name=jt.name,jt.content=je[jt.start].data.slice(0,jt.size)):(jt.storage="minifat",jt.size<0?jt.size=0:Pe!==J&&jt.start!==J&&je[Pe]&&(jt.content=g(jt,je[Pe].data,(je[Qe]||{}).data))),jt.content&&Ao(jt.content,0),Ee[Ct]=jt,qe.push(jt)}}function F(oe,je){return new Date((Co(oe,je+4)/1e7*Math.pow(2,32)+Co(oe,je)/1e7-11644473600)*1e3)}function V(oe,je){return f(),h(u.readFileSync(oe),je)}function ne(oe,je){var xe=je&&je.type;switch(xe||si&&Buffer.isBuffer(oe)&&(xe="buffer"),xe||"base64"){case"file":return V(oe,je);case"base64":return h($l(Lu(oe)),je);case"binary":return h($l(oe),je)}return h(oe,je)}function P(oe,je){var xe=je||{},ye=xe.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=ye+"/",oe.FileIndex[0]={name:ye,type:5}),xe.CLSID&&(oe.FileIndex[0].clsid=xe.CLSID),I(oe)}function I(oe){var je="Sh33tJ5";if(!ji.find(oe,"/"+je)){var xe=ot(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,oe.FileIndex.push({name:je,type:2,content:xe,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+je),Y(oe)}}function Y(oe,je){P(oe);for(var xe=!1,ye=!1,Ae=oe.FullPaths.length-1;Ae>=0;--Ae){var Ee=oe.FileIndex[Ae];switch(Ee.type){case 0:ye?xe=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(xe=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!je)){var qe=new Date(1987,1,19),Qe=0,Pe=Object.create?Object.create(null):{},We=[];for(Ae=0;Ae<oe.FullPaths.length;++Ae)Pe[oe.FullPaths[Ae]]=!0,oe.FileIndex[Ae].type!==0&&We.push([oe.FullPaths[Ae],oe.FileIndex[Ae]]);for(Ae=0;Ae<We.length;++Ae){var Ge=i(We[Ae][0]);ye=Pe[Ge],ye||(We.push([Ge,{name:r(Ge).replace("/",""),type:1,clsid:ae,ct:qe,mt:qe,content:null}]),Pe[Ge]=!0)}for(We.sort(function(Ct,bt){return n(Ct[0],bt[0])}),oe.FullPaths=[],oe.FileIndex=[],Ae=0;Ae<We.length;++Ae)oe.FullPaths[Ae]=We[Ae][0],oe.FileIndex[Ae]=We[Ae][1];for(Ae=0;Ae<We.length;++Ae){var ut=oe.FileIndex[Ae],yt=oe.FullPaths[Ae];if(ut.name=r(yt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||ae,Ae===0)ut.C=We.length>1?1:-1,ut.size=0,ut.type=5;else if(yt.slice(-1)=="/"){for(Qe=Ae+1;Qe<We.length&&i(oe.FullPaths[Qe])!=yt;++Qe);for(ut.C=Qe>=We.length?-1:Qe,Qe=Ae+1;Qe<We.length&&i(oe.FullPaths[Qe])!=i(yt);++Qe);ut.R=Qe>=We.length?-1:Qe,ut.type=1}else i(oe.FullPaths[Ae+1]||"")==i(yt)&&(ut.R=Ae+1),ut.type=2}}}function Z(oe,je){var xe=je||{};if(xe.fileType=="mad")return Pt(oe,xe);switch(Y(oe),xe.fileType){case"zip":return yi(oe,xe)}var ye=function(Ct){for(var bt=0,jt=0,nn=0;nn<Ct.FileIndex.length;++nn){var kn=Ct.FileIndex[nn];if(kn.content){var Tn=kn.content.length;Tn>0&&(Tn<4096?bt+=Tn+63>>6:jt+=Tn+511>>9)}}for(var Qn=Ct.FullPaths.length+3>>2,Hr=bt+7>>3,Ia=bt+127>>7,Cr=Hr+jt+Qn+Ia,ta=Cr+127>>7,xa=ta<=109?0:Math.ceil((ta-109)/127);Cr+ta+xa+127>>7>ta;)xa=++ta<=109?0:Math.ceil((ta-109)/127);var na=[1,xa,ta,Ia,Qn,jt,bt,0];return Ct.FileIndex[0].size=bt<<6,na[7]=(Ct.FileIndex[0].start=na[0]+na[1]+na[2]+na[3]+na[4]+na[5])+(na[6]+7>>3),na}(oe),Ae=ot(ye[7]<<9),Ee=0,qe=0;{for(Ee=0;Ee<8;++Ee)Ae.write_shift(1,pe[Ee]);for(Ee=0;Ee<8;++Ee)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),Ee=0;Ee<3;++Ee)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,ye[2]),Ae.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:J),Ae.write_shift(4,ye[3]),Ae.write_shift(-4,ye[1]?ye[0]-1:J),Ae.write_shift(4,ye[1]),Ee=0;Ee<109;++Ee)Ae.write_shift(-4,Ee<ye[2]?ye[1]+Ee:-1)}if(ye[1])for(qe=0;qe<ye[1];++qe){for(;Ee<236+qe*127;++Ee)Ae.write_shift(-4,Ee<ye[2]?ye[1]+Ee:-1);Ae.write_shift(-4,qe===ye[1]-1?J:qe+1)}var Qe=function(Ct){for(qe+=Ct;Ee<qe-1;++Ee)Ae.write_shift(-4,Ee+1);Ct&&(++Ee,Ae.write_shift(-4,J))};for(qe=Ee=0,qe+=ye[1];Ee<qe;++Ee)Ae.write_shift(-4,ue.DIFSECT);for(qe+=ye[2];Ee<qe;++Ee)Ae.write_shift(-4,ue.FATSECT);Qe(ye[3]),Qe(ye[4]);for(var Pe=0,We=0,Ge=oe.FileIndex[0];Pe<oe.FileIndex.length;++Pe)Ge=oe.FileIndex[Pe],Ge.content&&(We=Ge.content.length,!(We<4096)&&(Ge.start=qe,Qe(We+511>>9)));for(Qe(ye[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,ue.ENDOFCHAIN);for(qe=Ee=0,Pe=0;Pe<oe.FileIndex.length;++Pe)Ge=oe.FileIndex[Pe],Ge.content&&(We=Ge.content.length,!(!We||We>=4096)&&(Ge.start=qe,Qe(We+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,ue.ENDOFCHAIN);for(Ee=0;Ee<ye[4]<<2;++Ee){var ut=oe.FullPaths[Ee];if(!ut||ut.length===0){for(Pe=0;Pe<17;++Pe)Ae.write_shift(4,0);for(Pe=0;Pe<3;++Pe)Ae.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)Ae.write_shift(4,0);continue}Ge=oe.FileIndex[Ee],Ee===0&&(Ge.start=Ge.size?Ge.start-1:J);var yt=Ee===0&&xe.root||Ge.name;if(We=2*(yt.length+1),Ae.write_shift(64,yt,"utf16le"),Ae.write_shift(2,We),Ae.write_shift(1,Ge.type),Ae.write_shift(1,Ge.color),Ae.write_shift(-4,Ge.L),Ae.write_shift(-4,Ge.R),Ae.write_shift(-4,Ge.C),Ge.clsid)Ae.write_shift(16,Ge.clsid,"hex");else for(Pe=0;Pe<4;++Pe)Ae.write_shift(4,0);Ae.write_shift(4,Ge.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,Ge.start),Ae.write_shift(4,Ge.size),Ae.write_shift(4,0)}for(Ee=1;Ee<oe.FileIndex.length;++Ee)if(Ge=oe.FileIndex[Ee],Ge.size>=4096)if(Ae.l=Ge.start+1<<9,si&&Buffer.isBuffer(Ge.content))Ge.content.copy(Ae,Ae.l,0,Ge.size),Ae.l+=Ge.size+511&-512;else{for(Pe=0;Pe<Ge.size;++Pe)Ae.write_shift(1,Ge.content[Pe]);for(;Pe&511;++Pe)Ae.write_shift(1,0)}for(Ee=1;Ee<oe.FileIndex.length;++Ee)if(Ge=oe.FileIndex[Ee],Ge.size>0&&Ge.size<4096)if(si&&Buffer.isBuffer(Ge.content))Ge.content.copy(Ae,Ae.l,0,Ge.size),Ae.l+=Ge.size+63&-64;else{for(Pe=0;Pe<Ge.size;++Pe)Ae.write_shift(1,Ge.content[Pe]);for(;Pe&63;++Pe)Ae.write_shift(1,0)}if(si)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function z(oe,je){var xe=oe.FullPaths.map(function(Pe){return Pe.toUpperCase()}),ye=xe.map(function(Pe){var We=Pe.split("/");return We[We.length-(Pe.slice(-1)=="/"?2:1)]}),Ae=!1;je.charCodeAt(0)===47?(Ae=!0,je=xe[0].slice(0,-1)+je):Ae=je.indexOf("/")!==-1;var Ee=je.toUpperCase(),qe=Ae===!0?xe.indexOf(Ee):ye.indexOf(Ee);if(qe!==-1)return oe.FileIndex[qe];var Qe=!Ee.match(Ip);for(Ee=Ee.replace(X0,""),Qe&&(Ee=Ee.replace(Ip,"!")),qe=0;qe<xe.length;++qe)if((Qe?xe[qe].replace(Ip,"!"):xe[qe]).replace(X0,"")==Ee||(Qe?ye[qe].replace(Ip,"!"):ye[qe]).replace(X0,"")==Ee)return oe.FileIndex[qe];return null}var U=64,J=-2,ie="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:J,FREESECT:-1,HEADER_SIGNATURE:ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(oe,je,xe){f();var ye=Z(oe,xe);u.writeFileSync(je,ye)}function Ne(oe){for(var je=new Array(oe.length),xe=0;xe<oe.length;++xe)je[xe]=String.fromCharCode(oe[xe]);return je.join("")}function q(oe,je){var xe=Z(oe,je);switch(je&&je.type||"buffer"){case"file":return f(),u.writeFileSync(je.filename,xe),xe;case"binary":return typeof xe=="string"?xe:Ne(xe);case"base64":return hm(typeof xe=="string"?xe:Ne(xe));case"buffer":if(si)return Buffer.isBuffer(xe)?xe:Du(xe);case"array":return typeof xe=="string"?$l(xe):xe}return xe}var ke;function O(oe){try{var je=oe.InflateRaw,xe=new je;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)ke=oe;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function B(oe,je){if(!ke)return xn(oe,je);var xe=ke.InflateRaw,ye=new xe,Ae=ye._processChunk(oe.slice(oe.l),ye._finishFlushFlag);return oe.l+=ye.bytesRead,Ae}function W(oe){return ke?ke.deflateRawSync(oe):Zt(oe)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(oe){var je=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(je>>16|je>>8|je)&255}for(var Le=typeof Uint8Array<"u",ze=Le?new Uint8Array(256):[],nt=0;nt<256;++nt)ze[nt]=_e(nt);function Oe(oe,je){var xe=ze[oe&255];return je<=8?xe>>>8-je:(xe=xe<<8|ze[oe>>8&255],je<=16?xe>>>16-je:(xe=xe<<8|ze[oe>>16&255],xe>>>24-je))}function $e(oe,je){var xe=je&7,ye=je>>>3;return(oe[ye]|(xe<=6?0:oe[ye+1]<<8))>>>xe&3}function Ke(oe,je){var xe=je&7,ye=je>>>3;return(oe[ye]|(xe<=5?0:oe[ye+1]<<8))>>>xe&7}function ve(oe,je){var xe=je&7,ye=je>>>3;return(oe[ye]|(xe<=4?0:oe[ye+1]<<8))>>>xe&15}function se(oe,je){var xe=je&7,ye=je>>>3;return(oe[ye]|(xe<=3?0:oe[ye+1]<<8))>>>xe&31}function Ie(oe,je){var xe=je&7,ye=je>>>3;return(oe[ye]|(xe<=1?0:oe[ye+1]<<8))>>>xe&127}function st(oe,je,xe){var ye=je&7,Ae=je>>>3,Ee=(1<<xe)-1,qe=oe[Ae]>>>ye;return xe<8-ye||(qe|=oe[Ae+1]<<8-ye,xe<16-ye)||(qe|=oe[Ae+2]<<16-ye,xe<24-ye)||(qe|=oe[Ae+3]<<24-ye),qe&Ee}function Ze(oe,je,xe){var ye=je&7,Ae=je>>>3;return ye<=5?oe[Ae]|=(xe&7)<<ye:(oe[Ae]|=xe<<ye&255,oe[Ae+1]=(xe&7)>>8-ye),je+3}function ft(oe,je,xe){var ye=je&7,Ae=je>>>3;return xe=(xe&1)<<ye,oe[Ae]|=xe,je+1}function vt(oe,je,xe){var ye=je&7,Ae=je>>>3;return xe<<=ye,oe[Ae]|=xe&255,xe>>>=8,oe[Ae+1]=xe,je+8}function wt(oe,je,xe){var ye=je&7,Ae=je>>>3;return xe<<=ye,oe[Ae]|=xe&255,xe>>>=8,oe[Ae+1]=xe&255,oe[Ae+2]=xe>>>8,je+16}function Rt(oe,je){var xe=oe.length,ye=2*xe>je?2*xe:je+5,Ae=0;if(xe>=je)return oe;if(si){var Ee=y_(ye);if(oe.copy)oe.copy(Ee);else for(;Ae<oe.length;++Ae)Ee[Ae]=oe[Ae];return Ee}else if(Le){var qe=new Uint8Array(ye);if(qe.set)qe.set(oe);else for(;Ae<xe;++Ae)qe[Ae]=oe[Ae];return qe}return oe.length=ye,oe}function Dt(oe){for(var je=new Array(oe),xe=0;xe<oe;++xe)je[xe]=0;return je}function Bt(oe,je,xe){var ye=1,Ae=0,Ee=0,qe=0,Qe=0,Pe=oe.length,We=Le?new Uint16Array(32):Dt(32);for(Ee=0;Ee<32;++Ee)We[Ee]=0;for(Ee=Pe;Ee<xe;++Ee)oe[Ee]=0;Pe=oe.length;var Ge=Le?new Uint16Array(Pe):Dt(Pe);for(Ee=0;Ee<Pe;++Ee)We[Ae=oe[Ee]]++,ye<Ae&&(ye=Ae),Ge[Ee]=0;for(We[0]=0,Ee=1;Ee<=ye;++Ee)We[Ee+16]=Qe=Qe+We[Ee-1]<<1;for(Ee=0;Ee<Pe;++Ee)Qe=oe[Ee],Qe!=0&&(Ge[Ee]=We[Qe+16]++);var ut=0;for(Ee=0;Ee<Pe;++Ee)if(ut=oe[Ee],ut!=0)for(Qe=Oe(Ge[Ee],ye)>>ye-ut,qe=(1<<ye+4-ut)-1;qe>=0;--qe)je[Qe|qe<<ut]=ut&15|Ee<<4;return ye}var _t=Le?new Uint16Array(512):Dt(512),It=Le?new Uint16Array(32):Dt(32);if(!Le){for(var Kt=0;Kt<512;++Kt)_t[Kt]=0;for(Kt=0;Kt<32;++Kt)It[Kt]=0}(function(){for(var oe=[],je=0;je<32;je++)oe.push(5);Bt(oe,It,32);var xe=[];for(je=0;je<=143;je++)xe.push(8);for(;je<=255;je++)xe.push(9);for(;je<=279;je++)xe.push(7);for(;je<=287;je++)xe.push(8);Bt(xe,_t,288)})();var kt=function(){for(var je=Le?new Uint8Array(32768):[],xe=0,ye=0;xe<Ce.length-1;++xe)for(;ye<Ce[xe+1];++ye)je[ye]=xe;for(;ye<32768;++ye)je[ye]=29;var Ae=Le?new Uint8Array(259):[];for(xe=0,ye=0;xe<le.length-1;++xe)for(;ye<le[xe+1];++ye)Ae[ye]=xe;function Ee(Qe,Pe){for(var We=0;We<Qe.length;){var Ge=Math.min(65535,Qe.length-We),ut=We+Ge==Qe.length;for(Pe.write_shift(1,+ut),Pe.write_shift(2,Ge),Pe.write_shift(2,~Ge&65535);Ge-- >0;)Pe[Pe.l++]=Qe[We++]}return Pe.l}function qe(Qe,Pe){for(var We=0,Ge=0,ut=Le?new Uint16Array(32768):[];Ge<Qe.length;){var yt=Math.min(65535,Qe.length-Ge);if(yt<10){for(We=Ze(Pe,We,+(Ge+yt==Qe.length)),We&7&&(We+=8-(We&7)),Pe.l=We/8|0,Pe.write_shift(2,yt),Pe.write_shift(2,~yt&65535);yt-- >0;)Pe[Pe.l++]=Qe[Ge++];We=Pe.l*8;continue}We=Ze(Pe,We,+(Ge+yt==Qe.length)+2);for(var Ct=0;yt-- >0;){var bt=Qe[Ge];Ct=(Ct<<5^bt)&32767;var jt=-1,nn=0;if((jt=ut[Ct])&&(jt|=Ge&-32768,jt>Ge&&(jt-=32768),jt<Ge))for(;Qe[jt+nn]==Qe[Ge+nn]&&nn<250;)++nn;if(nn>2){bt=Ae[nn],bt<=22?We=vt(Pe,We,ze[bt+1]>>1)-1:(vt(Pe,We,3),We+=5,vt(Pe,We,ze[bt-23]>>5),We+=3);var kn=bt<8?0:bt-4>>2;kn>0&&(wt(Pe,We,nn-le[bt]),We+=kn),bt=je[Ge-jt],We=vt(Pe,We,ze[bt]>>3),We-=3;var Tn=bt<4?0:bt-2>>1;Tn>0&&(wt(Pe,We,Ge-jt-Ce[bt]),We+=Tn);for(var Qn=0;Qn<nn;++Qn)ut[Ct]=Ge&32767,Ct=(Ct<<5^Qe[Ge])&32767,++Ge;yt-=nn-1}else bt<=143?bt=bt+48:We=ft(Pe,We,1),We=vt(Pe,We,ze[bt]),ut[Ct]=Ge&32767,++Ge}We=vt(Pe,We,0)-1}return Pe.l=(We+7)/8|0,Pe.l}return function(Pe,We){return Pe.length<8?Ee(Pe,We):qe(Pe,We)}}();function Zt(oe){var je=ot(50+Math.floor(oe.length*1.1)),xe=kt(oe,je);return je.slice(0,xe)}var Nt=Le?new Uint16Array(32768):Dt(32768),Gn=Le?new Uint16Array(32768):Dt(32768),sn=Le?new Uint16Array(128):Dt(128),ni=1,cn=1;function yn(oe,je){var xe=se(oe,je)+257;je+=5;var ye=se(oe,je)+1;je+=5;var Ae=ve(oe,je)+4;je+=4;for(var Ee=0,qe=Le?new Uint8Array(19):Dt(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,We=Le?new Uint8Array(8):Dt(8),Ge=Le?new Uint8Array(8):Dt(8),ut=qe.length,yt=0;yt<Ae;++yt)qe[X[yt]]=Ee=Ke(oe,je),Pe<Ee&&(Pe=Ee),We[Ee]++,je+=3;var Ct=0;for(We[0]=0,yt=1;yt<=Pe;++yt)Ge[yt]=Ct=Ct+We[yt-1]<<1;for(yt=0;yt<ut;++yt)(Ct=qe[yt])!=0&&(Qe[yt]=Ge[Ct]++);var bt=0;for(yt=0;yt<ut;++yt)if(bt=qe[yt],bt!=0){Ct=ze[Qe[yt]]>>8-bt;for(var jt=(1<<7-bt)-1;jt>=0;--jt)sn[Ct|jt<<bt]=bt&7|yt<<3}var nn=[];for(Pe=1;nn.length<xe+ye;)switch(Ct=sn[Ie(oe,je)],je+=Ct&7,Ct>>>=3){case 16:for(Ee=3+$e(oe,je),je+=2,Ct=nn[nn.length-1];Ee-- >0;)nn.push(Ct);break;case 17:for(Ee=3+Ke(oe,je),je+=3;Ee-- >0;)nn.push(0);break;case 18:for(Ee=11+Ie(oe,je),je+=7;Ee-- >0;)nn.push(0);break;default:nn.push(Ct),Pe<Ct&&(Pe=Ct);break}var kn=nn.slice(0,xe),Tn=nn.slice(xe);for(yt=xe;yt<286;++yt)kn[yt]=0;for(yt=ye;yt<30;++yt)Tn[yt]=0;return ni=Bt(kn,Nt,286),cn=Bt(Tn,Gn,30),je}function Hn(oe,je){if(oe[0]==3&&!(oe[1]&3))return[gf(je),2];for(var xe=0,ye=0,Ae=y_(je||1<<18),Ee=0,qe=Ae.length>>>0,Qe=0,Pe=0;(ye&1)==0;){if(ye=Ke(oe,xe),xe+=3,ye>>>1)ye>>1==1?(Qe=9,Pe=5):(xe=yn(oe,xe),Qe=ni,Pe=cn);else{xe&7&&(xe+=8-(xe&7));var We=oe[xe>>>3]|oe[(xe>>>3)+1]<<8;if(xe+=32,We>0)for(!je&&qe<Ee+We&&(Ae=Rt(Ae,Ee+We),qe=Ae.length);We-- >0;)Ae[Ee++]=oe[xe>>>3],xe+=8;continue}for(;;){!je&&qe<Ee+32767&&(Ae=Rt(Ae,Ee+32767),qe=Ae.length);var Ge=st(oe,xe,Qe),ut=ye>>>1==1?_t[Ge]:Nt[Ge];if(xe+=ut&15,ut>>>=4,(ut>>>8&255)===0)Ae[Ee++]=ut;else{if(ut==256)break;ut-=257;var yt=ut<8?0:ut-4>>2;yt>5&&(yt=0);var Ct=Ee+le[ut];yt>0&&(Ct+=st(oe,xe,yt),xe+=yt),Ge=st(oe,xe,Pe),ut=ye>>>1==1?It[Ge]:Gn[Ge],xe+=ut&15,ut>>>=4;var bt=ut<4?0:ut-2>>1,jt=Ce[ut];for(bt>0&&(jt+=st(oe,xe,bt),xe+=bt),!je&&qe<Ct&&(Ae=Rt(Ae,Ct+100),qe=Ae.length);Ee<Ct;)Ae[Ee]=Ae[Ee-jt],++Ee}}}return je?[Ae,xe+7>>>3]:[Ae.slice(0,Ee),xe+7>>>3]}function xn(oe,je){var xe=oe.slice(oe.l||0),ye=Hn(xe,je);return oe.l+=ye[1],ye[0]}function vr(oe,je){if(oe)typeof console<"u"&&console.error(je);else throw new Error(je)}function Un(oe,je){var xe=oe;Ao(xe,0);var ye=[],Ae=[],Ee={FileIndex:ye,FullPaths:Ae};P(Ee,{root:je.root});for(var qe=xe.length-4;(xe[qe]!=80||xe[qe+1]!=75||xe[qe+2]!=5||xe[qe+3]!=6)&&qe>=0;)--qe;xe.l=qe+4,xe.l+=4;var Qe=xe.read_shift(2);xe.l+=6;var Pe=xe.read_shift(4);for(xe.l=Pe,qe=0;qe<Qe;++qe){xe.l+=20;var We=xe.read_shift(4),Ge=xe.read_shift(4),ut=xe.read_shift(2),yt=xe.read_shift(2),Ct=xe.read_shift(2);xe.l+=8;var bt=xe.read_shift(4),jt=c(xe.slice(xe.l+ut,xe.l+ut+yt));xe.l+=ut+yt+Ct;var nn=xe.l;xe.l=bt+4,Ri(xe,We,Ge,Ee,jt),xe.l=nn}return Ee}function Ri(oe,je,xe,ye,Ae){oe.l+=2;var Ee=oe.read_shift(2),qe=oe.read_shift(2),Qe=o(oe);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=oe.read_shift(4),We=oe.read_shift(4),Ge=oe.read_shift(4),ut=oe.read_shift(2),yt=oe.read_shift(2),Ct="",bt=0;bt<ut;++bt)Ct+=String.fromCharCode(oe[oe.l++]);if(yt){var jt=c(oe.slice(oe.l,oe.l+yt));(jt[21589]||{}).mt&&(Qe=jt[21589].mt),((Ae||{})[21589]||{}).mt&&(Qe=Ae[21589].mt)}oe.l+=yt;var nn=oe.slice(oe.l,oe.l+We);switch(qe){case 8:nn=B(oe,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+qe)}var kn=!1;Ee&8&&(Pe=oe.read_shift(4),Pe==134695760&&(Pe=oe.read_shift(4),kn=!0),We=oe.read_shift(4),Ge=oe.read_shift(4)),We!=je&&vr(kn,"Bad compressed size: "+je+" != "+We),Ge!=xe&&vr(kn,"Bad uncompressed size: "+xe+" != "+Ge),Dn(ye,Ct,nn,{unsafe:!0,mt:Qe})}function yi(oe,je){var xe=je||{},ye=[],Ae=[],Ee=ot(1),qe=xe.compression?8:0,Qe=0,Pe=0,We=0,Ge=0,ut=0,yt=oe.FullPaths[0],Ct=yt,bt=oe.FileIndex[0],jt=[],nn=0;for(Pe=1;Pe<oe.FullPaths.length;++Pe)if(Ct=oe.FullPaths[Pe].slice(yt.length),bt=oe.FileIndex[Pe],!(!bt.size||!bt.content||Ct=="Sh33tJ5")){var kn=Ge,Tn=ot(Ct.length);for(We=0;We<Ct.length;++We)Tn.write_shift(1,Ct.charCodeAt(We)&127);Tn=Tn.slice(0,Tn.l),jt[ut]=mD.buf(bt.content,0);var Qn=bt.content;qe==8&&(Qn=W(Qn)),Ee=ot(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,Qe),Ee.write_shift(2,qe),bt.mt?a(Ee,bt.mt):Ee.write_shift(4,0),Ee.write_shift(-4,jt[ut]),Ee.write_shift(4,Qn.length),Ee.write_shift(4,bt.content.length),Ee.write_shift(2,Tn.length),Ee.write_shift(2,0),Ge+=Ee.length,ye.push(Ee),Ge+=Tn.length,ye.push(Tn),Ge+=Qn.length,ye.push(Qn),Ee=ot(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,Qe),Ee.write_shift(2,qe),Ee.write_shift(4,0),Ee.write_shift(-4,jt[ut]),Ee.write_shift(4,Qn.length),Ee.write_shift(4,bt.content.length),Ee.write_shift(2,Tn.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,kn),nn+=Ee.l,Ae.push(Ee),nn+=Tn.length,Ae.push(Tn),++ut}return Ee=ot(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,ut),Ee.write_shift(2,ut),Ee.write_shift(4,nn),Ee.write_shift(4,Ge),Ee.write_shift(2,0),Ra([Ra(ye),Ra(Ae),Ee])}var On={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Jt(oe,je){if(oe.ctype)return oe.ctype;var xe=oe.name||"",ye=xe.match(/\.([^\.]+)$/);return ye&&On[ye[1]]||je&&(ye=(xe=je).match(/[\.\\]([^\.\\])+$/),ye&&On[ye[1]])?On[ye[1]]:"application/octet-stream"}function vn(oe){for(var je=hm(oe),xe=[],ye=0;ye<je.length;ye+=76)xe.push(je.slice(ye,ye+76));return xe.join(`\r
`)+`\r
`}function Oi(oe){var je=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Ge=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Ge.length==1?"0"+Ge:Ge)});je=je.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),je.charAt(0)==`
`&&(je="=0D"+je.slice(1)),je=je.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],ye=je.split(`\r
`),Ae=0;Ae<ye.length;++Ae){var Ee=ye[Ae];if(Ee.length==0){xe.push("");continue}for(var qe=0;qe<Ee.length;){var Qe=76,Pe=Ee.slice(qe,qe+Qe);Pe.charAt(Qe-1)=="="?Qe--:Pe.charAt(Qe-2)=="="?Qe-=2:Pe.charAt(Qe-3)=="="&&(Qe-=3),Pe=Ee.slice(qe,qe+Qe),qe+=Qe,qe<Ee.length&&(Pe+="="),xe.push(Pe)}}return xe.join(`\r
`)}function ai(oe){for(var je=[],xe=0;xe<oe.length;++xe){for(var ye=oe[xe];xe<=oe.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+oe[++xe];je.push(ye)}for(var Ae=0;Ae<je.length;++Ae)je[Ae]=je[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return $l(je.join(`\r
`))}function tr(oe,je,xe){for(var ye="",Ae="",Ee="",qe,Qe=0;Qe<10;++Qe){var Pe=je[Qe];if(!Pe||Pe.match(/^\s*$/))break;var We=Pe.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":ye=We[2].trim();break;case"content-type":Ee=We[2].trim();break;case"content-transfer-encoding":Ae=We[2].trim();break}}switch(++Qe,Ae.toLowerCase()){case"base64":qe=$l(Lu(je.slice(Qe).join("")));break;case"quoted-printable":qe=ai(je.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var Ge=Dn(oe,ye.slice(xe.length),qe,{unsafe:!0});Ee&&(Ge.ctype=Ee)}function En(oe,je){if(Ne(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=je&&je.root||"",ye=(si&&Buffer.isBuffer(oe)?oe.toString("binary"):Ne(oe)).split(`\r
`),Ae=0,Ee="";for(Ae=0;Ae<ye.length;++Ae)if(Ee=ye[Ae],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),xe||(xe=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),Ee.slice(0,xe.length)!=xe););var qe=(ye[1]||"").match(/boundary="(.*?)"/);if(!qe)throw new Error("MAD cannot find boundary");var Qe="--"+(qe[1]||""),Pe=[],We=[],Ge={FileIndex:Pe,FullPaths:We};P(Ge);var ut,yt=0;for(Ae=0;Ae<ye.length;++Ae){var Ct=ye[Ae];Ct!==Qe&&Ct!==Qe+"--"||(yt++&&tr(Ge,ye.slice(ut,Ae),xe),ut=Ae)}return Ge}function Pt(oe,je){var xe=je||{},ye=xe.boundary||"SheetJS";ye="------="+ye;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Ee=oe.FullPaths[0],qe=Ee,Qe=oe.FileIndex[0],Pe=1;Pe<oe.FullPaths.length;++Pe)if(qe=oe.FullPaths[Pe].slice(Ee.length),Qe=oe.FileIndex[Pe],!(!Qe.size||!Qe.content||qe=="Sh33tJ5")){qe=qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nn){return"_x"+nn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nn){return"_u"+nn.charCodeAt(0).toString(16)+"_"});for(var We=Qe.content,Ge=si&&Buffer.isBuffer(We)?We.toString("binary"):Ne(We),ut=0,yt=Math.min(1024,Ge.length),Ct=0,bt=0;bt<=yt;++bt)(Ct=Ge.charCodeAt(bt))>=32&&Ct<128&&++ut;var jt=ut>=yt*4/5;Ae.push(ye),Ae.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+qe),Ae.push("Content-Transfer-Encoding: "+(jt?"quoted-printable":"base64")),Ae.push("Content-Type: "+Jt(Qe,qe)),Ae.push(""),Ae.push(jt?Oi(Ge):vn(Ge))}return Ae.push(ye+`--\r
`),Ae.join(`\r
`)}function fn(oe){var je={};return P(je,oe),je}function Dn(oe,je,xe,ye){var Ae=ye&&ye.unsafe;Ae||P(oe);var Ee=!Ae&&ji.find(oe,je);if(!Ee){var qe=oe.FullPaths[0];je.slice(0,qe.length)==qe?qe=je:(qe.slice(-1)!="/"&&(qe+="/"),qe=(qe+je).replace("//","/")),Ee={name:r(je),type:2},oe.FileIndex.push(Ee),oe.FullPaths.push(qe),Ae||ji.utils.cfb_gc(oe)}return Ee.content=xe,Ee.size=xe?xe.length:0,ye&&(ye.CLSID&&(Ee.clsid=ye.CLSID),ye.mt&&(Ee.mt=ye.mt),ye.ct&&(Ee.ct=ye.ct)),Ee}function $n(oe,je){P(oe);var xe=ji.find(oe,je);if(xe){for(var ye=0;ye<oe.FileIndex.length;++ye)if(oe.FileIndex[ye]==xe)return oe.FileIndex.splice(ye,1),oe.FullPaths.splice(ye,1),!0}return!1}function pn(oe,je,xe){P(oe);var ye=ji.find(oe,je);if(ye){for(var Ae=0;Ae<oe.FileIndex.length;++Ae)if(oe.FileIndex[Ae]==ye)return oe.FileIndex[Ae].name=r(xe),oe.FullPaths[Ae]=xe,!0}return!1}function Wn(oe){Y(oe,!0)}return t.find=z,t.read=ne,t.parse=h,t.write=q,t.writeFile=Q,t.utils={cfb_new:fn,cfb_add:Dn,cfb_del:$n,cfb_mov:pn,cfb_gc:Wn,ReadShift:Z0,CheckField:mj,prep_blob:Ao,bconcat:Ra,use_zlib:O,_deflateRaw:Zt,_inflateRaw:xn,consts:ue},t}();function pD(e){return typeof e=="string"?b1(e):Array.isArray(e)?H7(e):e}function Mm(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=b1(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var i=n=="utf8"?pm(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,e);if(typeof Blob<"u"){var r=new Blob([pD(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=Dm(t)),c.write(t),c.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Fa(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(e,t[i])&&n.push(t[i]);return n}function T_(e,t){for(var n=[],i=Fa(e),r=0;r!==i.length;++r)n[e[i[r]][t]]==null&&(n[e[i[r]][t]]=i[r]);return n}function f2(e){for(var t=[],n=Fa(e),i=0;i!==n.length;++i)t[e[n[i]]]=n[i];return t}function _1(e){for(var t=[],n=Fa(e),i=0;i!==n.length;++i)t[e[n[i]]]=parseInt(n[i],10);return t}function gD(e){for(var t=[],n=Fa(e),i=0;i!==n.length;++i)t[e[n[i]]]==null&&(t[e[n[i]]]=[]),t[e[n[i]]].push(n[i]);return t}var Dg=new Date(1899,11,30,0,0,0);function Xs(e,t){var n=e.getTime(),i=Dg.getTime()+(e.getTimezoneOffset()-Dg.getTimezoneOffset())*6e4;return(n-i)/(24*60*60*1e3)}var Z4=new Date,xD=Dg.getTime()+(Z4.getTimezoneOffset()-Dg.getTimezoneOffset())*6e4,C_=Z4.getTimezoneOffset();function J4(e){var t=new Date;return t.setTime(e*24*60*60*1e3+xD),t.getTimezoneOffset()!==C_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-C_)*6e4),t}var k_=new Date("2017-02-19T19:06:09.000Z"),Q4=isNaN(k_.getFullYear())?new Date("2/19/17"):k_,vD=Q4.getFullYear()==2017;function bs(e,t){var n=new Date(e);if(vD)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Q4.getFullYear()==1917&&!isNaN(n.getFullYear())){var i=n.getFullYear();return e.indexOf(""+i)>-1||n.setFullYear(n.getFullYear()+100),n}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function N1(e,t){if(si&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var i=[],r=0;r!=e.length;++r)i.push(String.fromCharCode(e[r]));return i.join("")}function Ks(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Ks(e[n]));return t}function pr(e,t){for(var n="";n.length<t;)n+=e;return n}function Au(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,a){return n=-n,a}),!isNaN(t=Number(i)))?t/n:t}var bD=["january","february","march","april","may","june","july","august","september","october","november","december"];function mm(e){var t=new Date(e),n=new Date(NaN),i=t.getYear(),r=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&bD.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return i<0||i>8099?n:(r>0||a>1)&&i!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Cn(e,t,n){if(e.FullPaths){if(typeof n=="string"){var i;return si?i=Du(n):i=U7(n),ji.utils.cfb_add(e,t,i)}ji.utils.cfb_add(e,t,n)}else e.file(t,n)}function h2(){return ji.utils.cfb_new()}var zr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,yD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},m2=f2(yD),p2=/[&<>'"]/g,wD=/[\u0000-\u0008\u000b-\u001f]/g;function vi(e){var t=e+"";return t.replace(p2,function(n){return m2[n]}).replace(wD,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function L_(e){return vi(e).replace(/ /g,"_x0020_")}var ej=/[\u0000-\u001f]/g;function _D(e){var t=e+"";return t.replace(p2,function(n){return m2[n]}).replace(/\n/g,"<br/>").replace(ej,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function ND(e){var t=e+"";return t.replace(p2,function(n){return m2[n]}).replace(ej,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function SD(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function jD(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fv(e){for(var t="",n=0,i=0,r=0,a=0,o=0,c=0;n<e.length;){if(i=e.charCodeAt(n++),i<128){t+=String.fromCharCode(i);continue}if(r=e.charCodeAt(n++),i>191&&i<224){o=(i&31)<<6,o|=r&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(n++),i<240){t+=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63);continue}o=e.charCodeAt(n++),c=((i&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function R_(e){var t=gf(2*e.length),n,i,r=1,a=0,o=0,c;for(i=0;i<e.length;i+=r)r=1,(c=e.charCodeAt(i))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(i+1)&63),r=2):c<240?(n=(c&15)*4096+(e.charCodeAt(i+1)&63)*64+(e.charCodeAt(i+2)&63),r=3):(r=4,n=(c&7)*262144+(e.charCodeAt(i+1)&63)*4096+(e.charCodeAt(i+2)&63)*64+(e.charCodeAt(i+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=n%256,t[a++]=n>>>8;return t.slice(0,a).toString("ucs2")}function O_(e){return Du(e,"binary").toString("utf8")}var zp="foo bar baz",K0=si&&(O_(zp)==fv(zp)&&O_||R_(zp)==fv(zp)&&R_)||fv,pm=si?function(e){return Du(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,i=0,r=0;n<e.length;)switch(i=e.charCodeAt(n++),!0){case i<128:t.push(String.fromCharCode(i));break;case i<2048:t.push(String.fromCharCode(192+(i>>6))),t.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=e.charCodeAt(n++)-56320+(i<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(i>>12))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)))}return t.join("")},AD=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var i=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<e.length;++r)i=i.replace(e[r][0],e[r][1]);return i}}(),tj=/(^\s|\s$|\n)/;function Oa(e,t){return"<"+e+(t.match(tj)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function gm(e){return Fa(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function At(e,t,n){return"<"+e+(n!=null?gm(n):"")+(t!=null?(t.match(tj)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function bb(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function ED(e,t){switch(typeof e){case"string":var n=At("vt:lpwstr",vi(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return At((e|0)==e?"vt:i4":"vt:r8",vi(String(e)));case"boolean":return At("vt:bool",e?"true":"false")}if(e instanceof Date)return At("vt:filetime",bb(e));throw new Error("Unable to serialize "+e)}var ma={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ih=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],To={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function TD(e,t){for(var n=1-2*(e[t+7]>>>7),i=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),r=e[t+6]&15,a=5;a>=0;--a)r=r*256+e[t+a];return i==2047?r==0?n*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),n*Math.pow(2,i-52)*r)}function CD(e,t,n){var i=(t<0||1/t==-1/0?1:0)<<7,r=0,a=0,o=i?-t:t;isFinite(o)?o==0?r=a=0:(r=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?r=-1022:(a-=Math.pow(2,52),r+=1023)):(r=2047,a=isNaN(t)?26985:0);for(var c=0;c<=5;++c,a/=256)e[n+c]=a&255;e[n+6]=(r&15)<<4|a&15,e[n+7]=r>>4|i}var D_=function(e){for(var t=[],n=10240,i=0;i<e[0].length;++i)if(e[0][i])for(var r=0,a=e[0][i].length;r<a;r+=n)t.push.apply(t,e[0][i].slice(r,r+n));return t},M_=si?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Du(t)})):D_(e)}:D_,F_=function(e,t,n){for(var i=[],r=t;r<n;r+=2)i.push(String.fromCharCode(P0(e,r)));return i.join("").replace(X0,"")},g2=si?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(X0,""):F_(e,t,n)}:F_,P_=function(e,t,n){for(var i=[],r=t;r<t+n;++r)i.push(("0"+e[r].toString(16)).slice(-2));return i.join("")},nj=si?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):P_(e,t,n)}:P_,I_=function(e,t,n){for(var i=[],r=t;r<n;r++)i.push(String.fromCharCode(ph(e,r)));return i.join("")},Fm=si?function(t,n,i){return Buffer.isBuffer(t)?t.toString("utf8",n,i):I_(t,n,i)}:I_,ij=function(e,t){var n=Co(e,t);return n>0?Fm(e,t+4,t+4+n-1):""},rj=ij,aj=function(e,t){var n=Co(e,t);return n>0?Fm(e,t+4,t+4+n-1):""},sj=aj,oj=function(e,t){var n=2*Co(e,t);return n>0?Fm(e,t+4,t+4+n-1):""},lj=oj,cj=function(t,n){var i=Co(t,n);return i>0?g2(t,n+4,n+4+i):""},uj=cj,dj=function(e,t){var n=Co(e,t);return n>0?Fm(e,t+4,t+4+n):""},fj=dj,hj=function(e,t){return TD(e,t)},Mg=hj,x2=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};si&&(rj=function(t,n){if(!Buffer.isBuffer(t))return ij(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},sj=function(t,n){if(!Buffer.isBuffer(t))return aj(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},lj=function(t,n){if(!Buffer.isBuffer(t))return oj(t,n);var i=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i-1)},uj=function(t,n){if(!Buffer.isBuffer(t))return cj(t,n);var i=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i)},fj=function(t,n){if(!Buffer.isBuffer(t))return dj(t,n);var i=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+i)},Mg=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):hj(t,n)},x2=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ph=function(e,t){return e[t]},P0=function(e,t){return e[t+1]*256+e[t]},kD=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Co=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Qd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},LD=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Z0(e,t){var n="",i,r,a=[],o,c,u,f;switch(t){case"dbcs":if(f=this.l,si&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(P0(this,f)),f+=2;e*=2;break;case"utf8":n=Fm(this,this.l,this.l+e);break;case"utf16le":e*=2,n=g2(this,this.l,this.l+e);break;case"wstr":return Z0.call(this,e,"dbcs");case"lpstr-ansi":n=rj(this,this.l),e=4+Co(this,this.l);break;case"lpstr-cp":n=sj(this,this.l),e=4+Co(this,this.l);break;case"lpwstr":n=lj(this,this.l),e=4+2*Co(this,this.l);break;case"lpp4":e=4+Co(this,this.l),n=uj(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Co(this,this.l),n=fj(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=ph(this,this.l+e++))!==0;)a.push(Pp(o));n=a.join("");break;case"_wstr":for(e=0,n="";(o=P0(this,this.l+e))!==0;)a.push(Pp(o)),e+=2;e+=2,n=a.join("");break;case"dbcs-cont":for(n="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=ph(this,f),this.l=f+1,c=Z0.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(Pp(P0(this,f))),f+=2}n=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=ph(this,f),this.l=f+1,c=Z0.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(Pp(ph(this,f))),f+=1}n=a.join("");break;default:switch(e){case 1:return i=ph(this,this.l),this.l++,i;case 2:return i=(t==="i"?kD:P0)(this,this.l),this.l+=2,i;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(i=(e>0?Qd:LD)(this,this.l),this.l+=4,i):(r=Co(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return e==8?r=Mg(this,this.l):r=Mg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:n=nj(this,this.l,e);break}}return this.l+=e,n}var RD=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},OD=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},DD=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function MD(e,t,n){var i=0,r=0;if(n==="dbcs"){for(r=0;r!=t.length;++r)DD(this,t.charCodeAt(r),this.l+2*r);i=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;i=t.length}else if(n==="hex"){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var o=t.charCodeAt(r);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:i=1,this[this.l]=t&255;break;case 2:i=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:i=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:i=4,RD(this,t,this.l);break;case 8:if(i=8,n==="f"){CD(this,t,this.l);break}case 16:break;case-4:i=4,OD(this,t,this.l);break}return this.l+=i,this}function mj(e,t){var n=nj(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ao(e,t){e.l=t,e.read_shift=Z0,e.chk=mj,e.write_shift=MD}function Rc(e,t){e.l+=t}function ot(e){var t=gf(e);return Ao(t,0),t}function Ys(){var e=[],t=si?256:2048,n=function(f){var h=ot(f);return Ao(h,0),h},i=n(t),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&e.push(i),i=null)},a=function(f){return i&&f<i.length-i.l?i:(r(),i=n(Math.max(f+1,t)))},o=function(){return r(),Ra(e)},c=function(f){r(),i=f,i.l==null&&(i.l=i.length),a(t)};return{next:a,push:c,end:o,_bufs:e}}function gt(e,t,n,i){var r=+t,a;if(!isNaN(r)){i||(i=TB[r].p||(n||[]).length||0),a=1+(r>=128?1:0)+1,i>=128&&++a,i>=16384&&++a,i>=2097152&&++a;var o=e.next(a);r<=127?o.write_shift(1,r):(o.write_shift(1,(r&127)+128),o.write_shift(1,r>>7));for(var c=0;c!=4;++c)if(i>=128)o.write_shift(1,(i&127)+128),i>>=7;else{o.write_shift(1,i);break}i>0&&x2(n)&&e.push(n)}}function J0(e,t,n){var i=Ks(e);if(t.s?(i.cRel&&(i.c+=t.s.c),i.rRel&&(i.r+=t.s.r)):(i.cRel&&(i.c+=t.c),i.rRel&&(i.r+=t.r)),!n||n.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function B_(e,t,n){var i=Ks(e);return i.s=J0(i.s,t.s,n),i.e=J0(i.e,t.s,n),i}function Q0(e,t){if(e.cRel&&e.c<0)for(e=Ks(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ks(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=bi(e);return!e.cRel&&e.cRel!=null&&(n=ID(n)),!e.rRel&&e.rRel!=null&&(n=FD(n)),n}function hv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+rs(e.s.c)+":"+(e.e.cRel?"":"$")+rs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ma(e.s.r)+":"+(e.e.rRel?"":"$")+Ma(e.e.r):Q0(e.s,t.biff)+":"+Q0(e.e,t.biff)}function v2(e){return parseInt(PD(e),10)-1}function Ma(e){return""+(e+1)}function FD(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function PD(e){return e.replace(/\$(\d+)$/,"$1")}function b2(e){for(var t=BD(e),n=0,i=0;i!==t.length;++i)n=26*n+t.charCodeAt(i)-64;return n-1}function rs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ID(e){return e.replace(/^([A-Z])/,"$$$1")}function BD(e){return e.replace(/^\$([A-Z])/,"$1")}function zD(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pa(e){for(var t=0,n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:t-1}}function bi(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Lo(e){var t=e.indexOf(":");return t==-1?{s:pa(e),e:pa(e)}:{s:pa(e.slice(0,t)),e:pa(e.slice(t+1))}}function Br(e,t){return typeof t>"u"||typeof t=="number"?Br(e.s,e.e):(typeof e!="string"&&(e=bi(e)),typeof t!="string"&&(t=bi(t)),e==t?e:e+":"+t)}function Ki(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,i=0,r=0,a=e.length;for(n=0;i<a&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.s.c=--n,n=0;i<a&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;if(t.s.r=--n,i===a||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,n=0;i!=a&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.e.c=--n,n=0;i!=a&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;return t.e.r=--n,t}function z_(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Td(e.z,n?Xs(t):t)}catch{}try{return e.w=Td((e.XF||{}).numFmtId||(n?14:0),n?Xs(t):t)}catch{return""+t}}function Ru(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Pm[e.v]||e.v:t==null?z_(e,e.v):z_(e,t))}function _f(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",i={};return i[n]=e,{SheetNames:[n],Sheets:i}}function pj(e,t,n){var i=n||{},r=e?Array.isArray(e):i.dense,a=e||(r?[]:{}),o=0,c=0;if(a&&i.origin!=null){if(typeof i.origin=="number")o=i.origin;else{var u=typeof i.origin=="string"?pa(i.origin):i.origin;o=u.r,c=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=Ki(a["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(f.e.r=o=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[p].length;++x)if(!(typeof t[p][x]>"u")){var b={v:t[p][x]},w=o+p,g=c+x;if(f.s.r>w&&(f.s.r=w),f.s.c>g&&(f.s.c=g),f.e.r<w&&(f.e.r=w),f.e.c<g&&(f.e.c=g),t[p][x]&&typeof t[p][x]=="object"&&!Array.isArray(t[p][x])&&!(t[p][x]instanceof Date))b=t[p][x];else if(Array.isArray(b.v)&&(b.f=t[p][x][1],b.v=b.v[0]),b.v===null)if(b.f)b.t="n";else if(i.nullError)b.t="e",b.v=0;else if(i.sheetStubs)b.t="z";else continue;else typeof b.v=="number"?b.t="n":typeof b.v=="boolean"?b.t="b":b.v instanceof Date?(b.z=i.dateNF||xr[14],i.cellDates?(b.t="d",b.w=Td(b.z,Xs(b.v))):(b.t="n",b.v=Xs(b.v),b.w=Td(b.z,b.v))):b.t="s";if(r)a[w]||(a[w]=[]),a[w][g]&&a[w][g].z&&(b.z=a[w][g].z),a[w][g]=b;else{var _=bi({c:g,r:w});a[_]&&a[_].z&&(b.z=a[_].z),a[_]=b}}}return f.s.c<1e7&&(a["!ref"]=Br(f)),a}function Bh(e,t){return pj(null,e,t)}function HD(e){return e.read_shift(4,"i")}function Kl(e,t){return t||(t=ot(4)),t.write_shift(4,e),t}function as(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ga(e,t){var n=!1;return t==null&&(n=!0,t=ot(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function UD(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function WD(e,t){return t||(t=ot(4)),t.write_shift(2,0),t.write_shift(2,0),t}function y2(e,t){var n=e.l,i=e.read_shift(1),r=as(e),a=[],o={t:r,h:r};if((i&1)!==0){for(var c=e.read_shift(4),u=0;u!=c;++u)a.push(UD(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function VD(e,t){var n=!1;return t==null&&(n=!0,t=ot(15+4*e.t.length)),t.write_shift(1,0),ga(e.t,t),n?t.slice(0,t.l):t}var qD=y2;function GD(e,t){var n=!1;return t==null&&(n=!0,t=ot(23+4*e.t.length)),t.write_shift(1,1),ga(e.t,t),t.write_shift(4,1),WD({},t),n?t.slice(0,t.l):t}function pl(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Nf(e,t){return t==null&&(t=ot(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Sf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function jf(e,t){return t==null&&(t=ot(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var $D=as,gj=ga;function w2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Fg(e,t){var n=!1;return t==null&&(n=!0,t=ot(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var YD=as,yb=w2,_2=Fg;function xj(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,i=t[0]&2;e.l+=4;var r=i===0?Mg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Qd(t,0)>>2;return n?r/100:r}function vj(e,t){t==null&&(t=ot(4));var n=0,i=0,r=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?i=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(i=1,n=1),i)t.write_shift(-4,((n?r:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function bj(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function XD(e,t){return t||(t=ot(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Af=bj,zh=XD;function Hh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function xf(e,t){return(t||ot(8)).write_shift(8,e,"f")}function KD(e){var t={},n=e.read_shift(1),i=n>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,i){case 0:t.auto=1;break;case 1:t.index=r;var f=aM[r];f&&(t.rgb=Z_(f));break;case 2:t.rgb=Z_([o,c,u]);break;case 3:t.theme=r;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Pg(e,t){if(t||(t=ot(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var i=e.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),t.write_shift(1,parseInt(i.slice(0,2),16)),t.write_shift(1,parseInt(i.slice(2,4),16)),t.write_shift(1,parseInt(i.slice(4,6),16)),t.write_shift(1,255)}return t}function ZD(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function JD(e,t){t||(t=ot(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var yj=2,jo=3,Hp=11,Ig=19,Up=64,QD=65,eM=71,tM=4108,nM=4126,La=80,H_={1:{n:"CodePage",t:yj},2:{n:"Category",t:La},3:{n:"PresentationFormat",t:La},4:{n:"ByteCount",t:jo},5:{n:"LineCount",t:jo},6:{n:"ParagraphCount",t:jo},7:{n:"SlideCount",t:jo},8:{n:"NoteCount",t:jo},9:{n:"HiddenCount",t:jo},10:{n:"MultimediaClipCount",t:jo},11:{n:"ScaleCrop",t:Hp},12:{n:"HeadingPairs",t:tM},13:{n:"TitlesOfParts",t:nM},14:{n:"Manager",t:La},15:{n:"Company",t:La},16:{n:"LinksUpToDate",t:Hp},17:{n:"CharacterCount",t:jo},19:{n:"SharedDoc",t:Hp},22:{n:"HyperlinksChanged",t:Hp},23:{n:"AppVersion",t:jo,p:"version"},24:{n:"DigSig",t:QD},26:{n:"ContentType",t:La},27:{n:"ContentStatus",t:La},28:{n:"Language",t:La},29:{n:"Version",t:La},255:{},2147483648:{n:"Locale",t:Ig},2147483651:{n:"Behavior",t:Ig},1919054434:{}},U_={1:{n:"CodePage",t:yj},2:{n:"Title",t:La},3:{n:"Subject",t:La},4:{n:"Author",t:La},5:{n:"Keywords",t:La},6:{n:"Comments",t:La},7:{n:"Template",t:La},8:{n:"LastAuthor",t:La},9:{n:"RevNumber",t:La},10:{n:"EditTime",t:Up},11:{n:"LastPrinted",t:Up},12:{n:"CreatedDate",t:Up},13:{n:"ModifiedDate",t:Up},14:{n:"PageCount",t:jo},15:{n:"WordCount",t:jo},16:{n:"CharCount",t:jo},17:{n:"Thumbnail",t:eM},18:{n:"Application",t:La},19:{n:"DocSecurity",t:jo},255:{},2147483648:{n:"Locale",t:Ig},2147483651:{n:"Behavior",t:Ig},1919054434:{}};function iM(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var rM=iM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),aM=Ks(rM),Pm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Wp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function wj(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _j(e,t){var n=gD(sM),i=[],r;i[i.length]=zr,i[i.length]=At("Types",null,{xmlns:ma.CT,"xmlns:xsd":ma.xsd,"xmlns:xsi":ma.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return At("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){e[u]&&e[u].length>0&&(r=e[u][0],i[i.length]=At("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:Wp[u][t.bookType]||Wp[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(f){i[i.length]=At("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Wp[u][t.bookType]||Wp[u].xlsx})})},c=function(u){(e[u]||[]).forEach(function(f){i[i.length]=At("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[u][0]})})};return a("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var ri={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Nj(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function wh(e){var t=[zr,At("Relationships",null,{xmlns:ma.RELS})];return Fa(e["!id"]).forEach(function(n){t[t.length]=At("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function pi(e,t,n,i,r,a){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=i,r.Target=n,[ri.HLINK,ri.XPATH,ri.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}function oM(e){var t=[zr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function W_(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function lM(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function cM(e){var t=[zr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(W_(e[n][0],e[n][1])),t.push(lM("",e[n][0]));return t.push(W_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Sj(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+kg.version+"</meta:generator></office:meta></office:document-meta>"}var df=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function mv(e,t,n,i,r){r[e]!=null||t==null||t===""||(r[e]=t,t=vi(t),i[i.length]=n?At(e,t,n):Oa(e,t))}function jj(e,t){var n=t||{},i=[zr,At("cp:coreProperties",null,{"xmlns:cp":ma.CORE_PROPS,"xmlns:dc":ma.dc,"xmlns:dcterms":ma.dcterms,"xmlns:dcmitype":ma.dcmitype,"xmlns:xsi":ma.xsi})],r={};if(!e&&!n.Props)return i.join("");e&&(e.CreatedDate!=null&&mv("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:bb(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),e.ModifiedDate!=null&&mv("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:bb(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var a=0;a!=df.length;++a){var o=df[a],c=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&mv(o[0],c,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var _h=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Aj=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Ej(e){var t=[],n=At;return e||(e={}),e.Application="SheetJS",t[t.length]=zr,t[t.length]=At("Properties",null,{xmlns:ma.EXT_PROPS,"xmlns:vt":ma.vt}),_h.forEach(function(i){if(e[i[1]]!==void 0){var r;switch(i[2]){case"string":r=vi(String(e[i[1]]));break;case"bool":r=e[i[1]]?"true":"false";break}r!==void 0&&(t[t.length]=n(i[0],r))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(i){return"<vt:lpstr>"+vi(i)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Tj(e){var t=[zr,At("Properties",null,{xmlns:ma.CUST_PROPS,"xmlns:vt":ma.vt})];if(!e)return t.join("");var n=1;return Fa(e).forEach(function(r){++n,t[t.length]=At("property",ED(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:vi(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var V_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uM(e,t){var n=[];return Fa(V_).map(function(i){for(var r=0;r<df.length;++r)if(df[r][1]==i)return df[r];for(r=0;r<_h.length;++r)if(_h[r][1]==i)return _h[r];throw i}).forEach(function(i){if(e[i[1]]!=null){var r=t&&t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:e[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),n.push(Oa(V_[i[1]]||i[1],r))}}),At("DocumentProperties",n.join(""),{xmlns:To.o})}function dM(e,t){var n=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return e&&Fa(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<df.length;++o)if(a==df[o][1])return;for(o=0;o<_h.length;++o)if(a==_h[o][1])return;for(o=0;o<n.length;++o)if(a==n[o])return;var c=e[a],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),r.push(At(L_(a),c,{"dt:dt":u}))}}),t&&Fa(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),r.push(At(L_(a),o,{"dt:dt":c}))}}),"<"+i+' xmlns="'+To.o+'">'+r.join("")+"</"+i+">"}function fM(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,i=n%Math.pow(2,32),r=(n-i)/Math.pow(2,32);i*=1e7,r*=1e7;var a=i/Math.pow(2,32)|0;a>0&&(i=i%Math.pow(2,32),r+=a);var o=ot(8);return o.write_shift(4,i),o.write_shift(4,r),o}function q_(e,t){var n=ot(4),i=ot(4);switch(n.write_shift(4,e==80?31:e),e){case 3:i.write_shift(-4,t);break;case 5:i=ot(8),i.write_shift(8,t,"f");break;case 11:i.write_shift(4,t?1:0);break;case 64:i=fM(t);break;case 31:case 80:for(i=ot(4+2*(t.length+1)+(t.length%2?0:2)),i.write_shift(4,t.length+1),i.write_shift(0,t,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ra([n,i])}var Cj=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hM(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function G_(e,t,n){var i=ot(8),r=[],a=[],o=8,c=0,u=ot(8),f=ot(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),a.push(u),r.push(f),o+=8+u.length,!t){f=ot(8),f.write_shift(4,0),r.unshift(f);var h=[ot(4)];for(h[0].write_shift(4,e.length),c=0;c<e.length;++c){var p=e[c][0];for(u=ot(8+2*(p.length+1)+(p.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,p.length+1),u.write_shift(0,p,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=Ra(h),a.unshift(u),o+=8+u.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(Cj.indexOf(e[c][0])>-1||Aj.indexOf(e[c][0])>-1)&&e[c][1]!=null){var x=e[c][1],b=0;if(t){b=+t[e[c][0]];var w=n[b];if(w.p=="version"&&typeof x=="string"){var g=x.split(".");x=(+g[0]<<16)+(+g[1]||0)}u=q_(w.t,x)}else{var _=hM(x);_==-1&&(_=31,x=String(x)),u=q_(_,x)}a.push(u),f=ot(8),f.write_shift(4,t?b:2+c),r.push(f),o+=8+u.length}var j=8*(a.length+1);for(c=0;c<a.length;++c)r[c].write_shift(4,j),j+=a[c].length;return i.write_shift(4,o),i.write_shift(4,a.length),Ra([i].concat(r).concat(a))}function $_(e,t,n,i,r,a){var o=ot(r?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ji.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,r?68:48);var u=G_(e,n,i);if(c.push(u),r){var f=G_(r,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+u.length),c.push(f)}return Ra(c)}function mM(e,t){t||(t=ot(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function pM(e,t){return e.read_shift(t)===1}function vs(e,t){return t||(t=ot(2)),t.write_shift(2,+!!e),t}function kj(e){return e.read_shift(2,"u")}function dl(e,t){return t||(t=ot(2)),t.write_shift(2,e),t}function Lj(e,t,n){return n||(n=ot(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function Rj(e,t,n){var i=e.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=e.read_shift(1);a&&(r="dbcs-cont")}else n.biff==12&&(r="wstr");n.biff>=2&&n.biff<=5&&(r="cpstr");var o=i?e.read_shift(i,r):"";return o}function gM(e){var t=e.t||"",n=ot(3);n.write_shift(2,t.length),n.write_shift(1,1);var i=ot(2*t.length);i.write_shift(2*t.length,t,"utf16le");var r=[n,i];return Ra(r)}function xM(e,t,n){var i;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return r===0?i=e.read_shift(t,"sbcs-cont"):i=e.read_shift(t,"dbcs-cont"),i}function vM(e,t,n){var i=e.read_shift(n&&n.biff==2?1:2);return i===0?(e.l++,""):xM(e,i,n)}function bM(e,t,n){if(n.biff>5)return vM(e,t,n);var i=e.read_shift(1);return i===0?(e.l++,""):e.read_shift(i,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Oj(e,t,n){return n||(n=ot(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function Y_(e,t){t||(t=ot(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function yM(e){var t=ot(512),n=0,i=e.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),a=r>-1?31:23;switch(i.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(a==28)i=i.slice(1),Y_(i,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var c=r>-1?i.slice(0,r):i;for(t.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)t.write_shift(2,c.charCodeAt(n));t.write_shift(2,0),a&8&&Y_(r>-1?i.slice(r+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var u=0;i.slice(u*3,u*3+3)=="../"||i.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,i.length-3*u+1),n=0;n<i.length-3*u;++n)t.write_shift(1,i.charCodeAt(n+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function vf(e,t,n,i){return i||(i=ot(6)),i.write_shift(2,e),i.write_shift(2,t),i.write_shift(2,n||0),i}function wM(e,t,n){var i=n.biff>8?4:2,r=e.read_shift(i),a=e.read_shift(i,"i"),o=e.read_shift(i,"i");return[r,a,o]}function _M(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),r=e.read_shift(2);return{s:{c:i,r:t},e:{c:r,r:n}}}function Dj(e,t){return t||(t=ot(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function N2(e,t,n){var i=1536,r=16;switch(n.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ot(r);return a.write_shift(2,i),a.write_shift(2,t),r>4&&a.write_shift(2,29282),r>6&&a.write_shift(2,1997),r>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function NM(e,t){var n=!t||t.biff==8,i=ot(n?112:54);for(i.write_shift(t.biff==8?2:1,7),n&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(n?0:536870912));i.l<i.length;)i.write_shift(1,n?0:32);return i}function SM(e,t){var n=!t||t.biff>=8?2:1,i=ot(8+n*e.name.length);i.write_shift(4,e.pos),i.write_shift(1,e.hs||0),i.write_shift(1,e.dt),i.write_shift(1,e.name.length),t.biff>=8&&i.write_shift(1,1),i.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function jM(e,t){var n=ot(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var i=[],r=0;r<e.length;++r)i[r]=gM(e[r]);var a=Ra([n].concat(i));return a.parts=[n.length].concat(i.map(function(o){return o.length})),a}function AM(){var e=ot(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function EM(e){var t=ot(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function TM(e,t){var n=e.name||"Arial",i=t&&t.biff==5,r=i?15+n.length:16+2*n.length,a=ot(r);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le"),a}function CM(e,t,n,i){var r=ot(10);return vf(e,t,i,r),r.write_shift(4,n),r}function kM(e,t,n,i,r){var a=!r||r.biff==8,o=ot(8+ +a+(1+a)*n.length);return vf(e,t,i,o),o.write_shift(2,n.length),a&&o.write_shift(1,1),o.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),o}function LM(e,t,n,i){var r=n&&n.biff==5;i||(i=ot(r?3+t.length:5+2*t.length)),i.write_shift(2,e),i.write_shift(r?1:2,t.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var a=i.length>i.l?i.slice(0,i.l):i;return a.l==null&&(a.l=a.length),a}function RM(e,t){var n=t.biff==8||!t.biff?4:2,i=ot(2*n+6);return i.write_shift(n,e.s.r),i.write_shift(n,e.e.r+1),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c+1),i.write_shift(2,0),i}function X_(e,t,n,i){var r=n&&n.biff==5;i||(i=ot(r?16:20)),i.write_shift(2,0),e.style?(i.write_shift(2,e.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,e.numFmtId||0),i.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&r&&(a|=1024),i.write_shift(4,a),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function OM(e){var t=ot(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function DM(e,t,n,i,r,a){var o=ot(8);return vf(e,t,i,o),Lj(n,a,o),o}function MM(e,t,n,i){var r=ot(14);return vf(e,t,i,r),xf(n,r),r}function FM(e,t,n){if(n.biff<8)return PM(e,t,n);for(var i=[],r=e.l+t,a=e.read_shift(n.biff>8?4:2);a--!==0;)i.push(wM(e,n.biff>8?12:6,n));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return i}function PM(e,t,n){e[e.l+1]==3&&e[e.l]++;var i=Rj(e,t,n);return i.charCodeAt(0)==3?i.slice(1):i}function IM(e){var t=ot(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Dj(e[n],t);return t}function BM(e){var t=ot(24),n=pa(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(i[r],16));return Ra([t,yM(e[1])])}function zM(e){var t=e[1].Tooltip,n=ot(10+2*(t.length+1));n.write_shift(2,2048);var i=pa(e[0]);n.write_shift(2,i.r),n.write_shift(2,i.r),n.write_shift(2,i.c),n.write_shift(2,i.c);for(var r=0;r<t.length;++r)n.write_shift(2,t.charCodeAt(r));return n.write_shift(2,0),n}function HM(e){return e||(e=ot(4)),e.write_shift(2,1),e.write_shift(2,1),e}function UM(e,t,n){if(!n.cellStyles)return Rc(e,t);var i=n&&n.biff>=12?4:2,r=e.read_shift(i),a=e.read_shift(i),o=e.read_shift(i),c=e.read_shift(i),u=e.read_shift(2);i==2&&(e.l+=2);var f={s:r,e:a,w:o,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(f.level=u>>8&7),f}function WM(e,t){var n=ot(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var i=0;return e.hidden&&(i|=1),n.write_shift(1,i),i=e.level||0,n.write_shift(1,i),n.write_shift(2,0),n}function VM(e){for(var t=ot(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function qM(e,t,n){var i=ot(15);return Bm(i,e,t),i.write_shift(8,n,"f"),i}function GM(e,t,n){var i=ot(9);return Bm(i,e,t),i.write_shift(2,n),i}var $M=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=f2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var f=[],h=gf(1);switch(u.type){case"base64":h=$l(Lu(c));break;case"binary":h=$l(c);break;case"buffer":case"array":h=c;break}Ao(h,0);var p=h.read_shift(1),x=!!(p&136),b=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:b=!0,x=!0;break;case 49:b=!0,x=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var g=0,_=521;p==2&&(g=h.read_shift(2)),h.l+=3,p!=2&&(g=h.read_shift(4)),g>1048576&&(g=1e6),p!=2&&(_=h.read_shift(2));var j=h.read_shift(2),E=u.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var k=[],F={},V=Math.min(h.length,p==2?521:_-10-(b?264:0)),ne=w?32:11;h.l<V&&h[h.l]!=13;)switch(F={},F.name=b_.utils.decode(E,h.slice(h.l,h.l+ne)).replace(/[\u0000\r\n].*$/g,""),h.l+=ne,F.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(F.offset=h.read_shift(4)),F.len=h.read_shift(1),p==2&&(F.offset=h.read_shift(2)),F.dec=h.read_shift(1),F.name.length&&k.push(F),p!=2&&(h.l+=w?13:14),F.type){case"B":(!b||F.len!=8)&&u.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(h[h.l]!==13&&(h.l=_-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=_;var P=0,I=0;for(f[0]=[],I=0;I!=k.length;++I)f[0][I]=k[I].name;for(;g-- >0;){if(h[h.l]===42){h.l+=j;continue}for(++h.l,f[++P]=[],I=0,I=0;I!=k.length;++I){var Y=h.slice(h.l,h.l+k[I].len);h.l+=k[I].len,Ao(Y,0);var Z=b_.utils.decode(E,Y);switch(k[I].type){case"C":Z.trim().length&&(f[P][I]=Z.replace(/\s+$/,""));break;case"D":Z.length===8?f[P][I]=new Date(+Z.slice(0,4),+Z.slice(4,6)-1,+Z.slice(6,8)):f[P][I]=Z;break;case"F":f[P][I]=parseFloat(Z.trim());break;case"+":case"I":f[P][I]=w?Y.read_shift(-4,"i")^2147483648:Y.read_shift(4,"i");break;case"L":switch(Z.trim().toUpperCase()){case"Y":case"T":f[P][I]=!0;break;case"N":case"F":f[P][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Z+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[P][I]="##MEMO##"+(w?parseInt(Z.trim(),10):Y.read_shift(4));break;case"N":Z=Z.replace(/\u0000/g,"").trim(),Z&&Z!="."&&(f[P][I]=+Z||0);break;case"@":f[P][I]=new Date(Y.read_shift(-8,"f")-621356832e5);break;case"T":f[P][I]=new Date((Y.read_shift(4)-2440588)*864e5+Y.read_shift(4));break;case"Y":f[P][I]=Y.read_shift(4,"i")/1e4+Y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][I]=-Y.read_shift(-8,"f");break;case"B":if(b&&k[I].len==8){f[P][I]=Y.read_shift(8,"f");break}case"G":case"P":Y.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=k,f}function i(c,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Bh(n(c,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function r(c,u){try{return _f(i(c,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var f=u||{};if(+f.codepage>=0&&fm(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=Ys(),p=Wg(c,{header:1,raw:!0,cellDates:!0}),x=p[0],b=p.slice(1),w=c["!cols"]||[],g=0,_=0,j=0,E=1;for(g=0;g<x.length;++g){if(((w[g]||{}).DBF||{}).name){x[g]=w[g].DBF.name,++j;continue}if(x[g]!=null){if(++j,typeof x[g]=="number"&&(x[g]=x[g].toString(10)),typeof x[g]!="string")throw new Error("DBF Invalid column name "+x[g]+" |"+typeof x[g]+"|");if(x.indexOf(x[g])!==g){for(_=0;_<1024;++_)if(x.indexOf(x[g]+"_"+_)==-1){x[g]+="_"+_;break}}}}var k=Ki(c["!ref"]),F=[],V=[],ne=[];for(g=0;g<=k.e.c-k.s.c;++g){var P="",I="",Y=0,Z=[];for(_=0;_<b.length;++_)b[_][g]!=null&&Z.push(b[_][g]);if(Z.length==0||x[g]==null){F[g]="?";continue}for(_=0;_<Z.length;++_){switch(typeof Z[_]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=Z[_]instanceof Date?"D":"C";break;default:I="C"}Y=Math.max(Y,String(Z[_]).length),P=P&&P!=I?"C":I}Y>250&&(Y=250),I=((w[g]||{}).DBF||{}).type,I=="C"&&w[g].DBF.len>Y&&(Y=w[g].DBF.len),P=="B"&&I=="N"&&(P="N",ne[g]=w[g].DBF.dec,Y=w[g].DBF.len),V[g]=P=="C"||I=="N"?Y:a[P]||0,E+=V[g],F[g]=P}var z=h.next(32);for(z.write_shift(4,318902576),z.write_shift(4,b.length),z.write_shift(2,296+32*j),z.write_shift(2,E),g=0;g<4;++g)z.write_shift(4,0);for(z.write_shift(4,0|(+t[F4]||3)<<8),g=0,_=0;g<x.length;++g)if(x[g]!=null){var U=h.next(32),J=(x[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,J,"sbcs"),U.write_shift(1,F[g]=="?"?"C":F[g],"sbcs"),U.write_shift(4,_),U.write_shift(1,V[g]||a[F[g]]||0),U.write_shift(1,ne[g]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),_+=V[g]||a[F[g]]||0}var ie=h.next(264);for(ie.write_shift(4,13),g=0;g<65;++g)ie.write_shift(4,0);for(g=0;g<b.length;++g){var pe=h.next(E);for(pe.write_shift(1,0),_=0;_<x.length;++_)if(x[_]!=null)switch(F[_]){case"L":pe.write_shift(1,b[g][_]==null?63:b[g][_]?84:70);break;case"B":pe.write_shift(8,b[g][_]||0,"f");break;case"N":var ae="0";for(typeof b[g][_]=="number"&&(ae=b[g][_].toFixed(ne[_]||0)),j=0;j<V[_]-ae.length;++j)pe.write_shift(1,32);pe.write_shift(1,ae,"sbcs");break;case"D":b[g][_]?(pe.write_shift(4,("0000"+b[g][_].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(b[g][_].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+b[g][_].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(b[g][_]!=null?b[g][_]:"").slice(0,V[_]);for(pe.write_shift(1,ue,"sbcs"),j=0;j<V[_]-ue.length;++j)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:r,to_sheet:i,from_sheet:o}}(),YM=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(x,b){var w=e[b];return typeof w=="number"?v_(w):w},i=function(x,b,w){var g=b.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return g==59?x:v_(g)};e["|"]=254;function r(x,b){switch(b.type){case"base64":return a(Lu(x),b);case"binary":return a(x,b);case"buffer":return a(si&&Buffer.isBuffer(x)?x.toString("binary"):Dm(x),b);case"array":return a(N1(x),b)}throw new Error("Unrecognized type "+b.type)}function a(x,b){var w=x.split(/[\n\r]+/),g=-1,_=-1,j=0,E=0,k=[],F=[],V=null,ne={},P=[],I=[],Y=[],Z=0,z;for(+b.codepage>=0&&fm(+b.codepage);j!==w.length;++j){Z=0;var U=w[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,n),J=U.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),ie=J[0],pe;if(U.length>0)switch(ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":J[1].charAt(0)=="P"&&F.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,ue=!1,Q=!1,Ne=!1,q=-1,ke=-1;for(E=1;E<J.length;++E)switch(J[E].charAt(0)){case"A":break;case"X":_=parseInt(J[E].slice(1))-1,ue=!0;break;case"Y":for(g=parseInt(J[E].slice(1))-1,ue||(_=0),z=k.length;z<=g;++z)k[z]=[];break;case"K":pe=J[E].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(Au(pe))?isNaN(mm(pe).getDate())||(pe=bs(pe)):(pe=Au(pe),V!==null&&Y4(V)&&(pe=J4(pe))),ae=!0;break;case"E":Ne=!0;var O=GF(J[E].slice(1),{r:g,c:_});k[g][_]=[k[g][_],O];break;case"S":Q=!0,k[g][_]=[k[g][_],"S5S"];break;case"G":break;case"R":q=parseInt(J[E].slice(1))-1;break;case"C":ke=parseInt(J[E].slice(1))-1;break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+U)}if(ae&&(k[g][_]&&k[g][_].length==2?k[g][_][0]=pe:k[g][_]=pe,V=null),Q){if(Ne)throw new Error("SYLK shared formula cannot have own formula");var B=q>-1&&k[q][ke];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");k[g][_][1]=$F(B[1],{r:g-q,c:_-ke})}break;case"F":var W=0;for(E=1;E<J.length;++E)switch(J[E].charAt(0)){case"X":_=parseInt(J[E].slice(1))-1,++W;break;case"Y":for(g=parseInt(J[E].slice(1))-1,z=k.length;z<=g;++z)k[z]=[];break;case"M":Z=parseInt(J[E].slice(1))/20;break;case"F":break;case"G":break;case"P":V=F[parseInt(J[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Y=J[E].slice(1).split(" "),z=parseInt(Y[0],10);z<=parseInt(Y[1],10);++z)Z=parseInt(Y[2],10),I[z-1]=Z===0?{hidden:!0}:{wch:Z},S2(I[z-1]);break;case"C":_=parseInt(J[E].slice(1))-1,I[_]||(I[_]={});break;case"R":g=parseInt(J[E].slice(1))-1,P[g]||(P[g]={}),Z>0?(P[g].hpt=Z,P[g].hpx=Bj(Z)):Z===0&&(P[g].hidden=!0);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+U)}W<1&&(V=null);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+U)}}return P.length>0&&(ne["!rows"]=P),I.length>0&&(ne["!cols"]=I),b&&b.sheetRows&&(k=k.slice(0,b.sheetRows)),[k,ne]}function o(x,b){var w=r(x,b),g=w[0],_=w[1],j=Bh(g,b);return Fa(_).forEach(function(E){j[E]=_[E]}),j}function c(x,b){return _f(o(x,b),b)}function u(x,b,w,g){var _="C;Y"+(w+1)+";X"+(g+1)+";K";switch(x.t){case"n":_+=x.v||0,x.f&&!x.F&&(_+=";E"+A2(x.f,{r:w,c:g}));break;case"b":_+=x.v?"TRUE":"FALSE";break;case"e":_+=x.w||x.v;break;case"d":_+='"'+(x.w||x.v)+'"';break;case"s":_+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function f(x,b){b.forEach(function(w,g){var _="F;W"+(g+1)+" "+(g+1)+" ";w.hidden?_+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Bg(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=zg(w.wpx)),typeof w.wch=="number"&&(_+=Math.round(w.wch))),_.charAt(_.length-1)!=" "&&x.push(_)})}function h(x,b){b.forEach(function(w,g){var _="F;";w.hidden?_+="M0;":w.hpt?_+="M"+20*w.hpt+";":w.hpx&&(_+="M"+20*Hg(w.hpx)+";"),_.length>2&&x.push(_+"R"+(g+1))})}function p(x,b){var w=["ID;PWXL;N;E"],g=[],_=Ki(x["!ref"]),j,E=Array.isArray(x),k=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),x["!cols"]&&f(w,x["!cols"]),x["!rows"]&&h(w,x["!rows"]),w.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var F=_.s.r;F<=_.e.r;++F)for(var V=_.s.c;V<=_.e.c;++V){var ne=bi({r:F,c:V});j=E?(x[F]||[])[V]:x[ne],!(!j||j.v==null&&(!j.f||j.F))&&g.push(u(j,x,F,V))}return w.join(k)+k+g.join(k)+k+"E"+k}return{to_workbook:c,to_sheet:o,from_sheet:p}}(),XM=function(){function e(a,o){switch(o.type){case"base64":return t(Lu(a),o);case"binary":return t(a,o);case"buffer":return t(si&&Buffer.isBuffer(a)?a.toString("binary"):Dm(a),o);case"array":return t(N1(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var c=a.split(`
`),u=-1,f=-1,h=0,p=[];h!==c.length;++h){if(c[h].trim()==="BOT"){p[++u]=[],f=0;continue}if(!(u<0)){var x=c[h].trim().split(","),b=x[0],w=x[1];++h;for(var g=c[h]||"";(g.match(/["]/g)||[]).length&1&&h<c.length-1;)g+=`
`+c[++h];switch(g=g.trim(),+b){case-1:if(g==="BOT"){p[++u]=[],f=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?p[u][f]=!0:g==="FALSE"?p[u][f]=!1:isNaN(Au(w))?isNaN(mm(w).getDate())?p[u][f]=w:p[u][f]=bs(w):p[u][f]=Au(w),++f;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),p[u][f++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function n(a,o){return Bh(e(a,o),o)}function i(a,o){return _f(n(a,o),o)}var r=function(){var a=function(u,f,h,p,x){u.push(f),u.push(h+","+p),u.push('"'+x.replace(/"/g,'""')+'"')},o=function(u,f,h,p){u.push(f+","+h),u.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(u){var f=[],h=Ki(u["!ref"]),p,x=Array.isArray(u);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,h.e.r-h.s.r+1,""),a(f,"TUPLES",0,h.e.c-h.s.c+1,""),a(f,"DATA",0,0,"");for(var b=h.s.r;b<=h.e.r;++b){o(f,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var g=bi({r:b,c:w});if(p=x?(u[b]||[])[w]:u[g],!p){o(f,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?o(f,1,0,"="+p.f):o(f,1,0,""):o(f,0,_,"V");break;case"b":o(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Td(p.z||xr[14],Xs(bs(p.v)))),o(f,0,p.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var j=`\r
`,E=f.join(j);return E}}();return{to_workbook:i,to_sheet:n,from_sheet:r}}(),Mj=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(p,x){for(var b=p.split(`
`),w=-1,g=-1,_=0,j=[];_!==b.length;++_){var E=b[_].trim().split(":");if(E[0]==="cell"){var k=pa(E[1]);if(j.length<=k.r)for(w=j.length;w<=k.r;++w)j[w]||(j[w]=[]);switch(w=k.r,g=k.c,E[2]){case"t":j[w][g]=e(E[3]);break;case"v":j[w][g]=+E[3];break;case"vtf":var F=E[E.length-1];case"vtc":switch(E[3]){case"nl":j[w][g]=!!+E[4];break;default:j[w][g]=+E[4];break}E[2]=="vtf"&&(j[w][g]=[j[w][g],F])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function i(p,x){return Bh(n(p,x),x)}function r(p,x){return _f(i(p,x),x)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var x=[],b=[],w,g="",_=Lo(p["!ref"]),j=Array.isArray(p),E=_.s.r;E<=_.e.r;++E)for(var k=_.s.c;k<=_.e.c;++k)if(g=bi({r:E,c:k}),w=j?(p[E]||[])[k]:p[g],!(!w||w.v==null||w.t==="z")){switch(b=["cell",g,"t"],w.t){case"s":case"str":b.push(t(w.v));break;case"n":w.f?(b[2]="vtf",b[3]="n",b[4]=w.v,b[5]=t(w.f)):(b[2]="v",b[3]=w.v);break;case"b":b[2]="vt"+(w.f?"f":"c"),b[3]="nl",b[4]=w.v?"1":"0",b[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var F=Xs(bs(w.v));b[2]="vtc",b[3]="nd",b[4]=""+F,b[5]=w.w||Td(w.z||xr[14],F);break;case"e":continue}x.push(b.join(":"))}return x.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(p){return[a,o,c,o,f(p),u].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:h}}(),KM=function(){function e(h,p,x,b,w){w.raw?p[x][b]=h:h===""||(h==="TRUE"?p[x][b]=!0:h==="FALSE"?p[x][b]=!1:isNaN(Au(h))?isNaN(mm(h).getDate())?p[x][b]=h:p[x][b]=bs(h):p[x][b]=Au(h))}function t(h,p){var x=p||{},b=[];if(!h||h.length===0)return b;for(var w=h.split(/[\r\n]/),g=w.length-1;g>=0&&w[g].length===0;)--g;for(var _=10,j=0,E=0;E<=g;++E)j=w[E].indexOf(" "),j==-1?j=w[E].length:j++,_=Math.max(_,j);for(E=0;E<=g;++E){b[E]=[];var k=0;for(e(w[E].slice(0,_).trim(),b,E,k,x),k=1;k<=(w[E].length-_)/10+1;++k)e(w[E].slice(_+(k-1)*10,_+k*10).trim(),b,E,k,x)}return x.sheetRows&&(b=b.slice(0,x.sheetRows)),b}var n={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(h){for(var p={},x=!1,b=0,w=0;b<h.length;++b)(w=h.charCodeAt(b))==34?x=!x:!x&&w in n&&(p[w]=(p[w]||0)+1);w=[];for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&w.push([p[b],b]);if(!w.length){p=i;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&w.push([p[b],b])}return w.sort(function(g,_){return g[0]-_[0]||i[g[1]]-i[_[1]]}),n[w.pop()[1]]||44}function a(h,p){var x=p||{},b="",w=x.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(b=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(b=h.charAt(4),h=h.slice(6)):b=r(h.slice(0,1024)):x&&x.FS?b=x.FS:b=r(h.slice(0,1024));var _=0,j=0,E=0,k=0,F=0,V=b.charCodeAt(0),ne=!1,P=0,I=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var Y=x.dateNF!=null?fD(x.dateNF):null;function Z(){var z=h.slice(k,F),U={};if(z.charAt(0)=='"'&&z.charAt(z.length-1)=='"'&&(z=z.slice(1,-1).replace(/""/g,'"')),z.length===0)U.t="z";else if(x.raw)U.t="s",U.v=z;else if(z.trim().length===0)U.t="s",U.v=z;else if(z.charCodeAt(0)==61)z.charCodeAt(1)==34&&z.charCodeAt(z.length-1)==34?(U.t="s",U.v=z.slice(2,-1).replace(/""/g,'"')):YF(z)?(U.t="n",U.f=z.slice(1)):(U.t="s",U.v=z);else if(z=="TRUE")U.t="b",U.v=!0;else if(z=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Au(z)))U.t="n",x.cellText!==!1&&(U.w=z),U.v=E;else if(!isNaN(mm(z).getDate())||Y&&z.match(Y)){U.z=x.dateNF||xr[14];var J=0;Y&&z.match(Y)&&(z=hD(z,x.dateNF,z.match(Y)||[]),J=1),x.cellDates?(U.t="d",U.v=bs(z,J)):(U.t="n",U.v=Xs(bs(z,J))),x.cellText!==!1&&(U.w=Td(U.z,U.v instanceof Date?Xs(U.v):U.v)),x.cellNF||delete U.z}else U.t="s",U.v=z;if(U.t=="z"||(x.dense?(w[_]||(w[_]=[]),w[_][j]=U):w[bi({c:j,r:_})]=U),k=F+1,I=h.charCodeAt(k),g.e.c<j&&(g.e.c=j),g.e.r<_&&(g.e.r=_),P==V)++j;else if(j=0,++_,x.sheetRows&&x.sheetRows<=_)return!0}e:for(;F<h.length;++F)switch(P=h.charCodeAt(F)){case 34:I===34&&(ne=!ne);break;case V:case 10:case 13:if(!ne&&Z())break e;break}return F-k>0&&Z(),w["!ref"]=Br(g),w}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,p):Bh(t(h,p),p)}function c(h,p){var x="",b=p.type=="string"?[0,0,0,0]:lz(h,p);switch(p.type){case"base64":x=Lu(h);break;case"binary":x=h;break;case"buffer":p.codepage==65001?x=h.toString("utf8"):(p.codepage,x=si&&Buffer.isBuffer(h)?h.toString("binary"):Dm(h));break;case"array":x=N1(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+p.type)}return b[0]==239&&b[1]==187&&b[2]==191?x=K0(x.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?x=K0(x):p.type=="binary",x.slice(0,19)=="socialcalc:version:"?Mj.to_sheet(p.type=="string"?x:K0(x),p):o(x,p)}function u(h,p){return _f(c(h,p),p)}function f(h){for(var p=[],x=Ki(h["!ref"]),b,w=Array.isArray(h),g=x.s.r;g<=x.e.r;++g){for(var _=[],j=x.s.c;j<=x.e.c;++j){var E=bi({r:g,c:j});if(b=w?(h[g]||[])[j]:h[E],!b||b.v==null){_.push("          ");continue}for(var k=(b.w||(Ru(b),b.w)||"").slice(0,10);k.length<10;)k+=" ";_.push(k+(j===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:f}}(),K_=function(){function e(O,B,W){if(O){Ao(O,O.l||0);for(var X=W.Enum||q;O.l<O.length;){var le=O.read_shift(2),Ce=X[le]||X[65535],_e=O.read_shift(2),Le=O.l+_e,ze=Ce.f&&Ce.f(O,_e,W);if(O.l=Le,B(ze,Ce,le))return}}}function t(O,B){switch(B.type){case"base64":return n($l(Lu(O)),B);case"binary":return n($l(O),B);case"buffer":case"array":return n(O,B)}throw"Unsupported type "+B.type}function n(O,B){if(!O)return O;var W=B||{},X=W.dense?[]:{},le="Sheet1",Ce="",_e=0,Le={},ze=[],nt=[],Oe={s:{r:0,c:0},e:{r:0,c:0}},$e=W.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)W.Enum=q,e(O,function(Ie,st,Ze){switch(Ze){case 0:W.vers=Ie,Ie>=4096&&(W.qpro=!0);break;case 6:Oe=Ie;break;case 204:Ie&&(Ce=Ie);break;case 222:Ce=Ie;break;case 15:case 51:W.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:Ze==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=W.dateNF||xr[14],W.cellDates&&(Ie[1].t="d",Ie[1].v=J4(Ie[1].v))),W.qpro&&Ie[3]>_e&&(X["!ref"]=Br(Oe),Le[le]=X,ze.push(le),X=W.dense?[]:{},Oe={s:{r:0,c:0},e:{r:0,c:0}},_e=Ie[3],le=Ce||"Sheet"+(_e+1),Ce="");var ft=W.dense?(X[Ie[0].r]||[])[Ie[0].c]:X[bi(Ie[0])];if(ft){ft.t=Ie[1].t,ft.v=Ie[1].v,Ie[1].z!=null&&(ft.z=Ie[1].z),Ie[1].f!=null&&(ft.f=Ie[1].f);break}W.dense?(X[Ie[0].r]||(X[Ie[0].r]=[]),X[Ie[0].r][Ie[0].c]=Ie[1]):X[bi(Ie[0])]=Ie[1];break}},W);else if(O[2]==26||O[2]==14)W.Enum=ke,O[2]==14&&(W.qpro=!0,O.l=0),e(O,function(Ie,st,Ze){switch(Ze){case 204:le=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>_e&&(X["!ref"]=Br(Oe),Le[le]=X,ze.push(le),X=W.dense?[]:{},Oe={s:{r:0,c:0},e:{r:0,c:0}},_e=Ie[3],le="Sheet"+(_e+1)),$e>0&&Ie[0].r>=$e)break;W.dense?(X[Ie[0].r]||(X[Ie[0].r]=[]),X[Ie[0].r][Ie[0].c]=Ie[1]):X[bi(Ie[0])]=Ie[1],Oe.e.c<Ie[0].c&&(Oe.e.c=Ie[0].c),Oe.e.r<Ie[0].r&&(Oe.e.r=Ie[0].r);break;case 27:Ie[14e3]&&(nt[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:nt[Ie[0]]=Ie[1],Ie[0]==_e&&(le=Ie[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(X["!ref"]=Br(Oe),Le[Ce||le]=X,ze.push(Ce||le),!nt.length)return{SheetNames:ze,Sheets:Le};for(var Ke={},ve=[],se=0;se<nt.length;++se)Le[ze[se]]?(ve.push(nt[se]||ze[se]),Ke[nt[se]]=Le[nt[se]]||Le[ze[se]]):(ve.push(nt[se]),Ke[nt[se]]={"!ref":"A1"});return{SheetNames:ve,Sheets:Ke}}function i(O,B){var W=B||{};if(+W.codepage>=0&&fm(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var X=Ys(),le=Ki(O["!ref"]),Ce=Array.isArray(O),_e=[];Tt(X,0,a(1030)),Tt(X,6,u(le));for(var Le=Math.min(le.e.r,8191),ze=le.s.r;ze<=Le;++ze)for(var nt=Ma(ze),Oe=le.s.c;Oe<=le.e.c;++Oe){ze===le.s.r&&(_e[Oe]=rs(Oe));var $e=_e[Oe]+nt,Ke=Ce?(O[ze]||[])[Oe]:O[$e];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")(Ke.v|0)==Ke.v&&Ke.v>=-32768&&Ke.v<=32767?Tt(X,13,b(ze,Oe,Ke.v)):Tt(X,14,g(ze,Oe,Ke.v));else{var ve=Ru(Ke);Tt(X,15,p(ze,Oe,ve.slice(0,239)))}}return Tt(X,1),X.end()}function r(O,B){var W=B||{};if(+W.codepage>=0&&fm(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var X=Ys();Tt(X,0,o(O));for(var le=0,Ce=0;le<O.SheetNames.length;++le)(O.Sheets[O.SheetNames[le]]||{})["!ref"]&&Tt(X,27,Ne(O.SheetNames[le],Ce++));var _e=0;for(le=0;le<O.SheetNames.length;++le){var Le=O.Sheets[O.SheetNames[le]];if(!(!Le||!Le["!ref"])){for(var ze=Ki(Le["!ref"]),nt=Array.isArray(Le),Oe=[],$e=Math.min(ze.e.r,8191),Ke=ze.s.r;Ke<=$e;++Ke)for(var ve=Ma(Ke),se=ze.s.c;se<=ze.e.c;++se){Ke===ze.s.r&&(Oe[se]=rs(se));var Ie=Oe[se]+ve,st=nt?(Le[Ke]||[])[se]:Le[Ie];if(!(!st||st.t=="z"))if(st.t=="n")Tt(X,23,Z(Ke,se,_e,st.v));else{var Ze=Ru(st);Tt(X,22,P(Ke,se,_e,Ze.slice(0,239)))}}++_e}}return Tt(X,1),X.end()}function a(O){var B=ot(2);return B.write_shift(2,O),B}function o(O){var B=ot(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var W=0,X=0,le=0,Ce=0;Ce<O.SheetNames.length;++Ce){var _e=O.SheetNames[Ce],Le=O.Sheets[_e];if(!(!Le||!Le["!ref"])){++le;var ze=Lo(Le["!ref"]);W<ze.e.r&&(W=ze.e.r),X<ze.e.c&&(X=ze.e.c)}}return W>8191&&(W=8191),B.write_shift(2,W),B.write_shift(1,le),B.write_shift(1,X),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function c(O,B,W){var X={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&W.qpro?(X.s.c=O.read_shift(1),O.l++,X.s.r=O.read_shift(2),X.e.c=O.read_shift(1),O.l++,X.e.r=O.read_shift(2),X):(X.s.c=O.read_shift(2),X.s.r=O.read_shift(2),B==12&&W.qpro&&(O.l+=2),X.e.c=O.read_shift(2),X.e.r=O.read_shift(2),B==12&&W.qpro&&(O.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function u(O){var B=ot(8);return B.write_shift(2,O.s.c),B.write_shift(2,O.s.r),B.write_shift(2,O.e.c),B.write_shift(2,O.e.r),B}function f(O,B,W){var X=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(X[0].c=O.read_shift(1),X[3]=O.read_shift(1),X[0].r=O.read_shift(2),O.l+=2):(X[2]=O.read_shift(1),X[0].c=O.read_shift(2),X[0].r=O.read_shift(2)),X}function h(O,B,W){var X=O.l+B,le=f(O,B,W);if(le[1].t="s",W.vers==20768){O.l++;var Ce=O.read_shift(1);return le[1].v=O.read_shift(Ce,"utf8"),le}return W.qpro&&O.l++,le[1].v=O.read_shift(X-O.l,"cstr"),le}function p(O,B,W){var X=ot(7+W.length);X.write_shift(1,255),X.write_shift(2,B),X.write_shift(2,O),X.write_shift(1,39);for(var le=0;le<X.length;++le){var Ce=W.charCodeAt(le);X.write_shift(1,Ce>=128?95:Ce)}return X.write_shift(1,0),X}function x(O,B,W){var X=f(O,B,W);return X[1].v=O.read_shift(2,"i"),X}function b(O,B,W){var X=ot(7);return X.write_shift(1,255),X.write_shift(2,B),X.write_shift(2,O),X.write_shift(2,W,"i"),X}function w(O,B,W){var X=f(O,B,W);return X[1].v=O.read_shift(8,"f"),X}function g(O,B,W){var X=ot(13);return X.write_shift(1,255),X.write_shift(2,B),X.write_shift(2,O),X.write_shift(8,W,"f"),X}function _(O,B,W){var X=O.l+B,le=f(O,B,W);if(le[1].v=O.read_shift(8,"f"),W.qpro)O.l=X;else{var Ce=O.read_shift(2);F(O.slice(O.l,O.l+Ce),le),O.l+=Ce}return le}function j(O,B,W){var X=B&32768;return B&=-32769,B=(X?O:0)+(B>=8192?B-16384:B),(X?"":"$")+(W?rs(B):Ma(B))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(O,B){Ao(O,0);for(var W=[],X=0,le="",Ce="",_e="",Le="";O.l<O.length;){var ze=O[O.l++];switch(ze){case 0:W.push(O.read_shift(8,"f"));break;case 1:Ce=j(B[0].c,O.read_shift(2),!0),le=j(B[0].r,O.read_shift(2),!1),W.push(Ce+le);break;case 2:{var nt=j(B[0].c,O.read_shift(2),!0),Oe=j(B[0].r,O.read_shift(2),!1);Ce=j(B[0].c,O.read_shift(2),!0),le=j(B[0].r,O.read_shift(2),!1),W.push(nt+Oe+":"+Ce+le)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(O.read_shift(2));break;case 6:{for(var $e="";ze=O[O.l++];)$e+=String.fromCharCode(ze);W.push('"'+$e.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:Le=W.pop(),_e=W.pop(),W.push(["AND","OR"][ze-20]+"("+_e+","+Le+")");break;default:if(ze<32&&k[ze])Le=W.pop(),_e=W.pop(),W.push(_e+k[ze]+Le);else if(E[ze]){if(X=E[ze][1],X==69&&(X=O[O.l++]),X>W.length){console.error("WK1 bad formula parse 0x"+ze.toString(16)+":|"+W.join("|")+"|");return}var Ke=W.slice(-X);W.length-=X,W.push(E[ze][0]+"("+Ke.join(",")+")")}else return ze<=7?console.error("WK1 invalid opcode "+ze.toString(16)):ze<=24?console.error("WK1 unsupported op "+ze.toString(16)):ze<=30?console.error("WK1 invalid opcode "+ze.toString(16)):ze<=115?console.error("WK1 unsupported function opcode "+ze.toString(16)):console.error("WK1 unrecognized opcode "+ze.toString(16))}}W.length==1?B[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function V(O){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=O.read_shift(2),B[3]=O[O.l++],B[0].c=O[O.l++],B}function ne(O,B){var W=V(O);return W[1].t="s",W[1].v=O.read_shift(B-4,"cstr"),W}function P(O,B,W,X){var le=ot(6+X.length);le.write_shift(2,O),le.write_shift(1,W),le.write_shift(1,B),le.write_shift(1,39);for(var Ce=0;Ce<X.length;++Ce){var _e=X.charCodeAt(Ce);le.write_shift(1,_e>=128?95:_e)}return le.write_shift(1,0),le}function I(O,B){var W=V(O);W[1].v=O.read_shift(2);var X=W[1].v>>1;if(W[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return W[1].v=X,W}function Y(O,B){var W=V(O),X=O.read_shift(4),le=O.read_shift(4),Ce=O.read_shift(2);if(Ce==65535)return X===0&&le===3221225472?(W[1].t="e",W[1].v=15):X===0&&le===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var _e=Ce&32768;return Ce=(Ce&32767)-16446,W[1].v=(1-_e*2)*(le*Math.pow(2,Ce+32)+X*Math.pow(2,Ce)),W}function Z(O,B,W,X){var le=ot(14);if(le.write_shift(2,O),le.write_shift(1,W),le.write_shift(1,B),X==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Ce=0,_e=0,Le=0,ze=0;return X<0&&(Ce=1,X=-X),_e=Math.log2(X)|0,X/=Math.pow(2,_e-31),ze=X>>>0,(ze&2147483648)==0&&(X/=2,++_e,ze=X>>>0),X-=ze,ze|=2147483648,ze>>>=0,X*=Math.pow(2,32),Le=X>>>0,le.write_shift(4,Le),le.write_shift(4,ze),_e+=16383+(Ce?32768:0),le.write_shift(2,_e),le}function z(O,B){var W=Y(O);return O.l+=B-14,W}function U(O,B){var W=V(O),X=O.read_shift(4);return W[1].v=X>>6,W}function J(O,B){var W=V(O),X=O.read_shift(8,"f");return W[1].v=X,W}function ie(O,B){var W=J(O);return O.l+=B-10,W}function pe(O,B){return O[O.l+B-1]==0?O.read_shift(B,"cstr"):""}function ae(O,B){var W=O[O.l++];W>B-1&&(W=B-1);for(var X="";X.length<W;)X+=String.fromCharCode(O[O.l++]);return X}function ue(O,B,W){if(!(!W.qpro||B<21)){var X=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var le=O.read_shift(B-21,"cstr");return[X,le]}}function Q(O,B){for(var W={},X=O.l+B;O.l<X;){var le=O.read_shift(2);if(le==14e3){for(W[le]=[0,""],W[le][0]=O.read_shift(2);O[O.l];)W[le][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return W}function Ne(O,B){var W=ot(5+O.length);W.write_shift(2,14e3),W.write_shift(2,B);for(var X=0;X<O.length;++X){var le=O.charCodeAt(X);W[W.l++]=le>127?95:le}return W[W.l++]=0,W}var q={0:{n:"BOF",f:kj},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},ke={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ne},23:{n:"NUMBER17",f:Y},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:z},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:J},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:t}}(),ZM=/^\s|\s$|[\t\n\r]/;function Fj(e,t){if(!t.bookSST)return"";var n=[zr];n[n.length]=At("sst",null,{xmlns:Ih[0],count:e.Count,uniqueCount:e.Unique});for(var i=0;i!=e.length;++i)if(e[i]!=null){var r=e[i],a="<si>";r.r?a+=r.r:(a+="<t",r.t||(r.t=""),r.t.match(ZM)&&(a+=' xml:space="preserve"'),a+=">"+vi(r.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function JM(e){return[e.read_shift(4),e.read_shift(4)]}function QM(e,t){return t||(t=ot(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var eF=VD;function tF(e){var t=Ys();gt(t,159,QM(e));for(var n=0;n<e.length;++n)gt(t,19,eF(e[n]));return gt(t,160),t.end()}function nF(e){for(var t=[],n=e.split(""),i=0;i<n.length;++i)t[i]=n[i].charCodeAt(0);return t}function Pj(e){var t=0,n,i=nF(e),r=i.length+1,a,o,c,u,f;for(n=gf(r),n[0]=i.length,a=1;a!=r;++a)n[a]=i[a-1];for(a=r-1;a>=0;--a)o=n[a],c=(t&16384)===0?0:1,u=t<<1&32767,f=c|u,t=f^o;return t^52811}var iF=function(){function e(r,a){switch(a.type){case"base64":return t(Lu(r),a);case"binary":return t(r,a);case"buffer":return t(si&&Buffer.isBuffer(r)?r.toString("binary"):Dm(r),a);case"array":return t(N1(r),a)}throw new Error("Unrecognized type "+a.type)}function t(r,a){var o=a||{},c=o.dense?[]:{},u=r.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,p){Array.isArray(c)&&(c[p]=[]);for(var x=/\\\w+\b/g,b=0,w,g=-1;w=x.exec(h);){switch(w[0]){case"\\cell":var _=h.slice(b,x.lastIndex-w[0].length);if(_[0]==" "&&(_=_.slice(1)),++g,_.length){var j={v:_,t:"s"};Array.isArray(c)?c[p][g]=j:c[bi({r:p,c:g})]=j}break}b=x.lastIndex}g>f.e.c&&(f.e.c=g)}),c["!ref"]=Br(f),c}function n(r,a){return _f(e(r,a),a)}function i(r){for(var a=["{\\rtf1\\ansi"],o=Ki(r["!ref"]),c,u=Array.isArray(r),f=o.s.r;f<=o.e.r;++f){a.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=bi({r:f,c:h});c=u?(r[f]||[])[h]:r[p],!(!c||c.v==null&&(!c.f||c.F))&&(a.push(" "+(c.w||(Ru(c),c.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:i}}();function Z_(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var rF=6,Eu=rF;function Bg(e){return Math.floor((e+Math.round(128/Eu)/256)*Eu)}function zg(e){return Math.floor((e-5)/Eu*100+.5)/100}function wb(e){return Math.round((e*Eu+5)/Eu*256)/256}function S2(e){e.width?(e.wpx=Bg(e.width),e.wch=zg(e.wpx),e.MDW=Eu):e.wpx?(e.wch=zg(e.wpx),e.width=wb(e.wch),e.MDW=Eu):typeof e.wch=="number"&&(e.width=wb(e.wch),e.wpx=Bg(e.width),e.MDW=Eu),e.customWidth&&delete e.customWidth}var aF=96,Ij=aF;function Hg(e){return e*96/Ij}function Bj(e){return e*Ij/96}function sF(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&(t[t.length]=At("numFmt",null,{numFmtId:i,formatCode:vi(e[i])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=At("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function oF(e){var t=[];return t[t.length]=At("cellXfs",null),e.forEach(function(n){t[t.length]=At("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=At("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function zj(e,t){var n=[zr,At("styleSheet",null,{xmlns:Ih[0],"xmlns:vt":ma.vt})],i;return e.SSF&&(i=sF(e.SSF))!=null&&(n[n.length]=i),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=oF(t.cellXfs))&&(n[n.length]=i),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function lF(e,t){var n=e.read_shift(2),i=as(e);return[n,i]}function cF(e,t,n){n||(n=ot(6+4*t.length)),n.write_shift(2,e),ga(t,n);var i=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),i}function uF(e,t,n){var i={};i.sz=e.read_shift(2)/20;var r=ZD(e);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var a=e.read_shift(2);switch(a===700&&(i.bold=1),e.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(i.underline=o);var c=e.read_shift(1);c>0&&(i.family=c);var u=e.read_shift(1);switch(u>0&&(i.charset=u),e.l++,i.color=KD(e),e.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=as(e),i}function dF(e,t){t||(t=ot(25+4*32)),t.write_shift(2,e.sz*20),JD(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Pg(e.color,t);var i=0;return i=2,t.write_shift(1,i),ga(e.name,t),t.length>t.l?t.slice(0,t.l):t}var fF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],pv,hF=Rc;function J_(e,t){t||(t=ot(4*3+8*7+16*1)),pv||(pv=f2(fF));var n=pv[e.patternType];n==null&&(n=40),t.write_shift(4,n);var i=0;if(n!=40)for(Pg({auto:1},t),Pg({auto:1},t);i<12;++i)t.write_shift(4,0);else{for(;i<4;++i)t.write_shift(4,0);for(;i<12;++i)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function mF(e,t){var n=e.l+t,i=e.read_shift(2),r=e.read_shift(2);return e.l=n,{ixfe:i,numFmtId:r}}function Hj(e,t,n){n||(n=ot(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var i=0;return n.write_shift(1,i),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function C0(e,t){return t||(t=ot(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var pF=Rc;function gF(e,t){return t||(t=ot(51)),t.write_shift(1,0),C0(null,t),C0(null,t),C0(null,t),C0(null,t),C0(null,t),t.length>t.l?t.slice(0,t.l):t}function xF(e,t){return t||(t=ot(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Fg(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function vF(e,t,n){var i=ot(2052);return i.write_shift(4,e),Fg(t,i),Fg(n,i),i.length>i.l?i.slice(0,i.l):i}function bF(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&++n}),n!=0&&(gt(e,615,Kl(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&gt(e,44,cF(r,t[r]))}),gt(e,616))}}function yF(e){var t=1;gt(e,611,Kl(t)),gt(e,43,dF({sz:12,color:{theme:1},name:"Calibri",family:2})),gt(e,612)}function wF(e){var t=2;gt(e,603,Kl(t)),gt(e,45,J_({patternType:"none"})),gt(e,45,J_({patternType:"gray125"})),gt(e,604)}function _F(e){var t=1;gt(e,613,Kl(t)),gt(e,46,gF()),gt(e,614)}function NF(e){var t=1;gt(e,626,Kl(t)),gt(e,47,Hj({numFmtId:0},65535)),gt(e,627)}function SF(e,t){gt(e,617,Kl(t.length)),t.forEach(function(n){gt(e,47,Hj(n,0))}),gt(e,618)}function jF(e){var t=1;gt(e,619,Kl(t)),gt(e,48,xF({xfId:0,name:"Normal"})),gt(e,620)}function AF(e){var t=0;gt(e,505,Kl(t)),gt(e,506)}function EF(e){var t=0;gt(e,508,vF(t,"TableStyleMedium9","PivotStyleMedium4")),gt(e,509)}function TF(e,t){var n=Ys();return gt(n,278),bF(n,e.SSF),yF(n),wF(n),_F(n),NF(n),SF(n,t.cellXfs),jF(n),AF(n),EF(n),gt(n,279),n.end()}function Uj(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[zr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function CF(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:as(e)}}function kF(e){var t=ot(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ga(e.name,t),t.slice(0,t.l)}function LF(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function RF(e){var t=ot(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function OF(e,t){var n=ot(8+2*t.length);return n.write_shift(4,e),ga(t,n),n.slice(0,n.l)}function DF(e){return e.l+=4,e.read_shift(4)!=0}function MF(e,t){var n=ot(8);return n.write_shift(4,e),n.write_shift(4,1),n}function FF(){var e=Ys();return gt(e,332),gt(e,334,Kl(1)),gt(e,335,kF({name:"XLDAPR",version:12e4,flags:3496657072})),gt(e,336),gt(e,339,OF(1,"XLDAPR")),gt(e,52),gt(e,35,Kl(514)),gt(e,4096,Kl(0)),gt(e,4097,dl(1)),gt(e,36),gt(e,53),gt(e,340),gt(e,337,MF(1)),gt(e,51,RF([[1,0]])),gt(e,338),gt(e,333),e.end()}function Wj(){var e=[zr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function PF(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=bi(n);var i=e.read_shift(1);return i&2&&(t.l="1"),i&8&&(t.a="1"),t}var xh=1024;function Vj(e,t){for(var n=[21600,21600],i=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),r=[At("xml",null,{"xmlns:v":To.v,"xmlns:o":To.o,"xmlns:x":To.x,"xmlns:mv":To.mv}).replace(/\/>/,">"),At("o:shapelayout",At("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),At("v:shapetype",[At("v:stroke",null,{joinstyle:"miter"}),At("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:i})];xh<e*1e3;)xh+=1e3;return t.forEach(function(a){var o=pa(a[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?At("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=At("v:fill",u,c),h={on:"t",obscured:"t"};++xh,r=r.concat(["<v:shape"+gm({id:"_x0000_s"+xh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,At("v:shadow",null,h),At("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Oa("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Oa("x:AutoFill","False"),Oa("x:Row",String(o.r)),Oa("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function qj(e){var t=[zr,At("comments",null,{xmlns:Ih[0]})],n=[];return t.push("<authors>"),e.forEach(function(i){i[1].forEach(function(r){var a=vi(r.a);n.indexOf(a)==-1&&(n.push(a),t.push("<author>"+a+"</author>")),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(i){var r=0,a=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=n.indexOf("tc="+i[1][0].ID):i[1].forEach(function(u){u.a&&(r=n.indexOf(vi(u.a))),a.push(u.t||"")}),t.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(Oa("t",vi(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,c=1;c<a.length;++c)o+=`Reply:
    `+a[c]+`
`;t.push(Oa("t",vi(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function IF(e,t,n){var i=[zr,At("ThreadedComments",null,{xmlns:ma.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var a="";(r[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?a=u.id:u.parentId=a,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),i.push(At("threadedComment",Oa("text",o.t||""),u))})}),i.push("</ThreadedComments>"),i.join("")}function BF(e){var t=[zr,At("personList",null,{xmlns:ma.TCMNT,"xmlns:x":Ih[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,i){t.push(At("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function zF(e){var t={};t.iauthor=e.read_shift(4);var n=Af(e);return t.rfx=n.s,t.ref=bi(n.s),e.l+=16,t}function HF(e,t){return t==null&&(t=ot(36)),t.write_shift(4,e[1].iauthor),zh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var UF=as;function WF(e){return ga(e.slice(0,54))}function VF(e){var t=Ys(),n=[];return gt(t,628),gt(t,630),e.forEach(function(i){i[1].forEach(function(r){n.indexOf(r.a)>-1||(n.push(r.a.slice(0,54)),gt(t,632,WF(r.a)))})}),gt(t,631),gt(t,633),e.forEach(function(i){i[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var a={s:pa(i[0]),e:pa(i[0])};gt(t,635,HF([a,r])),r.t&&r.t.length>0&&gt(t,637,GD(r)),gt(t,636),delete r.iauthor})}),gt(t,634),gt(t,629),t.end()}function qF(e,t){t.FullPaths.forEach(function(n,i){if(i!=0){var r=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&ji.utils.cfb_add(e,r,t.FileIndex[i].content)}})}var Gj=["xlsb","xlsm","xlam","biff8","xla"],GF=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(i,r,a,o){var c=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=t.c:--h,u?f+=t.r:--f,r+(c?"":"$")+rs(h)+(u?"":"$")+Ma(f)}return function(r,a){return t=a,r.replace(e,n)}}(),j2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,A2=function(){return function(t,n){return t.replace(j2,function(i,r,a,o,c,u){var f=b2(o)-(a?0:n.c),h=v2(u)-(c?0:n.r),p=h==0?"":c?h+1:"["+h+"]",x=f==0?"":a?f+1:"["+f+"]";return r+"R"+p+"C"+x})}}();function $F(e,t){return e.replace(j2,function(n,i,r,a,o,c){return i+(r=="$"?r+a:rs(b2(a)+t.c))+(o=="$"?o+c:Ma(v2(c)+t.r))})}function YF(e){return e.length!=1}function Ir(e){e.l+=1}function Cd(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function $j(e,t,n){var i=2;if(n){if(n.biff>=2&&n.biff<=5)return Yj(e);n.biff==12&&(i=4)}var r=e.read_shift(i),a=e.read_shift(i),o=Cd(e),c=Cd(e);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function Yj(e){var t=Cd(e),n=Cd(e),i=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function XF(e,t,n){if(n.biff<8)return Yj(e);var i=e.read_shift(n.biff==12?4:2),r=e.read_shift(n.biff==12?4:2),a=Cd(e),o=Cd(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function Xj(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return KF(e);var i=e.read_shift(n&&n.biff==12?4:2),r=Cd(e);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function KF(e){var t=Cd(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function ZF(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function JF(e,t,n){var i=n&&n.biff?n.biff:8;if(i>=2&&i<=5)return QF(e);var r=e.read_shift(i>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,c=(a&32768)>>15;if(a&=16383,c==1)for(;r>524287;)r-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r,c:a,cRel:o,rRel:c}}function QF(e){var t=e.read_shift(2),n=e.read_shift(1),i=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,i==1&&t>=8192&&(t=t-16384),r==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:r,rRel:i}}function eP(e,t,n){var i=(e[e.l++]&96)>>5,r=$j(e,n.biff>=2&&n.biff<=5?6:8,n);return[i,r]}function tP(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=$j(e,a,n);return[i,r,o]}function nP(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[i]}function iP(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[i,r]}function rP(e,t,n){var i=(e[e.l++]&96)>>5,r=XF(e,t-1,n);return[i,r]}function aP(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[i]}function Q_(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function sP(e,t,n){e.l+=2;for(var i=e.read_shift(n&&n.biff==2?1:2),r=[],a=0;a<=i;++a)r.push(e.read_shift(n&&n.biff==2?1:2));return r}function oP(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function lP(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function cP(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function uP(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[i]}function Kj(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function dP(e){return e.read_shift(2),Kj(e)}function fP(e){return e.read_shift(2),Kj(e)}function hP(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=Xj(e,0,n);return[i,r]}function mP(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=JF(e,0,n);return[i,r]}function pP(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var a=Xj(e,0,n);return[i,r,a]}function gP(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(n&&n.biff<=3?1:2);return[g9[r],Qj[r],i]}function xP(e,t,n){var i=e[e.l++],r=e.read_shift(1),a=n&&n.biff<=3?[i==88?-1:0,e.read_shift(1)]:vP(e);return[r,(a[0]===0?Qj:p9)[a[1]]]}function vP(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function bP(e,t,n){e.l+=n&&n.biff==2?3:4}function yP(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var i=e.read_shift(2),r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function wP(e){return e.l++,Pm[e.read_shift(1)]}function _P(e){return e.l++,e.read_shift(2)}function NP(e){return e.l++,e.read_shift(1)!==0}function SP(e){return e.l++,Hh(e)}function jP(e,t,n){return e.l++,Rj(e,t-1,n)}function AP(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=pM(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=Pm[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Hh(e);break;case 2:n[1]=bM(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function EP(e,t,n){for(var i=e.read_shift(n.biff==12?4:2),r=[],a=0;a!=i;++a)r.push((n.biff==12?Af:_M)(e));return r}function TP(e,t,n){var i=0,r=0;n.biff==12?(i=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),i=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--i,--r==0&&(r=256));for(var a=0,o=[];a!=i&&(o[a]=[]);++a)for(var c=0;c!=r;++c)o[a][c]=AP(e,n.biff);return o}function CP(e,t,n){var i=e.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,a=e.read_shift(r);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[i,0,a]}function kP(e,t,n){if(n.biff==5)return LP(e);var i=e.read_shift(1)>>>5&3,r=e.read_shift(2),a=e.read_shift(4);return[i,r,a]}function LP(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[t,n,i]}function RP(e,t,n){var i=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function OP(e,t,n){var i=e.read_shift(1)>>>5&3,r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function DP(e,t,n){var i=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[i]}function MP(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[i,r]}var FP=Rc,PP=Rc,IP=Rc;function Im(e,t,n){return e.l+=2,[ZF(e)]}function E2(e){return e.l+=6,[]}var BP=Im,zP=E2,HP=E2,UP=Im;function Zj(e){return e.l+=2,[kj(e),e.read_shift(2)&1]}var WP=Im,VP=Zj,qP=E2,GP=Im,$P=Im,YP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function XP(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r=e.read_shift(2),a=e.read_shift(2),o=YP[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:i,c:r,C:a}}function KP(e){return e.l+=2,[e.read_shift(4)]}function ZP(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function JP(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function QP(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function e9(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function t9(e){return e.l+=4,[0,0]}var eN={1:{n:"PtgExp",f:yP},2:{n:"PtgTbl",f:IP},3:{n:"PtgAdd",f:Ir},4:{n:"PtgSub",f:Ir},5:{n:"PtgMul",f:Ir},6:{n:"PtgDiv",f:Ir},7:{n:"PtgPower",f:Ir},8:{n:"PtgConcat",f:Ir},9:{n:"PtgLt",f:Ir},10:{n:"PtgLe",f:Ir},11:{n:"PtgEq",f:Ir},12:{n:"PtgGe",f:Ir},13:{n:"PtgGt",f:Ir},14:{n:"PtgNe",f:Ir},15:{n:"PtgIsect",f:Ir},16:{n:"PtgUnion",f:Ir},17:{n:"PtgRange",f:Ir},18:{n:"PtgUplus",f:Ir},19:{n:"PtgUminus",f:Ir},20:{n:"PtgPercent",f:Ir},21:{n:"PtgParen",f:Ir},22:{n:"PtgMissArg",f:Ir},23:{n:"PtgStr",f:jP},26:{n:"PtgSheet",f:ZP},27:{n:"PtgEndSheet",f:JP},28:{n:"PtgErr",f:wP},29:{n:"PtgBool",f:NP},30:{n:"PtgInt",f:_P},31:{n:"PtgNum",f:SP},32:{n:"PtgArray",f:aP},33:{n:"PtgFunc",f:gP},34:{n:"PtgFuncVar",f:xP},35:{n:"PtgName",f:CP},36:{n:"PtgRef",f:hP},37:{n:"PtgArea",f:eP},38:{n:"PtgMemArea",f:RP},39:{n:"PtgMemErr",f:FP},40:{n:"PtgMemNoMem",f:PP},41:{n:"PtgMemFunc",f:OP},42:{n:"PtgRefErr",f:DP},43:{n:"PtgAreaErr",f:nP},44:{n:"PtgRefN",f:mP},45:{n:"PtgAreaN",f:rP},46:{n:"PtgMemAreaN",f:QP},47:{n:"PtgMemNoMemN",f:e9},57:{n:"PtgNameX",f:kP},58:{n:"PtgRef3d",f:pP},59:{n:"PtgArea3d",f:tP},60:{n:"PtgRefErr3d",f:MP},61:{n:"PtgAreaErr3d",f:iP},255:{}},n9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},i9={1:{n:"PtgElfLel",f:Zj},2:{n:"PtgElfRw",f:GP},3:{n:"PtgElfCol",f:BP},6:{n:"PtgElfRwV",f:$P},7:{n:"PtgElfColV",f:UP},10:{n:"PtgElfRadical",f:WP},11:{n:"PtgElfRadicalS",f:qP},13:{n:"PtgElfColS",f:zP},15:{n:"PtgElfColSV",f:HP},16:{n:"PtgElfRadicalLel",f:VP},25:{n:"PtgList",f:XP},29:{n:"PtgSxName",f:KP},255:{}},r9={0:{n:"PtgAttrNoop",f:t9},1:{n:"PtgAttrSemi",f:uP},2:{n:"PtgAttrIf",f:lP},4:{n:"PtgAttrChoose",f:sP},8:{n:"PtgAttrGoto",f:oP},16:{n:"PtgAttrSum",f:bP},32:{n:"PtgAttrBaxcel",f:Q_},33:{n:"PtgAttrBaxcel",f:Q_},64:{n:"PtgAttrSpace",f:dP},65:{n:"PtgAttrSpaceSemi",f:fP},128:{n:"PtgAttrIfError",f:cP},255:{}};function a9(e,t,n,i){if(i.biff<8)return Rc(e,t);for(var r=e.l+t,a=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=TP(e,0,i),a.push(n[o][1]);break;case"PtgMemArea":n[o][2]=EP(e,n[o][1],i),a.push(n[o][2]);break;case"PtgExp":i&&i.biff==12&&(n[o][1][1]=e.read_shift(4),a.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=r-e.l,t!==0&&a.push(Rc(e,t)),a}function s9(e,t,n){for(var i=e.l+t,r,a,o=[];i!=e.l;)t=i-e.l,a=e[e.l],r=eN[a]||eN[n9[a]],(a===24||a===25)&&(r=(a===24?i9:r9)[e[e.l+1]]),!r||!r.f?Rc(e,t):o.push([r.n,r.f(e,t,n)]);return o}function o9(e){for(var t=[],n=0;n<e.length;++n){for(var i=e[n],r=[],a=0;a<i.length;++a){var o=i[a];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var l9={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function c9(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Jj(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var i=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!i)return"SH33TJSERR1";var r="";if(n.biff>8)switch(e[i[0]][0]){case 357:return r=i[1]==-1?"#REF":e.SheetNames[i[1]],i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[i[0]][0];case 355:default:return"SH33TJSSRC"+e[i[0]][0]}switch(e[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":e.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 14849:return e[i[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[i[0]][0][3]?(r=i[1]==-1?"#REF":e[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+e[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function tN(e,t,n){var i=Jj(e,t,n);return i=="#REF"?i:c9(i,n)}function Ch(e,t,n,i,r){var a=r&&r.biff||8,o={s:{c:0,r:0}},c=[],u,f,h,p=0,x=0,b,w="";if(!e[0]||!e[0][0])return"";for(var g=-1,_="",j=0,E=e[0].length;j<E;++j){var k=e[0][j];switch(k[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),f=c.pop(),g>=0){switch(e[0][g][1][0]){case 0:_=pr(" ",e[0][g][1][1]);break;case 1:_=pr("\r",e[0][g][1][1]);break;default:if(_="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}f=f+_,g=-1}c.push(f+l9[k[0]]+u);break;case"PtgIsect":u=c.pop(),f=c.pop(),c.push(f+" "+u);break;case"PtgUnion":u=c.pop(),f=c.pop(),c.push(f+","+u);break;case"PtgRange":u=c.pop(),f=c.pop(),c.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=J0(k[1][1],o,r),c.push(Q0(h,a));break;case"PtgRefN":h=n?J0(k[1][1],n,r):k[1][1],c.push(Q0(h,a));break;case"PtgRef3d":p=k[1][1],h=J0(k[1][2],o,r),w=tN(i,p,r),c.push(w+"!"+Q0(h,a));break;case"PtgFunc":case"PtgFuncVar":var F=k[1][0],V=k[1][1];F||(F=0),F&=127;var ne=F==0?[]:c.slice(-F);c.length-=F,V==="User"&&(V=ne.shift()),c.push(V+"("+ne.join(",")+")");break;case"PtgBool":c.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(k[1]);break;case"PtgNum":c.push(String(k[1]));break;case"PtgStr":c.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(k[1]);break;case"PtgAreaN":b=B_(k[1][1],n?{s:n}:o,r),c.push(hv(b,r));break;case"PtgArea":b=B_(k[1][1],o,r),c.push(hv(b,r));break;case"PtgArea3d":p=k[1][1],b=k[1][2],w=tN(i,p,r),c.push(w+"!"+hv(b,r));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=k[1][2];var P=(i.names||[])[x-1]||(i[0]||[])[x],I=P?P.Name:"SH33TJSNAME"+String(x);I&&I.slice(0,6)=="_xlfn."&&!r.xlfn&&(I=I.slice(6)),c.push(I);break;case"PtgNameX":var Y=k[1][1];x=k[1][2];var Z;if(r.biff<=5)Y<0&&(Y=-Y),i[Y]&&(Z=i[Y][x]);else{var z="";if(((i[Y]||[])[0]||[])[0]==14849||(((i[Y]||[])[0]||[])[0]==1025?i[Y][x]&&i[Y][x].itab>0&&(z=i.SheetNames[i[Y][x].itab-1]+"!"):z=i.SheetNames[x-1]+"!"),i[Y]&&i[Y][x])z+=i[Y][x].Name;else if(i[0]&&i[0][x])z+=i[0][x].Name;else{var U=(Jj(i,Y,r)||"").split(";;");U[x-1]?z=U[x-1]:z+="SH33TJSERRX"}c.push(z);break}Z||(Z={Name:"SH33TJSERRY"}),c.push(Z.Name);break;case"PtgParen":var J="(",ie=")";if(g>=0){switch(_="",e[0][g][1][0]){case 2:J=pr(" ",e[0][g][1][1])+J;break;case 3:J=pr("\r",e[0][g][1][1])+J;break;case 4:ie=pr(" ",e[0][g][1][1])+ie;break;case 5:ie=pr("\r",e[0][g][1][1])+ie;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}c.push(J+c.pop()+ie);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:k[1][1],r:k[1][0]};var pe={c:n.c,r:n.r};if(i.sharedf[bi(h)]){var ae=i.sharedf[bi(h)];c.push(Ch(ae,o,pe,i,r))}else{var ue=!1;for(u=0;u!=i.arrayf.length;++u)if(f=i.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){c.push(Ch(f[1],o,pe,i,r)),ue=!0;break}ue||c.push(k[1])}break;case"PtgArray":c.push("{"+o9(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&g>=0&&Q.indexOf(e[0][j][0])==-1){k=e[0][g];var Ne=!0;switch(k[1][0]){case 4:Ne=!1;case 0:_=pr(" ",k[1][1]);break;case 5:Ne=!1;case 1:_=pr("\r",k[1][1]);break;default:if(_="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}c.push((Ne?_:"")+c.pop()+(Ne?"":_)),g=-1}}if(c.length>1&&r.WTF)throw new Error("bad formula stack");return c[0]}function u9(e){if(e==null){var t=ot(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return xf(e);return xf(0)}function d9(e,t,n,i,r){var a=vf(t,n,r),o=u9(e.v),c=ot(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var f=ot(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var p=Ra([a,o,c,f]);return p}function S1(e,t,n){var i=e.read_shift(4),r=s9(e,i,n),a=e.read_shift(4),o=a>0?a9(e,a,r,n):null;return[r,o]}var f9=S1,j1=S1,h9=S1,m9=S1,p9={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Qj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},g9={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function x9(e){var t="of:="+e.replace(j2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function v9(e){return e.replace(/\./,"!")}var em=typeof Map<"u";function T2(e,t,n){var i=0,r=e.length;if(n){if(em?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var a=em?n.get(t):n[t];i<a.length;++i)if(e[a[i]].t===t)return e.Count++,a[i]}}else for(;i<r;++i)if(e[i].t===t)return e.Count++,i;return e[r]={t},e.Count++,e.Unique++,n&&(em?(n.has(t)||n.set(t,[]),n.get(t).push(r)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(r))),r}function A1(e,t){var n={min:e+1,max:e+1},i=-1;return t.MDW&&(Eu=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?i=zg(t.wpx):t.wch!=null&&(i=t.wch),i>-1?(n.width=wb(i),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function eA(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Rd(e,t,n){var i=n.revssf[t.z!=null?t.z:"General"],r=60,a=e.length;if(i==null&&n.ssf){for(;r<392;++r)if(n.ssf[r]==null){X4(t.z,r),n.ssf[r]=t.z,n.revssf[t.z]=i=r;break}}for(r=0;r!=a;++r)if(e[r].numFmtId===i)return r;return e[a]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function b9(e,t,n){if(e&&e["!ref"]){var i=Ki(e["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function y9(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Br(e[n])+'"/>';return t+"</mergeCells>"}function w9(e,t,n,i,r){var a=!1,o={},c=null;if(i.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[n];try{t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}a=!0,o.codeName=pm(vi(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),c=(c||"")+At("outlinePr",null,f)}!a&&!c||(r[r.length]=At("sheetPr",c,o))}var _9=["objects","scenarios","selectLockedCells","selectUnlockedCells"],N9=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function S9(e){var t={sheet:1};return _9.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),N9.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=Pj(e.password).toString(16).toUpperCase()),At("sheetProtection",null,t)}function j9(e){return eA(e),At("pageMargins",null,e)}function A9(e,t){for(var n=["<cols>"],i,r=0;r!=t.length;++r)(i=t[r])&&(n[n.length]=At("col",null,A1(r,i)));return n[n.length]="</cols>",n.join("")}function E9(e,t,n,i){var r=typeof e.ref=="string"?e.ref:Br(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=Lo(r);o.s.r==o.e.r&&(o.e.r=Lo(t["!ref"]).e.r,r=Br(o));for(var c=0;c<a.length;++c){var u=a[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==i){u.Ref="'"+n.SheetNames[i]+"'!"+r;break}}return c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+r}),At("autoFilter",null,{ref:r})}function T9(e,t,n,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),At("sheetViews",At("sheetView",null,r),{})}function C9(e,t,n,i){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var r="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=Pm[e.v];break;case"d":i&&i.cellDates?r=bs(e.v,-1).toISOString():(e=Ks(e),e.t="n",r=""+(e.v=Xs(bs(e.v)))),typeof e.z>"u"&&(e.z=xr[14]);break;default:r=e.v;break}var c=Oa("v",vi(r)),u={r:t},f=Rd(i.cellXfs,e,i);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){c=Oa("v",""+T2(i.Strings,e.v,i.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=At("f",vi(e.f),h)+(e.v!=null?c:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(u.cm=1),At("c",c,u)}function k9(e,t,n,i){var r=[],a=[],o=Ki(e["!ref"]),c="",u,f="",h=[],p=0,x=0,b=e["!rows"],w=Array.isArray(e),g={r:f},_,j=-1;for(x=o.s.c;x<=o.e.c;++x)h[x]=rs(x);for(p=o.s.r;p<=o.e.r;++p){for(a=[],f=Ma(p),x=o.s.c;x<=o.e.c;++x){u=h[x]+f;var E=w?(e[p]||[])[x]:e[u];E!==void 0&&(c=C9(E,u,e,t))!=null&&a.push(c)}(a.length>0||b&&b[p])&&(g={r:f},b&&b[p]&&(_=b[p],_.hidden&&(g.hidden=1),j=-1,_.hpx?j=Hg(_.hpx):_.hpt&&(j=_.hpt),j>-1&&(g.ht=j,g.customHeight=1),_.level&&(g.outlineLevel=_.level)),r[r.length]=At("row",a.join(""),g))}if(b)for(;p<b.length;++p)b&&b[p]&&(g={r:p+1},_=b[p],_.hidden&&(g.hidden=1),j=-1,_.hpx?j=Hg(_.hpx):_.hpt&&(j=_.hpt),j>-1&&(g.ht=j,g.customHeight=1),_.level&&(g.outlineLevel=_.level),r[r.length]=At("row","",g));return r.join("")}function tA(e,t,n,i){var r=[zr,At("worksheet",null,{xmlns:Ih[0],"xmlns:r":ma.r})],a=n.SheetNames[e],o=0,c="",u=n.Sheets[a];u==null&&(u={});var f=u["!ref"]||"A1",h=Ki(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Br(h)}i||(i={}),u["!comments"]=[];var p=[];w9(u,n,e,t,r),r[r.length]=At("dimension",null,{ref:f}),r[r.length]=T9(u,t,e,n),t.sheetFormat&&(r[r.length]=At("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(r[r.length]=A9(u,u["!cols"])),r[o=r.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=k9(u,t),c.length>0&&(r[r.length]=c)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),u["!protect"]&&(r[r.length]=S9(u["!protect"])),u["!autofilter"]!=null&&(r[r.length]=E9(u["!autofilter"],u,n,e)),u["!merges"]!=null&&u["!merges"].length>0&&(r[r.length]=y9(u["!merges"]));var x=-1,b,w=-1;return u["!links"].length>0&&(r[r.length]="<hyperlinks>",u["!links"].forEach(function(g){g[1].Target&&(b={ref:g[0]},g[1].Target.charAt(0)!="#"&&(w=pi(i,-1,vi(g[1].Target).replace(/#.*$/,""),ri.HLINK),b["r:id"]="rId"+w),(x=g[1].Target.indexOf("#"))>-1&&(b.location=vi(g[1].Target.slice(x+1))),g[1].Tooltip&&(b.tooltip=vi(g[1].Tooltip)),r[r.length]=At("hyperlink",null,b))}),r[r.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(r[r.length]=j9(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(r[r.length]=Oa("ignoredErrors",At("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(w=pi(i,-1,"../drawings/drawing"+(e+1)+".xml",ri.DRAW),r[r.length]=At("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=p),u["!comments"].length>0&&(w=pi(i,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ri.VML),r[r.length]=At("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function L9(e,t){var n={},i=e.l+t;n.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=i,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=r/20),n}function R9(e,t,n){var i=ot(145),r=(n["!rows"]||[])[e]||{};i.write_shift(4,e),i.write_shift(4,0);var a=320;r.hpx?a=Hg(r.hpx)*20:r.hpt&&(a=r.hpt*20),i.write_shift(2,a),i.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),i.write_shift(1,o),i.write_shift(1,0);var c=0,u=i.l;i.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,x=-1,b=h<<10;b<h+1<<10;++b){f.c=b;var w=Array.isArray(n)?(n[f.r]||[])[f.c]:n[bi(f)];w&&(p<0&&(p=b),x=b)}p<0||(++c,i.write_shift(4,p),i.write_shift(4,x))}var g=i.l;return i.l=u,i.write_shift(4,c),i.l=g,i.length>i.l?i.slice(0,i.l):i}function O9(e,t,n,i){var r=R9(i,n,t);(r.length>17||(t["!rows"]||[])[i])&&gt(e,0,r)}var D9=Af,M9=zh;function F9(){}function P9(e,t){var n={},i=e[e.l];return++e.l,n.above=!(i&64),n.left=!(i&128),e.l+=18,n.name=$D(e),n}function I9(e,t,n){n==null&&(n=ot(84+4*e.length));var i=192;t&&(t.above&&(i&=-65),t.left&&(i&=-129)),n.write_shift(1,i);for(var r=1;r<3;++r)n.write_shift(1,0);return Pg({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),gj(e,n),n.slice(0,n.l)}function B9(e){var t=pl(e);return[t]}function z9(e,t,n){return n==null&&(n=ot(8)),Nf(t,n)}function H9(e){var t=Sf(e);return[t]}function U9(e,t,n){return n==null&&(n=ot(4)),jf(t,n)}function W9(e){var t=pl(e),n=e.read_shift(1);return[t,n,"b"]}function V9(e,t,n){return n==null&&(n=ot(9)),Nf(t,n),n.write_shift(1,e.v?1:0),n}function q9(e){var t=Sf(e),n=e.read_shift(1);return[t,n,"b"]}function G9(e,t,n){return n==null&&(n=ot(5)),jf(t,n),n.write_shift(1,e.v?1:0),n}function $9(e){var t=pl(e),n=e.read_shift(1);return[t,n,"e"]}function Y9(e,t,n){return n==null&&(n=ot(9)),Nf(t,n),n.write_shift(1,e.v),n}function X9(e){var t=Sf(e),n=e.read_shift(1);return[t,n,"e"]}function K9(e,t,n){return n==null&&(n=ot(8)),jf(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function Z9(e){var t=pl(e),n=e.read_shift(4);return[t,n,"s"]}function J9(e,t,n){return n==null&&(n=ot(12)),Nf(t,n),n.write_shift(4,t.v),n}function Q9(e){var t=Sf(e),n=e.read_shift(4);return[t,n,"s"]}function eI(e,t,n){return n==null&&(n=ot(8)),jf(t,n),n.write_shift(4,t.v),n}function tI(e){var t=pl(e),n=Hh(e);return[t,n,"n"]}function nI(e,t,n){return n==null&&(n=ot(16)),Nf(t,n),xf(e.v,n),n}function iI(e){var t=Sf(e),n=Hh(e);return[t,n,"n"]}function rI(e,t,n){return n==null&&(n=ot(12)),jf(t,n),xf(e.v,n),n}function aI(e){var t=pl(e),n=xj(e);return[t,n,"n"]}function sI(e,t,n){return n==null&&(n=ot(12)),Nf(t,n),vj(e.v,n),n}function oI(e){var t=Sf(e),n=xj(e);return[t,n,"n"]}function lI(e,t,n){return n==null&&(n=ot(8)),jf(t,n),vj(e.v,n),n}function cI(e){var t=pl(e),n=y2(e);return[t,n,"is"]}function uI(e){var t=pl(e),n=as(e);return[t,n,"str"]}function dI(e,t,n){return n==null&&(n=ot(12+4*e.v.length)),Nf(t,n),ga(e.v,n),n.length>n.l?n.slice(0,n.l):n}function fI(e){var t=Sf(e),n=as(e);return[t,n,"str"]}function hI(e,t,n){return n==null&&(n=ot(8+4*e.v.length)),jf(t,n),ga(e.v,n),n.length>n.l?n.slice(0,n.l):n}function mI(e,t,n){var i=e.l+t,r=pl(e);r.r=n["!row"];var a=e.read_shift(1),o=[r,a,"b"];if(n.cellFormula){e.l+=2;var c=j1(e,i-e.l,n);o[3]=Ch(c,null,r,n.supbooks,n)}else e.l=i;return o}function pI(e,t,n){var i=e.l+t,r=pl(e);r.r=n["!row"];var a=e.read_shift(1),o=[r,a,"e"];if(n.cellFormula){e.l+=2;var c=j1(e,i-e.l,n);o[3]=Ch(c,null,r,n.supbooks,n)}else e.l=i;return o}function gI(e,t,n){var i=e.l+t,r=pl(e);r.r=n["!row"];var a=Hh(e),o=[r,a,"n"];if(n.cellFormula){e.l+=2;var c=j1(e,i-e.l,n);o[3]=Ch(c,null,r,n.supbooks,n)}else e.l=i;return o}function xI(e,t,n){var i=e.l+t,r=pl(e);r.r=n["!row"];var a=as(e),o=[r,a,"str"];if(n.cellFormula){e.l+=2;var c=j1(e,i-e.l,n);o[3]=Ch(c,null,r,n.supbooks,n)}else e.l=i;return o}var vI=Af,bI=zh;function yI(e,t){return t==null&&(t=ot(4)),t.write_shift(4,e),t}function wI(e,t){var n=e.l+t,i=Af(e),r=w2(e),a=as(e),o=as(e),c=as(e);e.l=n;var u={rfx:i,relId:r,loc:a,display:c};return o&&(u.Tooltip=o),u}function _I(e,t){var n=ot(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));zh({s:pa(e[0]),e:pa(e[0])},n),_2("rId"+t,n);var i=e[1].Target.indexOf("#"),r=i==-1?"":e[1].Target.slice(i+1);return ga(r||"",n),ga(e[1].Tooltip||"",n),ga("",n),n.slice(0,n.l)}function NI(){}function SI(e,t,n){var i=e.l+t,r=bj(e),a=e.read_shift(1),o=[r];if(o[2]=a,n.cellFormula){var c=f9(e,i-e.l,n);o[1]=c}else e.l=i;return o}function jI(e,t,n){var i=e.l+t,r=Af(e),a=[r];if(n.cellFormula){var o=m9(e,i-e.l,n);a[1]=o,e.l=i}else e.l=i;return a}function AI(e,t,n){n==null&&(n=ot(18));var i=A1(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(i.width||10)*256),n.write_shift(4,0);var r=0;return t.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),t.level&&(r|=t.level<<8),n.write_shift(2,r),n}var nA=["left","right","top","bottom","header","footer"];function EI(e){var t={};return nA.forEach(function(n){t[n]=Hh(e)}),t}function TI(e,t){return t==null&&(t=ot(6*8)),eA(e),nA.forEach(function(n){xf(e[n],t)}),t}function CI(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function kI(e,t,n){n==null&&(n=ot(30));var i=924;return(((t||{}).Views||[])[0]||{}).RTL&&(i|=32),n.write_shift(2,i),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function LI(e){var t=ot(24);return t.write_shift(4,4),t.write_shift(4,1),zh(e,t),t}function RI(e,t){return t==null&&(t=ot(16*4+2)),t.write_shift(2,e.password?Pj(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function OI(){}function DI(){}function MI(e,t,n,i,r,a,o){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=Ks(t),t.z=t.z||xr[14],t.v=Xs(bs(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var u={r:n,c:i};switch(u.s=Rd(r.cellXfs,t,r),t.l&&a["!links"].push([bi(u),t.l]),t.c&&a["!comments"].push([bi(u),t.c]),t.t){case"s":case"str":return r.bookSST?(c=T2(r.Strings,t.v,r.revStrings),u.t="s",u.v=c,o?gt(e,18,eI(t,u)):gt(e,7,J9(t,u))):(u.t="str",o?gt(e,17,hI(t,u)):gt(e,6,dI(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?gt(e,13,lI(t,u)):gt(e,2,sI(t,u)):o?gt(e,16,rI(t,u)):gt(e,5,nI(t,u)),!0;case"b":return u.t="b",o?gt(e,15,G9(t,u)):gt(e,4,V9(t,u)),!0;case"e":return u.t="e",o?gt(e,14,K9(t,u)):gt(e,3,Y9(t,u)),!0}return o?gt(e,12,U9(t,u)):gt(e,1,z9(t,u)),!0}function FI(e,t,n,i){var r=Ki(t["!ref"]||"A1"),a,o="",c=[];gt(e,145);var u=Array.isArray(t),f=r.e.r;t["!rows"]&&(f=Math.max(r.e.r,t["!rows"].length-1));for(var h=r.s.r;h<=f;++h){o=Ma(h),O9(e,t,r,h);var p=!1;if(h<=r.e.r)for(var x=r.s.c;x<=r.e.c;++x){h===r.s.r&&(c[x]=rs(x)),a=c[x]+o;var b=u?(t[h]||[])[x]:t[a];if(!b){p=!1;continue}p=MI(e,b,h,x,i,t,p)}}gt(e,146)}function PI(e,t){!t||!t["!merges"]||(gt(e,177,yI(t["!merges"].length)),t["!merges"].forEach(function(n){gt(e,176,bI(n))}),gt(e,178))}function II(e,t){!t||!t["!cols"]||(gt(e,390),t["!cols"].forEach(function(n,i){n&&gt(e,60,AI(i,n))}),gt(e,391))}function BI(e,t){!t||!t["!ref"]||(gt(e,648),gt(e,649,LI(Ki(t["!ref"]))),gt(e,650))}function zI(e,t,n){t["!links"].forEach(function(i){if(i[1].Target){var r=pi(n,-1,i[1].Target.replace(/#.*$/,""),ri.HLINK);gt(e,494,_I(i,r))}}),delete t["!links"]}function HI(e,t,n,i){if(t["!comments"].length>0){var r=pi(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ri.VML);gt(e,551,_2("rId"+r)),t["!legacy"]=r}}function UI(e,t,n,i){if(t["!autofilter"]){var r=t["!autofilter"],a=typeof r.ref=="string"?r.ref:Br(r.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,c=Lo(a);c.s.r==c.e.r&&(c.e.r=Lo(t["!ref"]).e.r,a=Br(c));for(var u=0;u<o.length;++u){var f=o[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==i){f.Ref="'"+n.SheetNames[i]+"'!"+a;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+a}),gt(e,161,zh(Ki(a))),gt(e,162)}}function WI(e,t,n){gt(e,133),gt(e,137,kI(t,n)),gt(e,138),gt(e,134)}function VI(e,t){t["!protect"]&&gt(e,535,RI(t["!protect"]))}function qI(e,t,n,i){var r=Ys(),a=n.SheetNames[e],o=n.Sheets[a]||{},c=a;try{n&&n.Workbook&&(c=n.Workbook.Sheets[e].CodeName||c)}catch{}var u=Ki(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],gt(r,129),(n.vbaraw||o["!outline"])&&gt(r,147,I9(c,o["!outline"])),gt(r,148,M9(u)),WI(r,o,n.Workbook),II(r,o),FI(r,o,e,t),VI(r,o),UI(r,o,n,e),PI(r,o),zI(r,o,i),o["!margins"]&&gt(r,476,TI(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&BI(r,o),HI(r,o,e,i),gt(r,130),r.end()}function GI(e,t){e.l+=10;var n=as(e);return{name:n}}var $I=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function YI(e){return!e.Workbook||!e.Workbook.WBProps?"false":jD(e.Workbook.WBProps.date1904)?"true":"false"}var XI="][*?/\\".split("");function iA(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return XI.forEach(function(i){if(e.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function KI(e,t,n){e.forEach(function(i,r){iA(i);for(var a=0;a<r;++a)if(i==e[a])throw new Error("Duplicate Sheet Name: "+i);if(n){var o=t&&t[r]&&t[r].CodeName||i;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function ZI(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];KI(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)b9(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function rA(e){var t=[zr];t[t.length]=At("workbook",null,{xmlns:Ih[0],"xmlns:r":ma.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&($I.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(i[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(i.codeName=e.Workbook.WBProps.CodeName,delete i.CodeName)),t[t.length]=At("workbookPr",null,i);var r=e.Workbook&&e.Workbook.Sheets||[],a=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!r[a]||!r[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:vi(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),r[a])switch(r[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=At("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(t[t.length]=At("definedName",vi(c.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function JI(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=yb(e),n.name=as(e),n}function QI(e,t){return t||(t=ot(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),_2(e.strRelID,t),ga(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function eB(e,t){var n={},i=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var r=t>8?as(e):"";return r.length>0&&(n.CodeName=r),n.autoCompressPictures=!!(i&65536),n.backupFile=!!(i&64),n.checkCompatibility=!!(i&4096),n.date1904=!!(i&1),n.filterPrivacy=!!(i&8),n.hidePivotFieldList=!!(i&1024),n.promptedSolutions=!!(i&16),n.publishItems=!!(i&2048),n.refreshAllConnections=!!(i&262144),n.saveExternalLinkValues=!!(i&128),n.showBorderUnselectedTables=!!(i&4),n.showInkAnnotation=!!(i&32),n.showObjects=["all","placeholders","none"][i>>13&3],n.showPivotChartFilter=!!(i&32768),n.updateLinks=["userSet","never","always"][i>>8&3],n}function tB(e,t){t||(t=ot(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),gj(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function nB(e,t,n){var i=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),a=YD(e),o=h9(e,0,n),c=w2(e);e.l=i;var u={Name:a,Ptg:o};return r<268435455&&(u.Sheet=r),c&&(u.Comment=c),u}function iB(e,t){gt(e,143);for(var n=0;n!=t.SheetNames.length;++n){var i=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,r={Hidden:i,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};gt(e,156,QI(r))}gt(e,144)}function rB(e,t){t||(t=ot(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return ga("SheetJS",t),ga(kg.version,t),ga(kg.version,t),ga("7262",t),t.length>t.l?t.slice(0,t.l):t}function aB(e,t){t||(t=ot(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function sB(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,i=0,r=-1,a=-1;i<n.length;++i)!n[i]||!n[i].Hidden&&r==-1?r=i:n[i].Hidden==1&&a==-1&&(a=i);a>r||(gt(e,135),gt(e,158,aB(r)),gt(e,136))}}function oB(e,t){var n=Ys();return gt(n,131),gt(n,128,rB()),gt(n,153,tB(e.Workbook&&e.Workbook.WBProps||null)),sB(n,e),iB(n,e),gt(n,132),n.end()}function lB(e,t,n){return(t.slice(-4)===".bin"?oB:rA)(e)}function cB(e,t,n,i,r){return(t.slice(-4)===".bin"?qI:tA)(e,n,i,r)}function uB(e,t,n){return(t.slice(-4)===".bin"?TF:zj)(e,n)}function dB(e,t,n){return(t.slice(-4)===".bin"?tF:Fj)(e,n)}function fB(e,t,n){return(t.slice(-4)===".bin"?VF:qj)(e)}function hB(e){return(e.slice(-4)===".bin"?FF:Wj)()}function mB(e,t){var n=[];return e.Props&&n.push(uM(e.Props,t)),e.Custprops&&n.push(dM(e.Props,e.Custprops)),n.join("")}function pB(){return""}function gB(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(i,r){var a=[];a.push(At("NumberFormat",null,{"ss:Format":vi(xr[i.numFmtId])}));var o={"ss:ID":"s"+(21+r)};n.push(At("Style",a.join(""),o))}),At("Styles",n.join(""))}function aA(e){return At("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+A2(e.Ref,{r:0,c:0})})}function xB(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],i=0;i<t.length;++i){var r=t[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||n.push(aA(r)))}return At("Names",n.join(""))}function vB(e,t,n,i){if(!e||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,a=[],o=0;o<r.length;++o){var c=r[o];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||a.push(aA(c)))}return a.join("")}function bB(e,t,n,i){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(At("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(At("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(At("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[n])if(i.Workbook.Sheets[n].Hidden)r.push(At("Visible",i.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(i.Workbook.Sheets[a]&&!i.Workbook.Sheets[a].Hidden);++a);a==n&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Oa("ProtectContents","True")),e["!protect"].objects&&r.push(Oa("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Oa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?r.push(Oa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&r.push(Oa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),r.length==0?"":At("WorksheetOptions",r.join(""),{xmlns:To.x})}function yB(e){return e.map(function(t){var n=SD(t.t||""),i=At("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return At("Comment",i,{"ss:Author":t.a})}).join("")}function wB(e,t,n,i,r,a,o){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+vi(A2(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=pa(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=vi(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=vi(e.l.Tooltip))),n["!merges"])for(var f=n["!merges"],h=0;h!=f.length;++h)f[h].s.c!=o.c||f[h].s.r!=o.r||(f[h].e.c>f[h].s.c&&(c["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(c["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",x="";switch(e.t){case"z":if(!i.sheetStubs)return"";break;case"n":p="Number",x=String(e.v);break;case"b":p="Boolean",x=e.v?"1":"0";break;case"e":p="Error",x=Pm[e.v];break;case"d":p="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||xr[14]);break;case"s":p="String",x=ND(e.v||"");break}var b=Rd(i.cellXfs,e,i);c["ss:StyleID"]="s"+(21+b),c["ss:Index"]=o.c+1;var w=e.v!=null?x:"",g=e.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(e.c||[]).length>0&&(g+=yB(e.c)),At("Cell",g,c)}function _B(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Bj(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function NB(e,t,n,i){if(!e["!ref"])return"";var r=Ki(e["!ref"]),a=e["!merges"]||[],o=0,c=[];e["!cols"]&&e["!cols"].forEach(function(_,j){S2(_);var E=!!_.width,k=A1(j,_),F={"ss:Index":j+1};E&&(F["ss:Width"]=Bg(k.width)),_.hidden&&(F["ss:Hidden"]="1"),c.push(At("Column",null,F))});for(var u=Array.isArray(e),f=r.s.r;f<=r.e.r;++f){for(var h=[_B(f,(e["!rows"]||[])[f])],p=r.s.c;p<=r.e.c;++p){var x=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>p)&&!(a[o].s.r>f)&&!(a[o].e.c<p)&&!(a[o].e.r<f)){(a[o].s.c!=p||a[o].s.r!=f)&&(x=!0);break}if(!x){var b={r:f,c:p},w=bi(b),g=u?(e[f]||[])[p]:e[w];h.push(wB(g,w,e,t,n,i,b))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function SB(e,t,n){var i=[],r=n.SheetNames[e],a=n.Sheets[r],o=a?vB(a,t,e,n):"";return o.length>0&&i.push("<Names>"+o+"</Names>"),o=a?NB(a,t,e,n):"",o.length>0&&i.push("<Table>"+o+"</Table>"),i.push(bB(a,t,e,n)),i.join("")}function jB(e,t){t||(t={}),e.SSF||(e.SSF=Ks(xr)),e.SSF&&(w1(),y1(e.SSF),t.revssf=_1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(mB(e,t)),n.push(pB()),n.push(""),n.push("");for(var i=0;i<e.SheetNames.length;++i)n.push(At("Worksheet",SB(i,t,e),{"ss:Name":vi(e.SheetNames[i])}));return n[2]=gB(e,t),n[3]=xB(e),zr+At("Workbook",n.join(""),{xmlns:To.ss,"xmlns:o":To.o,"xmlns:x":To.x,"xmlns:ss":To.ss,"xmlns:dt":To.dt,"xmlns:html":To.html})}var gv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function AB(e,t){var n=[],i=[],r=[],a=0,o,c=T_(H_,"n"),u=T_(U_,"n");if(e.Props)for(o=Fa(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(c,o[a])?n:Object.prototype.hasOwnProperty.call(u,o[a])?i:r).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Fa(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(c,o[a])?n:Object.prototype.hasOwnProperty.call(u,o[a])?i:r).push([o[a],e.Custprops[o[a]]]);var f=[];for(a=0;a<r.length;++a)Cj.indexOf(r[a][0])>-1||Aj.indexOf(r[a][0])>-1||r[a][1]!=null&&f.push(r[a]);i.length&&ji.utils.cfb_add(t,"/SummaryInformation",$_(i,gv.SI,u,U_)),(n.length||f.length)&&ji.utils.cfb_add(t,"/DocumentSummaryInformation",$_(n,gv.DSI,c,H_,f.length?f:null,gv.UDI))}function EB(e,t){var n=t||{},i=ji.utils.cfb_new({root:"R"}),r="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":r="/Workbook",n.biff=8;break;case"biff5":r="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return ji.utils.cfb_add(i,r,sA(e,n)),n.biff==8&&(e.Props||e.Custprops)&&AB(e,i),n.biff==8&&e.vbaraw&&qF(i,ji.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),i}var TB={0:{f:L9},1:{f:B9},2:{f:aI},3:{f:$9},4:{f:W9},5:{f:tI},6:{f:uI},7:{f:Z9},8:{f:xI},9:{f:gI},10:{f:mI},11:{f:pI},12:{f:H9},13:{f:oI},14:{f:X9},15:{f:q9},16:{f:iI},17:{f:fI},18:{f:Q9},19:{f:y2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nB},40:{},42:{},43:{f:uF},44:{f:lF},45:{f:hF},46:{f:pF},47:{f:mF},48:{},49:{f:HD},50:{},51:{f:LF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UM},62:{f:cI},63:{f:PF},64:{f:OI},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Rc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:CI},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:P9},148:{f:D9,p:16},151:{f:NI},152:{},153:{f:eB},154:{},155:{},156:{f:JI},157:{},158:{},159:{T:1,f:JM},160:{T:-1},161:{T:1,f:Af},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:vI},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:CF},336:{T:-1},337:{f:DF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:SI},427:{f:jI},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:EI},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:F9},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wI},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UF},633:{T:1},634:{T:-1},635:{T:1,f:zF},636:{T:-1},637:{f:qD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:GI},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:DI},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Tt(e,t,n,i){var r=t;if(!isNaN(r)){var a=i||(n||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,a),a>0&&x2(n)&&e.push(n)}}function CB(e,t,n,i){var r=(n||[]).length||0;if(r<=8224)return Tt(e,t,n,r);var a=t;if(!isNaN(a)){for(var o=n.parts||[],c=0,u=0,f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;var h=e.next(4);for(h.write_shift(2,a),h.write_shift(2,f),e.push(n.slice(u,u+f)),u+=f;u<r;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;h.write_shift(2,f),e.push(n.slice(u,u+f)),u+=f}}}function Bm(e,t,n){return e||(e=ot(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function kB(e,t,n,i){var r=ot(9);return Bm(r,e,t),Lj(n,i||"b",r),r}function LB(e,t,n){var i=ot(8+2*n.length);return Bm(i,e,t),i.write_shift(1,n.length),i.write_shift(n.length,n,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function RB(e,t,n,i){if(t.v!=null)switch(t.t){case"d":case"n":var r=t.t=="d"?Xs(bs(t.v)):t.v;r==(r|0)&&r>=0&&r<65536?Tt(e,2,GM(n,i,r)):Tt(e,3,qM(n,i,r));return;case"b":case"e":Tt(e,5,kB(n,i,t.v,t.t));return;case"s":case"str":Tt(e,4,LB(n,i,(t.v||"").slice(0,255)));return}Tt(e,1,Bm(null,n,i))}function OB(e,t,n,i){var r=Array.isArray(t),a=Ki(t["!ref"]||"A1"),o,c="",u=[];if(a.e.c>255||a.e.r>16383){if(i.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Br(a)}for(var f=a.s.r;f<=a.e.r;++f){c=Ma(f);for(var h=a.s.c;h<=a.e.c;++h){f===a.s.r&&(u[h]=rs(h)),o=u[h]+c;var p=r?(t[f]||[])[h]:t[o];p&&RB(e,p,f,h)}}}function DB(e,t){for(var n=t||{},i=Ys(),r=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(r=a);if(r==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Tt(i,n.biff==4?1033:n.biff==3?521:9,N2(e,16,n)),OB(i,e.Sheets[e.SheetNames[r]],r,n),Tt(i,10),i.end()}function MB(e,t,n){Tt(e,49,TM({sz:12,name:"Arial"},n))}function FB(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&Tt(e,1054,LM(r,t[r],n))})}function PB(e,t){var n=ot(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Tt(e,2151,n),n=ot(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Dj(Ki(t["!ref"]||"A1"),n),n.write_shift(4,4),Tt(e,2152,n)}function IB(e,t){for(var n=0;n<16;++n)Tt(e,224,X_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(i){Tt(e,224,X_(i,0,t))})}function BB(e,t){for(var n=0;n<t["!links"].length;++n){var i=t["!links"][n];Tt(e,440,BM(i)),i[1].Tooltip&&Tt(e,2048,zM(i))}delete t["!links"]}function zB(e,t){if(t){var n=0;t.forEach(function(i,r){++n<=256&&i&&Tt(e,125,WM(A1(r,i),r))})}}function HB(e,t,n,i,r){var a=16+Rd(r.cellXfs,t,r);if(t.v==null&&!t.bf){Tt(e,513,vf(n,i,a));return}if(t.bf)Tt(e,6,d9(t,n,i,r,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?Xs(bs(t.v)):t.v;Tt(e,515,MM(n,i,o,a));break;case"b":case"e":Tt(e,517,DM(n,i,t.v,a,r,t.t));break;case"s":case"str":if(r.bookSST){var c=T2(r.Strings,t.v,r.revStrings);Tt(e,253,CM(n,i,c,a))}else Tt(e,516,kM(n,i,(t.v||"").slice(0,255),a,r));break;default:Tt(e,513,vf(n,i,a))}}function UB(e,t,n){var i=Ys(),r=n.SheetNames[e],a=n.Sheets[r]||{},o=(n||{}).Workbook||{},c=(o.Sheets||[])[e]||{},u=Array.isArray(a),f=t.biff==8,h,p="",x=[],b=Ki(a["!ref"]||"A1"),w=f?65536:16384;if(b.e.c>255||b.e.r>=w){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");b.e.c=Math.min(b.e.c,255),b.e.r=Math.min(b.e.c,w-1)}Tt(i,2057,N2(n,16,t)),Tt(i,13,dl(1)),Tt(i,12,dl(100)),Tt(i,15,vs(!0)),Tt(i,17,vs(!1)),Tt(i,16,xf(.001)),Tt(i,95,vs(!0)),Tt(i,42,vs(!1)),Tt(i,43,vs(!1)),Tt(i,130,dl(1)),Tt(i,128,OM()),Tt(i,131,vs(!1)),Tt(i,132,vs(!1)),f&&zB(i,a["!cols"]),Tt(i,512,RM(b,t)),f&&(a["!links"]=[]);for(var g=b.s.r;g<=b.e.r;++g){p=Ma(g);for(var _=b.s.c;_<=b.e.c;++_){g===b.s.r&&(x[_]=rs(_)),h=x[_]+p;var j=u?(a[g]||[])[_]:a[h];j&&(HB(i,j,g,_,t),f&&j.l&&a["!links"].push([h,j.l]))}}var E=c.CodeName||c.name||r;return f&&Tt(i,574,EM((o.Views||[])[0])),f&&(a["!merges"]||[]).length&&Tt(i,229,IM(a["!merges"])),f&&BB(i,a),Tt(i,442,Oj(E)),f&&PB(i,a),Tt(i,10),i.end()}function WB(e,t,n){var i=Ys(),r=(e||{}).Workbook||{},a=r.Sheets||[],o=r.WBProps||{},c=n.biff==8,u=n.biff==5;if(Tt(i,2057,N2(e,5,n)),n.bookType=="xla"&&Tt(i,135),Tt(i,225,c?dl(1200):null),Tt(i,193,mM(2)),u&&Tt(i,191),u&&Tt(i,192),Tt(i,226),Tt(i,92,NM("SheetJS",n)),Tt(i,66,dl(c?1200:1252)),c&&Tt(i,353,dl(0)),c&&Tt(i,448),Tt(i,317,VM(e.SheetNames.length)),c&&e.vbaraw&&Tt(i,211),c&&e.vbaraw){var f=o.CodeName||"ThisWorkbook";Tt(i,442,Oj(f))}Tt(i,156,dl(17)),Tt(i,25,vs(!1)),Tt(i,18,vs(!1)),Tt(i,19,dl(0)),c&&Tt(i,431,vs(!1)),c&&Tt(i,444,dl(0)),Tt(i,61,AM()),Tt(i,64,vs(!1)),Tt(i,141,dl(0)),Tt(i,34,vs(YI(e)=="true")),Tt(i,14,vs(!0)),c&&Tt(i,439,vs(!1)),Tt(i,218,dl(0)),MB(i,e,n),FB(i,e.SSF,n),IB(i,n),c&&Tt(i,352,vs(!1));var h=i.end(),p=Ys();c&&Tt(p,140,HM()),c&&n.Strings&&CB(p,252,jM(n.Strings)),Tt(p,10);var x=p.end(),b=Ys(),w=0,g=0;for(g=0;g<e.SheetNames.length;++g)w+=(c?12:11)+(c?2:1)*e.SheetNames[g].length;var _=h.length+w+x.length;for(g=0;g<e.SheetNames.length;++g){var j=a[g]||{};Tt(b,133,SM({pos:_,hs:j.Hidden||0,dt:0,name:e.SheetNames[g]},n)),_+=t[g].length}var E=b.end();if(w!=E.length)throw new Error("BS8 "+w+" != "+E.length);var k=[];return h.length&&k.push(h),E.length&&k.push(E),x.length&&k.push(x),Ra(k)}function VB(e,t){var n=t||{},i=[];e&&!e.SSF&&(e.SSF=Ks(xr)),e&&e.SSF&&(w1(),y1(e.SSF),n.revssf=_1(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,C2(n),n.cellXfs=[],Rd(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)i[i.length]=UB(r,n,e);return i.unshift(WB(e,i,n)),Ra(i)}function sA(e,t){for(var n=0;n<=e.SheetNames.length;++n){var i=e.Sheets[e.SheetNames[n]];if(!(!i||!i["!ref"])){var r=Lo(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return VB(e,t);case 4:case 3:case 2:return DB(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function qB(e,t,n,i){for(var r=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,u=0,f=0;f<r.length;++f)if(!(r[f].s.r>n||r[f].s.c>o)&&!(r[f].e.r<n||r[f].e.c<o)){if(r[f].s.r<n||r[f].s.c<o){c=-1;break}c=r[f].e.r-r[f].s.r+1,u=r[f].e.c-r[f].s.c+1;break}if(!(c<0)){var h=bi({r:n,c:o}),p=i.dense?(e[n]||[])[o]:e[h],x=p&&p.v!=null&&(p.h||_D(p.w||(Ru(p),p.w)||""))||"",b={};c>1&&(b.rowspan=c),u>1&&(b.colspan=u),i.editable?x='<span contenteditable="true">'+x+"</span>":p&&(b["data-t"]=p&&p.t||"z",p.v!=null&&(b["data-v"]=p.v),p.z!=null&&(b["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+p.l.Target+'">'+x+"</a>")),b.id=(i.id||"sjs")+"-"+h,a.push(At("td",x,b))}}var w="<tr>";return w+a.join("")+"</tr>"}var GB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$B="</body></html>";function YB(e,t,n){var i=[];return i.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function oA(e,t){var n=t||{},i=n.header!=null?n.header:GB,r=n.footer!=null?n.footer:$B,a=[i],o=Lo(e["!ref"]);n.dense=Array.isArray(e),a.push(YB(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)a.push(qB(e,o,c,n));return a.push("</table>"+r),a.join("")}function lA(e,t,n){var i=n||{},r=0,a=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var o=typeof i.origin=="string"?pa(i.origin):i.origin;r=o.r,a=o.c}var c=t.getElementsByTagName("tr"),u=Math.min(i.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r,c:a}};if(e["!ref"]){var h=Lo(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),r==-1&&(f.e.r=r=h.e.r+1)}var p=[],x=0,b=e["!rows"]||(e["!rows"]=[]),w=0,g=0,_=0,j=0,E=0,k=0;for(e["!cols"]||(e["!cols"]=[]);w<c.length&&g<u;++w){var F=c[w];if(nN(F)){if(i.display)continue;b[g]={hidden:!0}}var V=F.children;for(_=j=0;_<V.length;++_){var ne=V[_];if(!(i.display&&nN(ne))){var P=ne.hasAttribute("data-v")?ne.getAttribute("data-v"):ne.hasAttribute("v")?ne.getAttribute("v"):AD(ne.innerHTML),I=ne.getAttribute("data-z")||ne.getAttribute("z");for(x=0;x<p.length;++x){var Y=p[x];Y.s.c==j+a&&Y.s.r<g+r&&g+r<=Y.e.r&&(j=Y.e.c+1-a,x=-1)}k=+ne.getAttribute("colspan")||1,((E=+ne.getAttribute("rowspan")||1)>1||k>1)&&p.push({s:{r:g+r,c:j+a},e:{r:g+r+(E||1)-1,c:j+a+(k||1)-1}});var Z={t:"s",v:P},z=ne.getAttribute("data-t")||ne.getAttribute("t")||"";P!=null&&(P.length==0?Z.t=z||"z":i.raw||P.trim().length==0||z=="s"||(P==="TRUE"?Z={t:"b",v:!0}:P==="FALSE"?Z={t:"b",v:!1}:isNaN(Au(P))?isNaN(mm(P).getDate())||(Z={t:"d",v:bs(P)},i.cellDates||(Z={t:"n",v:Xs(Z.v)}),Z.z=i.dateNF||xr[14]):Z={t:"n",v:Au(P)})),Z.z===void 0&&I!=null&&(Z.z=I);var U="",J=ne.getElementsByTagName("A");if(J&&J.length)for(var ie=0;ie<J.length&&!(J[ie].hasAttribute("href")&&(U=J[ie].getAttribute("href"),U.charAt(0)!="#"));++ie);U&&U.charAt(0)!="#"&&(Z.l={Target:U}),i.dense?(e[g+r]||(e[g+r]=[]),e[g+r][j+a]=Z):e[bi({c:j+a,r:g+r})]=Z,f.e.c<j+a&&(f.e.c=j+a),j+=k}}++g}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,g-1+r),e["!ref"]=Br(f),g>=u&&(e["!fullref"]=Br((f.e.r=c.length-w+g-1+r,f))),e}function cA(e,t){var n=t||{},i=n.dense?[]:{};return lA(i,e,t)}function XB(e,t){return _f(cA(e,t),t)}function nN(e){var t="",n=KB(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function KB(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ZB=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+gm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zr+t}}(),iN=function(){var e=function(a){return vi(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,i=function(a,o,c){var u=[];u.push('      <table:table table:name="'+vi(o.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,h=0,p=Lo(a["!ref"]||"A1"),x=a["!merges"]||[],b=0,w=Array.isArray(a);if(a["!cols"])for(h=0;h<=p.e.c;++h)u.push("        <table:table-column"+(a["!cols"][h]?' table:style-name="co'+a["!cols"][h].ods+'"':"")+`></table:table-column>
`);var g="",_=a["!rows"]||[];for(f=0;f<p.s.r;++f)g=_[f]?' table:style-name="ro'+_[f].ods+'"':"",u.push("        <table:table-row"+g+`></table:table-row>
`);for(;f<=p.e.r;++f){for(g=_[f]?' table:style-name="ro'+_[f].ods+'"':"",u.push("        <table:table-row"+g+`>
`),h=0;h<p.s.c;++h)u.push(t);for(;h<=p.e.c;++h){var j=!1,E={},k="";for(b=0;b!=x.length;++b)if(!(x[b].s.c>h)&&!(x[b].s.r>f)&&!(x[b].e.c<h)&&!(x[b].e.r<f)){(x[b].s.c!=h||x[b].s.r!=f)&&(j=!0),E["table:number-columns-spanned"]=x[b].e.c-x[b].s.c+1,E["table:number-rows-spanned"]=x[b].e.r-x[b].s.r+1;break}if(j){u.push(n);continue}var F=bi({r:f,c:h}),V=w?(a[f]||[])[h]:a[F];if(V&&V.f&&(E["table:formula"]=vi(x9(V.f)),V.F&&V.F.slice(0,F.length)==F)){var ne=Lo(V.F);E["table:number-matrix-columns-spanned"]=ne.e.c-ne.s.c+1,E["table:number-matrix-rows-spanned"]=ne.e.r-ne.s.r+1}if(!V){u.push(t);continue}switch(V.t){case"b":k=V.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=V.v?"true":"false";break;case"n":k=V.w||String(V.v||0),E["office:value-type"]="float",E["office:value"]=V.v||0;break;case"s":case"str":k=V.v==null?"":V.v,E["office:value-type"]="string";break;case"d":k=V.w||bs(V.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=bs(V.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var P=e(k);if(V.l&&V.l.Target){var I=V.l.Target;I=I.charAt(0)=="#"?"#"+v9(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),P=At("text:a",P,{"xlink:href":I.replace(/&/g,"&amp;")})}u.push("          "+At("table:table-cell",At("text:p",P,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},r=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;S2(p),p.ods=c;var x=f["!cols"][h].wpx+"px";a.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),a.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var p=f["!rows"][h].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,c){var u=[zr],f=gm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=gm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(Sj().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),r(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)u.push(i(o.Sheets[o.SheetNames[p]],o,p));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function uA(e,t){if(t.bookType=="fods")return iN(e,t);var n=h2(),i="",r=[],a=[];return i="mimetype",Cn(n,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Cn(n,i,iN(e,t)),r.push([i,"text/xml"]),a.push([i,"ContentFile"]),i="styles.xml",Cn(n,i,ZB(e,t)),r.push([i,"text/xml"]),a.push([i,"StylesFile"]),i="meta.xml",Cn(n,i,zr+Sj()),r.push([i,"text/xml"]),a.push([i,"MetadataFile"]),i="manifest.rdf",Cn(n,i,cM(a)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Cn(n,i,oM(r)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ug(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function JB(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):$l(pm(e))}function QB(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var i=0;i<t.length;++i)if(e[n+i]!=t[i])continue e;return!0}return!1}function kd(e){var t=e.reduce(function(r,a){return r+a.length},0),n=new Uint8Array(t),i=0;return e.forEach(function(r){n.set(r,i),i+=r.length}),n}function ez(e,t,n){var i=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,r=n/Math.pow(10,i-6176);e[t+15]|=i>>7,e[t+14]|=(i&127)<<1;for(var a=0;r>=1;++a,r/=256)e[t+a]=r&255;e[t+15]|=n>=0?0:128}function xm(e,t){var n=t?t[0]:0,i=e[n]&127;e:if(e[n++]>=128&&(i|=(e[n]&127)<<7,e[n++]<128||(i|=(e[n]&127)<<14,e[n++]<128)||(i|=(e[n]&127)<<21,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),i}function mi(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Nh(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Zr(e){for(var t=[],n=[0];n[0]<e.length;){var i=n[0],r=xm(e,n),a=r&7;r=Math.floor(r/8);var o=0,c;if(r==0)break;switch(a){case 0:{for(var u=n[0];e[n[0]++]>=128;);c=e.slice(u,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=xm(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(r," at offset ").concat(i))}var f={data:c,type:a};t[r]==null?t[r]=[f]:t[r].push(f)}return t}function ka(e){var t=[];return e.forEach(function(n,i){n.forEach(function(r){r.data&&(t.push(mi(i*8+r.type)),r.type==2&&t.push(mi(r.data.length)),t.push(r.data))})}),kd(t)}function Wl(e){for(var t,n=[],i=[0];i[0]<e.length;){var r=xm(e,i),a=Zr(e.slice(i[0],i[0]+r));i[0]+=r;var o={id:Nh(a[1][0].data),messages:[]};a[2].forEach(function(c){var u=Zr(c.data),f=Nh(u[3][0].data);o.messages.push({meta:u,data:e.slice(i[0],i[0]+f)}),i[0]+=f}),(t=a[3])!=null&&t[0]&&(o.merge=Nh(a[3][0].data)>>>0>0),n.push(o)}return n}function ah(e){var t=[];return e.forEach(function(n){var i=[];i[1]=[{data:mi(n.id),type:0}],i[2]=[],n.merge!=null&&(i[3]=[{data:mi(+!!n.merge),type:0}]);var r=[];n.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:mi(o.data.length)}],i[2].push({data:ka(o.meta),type:2})});var a=ka(i);t.push(mi(a.length)),t.push(a),r.forEach(function(o){return t.push(o)})}),kd(t)}function tz(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],i=xm(t,n),r=[];n[0]<t.length;){var a=t[n[0]]&3;if(a==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[n[0]],c>1&&(o|=t[n[0]+1]<<8),c>2&&(o|=t[n[0]+2]<<16),c>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}r.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,f=0;if(a==1?(f=(t[n[0]]>>2&7)+4,u=(t[n[0]++]&224)<<3,u|=t[n[0]++]):(f=(t[n[0]++]>>2)+1,a==2?(u=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(u=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),r=[kd(r)],u==0)throw new Error("Invalid offset 0");if(u>r[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(r.push(r[0].slice(-u)),f-=u;f>=r[r.length-1].length;)r.push(r[r.length-1]),f-=r[r.length-1].length;r.push(r[0].slice(-u,-u+f))}}var h=kd(r);if(h.length!=i)throw new Error("Unexpected length: ".concat(h.length," != ").concat(i));return h}function Vl(e){for(var t=[],n=0;n<e.length;){var i=e[n++],r=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(tz(i,e.slice(n,n+r))),n+=r}if(n!==e.length)throw new Error("data is not a valid framed stream!");return kd(t)}function sh(e){for(var t=[],n=0;n<e.length;){var i=Math.min(e.length-n,268435455),r=new Uint8Array(4);t.push(r);var a=mi(i),o=a.length;t.push(a),i<=60?(o++,t.push(new Uint8Array([i-1<<2]))):i<=256?(o+=2,t.push(new Uint8Array([240,i-1&255]))):i<=65536?(o+=3,t.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(o+=4,t.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(o+=5,t.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),t.push(e.slice(n,n+i)),o+=i,r[0]=0,r[1]=o&255,r[2]=o>>8&255,r[3]=o>>16&255,n+=i}return kd(t)}function xv(e,t){var n=new Uint8Array(32),i=Ug(n),r=12,a=0;switch(n[0]=5,e.t){case"n":n[1]=2,ez(n,r,e.v),a|=1,r+=16;break;case"b":n[1]=6,i.setFloat64(r,e.v?1:0,!0),a|=2,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,i.setUint32(r,t.indexOf(e.v),!0),a|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(8,a,!0),n.slice(0,r)}function vv(e,t){var n=new Uint8Array(32),i=Ug(n),r=12,a=0;switch(n[0]=3,e.t){case"n":n[2]=2,i.setFloat64(r,e.v,!0),a|=32,r+=8;break;case"b":n[2]=6,i.setFloat64(r,e.v?1:0,!0),a|=32,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,i.setUint32(r,t.indexOf(e.v),!0),a|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(4,a,!0),n.slice(0,r)}function md(e){var t=Zr(e);return xm(t[1][0].data)}function nz(e,t,n){var i,r,a,o;if(!((i=e[6])!=null&&i[0])||!((r=e[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&Nh(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,f=Ug(e[7][0].data),h=0,p=[],x=Ug(e[4][0].data),b=0,w=[],g=0;g<t.length;++g){if(t[g]==null){f.setUint16(g*2,65535,!0),x.setUint16(g*2,65535);continue}f.setUint16(g*2,h,!0),x.setUint16(g*2,b,!0);var _,j;switch(typeof t[g]){case"string":_=xv({t:"s",v:t[g]},n),j=vv({t:"s",v:t[g]},n);break;case"number":_=xv({t:"n",v:t[g]},n),j=vv({t:"n",v:t[g]},n);break;case"boolean":_=xv({t:"b",v:t[g]},n),j=vv({t:"b",v:t[g]},n);break;default:throw new Error("Unsupported value "+t[g])}p.push(_),h+=_.length,w.push(j),b+=j.length,++u}for(e[2][0].data=mi(u);g<e[7][0].data.length/2;++g)f.setUint16(g*2,65535,!0),x.setUint16(g*2,65535,!0);return e[6][0].data=kd(p),e[3][0].data=kd(w),u}function iz(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=Lo(n["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(Br(i)));var a=Wg(n,{range:i,header:1}),o=["~Sh33tJ5~"];a.forEach(function(B){return B.forEach(function(W){typeof W=="string"&&o.push(W)})});var c={},u=[],f=ji.read(t.numbers,{type:"base64"});f.FileIndex.map(function(B,W){return[B,f.FullPaths[W]]}).forEach(function(B){var W=B[0],X=B[1];if(W.type==2&&W.name.match(/\.iwa/)){var le=W.content,Ce=Vl(le),_e=Wl(Ce);_e.forEach(function(Le){u.push(Le.id),c[Le.id]={deps:[],location:X,type:Nh(Le.messages[0].meta[1][0].data)}})}}),u.sort(function(B,W){return B-W});var h=u.filter(function(B){return B>1}).map(function(B){return[B,mi(B)]});f.FileIndex.map(function(B,W){return[B,f.FullPaths[W]]}).forEach(function(B){var W=B[0];if(B[1],!!W.name.match(/\.iwa/)){var X=Wl(Vl(W.content));X.forEach(function(le){le.messages.forEach(function(Ce){h.forEach(function(_e){le.messages.some(function(Le){return Nh(Le.meta[1][0].data)!=11006&&QB(Le.data,_e[1])})&&c[_e[0]].deps.push(le.id)})})})}});for(var p=ji.find(f,c[1].location),x=Wl(Vl(p.content)),b,w=0;w<x.length;++w){var g=x[w];g.id==1&&(b=g)}var _=md(Zr(b.messages[0].data)[1][0].data);for(p=ji.find(f,c[_].location),x=Wl(Vl(p.content)),w=0;w<x.length;++w)g=x[w],g.id==_&&(b=g);for(_=md(Zr(b.messages[0].data)[2][0].data),p=ji.find(f,c[_].location),x=Wl(Vl(p.content)),w=0;w<x.length;++w)g=x[w],g.id==_&&(b=g);for(_=md(Zr(b.messages[0].data)[2][0].data),p=ji.find(f,c[_].location),x=Wl(Vl(p.content)),w=0;w<x.length;++w)g=x[w],g.id==_&&(b=g);var j=Zr(b.messages[0].data);{j[6][0].data=mi(i.e.r+1),j[7][0].data=mi(i.e.c+1);var E=md(j[46][0].data),k=ji.find(f,c[E].location),F=Wl(Vl(k.content));{for(var V=0;V<F.length&&F[V].id!=E;++V);if(F[V].id!=E)throw"Bad ColumnRowUIDMapArchive";var ne=Zr(F[V].messages[0].data);ne[1]=[],ne[2]=[],ne[3]=[];for(var P=0;P<=i.e.c;++P){var I=[];I[1]=I[2]=[{type:0,data:mi(P+420690)}],ne[1].push({type:2,data:ka(I)}),ne[2].push({type:0,data:mi(P)}),ne[3].push({type:0,data:mi(P)})}ne[4]=[],ne[5]=[],ne[6]=[];for(var Y=0;Y<=i.e.r;++Y)I=[],I[1]=I[2]=[{type:0,data:mi(Y+726270)}],ne[4].push({type:2,data:ka(I)}),ne[5].push({type:0,data:mi(Y)}),ne[6].push({type:0,data:mi(Y)});F[V].messages[0].data=ka(ne)}k.content=sh(ah(F)),k.size=k.content.length,delete j[46];var Z=Zr(j[4][0].data);{Z[7][0].data=mi(i.e.r+1);var z=Zr(Z[1][0].data),U=md(z[2][0].data);k=ji.find(f,c[U].location),F=Wl(Vl(k.content));{if(F[0].id!=U)throw"Bad HeaderStorageBucket";var J=Zr(F[0].messages[0].data);for(Y=0;Y<a.length;++Y){var ie=Zr(J[2][0].data);ie[1][0].data=mi(Y),ie[4][0].data=mi(a[Y].length),J[2][Y]={type:J[2][0].type,data:ka(ie)}}F[0].messages[0].data=ka(J)}k.content=sh(ah(F)),k.size=k.content.length;var pe=md(Z[2][0].data);k=ji.find(f,c[pe].location),F=Wl(Vl(k.content));{if(F[0].id!=pe)throw"Bad HeaderStorageBucket";for(J=Zr(F[0].messages[0].data),P=0;P<=i.e.c;++P)ie=Zr(J[2][0].data),ie[1][0].data=mi(P),ie[4][0].data=mi(i.e.r+1),J[2][P]={type:J[2][0].type,data:ka(ie)};F[0].messages[0].data=ka(J)}k.content=sh(ah(F)),k.size=k.content.length;var ae=md(Z[4][0].data);(function(){for(var B=ji.find(f,c[ae].location),W=Wl(Vl(B.content)),X,le=0;le<W.length;++le){var Ce=W[le];Ce.id==ae&&(X=Ce)}var _e=Zr(X.messages[0].data);{_e[3]=[];var Le=[];o.forEach(function(Oe,$e){Le[1]=[{type:0,data:mi($e)}],Le[2]=[{type:0,data:mi(1)}],Le[3]=[{type:2,data:JB(Oe)}],_e[3].push({type:2,data:ka(Le)})})}X.messages[0].data=ka(_e);var ze=ah(W),nt=sh(ze);B.content=nt,B.size=B.content.length})();var ue=Zr(Z[3][0].data);{var Q=ue[1][0];delete ue[2];var Ne=Zr(Q.data);{var q=md(Ne[2][0].data);(function(){for(var B=ji.find(f,c[q].location),W=Wl(Vl(B.content)),X,le=0;le<W.length;++le){var Ce=W[le];Ce.id==q&&(X=Ce)}var _e=Zr(X.messages[0].data);{delete _e[6],delete ue[7];var Le=new Uint8Array(_e[5][0].data);_e[5]=[];for(var ze=0,nt=0;nt<=i.e.r;++nt){var Oe=Zr(Le);ze+=nz(Oe,a[nt],o),Oe[1][0].data=mi(nt),_e[5].push({data:ka(Oe),type:2})}_e[1]=[{type:0,data:mi(i.e.c+1)}],_e[2]=[{type:0,data:mi(i.e.r+1)}],_e[3]=[{type:0,data:mi(ze)}],_e[4]=[{type:0,data:mi(i.e.r+1)}]}X.messages[0].data=ka(_e);var $e=ah(W),Ke=sh($e);B.content=Ke,B.size=B.content.length})()}Q.data=ka(Ne)}Z[3][0].data=ka(ue)}j[4][0].data=ka(Z)}b.messages[0].data=ka(j);var ke=ah(x),O=sh(ke);return p.content=O,p.size=p.content.length,f}function rz(e){return function(n){for(var i=0;i!=e.length;++i){var r=e[i];n[r[0]]===void 0&&(n[r[0]]=r[1]),r[2]==="n"&&(n[r[0]]=Number(n[r[0]]))}}}function C2(e){rz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function az(e,t){return t.bookType=="ods"?uA(e,t):t.bookType=="numbers"?iz(e,t):t.bookType=="xlsb"?sz(e,t):oz(e,t)}function sz(e,t){xh=1024,e&&!e.SSF&&(e.SSF=Ks(xr)),e&&e.SSF&&(w1(),y1(e.SSF),t.revssf=_1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,em?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",i=Gj.indexOf(t.bookType)>-1,r=wj();C2(t=t||{});var a=h2(),o="",c=0;if(t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Cn(a,o,jj(e.Props,t)),r.coreprops.push(o),pi(t.rels,2,o,ri.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Cn(a,o,Ej(e.Props)),r.extprops.push(o),pi(t.rels,3,o,ri.EXT_PROPS),e.Custprops!==e.Props&&Fa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Cn(a,o,Tj(e.Custprops)),r.custprops.push(o),pi(t.rels,4,o,ri.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var h={"!id":{}},p=e.Sheets[e.SheetNames[c-1]],x=(p||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,Cn(a,o,cB(c-1,o,t,e,h)),r.sheets.push(o),pi(t.wbrels,-1,"worksheets/sheet"+c+"."+n,ri.WS[0])}if(p){var b=p["!comments"],w=!1,g="";b&&b.length>0&&(g="xl/comments"+c+"."+n,Cn(a,g,fB(b,g)),r.comments.push(g),pi(h,-1,"../comments"+c+"."+n,ri.CMNT),w=!0),p["!legacy"]&&w&&Cn(a,"xl/drawings/vmlDrawing"+c+".vml",Vj(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Cn(a,Nj(o),wh(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Cn(a,o,dB(t.Strings,o,t)),r.strs.push(o),pi(t.wbrels,-1,"sharedStrings."+n,ri.SST)),o="xl/workbook."+n,Cn(a,o,lB(e,o)),r.workbooks.push(o),pi(t.rels,1,o,ri.WB),o="xl/theme/theme1.xml",Cn(a,o,Uj(e.Themes,t)),r.themes.push(o),pi(t.wbrels,-1,"theme/theme1.xml",ri.THEME),o="xl/styles."+n,Cn(a,o,uB(e,o,t)),r.styles.push(o),pi(t.wbrels,-1,"styles."+n,ri.STY),e.vbaraw&&i&&(o="xl/vbaProject.bin",Cn(a,o,e.vbaraw),r.vba.push(o),pi(t.wbrels,-1,"vbaProject.bin",ri.VBA)),o="xl/metadata."+n,Cn(a,o,hB(o)),r.metadata.push(o),pi(t.wbrels,-1,"metadata."+n,ri.XLMETA),Cn(a,"[Content_Types].xml",_j(r,t)),Cn(a,"_rels/.rels",wh(t.rels)),Cn(a,"xl/_rels/workbook."+n+".rels",wh(t.wbrels)),delete t.revssf,delete t.ssf,a}function oz(e,t){xh=1024,e&&!e.SSF&&(e.SSF=Ks(xr)),e&&e.SSF&&(w1(),y1(e.SSF),t.revssf=_1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,em?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",i=Gj.indexOf(t.bookType)>-1,r=wj();C2(t=t||{});var a=h2(),o="",c=0;if(t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Cn(a,o,jj(e.Props,t)),r.coreprops.push(o),pi(t.rels,2,o,ri.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Cn(a,o,Ej(e.Props)),r.extprops.push(o),pi(t.rels,3,o,ri.EXT_PROPS),e.Custprops!==e.Props&&Fa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Cn(a,o,Tj(e.Custprops)),r.custprops.push(o),pi(t.rels,4,o,ri.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var p={"!id":{}},x=e.Sheets[e.SheetNames[c-1]],b=(x||{})["!type"]||"sheet";switch(b){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,Cn(a,o,tA(c-1,t,e,p)),r.sheets.push(o),pi(t.wbrels,-1,"worksheets/sheet"+c+"."+n,ri.WS[0])}if(x){var w=x["!comments"],g=!1,_="";if(w&&w.length>0){var j=!1;w.forEach(function(E){E[1].forEach(function(k){k.T==!0&&(j=!0)})}),j&&(_="xl/threadedComments/threadedComment"+c+"."+n,Cn(a,_,IF(w,h,t)),r.threadedcomments.push(_),pi(p,-1,"../threadedComments/threadedComment"+c+"."+n,ri.TCMNT)),_="xl/comments"+c+"."+n,Cn(a,_,qj(w)),r.comments.push(_),pi(p,-1,"../comments"+c+"."+n,ri.CMNT),g=!0}x["!legacy"]&&g&&Cn(a,"xl/drawings/vmlDrawing"+c+".vml",Vj(c,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&Cn(a,Nj(o),wh(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Cn(a,o,Fj(t.Strings,t)),r.strs.push(o),pi(t.wbrels,-1,"sharedStrings."+n,ri.SST)),o="xl/workbook."+n,Cn(a,o,rA(e)),r.workbooks.push(o),pi(t.rels,1,o,ri.WB),o="xl/theme/theme1.xml",Cn(a,o,Uj(e.Themes,t)),r.themes.push(o),pi(t.wbrels,-1,"theme/theme1.xml",ri.THEME),o="xl/styles."+n,Cn(a,o,zj(e,t)),r.styles.push(o),pi(t.wbrels,-1,"styles."+n,ri.STY),e.vbaraw&&i&&(o="xl/vbaProject.bin",Cn(a,o,e.vbaraw),r.vba.push(o),pi(t.wbrels,-1,"vbaProject.bin",ri.VBA)),o="xl/metadata."+n,Cn(a,o,Wj()),r.metadata.push(o),pi(t.wbrels,-1,"metadata."+n,ri.XLMETA),h.length>1&&(o="xl/persons/person.xml",Cn(a,o,BF(h)),r.people.push(o),pi(t.wbrels,-1,"persons/person.xml",ri.PEOPLE)),Cn(a,"[Content_Types].xml",_j(r,t)),Cn(a,"_rels/.rels",wh(t.rels)),Cn(a,"xl/_rels/workbook."+n+".rels",wh(t.wbrels)),delete t.revssf,delete t.ssf,a}function lz(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Lu(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function dA(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Mm(t.file,ji.write(e,{type:si?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ji.write(e,t)}function cz(e,t){var n=Ks(t||{}),i=az(e,n);return uz(i,n)}function uz(e,t){var n={},i=si?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=i;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=i;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?ji.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof r=="string"){if(t.type=="binary"||t.type=="base64")return r;r=new Uint8Array(b1(r))}return t.password&&typeof encrypt_agile<"u"?dA(encrypt_agile(r,t.password),t):t.type==="file"?Mm(t.file,r):t.type=="string"?K0(r):r}function dz(e,t){var n=t||{},i=EB(e,n);return dA(i,n)}function Ac(e,t,n){n||(n="");var i=n+e;switch(t.type){case"base64":return hm(pm(i));case"binary":return pm(i);case"string":return e;case"file":return Mm(t.file,i,"utf8");case"buffer":return si?Du(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Ac(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fz(e,t){switch(t.type){case"base64":return hm(e);case"binary":return e;case"string":return e;case"file":return Mm(t.file,e,"binary");case"buffer":return si?Du(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Vp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",i=0;i<e.length;++i)n+=String.fromCharCode(e[i]);return t.type=="base64"?hm(n):t.type=="string"?K0(n):n;case"file":return Mm(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function fA(e,t){z7(),ZI(e);var n=Ks(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var i=fA(e,n);return n.type="array",b1(i)}var r=0;if(n.sheet&&(typeof n.sheet=="number"?r=n.sheet:r=e.SheetNames.indexOf(n.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Ac(jB(e,n),n);case"slk":case"sylk":return Ac(YM.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"htm":case"html":return Ac(oA(e.Sheets[e.SheetNames[r]],n),n);case"txt":return fz(mA(e.Sheets[e.SheetNames[r]],n),n);case"csv":return Ac(k2(e.Sheets[e.SheetNames[r]],n),n,"\uFEFF");case"dif":return Ac(XM.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"dbf":return Vp($M.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"prn":return Ac(KM.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"rtf":return Ac(iF.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"eth":return Ac(Mj.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"fods":return Ac(uA(e,n),n);case"wk1":return Vp(K_.sheet_to_wk1(e.Sheets[e.SheetNames[r]],n),n);case"wk3":return Vp(K_.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Vp(sA(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),dz(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cz(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function hz(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function hA(e,t,n){var i={};return i.type="file",i.file=t,hz(i),fA(e,i)}function mz(e,t,n,i,r,a,o,c){var u=Ma(n),f=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),p=!0,x=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:n,enumerable:!1})}catch{x.__rowNum__=n}else x.__rowNum__=n;if(!o||e[n])for(var b=t.s.c;b<=t.e.c;++b){var w=o?e[n][b]:e[i[b]+u];if(w===void 0||w.t===void 0){if(f===void 0)continue;a[b]!=null&&(x[a[b]]=f);continue}var g=w.v;switch(w.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[b]!=null){if(g==null)if(w.t=="e"&&g===null)x[a[b]]=null;else if(f!==void 0)x[a[b]]=f;else if(h&&g===null)x[a[b]]=null;else continue;else x[a[b]]=h&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?g:Ru(w,g,c);g!=null&&(p=!1)}}return{row:x,isempty:p}}function Wg(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},i=0,r=1,a=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?i=1:f.header==="A"?i=2:Array.isArray(f.header)?i=3:f.header==null&&(i=0),typeof h){case"string":u=Ki(h);break;case"number":u=Ki(e["!ref"]),u.s.r=h;break;default:u=h}i>0&&(r=0);var p=Ma(u.s.r),x=[],b=[],w=0,g=0,_=Array.isArray(e),j=u.s.r,E=0,k={};_&&!e[j]&&(e[j]=[]);var F=f.skipHidden&&e["!cols"]||[],V=f.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(F[E]||{}).hidden)switch(x[E]=rs(E),n=_?e[j][E]:e[x[E]+p],i){case 1:a[E]=E-u.s.c;break;case 2:a[E]=x[E];break;case 3:a[E]=f.header[E-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=Ru(n,null,f),g=k[o]||0,!g)k[o]=1;else{do c=o+"_"+g++;while(k[c]);k[o]=g,k[c]=1}a[E]=c}for(j=u.s.r+r;j<=u.e.r;++j)if(!(V[j]||{}).hidden){var ne=mz(e,u,j,x,i,a,_,f);(ne.isempty===!1||(i===1?f.blankrows!==!1:f.blankrows))&&(b[w++]=ne.row)}return b.length=w,b}var rN=/"/g;function pz(e,t,n,i,r,a,o,c){for(var u=!0,f=[],h="",p=Ma(n),x=t.s.c;x<=t.e.c;++x)if(i[x]){var b=c.dense?(e[n]||[])[x]:e[i[x]+p];if(b==null)h="";else if(b.v!=null){u=!1,h=""+(c.rawNumbers&&b.t=="n"?b.v:Ru(b,null,c));for(var w=0,g=0;w!==h.length;++w)if((g=h.charCodeAt(w))===r||g===a||g===34||c.forceQuotes){h='"'+h.replace(rN,'""')+'"';break}h=="ID"&&(h='"ID"')}else b.f!=null&&!b.F?(u=!1,h="="+b.f,h.indexOf(",")>=0&&(h='"'+h.replace(rN,'""')+'"')):h="";f.push(h)}return c.blankrows===!1&&u?null:f.join(o)}function k2(e,t){var n=[],i=t??{};if(e==null||e["!ref"]==null)return"";var r=Ki(e["!ref"]),a=i.FS!==void 0?i.FS:",",o=a.charCodeAt(0),c=i.RS!==void 0?i.RS:`
`,u=c.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),h="",p=[];i.dense=Array.isArray(e);for(var x=i.skipHidden&&e["!cols"]||[],b=i.skipHidden&&e["!rows"]||[],w=r.s.c;w<=r.e.c;++w)(x[w]||{}).hidden||(p[w]=rs(w));for(var g=0,_=r.s.r;_<=r.e.r;++_)(b[_]||{}).hidden||(h=pz(e,r,_,p,o,u,a,i),h!=null&&(i.strip&&(h=h.replace(f,"")),(h||i.blankrows!==!1)&&n.push((g++?c:"")+h)));return delete i.dense,n.join("")}function mA(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=k2(e,t);return n}function gz(e){var t="",n,i="";if(e==null||e["!ref"]==null)return[];var r=Ki(e["!ref"]),a="",o=[],c,u=[],f=Array.isArray(e);for(c=r.s.c;c<=r.e.c;++c)o[c]=rs(c);for(var h=r.s.r;h<=r.e.r;++h)for(a=Ma(h),c=r.s.c;c<=r.e.c;++c)if(t=o[c]+a,n=f?(e[h]||[])[c]:e[t],i="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;i=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)i=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)i=""+n.v;else if(n.t=="b")i=n.v?"TRUE":"FALSE";else if(n.w!==void 0)i="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?i="'"+n.v:i=""+n.v}}u[u.length]=t+"="+i}return u}function pA(e,t,n){var i=n||{},r=+!i.skipHeader,a=e||{},o=0,c=0;if(a&&i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var u=typeof i.origin=="string"?pa(i.origin):i.origin;o=u.r,c=u.c}var f,h={s:{c:0,r:0},e:{c,r:o+t.length-1+r}};if(a["!ref"]){var p=Ki(a["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+t.length-1+r)}else o==-1&&(o=0,h.e.r=t.length-1+r);var x=i.header||[],b=0;t.forEach(function(g,_){Fa(g).forEach(function(j){(b=x.indexOf(j))==-1&&(x[b=x.length]=j);var E=g[j],k="z",F="",V=bi({c:c+b,r:o+_+r});f=vm(a,V),E&&typeof E=="object"&&!(E instanceof Date)?a[V]=E:(typeof E=="number"?k="n":typeof E=="boolean"?k="b":typeof E=="string"?k="s":E instanceof Date?(k="d",i.cellDates||(k="n",E=Xs(E)),F=i.dateNF||xr[14]):E===null&&i.nullError&&(k="e",E=0),f?(f.t=k,f.v=E,delete f.w,delete f.R,F&&(f.z=F)):a[V]=f={t:k,v:E},F&&(f.z=F))})}),h.e.c=Math.max(h.e.c,c+x.length-1);var w=Ma(o);if(r)for(b=0;b<x.length;++b)a[rs(b+c)+w]={t:"s",v:x[b]};return a["!ref"]=Br(h),a}function xz(e,t){return pA(null,e,t)}function vm(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var i=pa(t);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?vm(e,bi(t)):vm(e,bi({r:t,c:n||0}))}function vz(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function bz(){return{SheetNames:[],Sheets:{}}}function yz(e,t,n,i){var r=1;if(!n)for(;r<=65535&&e.SheetNames.indexOf(n="Sheet"+r)!=-1;++r,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);r=a&&+a[2]||0;var o=a&&a[1]||n;for(++r;r<=65535&&e.SheetNames.indexOf(n=o+r)!=-1;++r);}if(iA(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function wz(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var i=vz(e,t);switch(e.Workbook.Sheets[i]||(e.Workbook.Sheets[i]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[i].Hidden=n}function _z(e,t){return e.z=t,e}function gA(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function Nz(e,t,n){return gA(e,"#"+t,n)}function Sz(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function jz(e,t,n,i){for(var r=typeof t!="string"?t:Ki(t),a=typeof t=="string"?t:Br(t),o=r.s.r;o<=r.e.r;++o)for(var c=r.s.c;c<=r.e.c;++c){var u=vm(e,o,c);u.t="n",u.F=a,delete u.v,o==r.s.r&&c==r.s.c&&(u.f=n,i&&(u.D=!0))}return e}var ha={encode_col:rs,encode_row:Ma,encode_cell:bi,encode_range:Br,decode_col:b2,decode_row:v2,split_cell:zD,decode_cell:pa,decode_range:Lo,format_cell:Ru,sheet_add_aoa:pj,sheet_add_json:pA,sheet_add_dom:lA,aoa_to_sheet:Bh,json_to_sheet:xz,table_to_sheet:cA,table_to_book:XB,sheet_to_csv:k2,sheet_to_txt:mA,sheet_to_json:Wg,sheet_to_html:oA,sheet_to_formulae:gz,sheet_to_row_object_array:Wg,sheet_get_cell:vm,book_new:bz,book_append_sheet:yz,book_set_sheet_visibility:wz,cell_set_number_format:_z,cell_set_hyperlink:gA,cell_set_internal_link:Nz,cell_add_comment:Sz,sheet_set_array_formula:jz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zm(e){return e+.5|0}const wd=(e,t,n)=>Math.max(Math.min(e,n),t);function I0(e){return wd(zm(e*2.55),0,255)}function Sd(e){return wd(zm(e*255),0,255)}function vu(e){return wd(zm(e/2.55)/100,0,1)}function aN(e){return wd(zm(e*100),0,100)}const ll={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_b=[..."0123456789ABCDEF"],Az=e=>_b[e&15],Ez=e=>_b[(e&240)>>4]+_b[e&15],qp=e=>(e&240)>>4===(e&15),Tz=e=>qp(e.r)&&qp(e.g)&&qp(e.b)&&qp(e.a);function Cz(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ll[e[1]]*17,g:255&ll[e[2]]*17,b:255&ll[e[3]]*17,a:t===5?ll[e[4]]*17:255}:(t===7||t===9)&&(n={r:ll[e[1]]<<4|ll[e[2]],g:ll[e[3]]<<4|ll[e[4]],b:ll[e[5]]<<4|ll[e[6]],a:t===9?ll[e[7]]<<4|ll[e[8]]:255})),n}const kz=(e,t)=>e<255?t(e):"";function Lz(e){var t=Tz(e)?Az:Ez;return e?"#"+t(e.r)+t(e.g)+t(e.b)+kz(e.a,t):void 0}const Rz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xA(e,t,n){const i=t*Math.min(n,1-n),r=(a,o=(a+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Oz(e,t,n){const i=(r,a=(r+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Dz(e,t,n){const i=xA(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Mz(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function L2(e){const n=e.r/255,i=e.g/255,r=e.b/255,a=Math.max(n,i,r),o=Math.min(n,i,r),c=(a+o)/2;let u,f,h;return a!==o&&(h=a-o,f=c>.5?h/(2-a-o):h/(a+o),u=Mz(n,i,r,h,a),u=u*60+.5),[u|0,f||0,c]}function R2(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Sd)}function O2(e,t,n){return R2(xA,e,t,n)}function Fz(e,t,n){return R2(Dz,e,t,n)}function Pz(e,t,n){return R2(Oz,e,t,n)}function vA(e){return(e%360+360)%360}function Iz(e){const t=Rz.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?I0(+t[5]):Sd(+t[5]));const r=vA(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Fz(r,a,o):t[1]==="hsv"?i=Pz(r,a,o):i=O2(r,a,o),{r:i[0],g:i[1],b:i[2],a:n}}function Bz(e,t){var n=L2(e);n[0]=vA(n[0]+t),n=O2(n),e.r=n[0],e.g=n[1],e.b=n[2]}function zz(e){if(!e)return;const t=L2(e),n=t[0],i=aN(t[1]),r=aN(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${vu(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const sN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hz(){const e={},t=Object.keys(oN),n=Object.keys(sN);let i,r,a,o,c;for(i=0;i<t.length;i++){for(o=c=t[i],r=0;r<n.length;r++)a=n[r],c=c.replace(a,sN[a]);a=parseInt(oN[o],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let Gp;function Uz(e){Gp||(Gp=Hz(),Gp.transparent=[0,0,0,0]);const t=Gp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Wz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vz(e){const t=Wz.exec(e);let n=255,i,r,a;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?I0(o):wd(o*255,0,255)}return i=+t[1],r=+t[3],a=+t[5],i=255&(t[2]?I0(i):wd(i,0,255)),r=255&(t[4]?I0(r):wd(r,0,255)),a=255&(t[6]?I0(a):wd(a,0,255)),{r:i,g:r,b:a,a:n}}}function qz(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const bv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,oh=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Gz(e,t,n){const i=oh(vu(e.r)),r=oh(vu(e.g)),a=oh(vu(e.b));return{r:Sd(bv(i+n*(oh(vu(t.r))-i))),g:Sd(bv(r+n*(oh(vu(t.g))-r))),b:Sd(bv(a+n*(oh(vu(t.b))-a))),a:e.a+n*(t.a-e.a)}}function $p(e,t,n){if(e){let i=L2(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=O2(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function bA(e,t){return e&&Object.assign(t||{},e)}function lN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Sd(e[3]))):(t=bA(e,{r:0,g:0,b:0,a:1}),t.a=Sd(t.a)),t}function $z(e){return e.charAt(0)==="r"?Vz(e):Iz(e)}class bm{constructor(t){if(t instanceof bm)return t;const n=typeof t;let i;n==="object"?i=lN(t):n==="string"&&(i=Cz(t)||Uz(t)||$z(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=bA(this._rgb);return t&&(t.a=vu(t.a)),t}set rgb(t){this._rgb=lN(t)}rgbString(){return this._valid?qz(this._rgb):void 0}hexString(){return this._valid?Lz(this._rgb):void 0}hslString(){return this._valid?zz(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let a;const o=n===a?.5:n,c=2*o-1,u=i.a-r.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Gz(this._rgb,t._rgb,n)),this}clone(){return new bm(this.rgb)}alpha(t){return this._rgb.a=Sd(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=zm(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $p(this._rgb,2,t),this}darken(t){return $p(this._rgb,2,-t),this}saturate(t){return $p(this._rgb,1,t),this}desaturate(t){return $p(this._rgb,1,-t),this}rotate(t){return Bz(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mu(){}const Yz=(()=>{let e=0;return()=>e++})();function Kn(e){return e==null}function Ar(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function zn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ss(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Nc(e,t){return ss(e)?e:t}function An(e,t){return typeof e>"u"?t:e}const Xz=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,yA=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Li(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ui(e,t,n,i){let r,a,o;if(Ar(e))for(a=e.length,r=0;r<a;r++)t.call(n,e[r],r);else if(zn(e))for(o=Object.keys(e),a=o.length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])}function Vg(e,t){let n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function qg(e){if(Ar(e))return e.map(qg);if(zn(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=qg(e[n[r]]);return t}return e}function wA(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Kz(e,t,n,i){if(!wA(e))return;const r=t[e],a=n[e];zn(r)&&zn(a)?Oc(r,a,i):t[e]=qg(a)}function Oc(e,t,n){const i=Ar(t)?t:[t],r=i.length;if(!zn(e))return e;n=n||{};const a=n.merger||Kz;let o;for(let c=0;c<r;++c){if(o=i[c],!zn(o))continue;const u=Object.keys(o);for(let f=0,h=u.length;f<h;++f)a(u[f],e,o,n)}return e}function tm(e,t){return Oc(e,t,{merger:Zz})}function Zz(e,t,n){if(!wA(e))return;const i=t[e],r=n[e];zn(i)&&zn(r)?tm(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=qg(r))}const cN={"":e=>e,x:e=>e.x,y:e=>e.y};function Jz(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Qz(e){const t=Jz(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function bf(e,t){return(cN[t]||(cN[t]=Qz(t)))(e)}function D2(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ym=e=>typeof e<"u",Ld=e=>typeof e=="function",uN=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function eH(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const gi=Math.PI,rr=2*gi,tH=rr+gi,Gg=Number.POSITIVE_INFINITY,nH=gi/180,Qr=gi/2,Gd=gi/4,dN=gi*2/3,_A=Math.log10,Lc=Math.sign;function nm(e,t,n){return Math.abs(e-t)<n}function fN(e){const t=Math.round(e);e=nm(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(_A(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function iH(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,a)=>r-a).pop(),t}function rH(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wm(e){return!rH(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function aH(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function sH(e,t,n){let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function yu(e){return e*(gi/180)}function oH(e){return e*(180/gi)}function hN(e){if(!ss(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function NA(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*gi&&(a+=rr),{angle:a,distance:r}}function Nb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lH(e,t){return(e-t+tH)%rr-gi}function Eo(e){return(e%rr+rr)%rr}function _m(e,t,n,i){const r=Eo(e),a=Eo(t),o=Eo(n),c=Eo(a-r),u=Eo(o-r),f=Eo(r-a),h=Eo(r-o);return r===a||r===o||i&&a===o||c>u&&f<h}function is(e,t,n){return Math.max(t,Math.min(n,e))}function cH(e){return is(e,-32768,32767)}function wu(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function M2(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,n(a)?r=a:i=a;return{lo:r,hi:i}}const af=(e,t,n,i)=>M2(e,n,i?r=>{const a=e[r][t];return a<n||a===n&&e[r+1][t]===n}:r=>e[r][t]<n),uH=(e,t,n)=>M2(e,n,i=>e[i][t]>=n);function dH(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const SA=["push","pop","shift","splice","unshift"];function fH(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),SA.forEach(n=>{const i="_onData"+D2(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const o=r.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),o}})})}function mN(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(SA.forEach(a=>{delete e[a]}),delete e._chartjs)}function jA(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const AA=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function EA(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,AA.call(window,()=>{i=!1,e.apply(t,n)}))}}function hH(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const F2=e=>e==="start"?"left":e==="end"?"right":"center",es=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,mH=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function pH(e,t,n){const i=t.length;let r=0,a=i;if(e._sorted){const{iScale:o,vScale:c,_parsed:u}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,h=o.axis,{min:p,max:x,minDefined:b,maxDefined:w}=o.getUserBounds();if(b){if(r=Math.min(af(u,h,p).lo,n?i:af(t,h,o.getPixelForValue(p)).lo),f){const g=u.slice(0,r+1).reverse().findIndex(_=>!Kn(_[c.axis]));r-=Math.max(0,g)}r=is(r,0,i-1)}if(w){let g=Math.max(af(u,o.axis,x,!0).hi+1,n?0:af(t,h,o.getPixelForValue(x),!0).hi+1);if(f){const _=u.slice(g-1).findIndex(j=>!Kn(j[c.axis]));g+=Math.max(0,_)}a=is(g,r,i)-r}else a=i-r}return{start:r,count:a}}function gH(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}const Yp=e=>e===0||e===1,pN=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*rr/n)),gN=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*rr/n)+1,im={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Qr)+1,easeOutSine:e=>Math.sin(e*Qr),easeInOutSine:e=>-.5*(Math.cos(gi*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Yp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Yp(e)?e:pN(e,.075,.3),easeOutElastic:e=>Yp(e)?e:gN(e,.075,.3),easeInOutElastic(e){return Yp(e)?e:e<.5?.5*pN(e*2,.1125,.45):.5+.5*gN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-im.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?im.easeInBounce(e*2)*.5:im.easeOutBounce(e*2-1)*.5+.5};function P2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function xN(e){return P2(e)?e:new bm(e)}function yv(e){return P2(e)?e:new bm(e).saturate(.5).darken(.1).hexString()}const xH=["x","y","borderWidth","radius","tension"],vH=["color","borderColor","backgroundColor"];function bH(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:vH},numbers:{type:"number",properties:xH}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yH(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vN=new Map;function wH(e,t){t=t||{};const n=e+JSON.stringify(t);let i=vN.get(n);return i||(i=new Intl.NumberFormat(e,t),vN.set(n,i)),i}function I2(e,t,n){return wH(t,n).format(e)}const _H={values(e){return Ar(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),a=NH(e,n)}const o=_A(Math.abs(a)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),I2(e,i,u)}};function NH(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var TA={formatters:_H};function SH(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:TA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const yf=Object.create(null),Sb=Object.create(null);function rm(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function wv(e,t,n){return typeof t=="string"?Oc(rm(e,t),n):Oc(rm(e,""),t)}class jH{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>yv(r.backgroundColor),this.hoverBorderColor=(i,r)=>yv(r.borderColor),this.hoverColor=(i,r)=>yv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return wv(this,t,n)}get(t){return rm(this,t)}describe(t,n){return wv(Sb,t,n)}override(t,n){return wv(yf,t,n)}route(t,n,i,r){const a=rm(this,t),o=rm(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],f=o[r];return zn(u)?Object.assign({},f,u):An(u,f)},set(u){this[c]=u}}})}apply(t){t.forEach(n=>n(this))}}var gr=new jH({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bH,yH,SH]);function AH(e){return!e||Kn(e.size)||Kn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function bN(e,t,n,i,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i}function $d(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function yN(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function jb(e,t,n,i){CA(e,t,n,i,null)}function CA(e,t,n,i,r){let a,o,c,u,f,h,p,x;const b=t.pointStyle,w=t.rotation,g=t.radius;let _=(w||0)*nH;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(_),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),b){default:r?e.ellipse(n,i,r/2,g,0,0,rr):e.arc(n,i,g,0,rr),e.closePath();break;case"triangle":h=r?r/2:g,e.moveTo(n+Math.sin(_)*h,i-Math.cos(_)*g),_+=dN,e.lineTo(n+Math.sin(_)*h,i-Math.cos(_)*g),_+=dN,e.lineTo(n+Math.sin(_)*h,i-Math.cos(_)*g),e.closePath();break;case"rectRounded":f=g*.516,u=g-f,o=Math.cos(_+Gd)*u,p=Math.cos(_+Gd)*(r?r/2-f:u),c=Math.sin(_+Gd)*u,x=Math.sin(_+Gd)*(r?r/2-f:u),e.arc(n-p,i-c,f,_-gi,_-Qr),e.arc(n+x,i-o,f,_-Qr,_),e.arc(n+p,i+c,f,_,_+Qr),e.arc(n-x,i+o,f,_+Qr,_+gi),e.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*g,h=r?r/2:u,e.rect(n-h,i-u,2*h,2*u);break}_+=Gd;case"rectRot":p=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,c=Math.sin(_)*g,x=Math.sin(_)*(r?r/2:g),e.moveTo(n-p,i-c),e.lineTo(n+x,i-o),e.lineTo(n+p,i+c),e.lineTo(n-x,i+o),e.closePath();break;case"crossRot":_+=Gd;case"cross":p=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,c=Math.sin(_)*g,x=Math.sin(_)*(r?r/2:g),e.moveTo(n-p,i-c),e.lineTo(n+p,i+c),e.moveTo(n+x,i-o),e.lineTo(n-x,i+o);break;case"star":p=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,c=Math.sin(_)*g,x=Math.sin(_)*(r?r/2:g),e.moveTo(n-p,i-c),e.lineTo(n+p,i+c),e.moveTo(n+x,i-o),e.lineTo(n-x,i+o),_+=Gd,p=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,c=Math.sin(_)*g,x=Math.sin(_)*(r?r/2:g),e.moveTo(n-p,i-c),e.lineTo(n+p,i+c),e.moveTo(n+x,i-o),e.lineTo(n-x,i+o);break;case"line":o=r?r/2:Math.cos(_)*g,c=Math.sin(_)*g,e.moveTo(n-o,i-c),e.lineTo(n+o,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(_)*(r?r/2:g),i+Math.sin(_)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Nm(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function E1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function T1(e){e.restore()}function EH(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function TH(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function CH(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Kn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function kH(e,t,n,i,r){if(r.strikethrough||r.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,h=r.strikethrough?(u+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,h),e.lineTo(c,h),e.stroke()}}function LH(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Sm(e,t,n,i,r,a={}){const o=Ar(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let u,f;for(e.save(),e.font=r.string,CH(e,a),u=0;u<o.length;++u)f=o[u],a.backdrop&&LH(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Kn(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),kH(e,n,i,f,a),i+=Number(r.lineHeight);e.restore()}function $g(e,t){const{x:n,y:i,w:r,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*gi,gi,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,gi,Qr,!0),e.lineTo(n+r-o.bottomRight,i+a),e.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,Qr,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Qr,!0),e.lineTo(n+o.topLeft,i)}const RH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DH(e,t){const n=(""+e).match(RH);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const MH=e=>+e||0;function B2(e,t){const n={},i=zn(t),r=i?Object.keys(t):t,a=zn(e)?i?o=>An(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=MH(a(o));return n}function kA(e){return B2(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Sh(e){return B2(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ro(e){const t=kA(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Da(e,t){e=e||{},t=t||gr.font;let n=An(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=An(e.style,t.style);i&&!(""+i).match(OH)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:An(e.family,t.family),lineHeight:DH(An(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:An(e.weight,t.weight),string:""};return r.string=AH(r),r}function Qi(e,t,n,i){let r,a,o;for(r=0,a=e.length;r<a;++r)if(o=e[r],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t)),n!==void 0&&Ar(o)&&(o=o[n%o.length]),o!==void 0))return o}function FH(e,t,n){const{min:i,max:r}=e,a=yA(t,(r-i)/2),o=(c,u)=>n&&c===0?0:c+u;return{min:o(i,-Math.abs(a)),max:o(r,a)}}function Ef(e,t){return Object.assign(Object.create(e),t)}function z2(e,t=[""],n,i,r=()=>e[0]){const a=n||e;typeof i>"u"&&(i=DA("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:r,override:c=>z2([c,...e],t,a,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete e[0][u],!0},get(c,u){return RA(c,u,()=>VH(u,t,e,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,u){return _N(c).includes(u)},ownKeys(c){return _N(c)},set(c,u,f){const h=c._storage||(c._storage=r());return c[u]=h[u]=f,delete c._keys,!0}})}function kh(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:LA(e,i),setContext:a=>kh(e,a,n,i),override:a=>kh(e.override(a),t,n,i)};return new Proxy(r,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,c){return RA(a,o,()=>IH(a,o,c))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,c){return e[o]=c,delete a[o],!0}})}function LA(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ld(n)?n:()=>n,isIndexable:Ld(i)?i:()=>i}}const PH=(e,t)=>e?e+D2(t):t,H2=(e,t)=>zn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function RA(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function IH(e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=e;let c=i[t];return Ld(c)&&o.isScriptable(t)&&(c=BH(t,c,e,n)),Ar(c)&&c.length&&(c=zH(t,c,e,o.isIndexable)),H2(t,c)&&(c=kh(c,r,a&&a[t],o)),c}function BH(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let u=t(a,o||i);return c.delete(e),H2(e,u)&&(u=U2(r._scopes,r,e,u)),u}function zH(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(zn(t[0])){const u=t,f=r._scopes.filter(h=>h!==u);t=[];for(const h of u){const p=U2(f,r,e,h);t.push(kh(p,a,o&&o[e],c))}}return t}function OA(e,t,n){return Ld(e)?e(t,n):e}const HH=(e,t)=>e===!0?t:typeof e=="string"?bf(t,e):void 0;function UH(e,t,n,i,r){for(const a of t){const o=HH(n,a);if(o){e.add(o);const c=OA(o._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function U2(e,t,n,i){const r=t._rootScopes,a=OA(t._fallback,n,i),o=[...e,...r],c=new Set;c.add(i);let u=wN(c,o,n,a||n,i);return u===null||typeof a<"u"&&a!==n&&(u=wN(c,o,a,u,i),u===null)?!1:z2(Array.from(c),[""],r,a,()=>WH(t,n,i))}function wN(e,t,n,i,r){for(;n;)n=UH(e,t,n,i,r);return n}function WH(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return Ar(r)&&zn(n)?n:r||{}}function VH(e,t,n,i){let r;for(const a of t)if(r=DA(PH(a,e),n),typeof r<"u")return H2(e,r)?U2(n,i,e,r):r}function DA(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function _N(e){let t=e._keys;return t||(t=e._keys=qH(e._scopes)),t}function qH(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const GH=Number.EPSILON||1e-14,Lh=(e,t)=>t<e.length&&!e[t].skip&&e[t],MA=e=>e==="x"?"y":"x";function $H(e,t,n,i){const r=e.skip?t:e,a=t,o=n.skip?t:n,c=Nb(a,r),u=Nb(o,a);let f=c/(c+u),h=u/(c+u);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const p=i*f,x=i*h;return{previous:{x:a.x-p*(o.x-r.x),y:a.y-p*(o.y-r.y)},next:{x:a.x+x*(o.x-r.x),y:a.y+x*(o.y-r.y)}}}function YH(e,t,n){const i=e.length;let r,a,o,c,u,f=Lh(e,0);for(let h=0;h<i-1;++h)if(u=f,f=Lh(e,h+1),!(!u||!f)){if(nm(t[h],0,GH)){n[h]=n[h+1]=0;continue}r=n[h]/t[h],a=n[h+1]/t[h],c=Math.pow(r,2)+Math.pow(a,2),!(c<=9)&&(o=3/Math.sqrt(c),n[h]=r*o*t[h],n[h+1]=a*o*t[h])}}function XH(e,t,n="x"){const i=MA(n),r=e.length;let a,o,c,u=Lh(e,0);for(let f=0;f<r;++f){if(o=c,c=u,u=Lh(e,f+1),!c)continue;const h=c[n],p=c[i];o&&(a=(h-o[n])/3,c[`cp1${n}`]=h-a,c[`cp1${i}`]=p-a*t[f]),u&&(a=(u[n]-h)/3,c[`cp2${n}`]=h+a,c[`cp2${i}`]=p+a*t[f])}}function KH(e,t="x"){const n=MA(t),i=e.length,r=Array(i).fill(0),a=Array(i);let o,c,u,f=Lh(e,0);for(o=0;o<i;++o)if(c=u,u=f,f=Lh(e,o+1),!!u){if(f){const h=f[t]-u[t];r[o]=h!==0?(f[n]-u[n])/h:0}a[o]=c?f?Lc(r[o-1])!==Lc(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}YH(e,r,a),XH(e,a,t)}function Xp(e,t,n){return Math.max(Math.min(e,n),t)}function ZH(e,t){let n,i,r,a,o,c=Nm(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=c,c=n<i-1&&Nm(e[n+1],t),a&&(r=e[n],o&&(r.cp1x=Xp(r.cp1x,t.left,t.right),r.cp1y=Xp(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=Xp(r.cp2x,t.left,t.right),r.cp2y=Xp(r.cp2y,t.top,t.bottom)))}function JH(e,t,n,i,r){let a,o,c,u;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")KH(e,r);else{let f=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)c=e[a],u=$H(f,c,e[Math.min(a+1,o-(i?0:1))%o],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}t.capBezierPoints&&ZH(e,n)}function W2(){return typeof window<"u"&&typeof document<"u"}function V2(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Yg(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const C1=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function QH(e,t){return C1(e).getPropertyValue(t)}const eU=["top","right","bottom","left"];function ff(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=eU[r];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function nU(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:a}=i;let o=!1,c,u;if(tU(r,a,e.target))c=r,u=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,u=i.clientY-f.top,o=!0}return{x:c,y:u,box:o}}function Kd(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=C1(n),a=r.boxSizing==="border-box",o=ff(r,"padding"),c=ff(r,"border","width"),{x:u,y:f,box:h}=nU(e,n),p=o.left+(h&&c.left),x=o.top+(h&&c.top);let{width:b,height:w}=t;return a&&(b-=o.width+c.width,w-=o.height+c.height),{x:Math.round((u-p)/b*n.width/i),y:Math.round((f-x)/w*n.height/i)}}function iU(e,t,n){let i,r;if(t===void 0||n===void 0){const a=e&&V2(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const o=a.getBoundingClientRect(),c=C1(a),u=ff(c,"border","width"),f=ff(c,"padding");t=o.width-f.width-u.width,n=o.height-f.height-u.height,i=Yg(c.maxWidth,a,"clientWidth"),r=Yg(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||Gg,maxHeight:r||Gg}}const Kp=e=>Math.round(e*10)/10;function rU(e,t,n,i){const r=C1(e),a=ff(r,"margin"),o=Yg(r.maxWidth,e,"clientWidth")||Gg,c=Yg(r.maxHeight,e,"clientHeight")||Gg,u=iU(e,t,n);let{width:f,height:h}=u;if(r.boxSizing==="content-box"){const x=ff(r,"border","width"),b=ff(r,"padding");f-=b.width+x.width,h-=b.height+x.height}return f=Math.max(0,f-a.width),h=Math.max(0,i?f/i:h-a.height),f=Kp(Math.min(f,o,u.maxWidth)),h=Kp(Math.min(h,c,u.maxHeight)),f&&!h&&(h=Kp(f/2)),(t!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,f=Kp(Math.floor(h*i))),{width:f,height:h}}function NN(e,t,n){const i=t||1,r=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==a?(e.currentDevicePixelRatio=i,o.height=r,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const aU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};W2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function SN(e,t){const n=QH(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Zd(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function sU(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function oU(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=Zd(e,r,n),c=Zd(r,a,n),u=Zd(a,t,n),f=Zd(o,c,n),h=Zd(c,u,n);return Zd(f,h,n)}const lU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},cU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function jh(e,t,n){return e?lU(t,n):cU()}function FA(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function PA(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function IA(e){return e==="angle"?{between:_m,compare:lH,normalize:Eo}:{between:wu,compare:(t,n)=>t-n,normalize:t=>t}}function jN({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function uU(e,t,n){const{property:i,start:r,end:a}=n,{between:o,normalize:c}=IA(i),u=t.length;let{start:f,end:h,loop:p}=e,x,b;if(p){for(f+=u,h+=u,x=0,b=u;x<b&&o(c(t[f%u][i]),r,a);++x)f--,h--;f%=u,h%=u}return h<f&&(h+=u),{start:f,end:h,loop:p,style:e.style}}function BA(e,t,n){if(!n)return[e];const{property:i,start:r,end:a}=n,o=t.length,{compare:c,between:u,normalize:f}=IA(i),{start:h,end:p,loop:x,style:b}=uU(e,t,n),w=[];let g=!1,_=null,j,E,k;const F=()=>u(r,k,j)&&c(r,k)!==0,V=()=>c(a,j)===0||u(a,k,j),ne=()=>g||F(),P=()=>!g||V();for(let I=h,Y=h;I<=p;++I)E=t[I%o],!E.skip&&(j=f(E[i]),j!==k&&(g=u(j,r,a),_===null&&ne()&&(_=c(j,r)===0?I:Y),_!==null&&P()&&(w.push(jN({start:_,end:I,loop:x,count:o,style:b})),_=null),Y=I,k=j));return _!==null&&w.push(jN({start:_,end:p,loop:x,count:o,style:b})),w}function zA(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const a=BA(i[r],e.points,t);a.length&&n.push(...a)}return n}function dU(e,t,n,i){let r=0,a=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}function fU(e,t,n,i){const r=e.length,a=[];let o=t,c=e[t],u;for(u=t+1;u<=n;++u){const f=e[u%r];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%r,end:(u-1)%r,loop:i}),t=o=f.stop?u:null):(o=u,c.skip&&(t=u)),c=f}return o!==null&&a.push({start:t%r,end:o%r,loop:i}),a}function hU(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const a=!!e._loop,{start:o,end:c}=dU(n,r,a,i);if(i===!0)return AN(e,[{start:o,end:c,loop:a}],n,t);const u=c<o?c+r:c,f=!!e._fullLoop&&o===0&&c===r-1;return AN(e,fU(n,o,u,f),n,t)}function AN(e,t,n,i){return!i||!i.setContext||!n?t:mU(e,t,n,i)}function mU(e,t,n,i){const r=e._chart.getContext(),a=EN(e.options),{_datasetIndex:o,options:{spanGaps:c}}=e,u=n.length,f=[];let h=a,p=t[0].start,x=p;function b(w,g,_,j){const E=c?-1:1;if(w!==g){for(w+=u;n[w%u].skip;)w-=E;for(;n[g%u].skip;)g+=E;w%u!==g%u&&(f.push({start:w%u,end:g%u,loop:_,style:j}),h=j,p=g%u)}}for(const w of t){p=c?p:w.start;let g=n[p%u],_;for(x=p+1;x<=w.end;x++){const j=n[x%u];_=EN(i.setContext(Ef(r,{type:"segment",p0:g,p1:j,p0DataIndex:(x-1)%u,p1DataIndex:x%u,datasetIndex:o}))),pU(_,h)&&b(p,x-1,w.loop,h),g=j,h=_}p<x-1&&b(p,x-1,w.loop,h)}return f}function EN(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function pU(e,t){if(!t)return!1;const n=[],i=function(r,a){return P2(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Zp(e,t,n){return e.options.clip?e[n]:t[n]}function gU(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Zp(n,t,"left"),right:Zp(n,t,"right"),top:Zp(i,t,"top"),bottom:Zp(i,t,"bottom")}:t}function HA(e,t){const n=t._clip;if(n.disabled)return!1;const i=gU(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const a=n.listeners[r],o=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=AA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,c=!1,u;for(;o>=0;--o)u=a[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(a[o]=a[a.length-1],a.pop());c&&(r.draw(),this._notify(r,i,t,"progress")),a.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pu=new xU;const TN="transparent",vU={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=xN(e||TN),r=i.valid&&xN(t||TN);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class bU{constructor(t,n,i,r){const a=n[i];r=Qi([t.to,r,a,t.from]);const o=Qi([t.from,a,r]);this._active=!0,this._fn=t.fn||vU[t.type||typeof o],this._easing=im[t.easing]||im.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Qi([t.to,n,r,t.from]),this._from=Qi([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,a=this._from,o=this._loop,c=this._to;let u;if(this._active=a!==c&&(o||n<i),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=a;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(a,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class UA{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!zn(t))return;const n=Object.keys(gr.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!zn(a))return;const o={};for(const c of n)o[c]=a[c];(Ar(a.properties)&&a.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(t,n){const i=n.options,r=wU(t,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&yU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,r=[],a=t.$animations||(t.$animations={}),o=Object.keys(n),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,n));continue}const h=n[f];let p=a[f];const x=i.get(f);if(p)if(x&&p.active()){p.update(x,h,c);continue}else p.cancel();if(!x||!x.duration){t[f]=h;continue}a[f]=p=new bU(x,t,f,h),r.push(p)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return pu.add(this._chart,i),!0}}function yU(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const a=e[i[r]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function wU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function CN(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:r,end:i?r:a}}function _U(e,t,n){if(n===!1)return!1;const i=CN(e,n),r=CN(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function NU(e){let t,n,i,r;return zn(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function WA(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function kN(e,t,n,i={}){const r=e.keys,a=i.mode==="single";let o,c,u,f;if(t===null)return;let h=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===n){if(h=!0,i.all)continue;break}f=e.values[u],ss(f)&&(a||t===0||Lc(t)===Lc(f))&&(t+=f)}return!h&&!i.all?0:t}function SU(e,t){const{iScale:n,vScale:i}=t,r=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(e),c=new Array(o.length);let u,f,h;for(u=0,f=o.length;u<f;++u)h=o[u],c[u]={[r]:h,[a]:e[h]};return c}function _v(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function jU(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function AU(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function EU(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function LN(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const a=e[r.index];if(n&&a>0||!n&&a<0)return r.index}return null}function RN(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:c}=i,u=a.axis,f=o.axis,h=jU(a,o,i),p=t.length;let x;for(let b=0;b<p;++b){const w=t[b],{[u]:g,[f]:_}=w,j=w._stacks||(w._stacks={});x=j[f]=EU(r,h,g),x[c]=_,x._top=LN(x,o,!0,i.type),x._bottom=LN(x,o,!1,i.type);const E=x._visualValues||(x._visualValues={});E[c]=_}}function Nv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function TU(e,t){return Ef(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function CU(e,t,n){return Ef(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function k0(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const a=r._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const Sv=e=>e==="reset"||e==="none",ON=(e,t)=>t?e:Object.assign({},e),kU=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:WA(n,!0),values:null};class hf{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=_v(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&k0(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(p,x,b,w)=>p==="x"?x:p==="r"?w:b,a=n.xAxisID=An(i.xAxisID,Nv(t,"x")),o=n.yAxisID=An(i.yAxisID,Nv(t,"y")),c=n.rAxisID=An(i.rAxisID,Nv(t,"r")),u=n.indexAxis,f=n.iAxisID=r(u,a,o,c),h=n.vAxisID=r(u,o,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mN(this._data,this),t._stacked&&k0(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(zn(n)){const r=this._cachedMeta;this._data=SU(n,r)}else if(i!==n){if(i){mN(i,this);const r=this._cachedMeta;k0(r),r._parsed=[]}n&&Object.isExtensible(n)&&fH(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=n._stacked;n._stacked=_v(n.vScale,n),n.stack!==i.stack&&(r=!0,k0(n),n.stack=i.stack),this._resyncElements(t),(r||a!==n._stacked)&&(RN(this,n._parsed),n._stacked=_v(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:o}=i,c=a.axis;let u=t===0&&n===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],h,p,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{Ar(r[t])?x=this.parseArrayData(i,r,t,n):zn(r[t])?x=this.parseObjectData(i,r,t,n):x=this.parsePrimitiveData(i,r,t,n);const b=()=>p[c]===null||f&&p[c]<f[c];for(h=0;h<n;++h)i._parsed[h+t]=p=x[h],u&&(b()&&(u=!1),f=p);i._sorted=u}o&&RN(this,x)}parsePrimitiveData(t,n,i,r){const{iScale:a,vScale:o}=t,c=a.axis,u=o.axis,f=a.getLabels(),h=a===o,p=new Array(r);let x,b,w;for(x=0,b=r;x<b;++x)w=x+i,p[x]={[c]:h||a.parse(f[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(t,n,i,r){const{xScale:a,yScale:o}=t,c=new Array(r);let u,f,h,p;for(u=0,f=r;u<f;++u)h=u+i,p=n[h],c[u]={x:a.parse(p[0],h),y:o.parse(p[1],h)};return c}parseObjectData(t,n,i,r){const{xScale:a,yScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let h,p,x,b;for(h=0,p=r;h<p;++h)x=h+i,b=n[x],f[h]={x:a.parse(bf(b,c),x),y:o.parse(bf(b,u),x)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,a=this._cachedMeta,o=n[t.axis],c={keys:WA(r,!0),values:n._stacks[t.axis]._visualValues};return kN(c,o,a.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const a=i[n.axis];let o=a===null?NaN:a;const c=r&&i._stacks[n.axis];r&&c&&(r.values=c,o=kN(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&t===i.iScale,o=r.length,c=this._getOtherScale(t),u=kU(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=AU(c);let x,b;function w(){b=r[x];const g=b[c.axis];return!ss(b[t.axis])||h>g||p<g}for(x=0;x<o&&!(!w()&&(this.updateRangeFromParsed(f,t,b,u),a));++x);if(a){for(x=o-1;x>=0;--x)if(!w()){this.updateRangeFromParsed(f,t,b,u);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,a,o;for(r=0,a=n.length;r<a;++r)o=n[r][t.axis],ss(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=NU(An(this.options.clip,_U(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],a=n.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,a,c,u),h=c;h<c+u;++h){const p=r[h];p.hidden||(p.active&&f?o.push(p):p.draw(t,a))}for(h=0;h<o.length;++h)o[h].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=CU(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=TU(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",a=this._cachedDataOpts,o=t+"-"+n,c=a[o],u=this.enableOptionSharing&&ym(i);if(c)return ON(c,u);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,t),p=r?[`${t}Hover`,"hover",t,""]:[t,""],x=f.getOptionScopes(this.getDataset(),h),b=Object.keys(gr.elements[t]),w=()=>this.getContext(i,r,n),g=f.resolveNamedOptions(x,b,w,p);return g.$shared&&(g.$shared=u,a[o]=Object.freeze(ON(g,u))),g}_resolveAnimations(t,n,i){const r=this.chart,a=this._cachedDataOpts,o=`animation-${n}`,c=a[o];if(c)return c;let u;if(r.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),x=h.getOptionScopes(this.getDataset(),p);u=h.createResolver(x,this.getContext(t,i,n))}const f=new UA(r,u&&u.animations);return u&&u._cacheable&&(a[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Sv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,a=this.getSharedOptions(i),o=this.includeOptions(n,a)||a!==r;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:o}}updateElement(t,n,i,r){Sv(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!Sv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const a=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const r=i.length,a=n.length,o=Math.min(a,r);o&&this.parse(0,o),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,n,i=!0){const r=this._cachedMeta,a=r.data,o=t+n;let c;const u=f=>{for(f.length+=n,c=f.length-1;c>=o;c--)f[c]=f[c-n]};for(u(a),c=t;c<o;++c)a[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&k0(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Xt(hf,"defaults",{}),Xt(hf,"datasetElementType",null),Xt(hf,"dataElementType",null);function LU(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,a=n.length;r<a;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=jA(i.sort((r,a)=>r-a))}return e._cache.$bar}function RU(e){const t=e.iScale,n=LU(t,e.type);let i=t._length,r,a,o,c;const u=()=>{o===32767||o===-32768||(ym(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,a=n.length;r<a;++r)o=t.getPixelForValue(n[r]),u();for(c=void 0,r=0,a=t.ticks.length;r<a;++r)o=t.getPixelForTick(r),u();return i}function OU(e,t,n,i){const r=n.barThickness;let a,o;return Kn(r)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}function DU(e,t,n,i){const r=t.pixels,a=r[e];let o=e>0?r[e-1]:null,c=e<r.length-1?r[e+1]:null;const u=n.categoryPercentage;o===null&&(o=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-o);const f=a-(a-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/i,ratio:n.barPercentage,start:f}}function MU(e,t,n,i){const r=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(r,a),c=Math.max(r,a);let u=o,f=c;Math.abs(o)>Math.abs(c)&&(u=c,f=o),t[n.axis]=f,t._custom={barStart:u,barEnd:f,start:r,end:a,min:o,max:c}}function VA(e,t,n,i){return Ar(e)?MU(e,t,n,i):t[n.axis]=n.parse(e,i),t}function DN(e,t,n,i){const r=e.iScale,a=e.vScale,o=r.getLabels(),c=r===a,u=[];let f,h,p,x;for(f=n,h=n+i;f<h;++f)x=t[f],p={},p[r.axis]=c||r.parse(o[f],f),u.push(VA(x,p,a,f));return u}function jv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function FU(e,t,n){return e!==0?Lc(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function PU(e){let t,n,i,r,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:t,top:r,bottom:a}}function IU(e,t,n,i){let r=t.borderSkipped;const a={};if(!r){e.borderSkipped=a;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:f,bottom:h}=PU(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=f:(n._bottom||0)===i?r=h:(a[MN(h,o,c,u)]=!0,r=f)),a[MN(r,o,c,u)]=!0,e.borderSkipped=a}function MN(e,t,n,i){return i?(e=BU(e,t,n),e=FN(e,n,t)):e=FN(e,t,n),e}function BU(e,t,n){return e===t?n:e===n?t:e}function FN(e,t,n){return e==="start"?t:e==="end"?n:e}function zU(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class vg extends hf{parsePrimitiveData(t,n,i,r){return DN(t,n,i,r)}parseArrayData(t,n,i,r){return DN(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:a,vScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=a.axis==="x"?c:u,h=o.axis==="x"?c:u,p=[];let x,b,w,g;for(x=i,b=i+r;x<b;++x)g=n[x],w={},w[a.axis]=a.parse(bf(g,f),x),p.push(VA(bf(g,h),w,o,x));return p}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,a=this.getParsed(t),o=a._custom,c=jv(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const a=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),f=c.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:x}=this._getSharedOptions(n,r);for(let b=n;b<n+i;b++){const w=this.getParsed(b),g=a||Kn(w[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(b),_=this._calculateBarIndexPixels(b,h),j=(w._stacks||{})[c.axis],E={horizontal:f,base:g.base,enableBorderRadius:!j||jv(w._custom)||o===j._top||o===j._bottom,x:f?g.head:_.center,y:f?_.center:g.head,height:f?_.size:Math.abs(g.size),width:f?Math.abs(g.size):_.size};x&&(E.options=p||this.resolveDataElementOptions(b,t[b].active?"active":r));const k=E.options||t[b].options;IU(E,k,j,o),zU(E,k,h.ratio),this.updateElement(t[b],b,E,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[i.axis],f=h=>{const p=h._parsed.find(b=>b[i.axis]===u),x=p&&p[h.vScale.axis];if(Kn(x)||isNaN(x))return!0};for(const h of r)if(!(n!==void 0&&f(h))&&((a===!1||o.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[An(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const r=this._getStacks(t,i),a=n!==void 0?r.indexOf(n):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let a,o;for(a=0,o=n.data.length;a<o;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||RU(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:a,minBarLength:o}}=this,c=a||0,u=this.getParsed(t),f=u._custom,h=jv(f);let p=u[n.axis],x=0,b=i?this.applyStack(n,u,i):p,w,g;b!==p&&(x=b-p,b=p),h&&(p=f.barStart,b=f.barEnd-f.barStart,p!==0&&Lc(p)!==Lc(f.barEnd)&&(x=0),x+=p);const _=!Kn(a)&&!h?a:x;let j=n.getPixelForValue(_);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(x+b):w=j,g=w-j,Math.abs(g)<o){g=FU(g,n,c)*o,p===c&&(j-=g/2);const E=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),F=Math.min(E,k),V=Math.max(E,k);j=Math.max(Math.min(j,V),F),w=j+g,i&&!h&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(w)-n.getValueForPixel(j))}if(j===n.getPixelForValue(c)){const E=Lc(g)*n.getLineWidthForValue(c)/2;j+=E,g-=E}return{size:g,base:j,head:w,center:w+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,a=r.skipNull,o=An(r.maxBarThickness,1/0);let c,u;const f=this._getAxisCount();if(n.grouped){const h=a?this._getStackCount(t):n.stackCount,p=r.barThickness==="flex"?DU(t,n,r,h*f):OU(t,n,r,h*f),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(An(x,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+b;c=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(o,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let a=0;for(;a<r;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Xt(vg,"id","bar"),Xt(vg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Xt(vg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function HU(e,t,n){let i=1,r=1,a=0,o=0;if(t<rr){const c=e,u=c+t,f=Math.cos(c),h=Math.sin(c),p=Math.cos(u),x=Math.sin(u),b=(k,F,V)=>_m(k,c,u,!0)?1:Math.max(F,F*n,V,V*n),w=(k,F,V)=>_m(k,c,u,!0)?-1:Math.min(F,F*n,V,V*n),g=b(0,f,p),_=b(Qr,h,x),j=w(gi,f,p),E=w(gi+Qr,h,x);i=(g-j)/2,r=(_-E)/2,a=-(g+j)/2,o=-(_+E)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}class B0 extends hf{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=u=>+i[u];if(zn(i[t])){const{key:u="value"}=this._parsing;a=f=>+bf(i[f],u)}let o,c;for(o=t,c=t+n;o<c;++o)r._parsed[o]=a(o)}}_getRotation(){return yu(this.options.rotation-90)}_getCircumference(){return yu(this.options.circumference)}_getRotationExtents(){let t=rr,n=-rr;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),o=r._getCircumference();t=Math.min(t,a),n=Math.max(n,a+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,a=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(Xz(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:x,ratioY:b,offsetX:w,offsetY:g}=HU(p,h,u),_=(i.width-o)/x,j=(i.height-o)/b,E=Math.max(Math.min(_,j)/2,0),k=yA(this.options.radius,E),F=Math.max(k*u,0),V=(k-F)/this._getVisibleDatasetWeightTotal();this.offsetX=w*k,this.offsetY=g*k,r.total=this.calculateTotal(),this.outerRadius=k-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/rr)}updateElements(t,n,i,r){const a=r==="reset",o=this.chart,c=o.chartArea,f=o.options.animation,h=(c.left+c.right)/2,p=(c.top+c.bottom)/2,x=a&&f.animateScale,b=x?0:this.innerRadius,w=x?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,r);let j=this._getRotation(),E;for(E=0;E<n;++E)j+=this._circumference(E,a);for(E=n;E<n+i;++E){const k=this._circumference(E,a),F=t[E],V={x:h+this.offsetX,y:p+this.offsetY,startAngle:j,endAngle:j+k,circumference:k,outerRadius:w,innerRadius:b};_&&(V.options=g||this.resolveDataElementOptions(E,F.active?"active":r)),j+=k,this.updateElement(F,E,V,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?rr*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=I2(n._parsed[t],i.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,a,o,c,u;if(!t){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,c=o.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(An(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Xt(B0,"id","doughnut"),Xt(B0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Xt(B0,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Xt(B0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((a,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class bg extends hf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=n,o=this.chart._animationsDisabled;let{start:c,count:u}=pH(n,r,o);this._drawStart=c,this._drawCount=u,gH(n)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},t),this.updateElements(r,c,u,t)}updateElements(t,n,i,r){const a=r==="reset",{iScale:o,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,r),x=o.axis,b=c.axis,{spanGaps:w,segment:g}=this.options,_=wm(w)?w:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||a||r==="none",E=n+i,k=t.length;let F=n>0&&this.getParsed(n-1);for(let V=0;V<k;++V){const ne=t[V],P=j?ne:{};if(V<n||V>=E){P.skip=!0;continue}const I=this.getParsed(V),Y=Kn(I[b]),Z=P[x]=o.getPixelForValue(I[x],V),z=P[b]=a||Y?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,I,u):I[b],V);P.skip=isNaN(Z)||isNaN(z)||Y,P.stop=V>0&&Math.abs(I[x]-F[x])>_,g&&(P.parsed=I,P.raw=f.data[V]),p&&(P.options=h||this.resolveDataElementOptions(V,ne.active?"active":r)),j||this.updateElement(ne,V,P,r),F=I}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Xt(bg,"id","line"),Xt(bg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Xt(bg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ab extends B0{}Xt(Ab,"id","pie"),Xt(Ab,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Yd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class q2{constructor(t){Xt(this,"options");this.options=t||{}}static override(t){Object.assign(q2.prototype,t)}init(){}formats(){return Yd()}parse(){return Yd()}format(){return Yd()}add(){return Yd()}diff(){return Yd()}startOf(){return Yd()}endOf(){return Yd()}}var UU={_date:q2};function WU(e,t,n,i){const{controller:r,data:a,_sorted:o}=e,c=r._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&a.length){const f=c._reversePixels?uH:af;if(i){if(r._sharedOptions){const h=a[0],p=typeof h.getRange=="function"&&h.getRange(t);if(p){const x=f(a,t,n-p),b=f(a,t,n+p);return{lo:x.lo,hi:b.hi}}}}else{const h=f(a,t,n);if(u){const{vScale:p}=r._cachedMeta,{_parsed:x}=e,b=x.slice(0,h.lo+1).reverse().findIndex(g=>!Kn(g[p.axis]));h.lo-=Math.max(0,b);const w=x.slice(h.hi).findIndex(g=>!Kn(g[p.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:a.length-1}}function k1(e,t,n,i,r){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let c=0,u=a.length;c<u;++c){const{index:f,data:h}=a[c],{lo:p,hi:x}=WU(a[c],t,o,r);for(let b=p;b<=x;++b){const w=h[b];w.skip||i(w,f,b)}}}function VU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const a=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Av(e,t,n,i,r){const a=[];return!r&&!e.isPointInArea(t)||k1(e,n,t,function(c,u,f){!r&&!Nm(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:u,index:f})},!0),a}function qU(e,t,n,i){let r=[];function a(o,c,u){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:p}=NA(o,{x:t.x,y:t.y});_m(p,f,h)&&r.push({element:o,datasetIndex:c,index:u})}return k1(e,n,t,a),r}function GU(e,t,n,i,r,a){let o=[];const c=VU(n);let u=Number.POSITIVE_INFINITY;function f(h,p,x){const b=h.inRange(t.x,t.y,r);if(i&&!b)return;const w=h.getCenterPoint(r);if(!(!!a||e.isPointInArea(w))&&!b)return;const _=c(t,w);_<u?(o=[{element:h,datasetIndex:p,index:x}],u=_):_===u&&o.push({element:h,datasetIndex:p,index:x})}return k1(e,n,t,f),o}function Ev(e,t,n,i,r,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?qU(e,t,n,r):GU(e,t,n,i,r,a)}function PN(e,t,n,i,r){const a=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return k1(e,n,t,(u,f,h)=>{u[o]&&u[o](t[n],r)&&(a.push({element:u,datasetIndex:f,index:h}),c=c||u.inRange(t.x,t.y,r))}),i&&!c?[]:a}var $U={modes:{index(e,t,n,i){const r=Kd(t,e),a=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?Av(e,r,a,i,o):Ev(e,r,a,!1,i,o),u=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const h=c[0].index,p=f.data[h];p&&!p.skip&&u.push({element:p,datasetIndex:f.index,index:h})}),u):[]},dataset(e,t,n,i){const r=Kd(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?Av(e,r,a,i,o):Ev(e,r,a,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,f=e.getDatasetMeta(u).data;c=[];for(let h=0;h<f.length;++h)c.push({element:f[h],datasetIndex:u,index:h})}return c},point(e,t,n,i){const r=Kd(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return Av(e,r,a,i,o)},nearest(e,t,n,i){const r=Kd(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return Ev(e,r,a,n.intersect,i,o)},x(e,t,n,i){const r=Kd(t,e);return PN(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=Kd(t,e);return PN(e,r,"y",n.intersect,i)}}};const qA=["left","top","right","bottom"];function L0(e,t){return e.filter(n=>n.pos===t)}function IN(e,t){return e.filter(n=>qA.indexOf(n.pos)===-1&&n.box.axis===t)}function R0(e,t){return e.sort((n,i)=>{const r=t?i:n,a=t?n:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function YU(e){const t=[];let n,i,r,a,o,c;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:a,options:{stack:o,stackWeight:c=1}}=r,t.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:c});return t}function XU(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:a}=n;if(!i||!qA.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function KU(e,t){const n=XU(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,o,c;for(a=0,o=e.length;a<o;++a){c=e[a];const{fullSize:u}=c.box,f=n[c.stack],h=f&&c.stackWeight/f.weight;c.horizontal?(c.width=h?h*i:u&&t.availableWidth,c.height=r):(c.width=i,c.height=h?h*r:u&&t.availableHeight)}return n}function ZU(e){const t=YU(e),n=R0(t.filter(f=>f.box.fullSize),!0),i=R0(L0(t,"left"),!0),r=R0(L0(t,"right")),a=R0(L0(t,"top"),!0),o=R0(L0(t,"bottom")),c=IN(t,"x"),u=IN(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:L0(t,"chartArea"),vertical:i.concat(r).concat(u),horizontal:a.concat(o).concat(c)}}function BN(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function GA(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function JU(e,t,n,i){const{pos:r,box:a}=n,o=e.maxPadding;if(!zn(r)){n.size&&(e[r]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?a.height:a.width),n.size=p.size/p.count,e[r]+=n.size}a.getPadding&&GA(o,a.getPadding());const c=Math.max(0,t.outerWidth-BN(o,e,"left","right")),u=Math.max(0,t.outerHeight-BN(o,e,"top","bottom")),f=c!==e.w,h=u!==e.h;return e.w=c,e.h=u,n.horizontal?{same:f,other:h}:{same:h,other:f}}function QU(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function eW(e,t){const n=t.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{a[o]=Math.max(t[o],n[o])}),a}return i(e?["left","right"]:["top","bottom"])}function z0(e,t,n,i){const r=[];let a,o,c,u,f,h;for(a=0,o=e.length,f=0;a<o;++a){c=e[a],u=c.box,u.update(c.width||t.w,c.height||t.h,eW(c.horizontal,t));const{same:p,other:x}=JU(t,n,c,i);f|=p&&r.length,h=h||x,u.fullSize||r.push(c)}return f&&z0(r,t,n,i)||h}function Jp(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function zN(e,t,n,i){const r=n.padding;let{x:a,y:o}=t;for(const c of e){const u=c.box,f=i[c.stack]||{placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){const p=t.w*h,x=f.size||u.height;ym(f.start)&&(o=f.start),u.fullSize?Jp(u,r.left,o,n.outerWidth-r.right-r.left,x):Jp(u,t.left+f.placed,o,p,x),f.start=o,f.placed+=p,o=u.bottom}else{const p=t.h*h,x=f.size||u.width;ym(f.start)&&(a=f.start),u.fullSize?Jp(u,a,r.top,x,n.outerHeight-r.bottom-r.top):Jp(u,a,t.top+f.placed,x,p),f.start=a,f.placed+=p,a=u.right}}t.x=a,t.y=o}var fl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Ro(e.options.layout.padding),a=Math.max(t-r.width,0),o=Math.max(n-r.height,0),c=ZU(e.boxes),u=c.vertical,f=c.horizontal;ui(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const h=u.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/h,hBoxMaxHeight:o/2}),x=Object.assign({},r);GA(x,Ro(i));const b=Object.assign({maxPadding:x,w:a,h:o,x:r.left,y:r.top},r),w=KU(u.concat(f),p);z0(c.fullSize,b,p,w),z0(u,b,p,w),z0(f,b,p,w)&&z0(u,b,p,w),QU(b),zN(c.leftAndTop,b,p,w),b.x+=b.w,b.y+=b.h,zN(c.rightAndBottom,b,p,w),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ui(c.chartArea,g=>{const _=g.box;Object.assign(_,e.chartArea),_.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class $A{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class tW extends $A{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const yg="$chartjs",nW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},HN=e=>e===null||e==="";function iW(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[yg]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",HN(r)){const a=SN(e,"width");a!==void 0&&(e.width=a)}if(HN(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=SN(e,"height");a!==void 0&&(e.height=a)}return e}const YA=aU?{passive:!0}:!1;function rW(e,t,n){e&&e.addEventListener(t,n,YA)}function aW(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,YA)}function sW(e,t){const n=nW[e.type]||e.type,{x:i,y:r}=Kd(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Xg(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function oW(e,t,n){const i=e.canvas,r=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Xg(c.addedNodes,i),o=o&&!Xg(c.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function lW(e,t,n){const i=e.canvas,r=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Xg(c.removedNodes,i),o=o&&!Xg(c.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const jm=new Map;let UN=0;function XA(){const e=window.devicePixelRatio;e!==UN&&(UN=e,jm.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function cW(e,t){jm.size||window.addEventListener("resize",XA),jm.set(e,t)}function uW(e){jm.delete(e),jm.size||window.removeEventListener("resize",XA)}function dW(e,t,n){const i=e.canvas,r=i&&V2(i);if(!r)return;const a=EA((c,u)=>{const f=r.clientWidth;n(c,u),f<r.clientWidth&&n()},window),o=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,h=u.contentRect.height;f===0&&h===0||a(f,h)});return o.observe(r),cW(e,a),o}function Tv(e,t,n){n&&n.disconnect(),t==="resize"&&uW(e)}function fW(e,t,n){const i=e.canvas,r=EA(a=>{e.ctx!==null&&n(sW(a,e))},e);return rW(i,t,r),r}class hW extends $A{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(iW(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[yg])return!1;const i=n[yg].initial;["height","width"].forEach(a=>{const o=i[a];Kn(o)?n.removeAttribute(a):n.setAttribute(a,o)});const r=i.style||{};return Object.keys(r).forEach(a=>{n.style[a]=r[a]}),n.width=n.width,delete n[yg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:oW,detach:lW,resize:dW}[n]||fW;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Tv,detach:Tv,resize:Tv}[n]||aW)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return rU(t,n,i,r)}isAttached(t){const n=t&&V2(t);return!!(n&&n.isConnected)}}function mW(e){return!W2()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?tW:hW}var ug;let Mu=(ug=class{constructor(){Xt(this,"x");Xt(this,"y");Xt(this,"active",!1);Xt(this,"options");Xt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return wm(this.x)&&wm(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}},Xt(ug,"defaults",{}),Xt(ug,"defaultRoutes"),ug);function pW(e,t){const n=e.options.ticks,i=gW(e),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?vW(t):[],o=a.length,c=a[0],u=a[o-1],f=[];if(o>r)return bW(t,f,a,o/r),f;const h=xW(a,t,r);if(o>0){let p,x;const b=o>1?Math.round((u-c)/(o-1)):null;for(Qp(t,f,h,Kn(b)?0:c-b,c),p=0,x=o-1;p<x;p++)Qp(t,f,h,a[p],a[p+1]);return Qp(t,f,h,u,Kn(b)?t.length:u+b),f}return Qp(t,f,h),f}function gW(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function xW(e,t,n){const i=yW(e),r=t.length/n;if(!i)return Math.max(r,1);const a=iH(i);for(let o=0,c=a.length-1;o<c;o++){const u=a[o];if(u>r)return u}return Math.max(r,1)}function vW(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function bW(e,t,n,i){let r=0,a=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===a&&(t.push(e[o]),r++,a=n[r*i])}function Qp(e,t,n,i,r){const a=An(i,0),o=Math.min(An(r,e.length),e.length);let c=0,u,f,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=a;h<0;)c++,h=Math.round(a+c*n);for(f=Math.max(a,0);f<o;f++)f===h&&(t.push(e[f]),c++,h=Math.round(a+c*n))}function yW(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const wW=e=>e==="left"?"right":e==="right"?"left":e,WN=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,VN=(e,t)=>Math.min(t||e,e);function qN(e,t){const n=[],i=e.length/t,r=e.length;let a=0;for(;a<r;a+=i)n.push(e[Math.floor(a)]);return n}function _W(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,c=1e-6;let u=e.getPixelForTick(r),f;if(!(n&&(i===1?f=Math.max(u-a,o-u):t===0?f=(e.getPixelForTick(1)-u)/2:f=(u-e.getPixelForTick(r-1))/2,u+=r<t?f:-f,u<a-c||u>o+c)))return u}function NW(e,t){ui(e,n=>{const i=n.gc,r=i.length/2;let a;if(r>t){for(a=0;a<r;++a)delete n.data[i[a]];i.splice(0,r)}})}function O0(e){return e.drawTicks?e.tickLength:0}function GN(e,t){if(!e.display)return 0;const n=Da(e.font,t),i=Ro(e.padding);return(Ar(e.text)?e.text.length:1)*n.lineHeight+i.height}function SW(e,t){return Ef(e,{scale:t,type:"scale"})}function jW(e,t,n){return Ef(e,{tick:n,index:t,type:"tick"})}function AW(e,t,n){let i=F2(e);return(n&&t!=="right"||!n&&t==="right")&&(i=wW(i)),i}function EW(e,t,n,i){const{top:r,left:a,bottom:o,right:c,chart:u}=e,{chartArea:f,scales:h}=u;let p=0,x,b,w;const g=o-r,_=c-a;if(e.isHorizontal()){if(b=es(i,a,c),zn(n)){const j=Object.keys(n)[0],E=n[j];w=h[j].getPixelForValue(E)+g-t}else n==="center"?w=(f.bottom+f.top)/2+g-t:w=WN(e,n,t);x=c-a}else{if(zn(n)){const j=Object.keys(n)[0],E=n[j];b=h[j].getPixelForValue(E)-_+t}else n==="center"?b=(f.left+f.right)/2-_+t:b=WN(e,n,t);w=es(i,o,r),p=n==="left"?-Qr:Qr}return{titleX:b,titleY:w,maxWidth:x,rotation:p}}class Uh extends Mu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Nc(t,Number.POSITIVE_INFINITY),n=Nc(n,Number.NEGATIVE_INFINITY),i=Nc(i,Number.POSITIVE_INFINITY),r=Nc(r,Number.NEGATIVE_INFINITY),{min:Nc(t,i),max:Nc(n,r),minDefined:ss(t),maxDefined:ss(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),o;if(r&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)o=c[u].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),a||(i=Math.max(i,o.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:Nc(n,Nc(i,n)),max:Nc(i,Nc(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Li(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:a,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FH(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?qN(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Li(this.options.afterUpdate,[this])}beforeSetDimensions(){Li(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Li(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Li(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Li(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i],a.label=Li(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Li(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Li(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=VN(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,a=n.maxRotation;let o=r,c,u,f;if(!this._isVisible()||!n.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),p=h.widest.width,x=h.highest.height,b=is(this.chart.width-p,0,this.maxWidth);c=t.offset?this.maxWidth/i:b/(i-1),p+6>c&&(c=b/(i-(t.offset?.5:1)),u=this.maxHeight-O0(t.grid)-n.padding-GN(t.title,this.chart.options.font),f=Math.sqrt(p*p+x*x),o=oH(Math.min(Math.asin(is((h.highest.height+6)/c,-1,1)),Math.asin(is(u/f,-1,1))-Math.asin(is(x/f,-1,1)))),o=Math.max(r,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Li(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Li(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:a}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=GN(r,n.options.font);if(c?(t.width=this.maxWidth,t.height=O0(a)+u):(t.height=this.maxHeight,t.width=O0(a)+u),i.display&&this.ticks.length){const{first:f,last:h,widest:p,highest:x}=this._getLabelSizes(),b=i.padding*2,w=yu(this.labelRotation),g=Math.cos(w),_=Math.sin(w);if(c){const j=i.mirror?0:_*p.width+g*x.height;t.height=Math.min(this.maxHeight,t.height+j+b)}else{const j=i.mirror?0:g*p.width+_*x.height;t.width=Math.min(this.maxWidth,t.width+j+b)}this._calculatePadding(f,h,_,g)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:a,padding:o},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;u?f?(x=r*t.width,b=i*n.height):(x=i*t.height,b=r*n.width):a==="start"?b=n.width:a==="end"?x=t.width:a!=="inner"&&(x=t.width/2,b=n.width/2),this.paddingLeft=Math.max((x-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((b-p+o)*this.width/(this.width-p),0)}else{let h=n.height/2,p=t.height/2;a==="start"?(h=0,p=t.height):a==="end"&&(h=n.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Li(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Kn(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=qN(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:a}=this,o=[],c=[],u=Math.floor(n/VN(n,i));let f=0,h=0,p,x,b,w,g,_,j,E,k,F,V;for(p=0;p<n;p+=u){if(w=t[p].label,g=this._resolveTickFontOptions(p),r.font=_=g.string,j=a[_]=a[_]||{data:{},gc:[]},E=g.lineHeight,k=F=0,!Kn(w)&&!Ar(w))k=bN(r,j.data,j.gc,k,w),F=E;else if(Ar(w))for(x=0,b=w.length;x<b;++x)V=w[x],!Kn(V)&&!Ar(V)&&(k=bN(r,j.data,j.gc,k,V),F+=E);o.push(k),c.push(F),f=Math.max(k,f),h=Math.max(F,h)}NW(a,n);const ne=o.indexOf(f),P=c.indexOf(h),I=Y=>({width:o[Y]||0,height:c[Y]||0});return{first:I(0),last:I(n-1),widest:I(ne),highest:I(P),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return cH(this._alignToPixels?$d(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=jW(this.getContext(),t,i))}return this.$context||(this.$context=SW(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=yu(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,c=a?a.widest.width+o:0,u=a?a.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:a,position:o,border:c}=r,u=a.offset,f=this.isHorizontal(),p=this.ticks.length+(u?1:0),x=O0(a),b=[],w=c.setContext(this.getContext()),g=w.display?w.width:0,_=g/2,j=function(ae){return $d(i,ae,g)};let E,k,F,V,ne,P,I,Y,Z,z,U,J;if(o==="top")E=j(this.bottom),P=this.bottom-x,Y=E-_,z=j(t.top)+_,J=t.bottom;else if(o==="bottom")E=j(this.top),z=t.top,J=j(t.bottom)-_,P=E+_,Y=this.top+x;else if(o==="left")E=j(this.right),ne=this.right-x,I=E-_,Z=j(t.left)+_,U=t.right;else if(o==="right")E=j(this.left),Z=t.left,U=j(t.right)-_,ne=E+_,I=this.left+x;else if(n==="x"){if(o==="center")E=j((t.top+t.bottom)/2+.5);else if(zn(o)){const ae=Object.keys(o)[0],ue=o[ae];E=j(this.chart.scales[ae].getPixelForValue(ue))}z=t.top,J=t.bottom,P=E+_,Y=P+x}else if(n==="y"){if(o==="center")E=j((t.left+t.right)/2);else if(zn(o)){const ae=Object.keys(o)[0],ue=o[ae];E=j(this.chart.scales[ae].getPixelForValue(ue))}ne=E-_,I=ne-x,Z=t.left,U=t.right}const ie=An(r.ticks.maxTicksLimit,p),pe=Math.max(1,Math.ceil(p/ie));for(k=0;k<p;k+=pe){const ae=this.getContext(k),ue=a.setContext(ae),Q=c.setContext(ae),Ne=ue.lineWidth,q=ue.color,ke=Q.dash||[],O=Q.dashOffset,B=ue.tickWidth,W=ue.tickColor,X=ue.tickBorderDash||[],le=ue.tickBorderDashOffset;F=_W(this,k,u),F!==void 0&&(V=$d(i,F,Ne),f?ne=I=Z=U=V:P=Y=z=J=V,b.push({tx1:ne,ty1:P,tx2:I,ty2:Y,x1:Z,y1:z,x2:U,y2:J,width:Ne,color:q,borderDash:ke,borderDashOffset:O,tickWidth:B,tickColor:W,tickBorderDash:X,tickBorderDashOffset:le}))}return this._ticksLength=p,this._borderValue=E,b}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:a}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:h,mirror:p}=a,x=O0(i.grid),b=x+h,w=p?-h:b,g=-yu(this.labelRotation),_=[];let j,E,k,F,V,ne,P,I,Y,Z,z,U,J="middle";if(r==="top")ne=this.bottom-w,P=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+w,P=this._getXAxisLabelAlignment();else if(r==="left"){const pe=this._getYAxisLabelAlignment(x);P=pe.textAlign,V=pe.x}else if(r==="right"){const pe=this._getYAxisLabelAlignment(x);P=pe.textAlign,V=pe.x}else if(n==="x"){if(r==="center")ne=(t.top+t.bottom)/2+b;else if(zn(r)){const pe=Object.keys(r)[0],ae=r[pe];ne=this.chart.scales[pe].getPixelForValue(ae)+b}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")V=(t.left+t.right)/2-b;else if(zn(r)){const pe=Object.keys(r)[0],ae=r[pe];V=this.chart.scales[pe].getPixelForValue(ae)}P=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(u==="start"?J="top":u==="end"&&(J="bottom"));const ie=this._getLabelSizes();for(j=0,E=c.length;j<E;++j){k=c[j],F=k.label;const pe=a.setContext(this.getContext(j));I=this.getPixelForTick(j)+a.labelOffset,Y=this._resolveTickFontOptions(j),Z=Y.lineHeight,z=Ar(F)?F.length:1;const ae=z/2,ue=pe.color,Q=pe.textStrokeColor,Ne=pe.textStrokeWidth;let q=P;o?(V=I,P==="inner"&&(j===E-1?q=this.options.reverse?"left":"right":j===0?q=this.options.reverse?"right":"left":q="center"),r==="top"?f==="near"||g!==0?U=-z*Z+Z/2:f==="center"?U=-ie.highest.height/2-ae*Z+Z:U=-ie.highest.height+Z/2:f==="near"||g!==0?U=Z/2:f==="center"?U=ie.highest.height/2-ae*Z:U=ie.highest.height-z*Z,p&&(U*=-1),g!==0&&!pe.showLabelBackdrop&&(V+=Z/2*Math.sin(g))):(ne=I,U=(1-z)*Z/2);let ke;if(pe.showLabelBackdrop){const O=Ro(pe.backdropPadding),B=ie.heights[j],W=ie.widths[j];let X=U-O.top,le=0-O.left;switch(J){case"middle":X-=B/2;break;case"bottom":X-=B;break}switch(P){case"center":le-=W/2;break;case"right":le-=W;break;case"inner":j===E-1?le-=W:j>0&&(le-=W/2);break}ke={left:le,top:X,width:W+O.width,height:B+O.height,color:pe.backdropColor}}_.push({label:F,font:Y,textOffset:U,options:{rotation:g,color:ue,strokeColor:Q,strokeWidth:Ne,textAlign:q,textBaseline:J,translation:[V,ne],backdrop:ke}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-yu(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,o=this._getLabelSizes(),c=t+a,u=o.widest.width;let f,h;return n==="left"?r?(h=this.right+a,i==="near"?f="left":i==="center"?(f="center",h+=u/2):(f="right",h+=u)):(h=this.right-c,i==="near"?f="right":i==="center"?(f="center",h-=u/2):(f="left",h=this.left)):n==="right"?r?(h=this.left+a,i==="near"?f="right":i==="center"?(f="center",h-=u/2):(f="left",h-=u)):(h=this.left+c,i==="near"?f="left":i==="center"?(f="center",h+=u/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:a,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,a,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const c=(u,f,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,o=r.length;a<o;++a){const u=r[a];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,h,p,x;this.isHorizontal()?(f=$d(t,this.left,o)-o/2,h=$d(t,this.right,c)+c/2,p=x=u):(p=$d(t,this.top,o)-o/2,x=$d(t,this.bottom,c)+c/2,f=h=u),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,p),n.lineTo(h,x),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&E1(i,r);const a=this.getLabelItems(t);for(const o of a){const c=o.options,u=o.font,f=o.label,h=o.textOffset;Sm(i,f,0,h,u,c)}r&&T1(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const a=Da(i.font),o=Ro(i.padding),c=i.align;let u=a.lineHeight/2;n==="bottom"||n==="center"||zn(n)?(u+=o.bottom,Ar(i.text)&&(u+=a.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:f,titleY:h,maxWidth:p,rotation:x}=EW(this,u,n,c);Sm(t,i.text,0,0,a,{color:i.color,maxWidth:p,rotation:x,textAlign:AW(c,n,r),textBaseline:"middle",translation:[f,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=An(t.grid&&t.grid.z,-1),r=An(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Uh.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Da(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class eg{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;kW(n)&&(i=this.register(n));const r=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,TW(t,o,i),this.override&&gr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in gr[r]&&(delete gr[r][i],this.override&&delete yf[i])}}function TW(e,t,n){const i=Oc(Object.create(null),[n?gr.get(n):{},gr.get(t),e.defaults]);gr.set(t,i),e.defaultRoutes&&CW(t,e.defaultRoutes),e.descriptors&&gr.describe(t,e.descriptors)}function CW(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),c=o.pop(),u=o.join(".");gr.route(a,r,u,c)})}function kW(e){return"id"in e&&"defaults"in e}class LW{constructor(){this.controllers=new eg(hf,"datasets",!0),this.elements=new eg(Mu,"elements"),this.plugins=new eg(Object,"plugins"),this.scales=new eg(Uh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):ui(r,o=>{const c=i||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,n,i){const r=D2(t);Li(i["before"+r],[],i),n[t](i),Li(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Tc=new LW;class RW{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const a of t){const o=a.plugin,c=o[i],u=[n,r,a.options];if(Li(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Kn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=An(i.options&&i.options.plugins,{}),a=OW(i);return r===!1&&!n?[]:MW(t,a,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(a,o)=>a.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function OW(e){const t={},n=[],i=Object.keys(Tc.plugins.items);for(let a=0;a<i.length;a++)n.push(Tc.getPlugin(i[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const o=r[a];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function DW(e,t){return!t&&e===!1?null:e===!0?{}:e}function MW(e,{plugins:t,localIds:n},i,r){const a=[],o=e.getContext();for(const c of t){const u=c.id,f=DW(i[u],r);f!==null&&a.push({plugin:c,options:FW(e.config,{plugin:c,local:n[u]},f,o)})}return a}function FW(e,{plugin:t,local:n},i,r){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(i,a);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Eb(e,t){const n=gr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function PW(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function IW(e,t){return e===t?"_index_":"_value_"}function $N(e){if(e==="x"||e==="y"||e==="r")return e}function BW(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Tb(e,...t){if($N(e))return e;for(const n of t){const i=n.axis||BW(n.position)||e.length>1&&$N(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function YN(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function zW(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return YN(e,"x",n[0])||YN(e,"y",n[0])}return{}}function HW(e,t){const n=yf[e.type]||{scales:{}},i=t.scales||{},r=Eb(e.type,t),a=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!zn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Tb(o,c,zW(o,e),gr.scales[c.type]),f=IW(u,r),h=n.scales||{};a[o]=tm(Object.create(null),[{axis:u},c,h[u],h[f]])}),e.data.datasets.forEach(o=>{const c=o.type||e.type,u=o.indexAxis||Eb(c,t),h=(yf[c]||{}).scales||{};Object.keys(h).forEach(p=>{const x=PW(p,u),b=o[x+"AxisID"]||x;a[b]=a[b]||Object.create(null),tm(a[b],[{axis:x},i[b],h[p]])})}),Object.keys(a).forEach(o=>{const c=a[o];tm(c,[gr.scales[c.type],gr.scale])}),a}function KA(e){const t=e.options||(e.options={});t.plugins=An(t.plugins,{}),t.scales=HW(e,t)}function ZA(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function UW(e){return e=e||{},e.data=ZA(e.data),KA(e),e}const XN=new Map,JA=new Set;function tg(e,t){let n=XN.get(e);return n||(n=t(),XN.set(e,n),JA.add(n)),n}const D0=(e,t,n)=>{const i=bf(t,n);i!==void 0&&e.add(i)};class WW{constructor(t){this._config=UW(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ZA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),KA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return tg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return tg(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return tg(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return tg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:a}=this,o=this._cachedScopes(t,i),c=o.get(n);if(c)return c;const u=new Set;n.forEach(h=>{t&&(u.add(t),h.forEach(p=>D0(u,t,p))),h.forEach(p=>D0(u,r,p)),h.forEach(p=>D0(u,yf[a]||{},p)),h.forEach(p=>D0(u,gr,p)),h.forEach(p=>D0(u,Sb,p))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),JA.has(n)&&o.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,yf[n]||{},gr.datasets[n]||{},{type:n},gr,Sb]}resolveNamedOptions(t,n,i,r=[""]){const a={$shared:!0},{resolver:o,subPrefixes:c}=KN(this._resolverCache,t,r);let u=o;if(qW(o,n)){a.$shared=!1,i=Ld(i)?i():i;const f=this.createResolver(t,i,c);u=kh(o,i,f)}for(const f of n)a[f]=u[f];return a}createResolver(t,n,i=[""],r){const{resolver:a}=KN(this._resolverCache,t,i);return zn(n)?kh(a,n,void 0,r):a}}function KN(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let a=i.get(r);return a||(a={resolver:z2(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,a)),a}const VW=e=>zn(e)&&Object.getOwnPropertyNames(e).some(t=>Ld(e[t]));function qW(e,t){const{isScriptable:n,isIndexable:i}=LA(e);for(const r of t){const a=n(r),o=i(r),c=(o||a)&&e[r];if(a&&(Ld(c)||VW(c))||o&&Ar(c))return!0}return!1}var GW="4.5.0";const $W=["top","bottom","left","right","chartArea"];function ZN(e,t){return e==="top"||e==="bottom"||$W.indexOf(e)===-1&&t==="x"}function JN(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function QN(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Li(n&&n.onComplete,[e],t)}function YW(e){const t=e.chart,n=t.options.animation;Li(n&&n.onProgress,[e],t)}function QA(e){return W2()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const wg={},e3=e=>{const t=QA(e);return Object.values(wg).filter(n=>n.canvas===t).pop()};function XW(e,t,n){const i=Object.keys(e);for(const r of i){const a=+r;if(a>=t){const o=e[r];delete e[r],(n>0||a>t)&&(e[a+n]=o)}}}function KW(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var pd;let Hm=(pd=class{static register(...t){Tc.add(...t),t3()}static unregister(...t){Tc.remove(...t),t3()}constructor(t,n){const i=this.config=new WW(n),r=QA(t),a=e3(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mW(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,f=u&&u.height,h=u&&u.width;if(this.id=Yz(),this.ctx=c,this.canvas=u,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hH(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],wg[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}pu.listen(this,"complete",QN),pu.listen(this,"progress",YW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:a}=this;return Kn(t)?n&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Tc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yN(this.canvas,this.ctx),this}stop(){return pu.stop(this),this}resize(t,n){pu.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,NN(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Li(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ui(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let a=[];n&&(a=a.concat(Object.keys(n).map(o=>{const c=n[o],u=Tb(o,c),f=u==="r",h=u==="x";return{options:c,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),ui(a,o=>{const c=o.options,u=c.id,f=Tb(u,c),h=An(c.type,o.dtype);(c.position===void 0||ZN(c.position,f)!==ZN(o.dposition))&&(c.position=o.dposition),r[u]=!0;let p=null;if(u in i&&i[u].type===h)p=i[u];else{const x=Tc.getScale(h);p=new x({id:u,type:h,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(c,t)}),ui(r,(o,c)=>{o||delete i[c]}),ui(i,o=>{fl.configure(this,o,o.options),fl.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(JN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const a=n[i];let o=this.getDatasetMeta(i);const c=a.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=a.indexAxis||Eb(c,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=Tc.getController(c),{datasetElementType:f,dataElementType:h}=gr.datasets[c];Object.assign(u,{dataElementType:Tc.getElement(h),datasetElementType:f&&Tc.getElement(f)}),o.controller=new u(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ui(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:p}=this.getDatasetMeta(f),x=!r&&a.indexOf(p)===-1;p.buildOrUpdateElements(x),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ui(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(JN("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ui(this.scales,t=>{fl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!uN(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of n){const o=i==="_removeElements"?-a:a;XW(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(o=>o[0]===a).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let a=1;a<n;a++)if(!uN(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fl.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ui(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ld(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pu.has(this)?this.attached&&!pu.running(this)&&pu.start(this):(this.draw(),QN({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=HA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&E1(n,r),t.controller.draw(),r&&T1(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Nm(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const a=$U.modes[n];return typeof a=="function"?a(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(a=>a&&a._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ef(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,r);ym(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),pu.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),yN(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete wg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,o)=>{n.addEventListener(this,a,o),t[a]=o},r=(a,o,c)=>{a.offsetX=o,a.offsetY=c,this._eventHandler(a)};ui(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(u,f)=>{n.addEventListener(this,u,f),t[u]=f},r=(u,f)=>{t[u]&&(n.removeEventListener(this,u,f),delete t[u])},a=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){ui(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ui(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let a,o,c,u;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){o=t[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:o})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[o],index:o}});!Vg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,a=(u,f)=>u.filter(h=>!f.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=a(n,t),c=i?t:a(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:a}=this,o=n,c=this._getActiveElements(t,r,i,o),u=eH(t),f=KW(t,this._lastEvent,i,u);i&&(this._lastEvent=null,Li(a.onHover,[t,c,this],this),u&&Li(a.onClick,[t,c,this],this));const h=!Vg(c,r);return(h||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=f,h}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}},Xt(pd,"defaults",gr),Xt(pd,"instances",wg),Xt(pd,"overrides",yf),Xt(pd,"registry",Tc),Xt(pd,"version",GW),Xt(pd,"getChart",e3),pd);function t3(){return ui(Hm.instances,e=>e._plugins.invalidate())}function ZW(e,t,n){const{startAngle:i,x:r,y:a,outerRadius:o,innerRadius:c,options:u}=t,{borderWidth:f,borderJoinStyle:h}=u,p=Math.min(f/o,Eo(i-n));if(e.beginPath(),e.arc(r,a,o-f/2,i+p/2,n-p/2),c>0){const x=Math.min(f/c,Eo(i-n));e.arc(r,a,c+f/2,n-x/2,i+x/2,!0)}else{const x=Math.min(f/2,o*Eo(i-n));if(h==="round")e.arc(r,a,x,n-gi/2,i+gi/2,!0);else if(h==="bevel"){const b=2*x*x,w=-b*Math.cos(n+gi/2)+r,g=-b*Math.sin(n+gi/2)+a,_=b*Math.cos(i+gi/2)+r,j=b*Math.sin(i+gi/2)+a;e.lineTo(w,g),e.lineTo(_,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function JW(e,t,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:c,innerRadius:u}=t;let f=r/c;e.beginPath(),e.arc(a,o,c,i-f,n+f),u>r?(f=r/u,e.arc(a,o,u,n+f,i-f,!0)):e.arc(a,o,r,n+Qr,i-Qr),e.closePath(),e.clip()}function QW(e){return B2(e,["outerStart","outerEnd","innerStart","innerEnd"])}function eV(e,t,n,i){const r=QW(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,i*t/2),c=u=>{const f=(n-Math.min(a,u))*i/2;return is(u,0,Math.min(a,f))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:is(r.innerStart,0,o),innerEnd:is(r.innerEnd,0,o)}}function lh(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Kg(e,t,n,i,r,a){const{x:o,y:c,startAngle:u,pixelMargin:f,innerRadius:h}=t,p=Math.max(t.outerRadius+i+n-f,0),x=h>0?h+i+n+f:0;let b=0;const w=r-u;if(i){const pe=h>0?h-i:0,ae=p>0?p-i:0,ue=(pe+ae)/2,Q=ue!==0?w*ue/(ue+i):w;b=(w-Q)/2}const g=Math.max(.001,w*p-n/gi)/p,_=(w-g)/2,j=u+_+b,E=r-_-b,{outerStart:k,outerEnd:F,innerStart:V,innerEnd:ne}=eV(t,x,p,E-j),P=p-k,I=p-F,Y=j+k/P,Z=E-F/I,z=x+V,U=x+ne,J=j+V/z,ie=E-ne/U;if(e.beginPath(),a){const pe=(Y+Z)/2;if(e.arc(o,c,p,Y,pe),e.arc(o,c,p,pe,Z),F>0){const Ne=lh(I,Z,o,c);e.arc(Ne.x,Ne.y,F,Z,E+Qr)}const ae=lh(U,E,o,c);if(e.lineTo(ae.x,ae.y),ne>0){const Ne=lh(U,ie,o,c);e.arc(Ne.x,Ne.y,ne,E+Qr,ie+Math.PI)}const ue=(E-ne/x+(j+V/x))/2;if(e.arc(o,c,x,E-ne/x,ue,!0),e.arc(o,c,x,ue,j+V/x,!0),V>0){const Ne=lh(z,J,o,c);e.arc(Ne.x,Ne.y,V,J+Math.PI,j-Qr)}const Q=lh(P,j,o,c);if(e.lineTo(Q.x,Q.y),k>0){const Ne=lh(P,Y,o,c);e.arc(Ne.x,Ne.y,k,j-Qr,Y)}}else{e.moveTo(o,c);const pe=Math.cos(Y)*p+o,ae=Math.sin(Y)*p+c;e.lineTo(pe,ae);const ue=Math.cos(Z)*p+o,Q=Math.sin(Z)*p+c;e.lineTo(ue,Q)}e.closePath()}function tV(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:c}=t;let u=t.endAngle;if(a){Kg(e,t,n,i,u,r);for(let f=0;f<a;++f)e.fill();isNaN(c)||(u=o+(c%rr||rr))}return Kg(e,t,n,i,u,r),e.fill(),u}function nV(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:c,options:u}=t,{borderWidth:f,borderJoinStyle:h,borderDash:p,borderDashOffset:x,borderRadius:b}=u,w=u.borderAlign==="inner";if(!f)return;e.setLineDash(p||[]),e.lineDashOffset=x,w?(e.lineWidth=f*2,e.lineJoin=h||"round"):(e.lineWidth=f,e.lineJoin=h||"bevel");let g=t.endAngle;if(a){Kg(e,t,n,i,g,r);for(let _=0;_<a;++_)e.stroke();isNaN(c)||(g=o+(c%rr||rr))}w&&JW(e,t,g),u.selfJoin&&g-o>=gi&&b===0&&h!=="miter"&&ZW(e,t,g),a||(Kg(e,t,n,i,g,r),e.stroke())}class vh extends Mu{constructor(n){super();Xt(this,"circumference");Xt(this,"endAngle");Xt(this,"fullCircles");Xt(this,"innerRadius");Xt(this,"outerRadius");Xt(this,"pixelMargin");Xt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const a=this.getProps(["x","y"],r),{angle:o,distance:c}=NA(a,{x:n,y:i}),{startAngle:u,endAngle:f,innerRadius:h,outerRadius:p,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,w=An(x,f-u),g=_m(o,u,f)&&u!==f,_=w>=rr||g,j=wu(c,h+b,p+b);return _&&j}getCenterPoint(n){const{x:i,y:r,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:h}=this.options,p=(a+o)/2,x=(c+u+h+f)/2;return{x:i+Math.cos(p)*x,y:r+Math.sin(p)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,a=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>rr?Math.floor(r/rr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(gi,r||0)),h=a*f;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,tV(n,this,h,o,c),nV(n,this,h,o,c),n.restore()}}Xt(vh,"id","arc"),Xt(vh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Xt(vh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Xt(vh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function e6(e,t,n=t){e.lineCap=An(n.borderCapStyle,t.borderCapStyle),e.setLineDash(An(n.borderDash,t.borderDash)),e.lineDashOffset=An(n.borderDashOffset,t.borderDashOffset),e.lineJoin=An(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=An(n.borderWidth,t.borderWidth),e.strokeStyle=An(n.borderColor,t.borderColor)}function iV(e,t,n){e.lineTo(n.x,n.y)}function rV(e){return e.stepped?EH:e.tension||e.cubicInterpolationMode==="monotone"?TH:iV}function t6(e,t,n={}){const i=e.length,{start:r=0,end:a=i-1}=n,{start:o,end:c}=t,u=Math.max(r,o),f=Math.min(a,c),h=r<o&&a<o||r>c&&a>c;return{count:i,start:u,loop:t.loop,ilen:f<u&&!h?i+f-u:f-u}}function aV(e,t,n,i){const{points:r,options:a}=t,{count:o,start:c,loop:u,ilen:f}=t6(r,n,i),h=rV(a);let{move:p=!0,reverse:x}=i||{},b,w,g;for(b=0;b<=f;++b)w=r[(c+(x?f-b:b))%o],!w.skip&&(p?(e.moveTo(w.x,w.y),p=!1):h(e,g,w,x,a.stepped),g=w);return u&&(w=r[(c+(x?f:0))%o],h(e,g,w,x,a.stepped)),!!u}function sV(e,t,n,i){const r=t.points,{count:a,start:o,ilen:c}=t6(r,n,i),{move:u=!0,reverse:f}=i||{};let h=0,p=0,x,b,w,g,_,j;const E=F=>(o+(f?c-F:F))%a,k=()=>{g!==_&&(e.lineTo(h,_),e.lineTo(h,g),e.lineTo(h,j))};for(u&&(b=r[E(0)],e.moveTo(b.x,b.y)),x=0;x<=c;++x){if(b=r[E(x)],b.skip)continue;const F=b.x,V=b.y,ne=F|0;ne===w?(V<g?g=V:V>_&&(_=V),h=(p*h+F)/++p):(k(),e.lineTo(F,V),w=ne,p=0,g=_=V),j=V}k()}function Cb(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?sV:aV}function oV(e){return e.stepped?sU:e.tension||e.cubicInterpolationMode==="monotone"?oU:Zd}function lV(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),e6(e,t.options),e.stroke(r)}function cV(e,t,n,i){const{segments:r,options:a}=t,o=Cb(t);for(const c of r)e6(e,a,c.style),e.beginPath(),o(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const uV=typeof Path2D=="function";function dV(e,t,n,i){uV&&!t.options.segment?lV(e,t,n,i):cV(e,t,n,i)}class _u extends Mu{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;JH(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hU(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],a=this.points,o=zA(this,{property:n,start:r,end:r});if(!o.length)return;const c=[],u=oV(i);let f,h;for(f=0,h=o.length;f<h;++f){const{start:p,end:x}=o[f],b=a[p],w=a[x];if(b===w){c.push(b);continue}const g=Math.abs((r-b[n])/(w[n]-b[n])),_=u(b,w,g,i.stepped);_[n]=t[n],c.push(_)}return c.length===1?c[0]:c}pathSegment(t,n,i){return Cb(this)(t,this,n,i)}path(t,n,i){const r=this.segments,a=Cb(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const c of r)o&=a(t,this,c,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),dV(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Xt(_u,"id","line"),Xt(_u,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Xt(_u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Xt(_u,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function n3(e,t,n,i){const r=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<r.radius+r.hitRadius}class Ah extends Mu{constructor(n){super();Xt(this,"parsed");Xt(this,"skip");Xt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return n3(this,n,"x",i)}inYRange(n,i){return n3(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Nm(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,jb(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Xt(Ah,"id","point"),Xt(Ah,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Xt(Ah,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function n6(e,t){const{x:n,y:i,base:r,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let c,u,f,h,p;return e.horizontal?(p=o/2,c=Math.min(n,r),u=Math.max(n,r),f=i-p,h=i+p):(p=a/2,c=n-p,u=n+p,f=Math.min(i,r),h=Math.max(i,r)),{left:c,top:f,right:u,bottom:h}}function _d(e,t,n,i){return e?0:is(t,n,i)}function fV(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,a=kA(i);return{t:_d(r.top,a.top,0,n),r:_d(r.right,a.right,0,t),b:_d(r.bottom,a.bottom,0,n),l:_d(r.left,a.left,0,t)}}function hV(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=Sh(r),o=Math.min(t,n),c=e.borderSkipped,u=i||zn(r);return{topLeft:_d(!u||c.top||c.left,a.topLeft,0,o),topRight:_d(!u||c.top||c.right,a.topRight,0,o),bottomLeft:_d(!u||c.bottom||c.left,a.bottomLeft,0,o),bottomRight:_d(!u||c.bottom||c.right,a.bottomRight,0,o)}}function mV(e){const t=n6(e),n=t.right-t.left,i=t.bottom-t.top,r=fV(e,n/2,i/2),a=hV(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function Cv(e,t,n,i){const r=t===null,a=n===null,c=e&&!(r&&a)&&n6(e,i);return c&&(r||wu(t,c.left,c.right))&&(a||wu(n,c.top,c.bottom))}function pV(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function gV(e,t){e.rect(t.x,t.y,t.w,t.h)}function kv(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+a,h:e.h+o,radius:e.radius}}class Eh extends Mu{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:o}=mV(this),c=pV(o.radius)?$g:gV;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),c(t,kv(o,n,a)),t.clip(),c(t,kv(a,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,kv(a,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return Cv(this,t,n,i)}inXRange(t,n){return Cv(this,t,null,n)}inYRange(t,n){return Cv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+r)/2:n,y:a?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Xt(Eh,"id","bar"),Xt(Eh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Xt(Eh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xV(e,t,n){const i=e.segments,r=e.points,a=t.points,o=[];for(const c of i){let{start:u,end:f}=c;f=L1(u,f,r);const h=kb(n,r[u],r[f],c.loop);if(!t.segments){o.push({source:c,target:h,start:r[u],end:r[f]});continue}const p=zA(t,h);for(const x of p){const b=kb(n,a[x.start],a[x.end],x.loop),w=BA(c,r,b);for(const g of w)o.push({source:g,target:x,start:{[n]:i3(h,b,"start",Math.max)},end:{[n]:i3(h,b,"end",Math.min)}})}}return o}function kb(e,t,n,i){if(i)return;let r=t[e],a=n[e];return e==="angle"&&(r=Eo(r),a=Eo(a)),{property:e,start:r,end:a}}function vV(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,a=[];return t.segments.forEach(({start:o,end:c})=>{c=L1(o,c,r);const u=r[o],f=r[c];i!==null?(a.push({x:u.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:u.y}),a.push({x:n,y:f.y}))}),a}function L1(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function i3(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function i6(e,t){let n=[],i=!1;return Ar(e)?(i=!0,n=e):n=vV(e,t),n.length?new _u({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function r3(e){return e&&e.fill!==!1}function bV(e,t,n){let r=e[t].fill;const a=[t];let o;if(!n)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!ss(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;a.push(r),r=o.fill}return!1}function yV(e,t,n){const i=SV(e);if(zn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ss(r)&&Math.floor(r)===r?wV(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function wV(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function _V(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:zn(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function NV(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:zn(e)?i=e.value:i=t.getBaseValue(),i}function SV(e){const t=e.options,n=t.fill;let i=An(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function jV(e){const{scale:t,index:n,line:i}=e,r=[],a=i.segments,o=i.points,c=AV(t,n);c.push(i6({x:null,y:t.bottom},i));for(let u=0;u<a.length;u++){const f=a[u];for(let h=f.start;h<=f.end;h++)EV(r,o[h],c)}return new _u({points:r,options:{}})}function AV(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const a=i[r];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function EV(e,t,n){const i=[];for(let r=0;r<n.length;r++){const a=n[r],{first:o,last:c,point:u}=TV(a,t,"x");if(!(!u||o&&c)){if(o)i.unshift(u);else if(e.push(u),!c)break}}e.push(...i)}function TV(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],a=e.segments,o=e.points;let c=!1,u=!1;for(let f=0;f<a.length;f++){const h=a[f],p=o[h.start][n],x=o[h.end][n];if(wu(r,p,x)){c=r===p,u=r===x;break}}return{first:c,last:u,point:i}}class r6{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:a,radius:o}=this;return n=n||{start:0,end:rr},t.arc(r,a,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,a=t.angle;return{x:n+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}}function CV(e){const{chart:t,fill:n,line:i}=e;if(ss(n))return kV(t,n);if(n==="stack")return jV(e);if(n==="shape")return!0;const r=LV(e);return r instanceof r6?r:i6(r,i)}function kV(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function LV(e){return(e.scale||{}).getPointPositionForValue?OV(e):RV(e)}function RV(e){const{scale:t={},fill:n}=e,i=_V(n,t);if(ss(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function OV(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,o=NV(n,t,a),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,a);return new r6({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<r;++u)c.push(t.getPointPositionForValue(u,o));return c}function Lv(e,t,n){const i=CV(t),{chart:r,index:a,line:o,scale:c,axis:u}=t,f=o.options,h=f.fill,p=f.backgroundColor,{above:x=p,below:b=p}=h||{},w=r.getDatasetMeta(a),g=HA(r,w);i&&o.points.length&&(E1(e,n),DV(e,{line:o,target:i,above:x,below:b,area:n,scale:c,axis:u,clip:g}),T1(e))}function DV(e,t){const{line:n,target:i,above:r,below:a,area:o,scale:c,clip:u}=t,f=n._loop?"angle":t.axis;e.save();let h=a;a!==r&&(f==="x"?(a3(e,i,o.top),Rv(e,{line:n,target:i,color:r,scale:c,property:f,clip:u}),e.restore(),e.save(),a3(e,i,o.bottom)):f==="y"&&(s3(e,i,o.left),Rv(e,{line:n,target:i,color:a,scale:c,property:f,clip:u}),e.restore(),e.save(),s3(e,i,o.right),h=r)),Rv(e,{line:n,target:i,color:h,scale:c,property:f,clip:u}),e.restore()}function a3(e,t,n){const{segments:i,points:r}=t;let a=!0,o=!1;e.beginPath();for(const c of i){const{start:u,end:f}=c,h=r[u],p=r[L1(u,f,r)];a?(e.moveTo(h.x,h.y),a=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,c,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function s3(e,t,n){const{segments:i,points:r}=t;let a=!0,o=!1;e.beginPath();for(const c of i){const{start:u,end:f}=c,h=r[u],p=r[L1(u,f,r)];a?(e.moveTo(h.x,h.y),a=!1):(e.lineTo(n,h.y),e.lineTo(h.x,h.y)),o=!!t.pathSegment(e,c,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Rv(e,t){const{line:n,target:i,property:r,color:a,scale:o,clip:c}=t,u=xV(n,i,r);for(const{source:f,target:h,start:p,end:x}of u){const{style:{backgroundColor:b=a}={}}=f,w=i!==!0;e.save(),e.fillStyle=b,MV(e,o,c,w&&kb(r,p,x)),e.beginPath();const g=!!n.pathSegment(e,f);let _;if(w){g?e.closePath():o3(e,i,x,r);const j=!!i.pathSegment(e,h,{move:g,reverse:!0});_=g&&j,_||o3(e,i,p,r)}e.closePath(),e.fill(_?"evenodd":"nonzero"),e.restore()}}function MV(e,t,n,i){const r=t.chart.chartArea,{property:a,start:o,end:c}=i||{};if(a==="x"||a==="y"){let u,f,h,p;a==="x"?(u=o,f=r.top,h=c,p=r.bottom):(u=r.left,f=o,h=r.right,p=c),e.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),f=Math.max(f,n.top),p=Math.min(p,n.bottom)),e.rect(u,f,h-u,p-f),e.clip()}}function o3(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var FV={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let a,o,c,u;for(o=0;o<i;++o)a=e.getDatasetMeta(o),c=a.dataset,u=null,c&&c.options&&c instanceof _u&&(u={visible:e.isDatasetVisible(o),index:o,fill:yV(c,o,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=u,r.push(u);for(o=0;o<i;++o)u=r[o],!(!u||u.fill===!1)&&(u.fill=bV(r,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Lv(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;r3(a)&&Lv(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!r3(i)||n.drawTime!=="beforeDatasetDraw"||Lv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const l3=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},PV=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class c3 extends Mu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Li(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Da(i.font),a=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=l3(i,a);let f,h;n.font=r.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,a,c,u)+10):(h=this.maxHeight,f=this._fitCols(o,r,c,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:a,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],h=r+c;let p=t;a.textAlign="left",a.textBaseline="middle";let x=-1,b=-h;return this.legendItems.forEach((w,g)=>{const _=i+n/2+a.measureText(w.text).width;(g===0||f[f.length-1]+_+2*c>o)&&(p+=h,f[f.length-(g>0?0:1)]=0,b+=h,x++),u[g]={left:0,top:b,row:x,width:_,height:r},f[f.length-1]+=_+c}),p}_fitCols(t,n,i,r){const{ctx:a,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-t;let p=c,x=0,b=0,w=0,g=0;return this.legendItems.forEach((_,j)=>{const{itemWidth:E,itemHeight:k}=IV(i,n,a,_,r);j>0&&b+k+2*c>h&&(p+=x+c,f.push({width:x,height:b}),w+=x+c,g++,x=b=0),u[j]={left:w,top:b,col:g,width:E,height:k},x=Math.max(x,E),b+=k+c}),p+=x,f.push({width:x,height:b}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:a}}=this,o=jh(a,this.left,this.width);if(this.isHorizontal()){let c=0,u=es(i,this.left+r,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,u=es(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+t+r,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+r}else{let c=0,u=es(i,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,u=es(i,this.top+t+r,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;E1(t,this),this._draw(),T1(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:a,labels:o}=t,c=gr.color,u=jh(t.rtl,this.left,this.width),f=Da(o.font),{padding:h}=o,p=f.size,x=p/2;let b;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:w,boxHeight:g,itemHeight:_}=l3(o,p),j=function(ne,P,I){if(isNaN(w)||w<=0||isNaN(g)||g<0)return;r.save();const Y=An(I.lineWidth,1);if(r.fillStyle=An(I.fillStyle,c),r.lineCap=An(I.lineCap,"butt"),r.lineDashOffset=An(I.lineDashOffset,0),r.lineJoin=An(I.lineJoin,"miter"),r.lineWidth=Y,r.strokeStyle=An(I.strokeStyle,c),r.setLineDash(An(I.lineDash,[])),o.usePointStyle){const Z={radius:g*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:Y},z=u.xPlus(ne,w/2),U=P+x;CA(r,Z,z,U,o.pointStyleWidth&&w)}else{const Z=P+Math.max((p-g)/2,0),z=u.leftForLtr(ne,w),U=Sh(I.borderRadius);r.beginPath(),Object.values(U).some(J=>J!==0)?$g(r,{x:z,y:Z,w,h:g,radius:U}):r.rect(z,Z,w,g),r.fill(),Y!==0&&r.stroke()}r.restore()},E=function(ne,P,I){Sm(r,I.text,ne,P+_/2,f,{strikethrough:I.hidden,textAlign:u.textAlign(I.textAlign)})},k=this.isHorizontal(),F=this._computeTitleHeight();k?b={x:es(a,this.left+h,this.right-i[0]),y:this.top+h+F,line:0}:b={x:this.left+h,y:es(a,this.top+F+h,this.bottom-n[0].height),line:0},FA(this.ctx,t.textDirection);const V=_+h;this.legendItems.forEach((ne,P)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;const I=r.measureText(ne.text).width,Y=u.textAlign(ne.textAlign||(ne.textAlign=o.textAlign)),Z=w+x+I;let z=b.x,U=b.y;u.setWidth(this.width),k?P>0&&z+Z+h>this.right&&(U=b.y+=V,b.line++,z=b.x=es(a,this.left+h,this.right-i[b.line])):P>0&&U+V>this.bottom&&(z=b.x=z+n[b.line].width+h,b.line++,U=b.y=es(a,this.top+F+h,this.bottom-n[b.line].height));const J=u.x(z);if(j(J,U,ne),z=mH(Y,z+w+x,k?z+Z:this.right,t.rtl),E(u.x(z),U,ne),k)b.x+=Z+h;else if(typeof ne.text!="string"){const ie=f.lineHeight;b.y+=a6(ne,ie)+h}else b.y+=V}),PA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Da(n.font),r=Ro(n.padding);if(!n.display)return;const a=jh(t.rtl,this.left,this.width),o=this.ctx,c=n.position,u=i.size/2,f=r.top+u;let h,p=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),h=this.top+f,p=es(t.align,p,this.right-x);else{const w=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);h=f+es(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const b=es(c,p,p+x);o.textAlign=a.textAlign(F2(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Sm(o,n.text,b,h,i)}_computeTitleHeight(){const t=this.options.title,n=Da(t.font),i=Ro(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,a;if(wu(t,this.left,this.right)&&wu(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],wu(t,r.left,r.left+r.width)&&wu(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!HV(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=PV(r,i);r&&!a&&Li(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!a&&Li(n.onHover,[t,i,this],this)}else i&&Li(n.onClick,[t,i,this],this)}}function IV(e,t,n,i,r){const a=BV(i,e,t,n),o=zV(r,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}function BV(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((a,o)=>a.length>o.length?a:o)),t+n.size/2+i.measureText(r).width}function zV(e,t,n){let i=e;return typeof t.text!="string"&&(i=a6(t,n)),i}function a6(e,t){const n=e.text?e.text.length:0;return t*n}function HV(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var s6={id:"legend",_element:c3,start(e,t,n){const i=e.legend=new c3({ctx:e.ctx,options:n,chart:e});fl.configure(e,i,n),fl.addBox(e,i)},stop(e){fl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;fl.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:o,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(n?0:void 0),h=Ro(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class o6 extends Mu{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Ar(i.text)?i.text.length:1;this._padding=Ro(i.padding);const a=r*Da(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:a,options:o}=this,c=o.align;let u=0,f,h,p;return this.isHorizontal()?(h=es(c,i,a),p=n+t,f=a-i):(o.position==="left"?(h=i+t,p=es(c,r,n),u=gi*-.5):(h=a-t,p=es(c,n,r),u=gi*.5),f=r-n),{titleX:h,titleY:p,maxWidth:f,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Da(n.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(a);Sm(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:f,textAlign:F2(n.align),textBaseline:"middle",translation:[o,c]})}}function UV(e,t){const n=new o6({ctx:e.ctx,options:t,chart:e});fl.configure(e,n,t),fl.addBox(e,n),e.titleBlock=n}var l6={id:"title",_element:o6,start(e,t,n){UV(e,n)},stop(e){const t=e.titleBlock;fl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;fl.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const H0={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,a,o,c;for(a=0,o=e.length;a<o;++a){const u=e[a].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),h=Nb(t,f);h<r&&(r=h,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Ec(e,t){return t&&(Ar(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function gu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function WV(e,t){const{element:n,datasetIndex:i,index:r}=t,a=e.getDatasetMeta(i).controller,{label:o,value:c}=a.getLabelAndValue(r);return{chart:e,label:o,parsed:a.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:c,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function u3(e,t){const n=e.chart.ctx,{body:i,footer:r,title:a}=e,{boxWidth:o,boxHeight:c}=t,u=Da(t.bodyFont),f=Da(t.titleFont),h=Da(t.footerFont),p=a.length,x=r.length,b=i.length,w=Ro(t.padding);let g=w.height,_=0,j=i.reduce((F,V)=>F+V.before.length+V.lines.length+V.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,p&&(g+=p*f.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),j){const F=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;g+=b*F+(j-b)*u.lineHeight+(j-1)*t.bodySpacing}x&&(g+=t.footerMarginTop+x*h.lineHeight+(x-1)*t.footerSpacing);let E=0;const k=function(F){_=Math.max(_,n.measureText(F).width+E)};return n.save(),n.font=f.string,ui(e.title,k),n.font=u.string,ui(e.beforeBody.concat(e.afterBody),k),E=t.displayColors?o+2+t.boxPadding:0,ui(i,F=>{ui(F.before,k),ui(F.lines,k),ui(F.after,k)}),E=0,n.font=h.string,ui(e.footer,k),n.restore(),_+=w.width,{width:_,height:g}}function VV(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function qV(e,t,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+a+o>t.width||e==="right"&&r-a-o<0)return!0}function GV(e,t,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:c,right:u}}=e;let f="center";return i==="center"?f=r<=(c+u)/2?"left":"right":r<=a/2?f="left":r>=o-a/2&&(f="right"),qV(f,e,t,n)&&(f="center"),f}function d3(e,t,n){const i=n.yAlign||t.yAlign||VV(e,n);return{xAlign:n.xAlign||t.xAlign||GV(e,t,n,i),yAlign:i}}function $V(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function YV(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function f3(e,t,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=e,{xAlign:c,yAlign:u}=n,f=r+a,{topLeft:h,topRight:p,bottomLeft:x,bottomRight:b}=Sh(o);let w=$V(t,c);const g=YV(t,u,f);return u==="center"?c==="left"?w+=f:c==="right"&&(w-=f):c==="left"?w-=Math.max(h,x)+r:c==="right"&&(w+=Math.max(p,b)+r),{x:is(w,0,i.width-t.width),y:is(g,0,i.height-t.height)}}function ng(e,t,n){const i=Ro(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function h3(e){return Ec([],gu(e))}function XV(e,t,n){return Ef(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function m3(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const c6={beforeTitle:mu,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:mu,beforeBody:mu,beforeLabel:mu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Kn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mu,afterBody:mu,beforeFooter:mu,footer:mu,afterFooter:mu};function Ws(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?c6[t].call(n,i):r}class Lb extends Mu{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,a=new UA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=XV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Ws(i,"beforeTitle",this,t),a=Ws(i,"title",this,t),o=Ws(i,"afterTitle",this,t);let c=[];return c=Ec(c,gu(r)),c=Ec(c,gu(a)),c=Ec(c,gu(o)),c}getBeforeBody(t,n){return h3(Ws(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return ui(t,a=>{const o={before:[],lines:[],after:[]},c=m3(i,a);Ec(o.before,gu(Ws(c,"beforeLabel",this,a))),Ec(o.lines,Ws(c,"label",this,a)),Ec(o.after,gu(Ws(c,"afterLabel",this,a))),r.push(o)}),r}getAfterBody(t,n){return h3(Ws(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Ws(i,"beforeFooter",this,t),a=Ws(i,"footer",this,t),o=Ws(i,"afterFooter",this,t);let c=[];return c=Ec(c,gu(r)),c=Ec(c,gu(a)),c=Ec(c,gu(o)),c}_createItems(t){const n=this._active,i=this.chart.data,r=[],a=[],o=[];let c=[],u,f;for(u=0,f=n.length;u<f;++u)c.push(WV(this.chart,n[u]));return t.filter&&(c=c.filter((h,p,x)=>t.filter(h,p,x,i))),t.itemSort&&(c=c.sort((h,p)=>t.itemSort(h,p,i))),ui(c,h=>{const p=m3(t.callbacks,h);r.push(Ws(p,"labelColor",this,h)),a.push(Ws(p,"labelPointStyle",this,h)),o.push(Ws(p,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let a,o=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const c=H0[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=u3(this,i),f=Object.assign({},c,u),h=d3(this.chart,i,f),p=f3(i,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const a=this.getCaretPosition(t,i,r);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:a}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:p}=Sh(c),{x,y:b}=t,{width:w,height:g}=n;let _,j,E,k,F,V;return a==="center"?(F=b+g/2,r==="left"?(_=x,j=_-o,k=F+o,V=F-o):(_=x+w,j=_+o,k=F-o,V=F+o),E=_):(r==="left"?j=x+Math.max(u,h)+o:r==="right"?j=x+w-Math.max(f,p)-o:j=this.caretX,a==="top"?(k=b,F=k-o,_=j-o,E=j+o):(k=b+g,F=k+o,_=j+o,E=j-o),V=k),{x1:_,x2:j,x3:E,y1:k,y2:F,y3:V}}drawTitle(t,n,i){const r=this.title,a=r.length;let o,c,u;if(a){const f=jh(i.rtl,this.x,this.width);for(t.x=ng(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",o=Da(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<a;++u)n.fillText(r[u],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,u+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,r,a){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=a,h=Da(a.bodyFont),p=ng(this,"left",a),x=r.x(p),b=u<h.lineHeight?(h.lineHeight-u)/2:0,w=n.y+b;if(a.usePointStyle){const g={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=r.leftForLtr(x,f)+f/2,j=w+u/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,jb(t,g,_,j),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,jb(t,g,_,j)}else{t.lineWidth=zn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=r.leftForLtr(x,f),_=r.leftForLtr(r.xPlus(x,1),f-2),j=Sh(o.borderRadius);Object.values(j).some(E=>E!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,$g(t,{x:g,y:w,w:f,h:u,radius:j}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),$g(t,{x:_,y:w+1,w:f-2,h:u-2,radius:j}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(g,w,f,u),t.strokeRect(g,w,f,u),t.fillStyle=o.backgroundColor,t.fillRect(_,w+1,f-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:a,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:h}=i,p=Da(i.bodyFont);let x=p.lineHeight,b=0;const w=jh(i.rtl,this.x,this.width),g=function(I){n.fillText(I,w.x(t.x+b),t.y+x/2),t.y+=x+a},_=w.textAlign(o);let j,E,k,F,V,ne,P;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=ng(this,_,i),n.fillStyle=i.bodyColor,ui(this.beforeBody,g),b=c&&_!=="right"?o==="center"?f/2+h:f+2+h:0,F=0,ne=r.length;F<ne;++F){for(j=r[F],E=this.labelTextColors[F],n.fillStyle=E,ui(j.before,g),k=j.lines,c&&k.length&&(this._drawColorBox(n,t,F,w,i),x=Math.max(p.lineHeight,u)),V=0,P=k.length;V<P;++V)g(k[V]),x=p.lineHeight;ui(j.after,g)}b=0,x=p.lineHeight,ui(this.afterBody,g),t.y-=a}drawFooter(t,n,i){const r=this.footer,a=r.length;let o,c;if(a){const u=jh(i.rtl,this.x,this.width);for(t.x=ng(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=Da(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,c=0;c<a;++c)n.fillText(r[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:a,yAlign:o}=this,{x:c,y:u}=t,{width:f,height:h}=i,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:w}=Sh(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+p,u),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(c+f-x,u),n.quadraticCurveTo(c+f,u,c+f,u+x),o==="center"&&a==="right"&&this.drawCaret(t,n,i,r),n.lineTo(c+f,u+h-w),n.quadraticCurveTo(c+f,u+h,c+f-w,u+h),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(c+b,u+h),n.quadraticCurveTo(c,u+h,c,u+h-b),o==="center"&&a==="left"&&this.drawCaret(t,n,i,r),n.lineTo(c,u+p),n.quadraticCurveTo(c,u,c+p,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const o=H0[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=u3(this,t),u=Object.assign({},o,this._size),f=d3(n,t,u),h=f3(t,u,f,n);(r._to!==h.x||a._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ro(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,r,n),FA(t,n.textDirection),a.y+=o.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),PA(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),a=!Vg(i,r),o=this._positionChanged(r,n);(a||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],o=this._getActiveElements(t,a,n,i),c=this._positionChanged(o,t),u=n||!Vg(o,a)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:a}=this,o=H0[a.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}Xt(Lb,"positioners",H0);var u6={id:"tooltip",_element:Lb,positioners:H0,afterInit(e,t,n){n&&(e.tooltip=new Lb({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:c6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const KV=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function ZV(e,t,n,i){const r=e.indexOf(t);if(r===-1)return KV(e,t,n,i);const a=e.lastIndexOf(t);return r!==a?n:r}const JV=(e,t)=>e===null?null:is(Math.round(e),0,t);function p3(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Zg extends Uh{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:a}of n)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Kn(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:ZV(i,t,An(n,t),this._addedLabels),JV(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return p3.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Xt(Zg,"id","category"),Xt(Zg,"defaults",{ticks:{callback:p3}});function QV(e,t){const n=[],{bounds:r,step:a,min:o,max:c,precision:u,count:f,maxTicks:h,maxDigits:p,includeBounds:x}=e,b=a||1,w=h-1,{min:g,max:_}=t,j=!Kn(o),E=!Kn(c),k=!Kn(f),F=(_-g)/(p+1);let V=fN((_-g)/w/b)*b,ne,P,I,Y;if(V<1e-14&&!j&&!E)return[{value:g},{value:_}];Y=Math.ceil(_/V)-Math.floor(g/V),Y>w&&(V=fN(Y*V/w/b)*b),Kn(u)||(ne=Math.pow(10,u),V=Math.ceil(V*ne)/ne),r==="ticks"?(P=Math.floor(g/V)*V,I=Math.ceil(_/V)*V):(P=g,I=_),j&&E&&a&&aH((c-o)/a,V/1e3)?(Y=Math.round(Math.min((c-o)/V,h)),V=(c-o)/Y,P=o,I=c):k?(P=j?o:P,I=E?c:I,Y=f-1,V=(I-P)/Y):(Y=(I-P)/V,nm(Y,Math.round(Y),V/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const Z=Math.max(hN(V),hN(P));ne=Math.pow(10,Kn(u)?Z:u),P=Math.round(P*ne)/ne,I=Math.round(I*ne)/ne;let z=0;for(j&&(x&&P!==o?(n.push({value:o}),P<o&&z++,nm(Math.round((P+z*V)*ne)/ne,o,g3(o,F,e))&&z++):P<o&&z++);z<Y;++z){const U=Math.round((P+z*V)*ne)/ne;if(E&&U>c)break;n.push({value:U})}return E&&x&&I!==c?n.length&&nm(n[n.length-1].value,c,g3(c,F,e))?n[n.length-1].value=c:n.push({value:c}):(!E||I===c)&&n.push({value:I}),n}function g3(e,t,{horizontal:n,minRotation:i}){const r=yu(i),a=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class eq extends Uh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Kn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const o=u=>r=n?r:u,c=u=>a=i?a:u;if(t){const u=Lc(r),f=Lc(a);u<0&&f<0?c(0):u>0&&f>0&&o(0)}if(r===a){let u=a===0?1:Math.abs(a*.05);c(a+u),t||o(r-u)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,o=QV(r,a);return t.bounds==="ticks"&&sH(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return I2(t,this.chart.options.locale,this.options.ticks.format)}}class Jg extends eq{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ss(t)?t:0,this.max=ss(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=yu(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Xt(Jg,"id","linear"),Xt(Jg,"defaults",{ticks:{callback:TA.formatters.numeric}});const R1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qs=Object.keys(R1);function x3(e,t){return e-t}function v3(e,t){if(Kn(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:a}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ss(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(wm(a)||a===!0)?n.startOf(o,"isoWeek",a):n.startOf(o,r)),+o)}function b3(e,t,n,i){const r=qs.length;for(let a=qs.indexOf(e);a<r-1;++a){const o=R1[qs[a]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(c*o.size))<=i)return qs[a]}return qs[r-1]}function tq(e,t,n,i,r){for(let a=qs.length-1;a>=qs.indexOf(n);a--){const o=qs[a];if(R1[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return qs[n?qs.indexOf(n):0]}function nq(e){for(let t=qs.indexOf(e)+1,n=qs.length;t<n;++t)if(R1[qs[t]].common)return qs[t]}function y3(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=M2(n,t),a=n[i]>=t?n[i]:n[r];e[a]=!0}}function iq(e,t,n,i){const r=e._adapter,a=+r.startOf(t[0].value,i),o=t[t.length-1].value;let c,u;for(c=a;c<=o;c=+r.add(c,1,i))u=n[c],u>=0&&(t[u].major=!0);return t}function w3(e,t,n){const i=[],r={},a=t.length;let o,c;for(o=0;o<a;++o)c=t[o],r[c]=o,i.push({value:c,major:!1});return a===0||!n?i:iq(e,i,r,n)}class Qg extends Uh{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new UU._date(t.adapters.date);r.init(n),tm(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:v3(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:a,minDefined:o,maxDefined:c}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!o||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=ss(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),a=ss(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,o=this.max,c=dH(r,a,o);return this._unit=n.unit||(i.autoSkip?b3(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):tq(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:nq(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),w3(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=is(n,0,o),i=is(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,a=r.time,o=a.unit||b3(a.minUnit,n,i,this._getLabelCapacity(n)),c=An(r.ticks.stepSize,1),u=o==="week"?a.isoWeekday:!1,f=wm(u)||u===!0,h={};let p=n,x,b;if(f&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,f?"day":o),t.diff(i,n,o)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+o);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(x=p,b=0;x<i;x=+t.add(x,c,o),b++)y3(h,x,w);return(x===i||r.bounds==="ticks"||b===1)&&y3(h,x,w),Object.keys(h).sort(x3).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,a=this._unit,o=n||r[a];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const a=this.options,o=a.ticks.callback;if(o)return Li(o,[t,n,i],this);const c=a.time.displayFormats,u=this._unit,f=this._majorUnit,h=u&&c[u],p=f&&c[f],x=i[n],b=f&&p&&x&&x.major;return this._adapter.format(t,r||(b?p:h))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=yu(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*o,h:i*o+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,w3(this,[t],this._majorUnit),r),o=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(v3(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return jA(t.sort(x3))}}Xt(Qg,"id","time"),Xt(Qg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ig(e,t,n){let i=0,r=e.length-1,a,o,c,u;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=af(e,"pos",t)),{pos:a,time:c}=e[i],{pos:o,time:u}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=af(e,"time",t)),{time:a,pos:c}=e[i],{time:o,pos:u}=e[r]);const f=o-a;return f?c+(u-c)*(t-a)/f:c}class _3 extends Qg{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ig(n,this.min),this._tableRange=ig(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],a=[];let o,c,u,f,h;for(o=0,c=t.length;o<c;++o)f=t[o],f>=n&&f<=i&&r.push(f);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)h=r[o+1],u=r[o-1],f=r[o],Math.round((h+u)/2)!==f&&a.push({time:f,pos:o/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ig(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return ig(this._table,i*this._tableRange+this._minPos,!0)}}Xt(_3,"id","timeseries"),Xt(_3,"defaults",Qg.defaults);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var N3=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),am={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Kn(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),r=i.length,a=e.font,o=0,c;for(e.font=n.string,c=0;c<r;++c)o=Math.max(e.measureText(i[c]).width,o);return e.font=a,{height:r*n.lineHeight,width:o}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],r,a,o,c;for(r=0,o=t.length;r<o;++r)c=t[r],a=n.indexOf(c),a===-1?i.push([c,1]):n.splice(a,1);for(r=0,o=n.length;r<o;++r)i.push([n[r],-1]);return i},rasterize:function(e){return Math.round(e*N3)/N3}};function Ov(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var r=e.x-n,a=e.y-i,o=Math.sqrt(r*r+a*a);return{x:o?r/o:0,y:o?a/o:-1}}function rq(e,t,n,i,r){switch(r){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),i=Math.sin(r);break}return{x:e,y:t,vx:n,vy:i}}var aq=0,d6=1,f6=2,h6=4,m6=8;function rg(e,t,n){var i=aq;return e<n.left?i|=d6:e>n.right&&(i|=f6),t<n.top?i|=m6:t>n.bottom&&(i|=h6),i}function sq(e,t){for(var n=e.x0,i=e.y0,r=e.x1,a=e.y1,o=rg(n,i,t),c=rg(r,a,t),u,f,h;!(!(o|c)||o&c);)u=o||c,u&m6?(f=n+(r-n)*(t.top-i)/(a-i),h=t.top):u&h6?(f=n+(r-n)*(t.bottom-i)/(a-i),h=t.bottom):u&f6?(h=i+(a-i)*(t.right-n)/(r-n),f=t.right):u&d6&&(h=i+(a-i)*(t.left-n)/(r-n),f=t.left),u===o?(n=f,i=h,o=rg(n,i,t)):(r=f,a=h,c=rg(r,a,t));return{x0:n,x1:r,y0:i,y1:a}}function ag(e,t){var n=t.anchor,i=e,r,a;return t.clamp&&(i=sq(i,t.area)),n==="start"?(r=i.x0,a=i.y0):n==="end"?(r=i.x1,a=i.y1):(r=(i.x0+i.x1)/2,a=(i.y0+i.y1)/2),rq(r,a,e.vx,e.vy,t.align)}var sg={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),r=Math.sin(n),a=e.innerRadius,o=e.outerRadius;return ag({x0:e.x+i*a,y0:e.y+r*a,x1:e.x+i*o,y1:e.y+r*o,vx:i,vy:r},t)},point:function(e,t){var n=Ov(e,t.origin),i=n.x*e.options.radius,r=n.y*e.options.radius;return ag({x0:e.x-i,y0:e.y-r,x1:e.x+i,y1:e.y+r,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=Ov(e,t.origin),i=e.x,r=e.y,a=0,o=0;return e.horizontal?(i=Math.min(e.x,e.base),a=Math.abs(e.base-e.x)):(r=Math.min(e.y,e.base),o=Math.abs(e.base-e.y)),ag({x0:i,y0:r+o,x1:i+a,y1:r,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=Ov(e,t.origin);return ag({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Nu=am.rasterize;function oq(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,r=e.size.width,a=-r/2,o=-i/2;return{frame:{x:a-n.left-t,y:o-n.top-t,w:r+n.width+t*2,h:i+n.height+t*2},text:{x:a,y:o,w:r,h:i}}}function lq(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function cq(e){return e instanceof vh?sg.arc:e instanceof Ah?sg.point:e instanceof Eh?sg.bar:sg.fallback}function uq(e,t,n,i,r,a){var o=Math.PI/2;if(a){var c=Math.min(a,r/2,i/2),u=t+c,f=n+c,h=t+i-c,p=n+r-c;e.moveTo(t,f),u<h&&f<p?(e.arc(u,f,c,-Math.PI,-o),e.arc(h,f,c,-o,0),e.arc(h,p,c,0,o),e.arc(u,p,c,o,Math.PI)):u<h?(e.moveTo(u,n),e.arc(h,f,c,-o,o),e.arc(u,f,c,o,Math.PI+o)):f<p?(e.arc(u,f,c,-Math.PI,0),e.arc(u,p,c,0,Math.PI)):e.arc(u,f,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)}function dq(e,t,n){var i=n.backgroundColor,r=n.borderColor,a=n.borderWidth;!i&&(!r||!a)||(e.beginPath(),uq(e,Nu(t.x)+a/2,Nu(t.y)+a/2,Nu(t.w)-a,Nu(t.h)-a,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),r&&a&&(e.strokeStyle=r,e.lineWidth=a,e.lineJoin="miter",e.stroke()))}function fq(e,t,n){var i=n.lineHeight,r=e.w,a=e.x,o=e.y+i/2;return t==="center"?a+=r/2:(t==="end"||t==="right")&&(a+=r),{h:i,w:r,x:a,y:o}}function hq(e,t,n){var i=e.shadowBlur,r=n.stroked,a=Nu(n.x),o=Nu(n.y),c=Nu(n.w);r&&e.strokeText(t,a,o,c),n.filled&&(i&&r&&(e.shadowBlur=0),e.fillText(t,a,o,c),i&&r&&(e.shadowBlur=i))}function mq(e,t,n,i){var r=i.textAlign,a=i.color,o=!!a,c=i.font,u=t.length,f=i.textStrokeColor,h=i.textStrokeWidth,p=f&&h,x;if(!(!u||!o&&!p))for(n=fq(n,r,c),e.font=c.string,e.textAlign=r,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,o&&(e.fillStyle=a),p&&(e.lineJoin="round",e.lineWidth=h,e.strokeStyle=f),x=0,u=t.length;x<u;++x)hq(e,t[x],{stroked:p,filled:o,w:n.w,x:n.x,y:n.y+n.h*x})}var p6=function(e,t,n,i){var r=this;r._config=e,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=n};Oc(p6.prototype,{_modelize:function(e,t,n,i){var r=this,a=r._index,o=Da(Qi([n.font,{}],i,a)),c=Qi([n.color,gr.color],i,a);return{align:Qi([n.align,"center"],i,a),anchor:Qi([n.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:Qi([n.backgroundColor,null],i,a),borderColor:Qi([n.borderColor,null],i,a),borderRadius:Qi([n.borderRadius,0],i,a),borderWidth:Qi([n.borderWidth,0],i,a),clamp:Qi([n.clamp,!1],i,a),clip:Qi([n.clip,!1],i,a),color:c,display:e,font:o,lines:t,offset:Qi([n.offset,4],i,a),opacity:Qi([n.opacity,1],i,a),origin:lq(r._el,i),padding:Ro(Qi([n.padding,4],i,a)),positioner:cq(r._el),rotation:Qi([n.rotation,0],i,a)*(Math.PI/180),size:am.textSize(r._ctx,t,o),textAlign:Qi([n.textAlign,"start"],i,a),textShadowBlur:Qi([n.textShadowBlur,0],i,a),textShadowColor:Qi([n.textShadowColor,c],i,a),textStrokeColor:Qi([n.textStrokeColor,c],i,a),textStrokeWidth:Qi([n.textStrokeWidth,0],i,a)}},update:function(e){var t=this,n=null,i=null,r=t._index,a=t._config,o,c,u,f=Qi([a.display,!0],e,r);f&&(o=e.dataset.data[r],c=An(Li(a.formatter,[o,e]),o),u=Kn(c)?[]:am.toTextLines(c),u.length&&(n=t._modelize(f,u,a,e),i=oq(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,r=n._model,a=n._rects,o;this.visible()&&(i.save(),r.clip&&(o=r.area,i.beginPath(),i.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),i.clip()),i.globalAlpha=am.bound(0,r.opacity,1),i.translate(Nu(t.x),Nu(t.y)),i.rotate(r.rotation),dq(i,a.frame,r),mq(i,r.lines,a.text,r),i.restore())}});var pq=Number.MIN_SAFE_INTEGER||-9007199254740991,gq=Number.MAX_SAFE_INTEGER||9007199254740991;function M0(e,t,n){var i=Math.cos(n),r=Math.sin(n),a=t.x,o=t.y;return{x:a+i*(e.x-a)-r*(e.y-o),y:o+r*(e.x-a)+i*(e.y-o)}}function S3(e,t){var n=gq,i=pq,r=t.origin,a,o,c,u,f;for(a=0;a<e.length;++a)o=e[a],c=o.x-r.x,u=o.y-r.y,f=t.vx*c+t.vy*u,n=Math.min(n,f),i=Math.max(i,f);return{min:n,max:i}}function og(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/r,vy:(t.y-e.y)/r,origin:e,ln:r}}var g6=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Oc(g6.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=M0(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[og(t[0],t[1]),og(t[0],t[3])],r,a,o;for(this._rotation!==e._rotation&&i.push(og(n[0],n[1]),og(n[0],n[3])),r=0;r<i.length;++r)if(a=S3(t,i[r]),o=S3(n,i[r]),a.max<o.min||o.max<a.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[M0({x:t.x,y:t.y},i,n),M0({x:t.x+t.w,y:t.y},i,n),M0({x:t.x+t.w,y:t.y+t.h},i,n),M0({x:t.x,y:t.y+t.h},i,n)]}});function x6(e,t,n){var i=t.positioner(e,t),r=i.vx,a=i.vy;if(!r&&!a)return{x:i.x,y:i.y};var o=n.w,c=n.h,u=t.rotation,f=Math.abs(o/2*Math.cos(u))+Math.abs(c/2*Math.sin(u)),h=Math.abs(o/2*Math.sin(u))+Math.abs(c/2*Math.cos(u)),p=1/Math.max(Math.abs(r),Math.abs(a));return f*=r*p,h*=a*p,f+=t.offset*r,h+=t.offset*a,{x:i.x+f,y:i.y+h}}function xq(e,t){var n,i,r,a;for(n=e.length-1;n>=0;--n)for(r=e[n].$layout,i=n-1;i>=0&&r._visible;--i)a=e[i].$layout,a._visible&&r._box.intersects(a._box)&&t(r,a);return e}function vq(e){var t,n,i,r,a,o,c;for(t=0,n=e.length;t<n;++t)i=e[t],r=i.$layout,r._visible&&(c=new Proxy(i._el,{get:(u,f)=>u.getProps([f],!0)[f]}),a=i.geometry(),o=x6(c,i.model(),a),r._box.update(o,a,i.rotation()));return xq(e,function(u,f){var h=u._hidable,p=f._hidable;h&&p||p?f._visible=!1:h&&(u._visible=!1)})}var sm={prepare:function(e){var t=[],n,i,r,a,o;for(n=0,r=e.length;n<r;++n)for(i=0,a=e[n].length;i<a;++i)o=e[n][i],t.push(o),o.$layout={_box:new g6,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return t.sort(function(c,u){var f=c.$layout,h=u.$layout;return f._idx===h._idx?h._set-f._set:h._idx-f._idx}),this.update(t),t},update:function(e){var t=!1,n,i,r,a,o;for(n=0,i=e.length;n<i;++n)r=e[n],a=r.model(),o=r.$layout,o._hidable=a&&a.display==="auto",o._visible=r.visible(),t|=o._hidable;t&&vq(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,r,a,o,c;for(n=0,i=t.length;n<i;++n)r=t[n],a=r.$layout,a._visible&&(o=r.geometry(),c=x6(r._el,r.model(),o),a._box.update(c,o,r.rotation()),r.draw(e,c))}},bq=function(e){if(Kn(e))return null;var t=e,n,i,r;if(zn(e))if(!Kn(e.label))t=e.label;else if(!Kn(e.r))t=e.r;else for(t="",n=Object.keys(e),r=0,i=n.length;r<i;++r)t+=(r!==0?", ":"")+n[r]+": "+e[n[r]];return""+t},yq={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:bq,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Vs="$datalabels",v6="$default";function wq(e,t){var n=e.datalabels,i={},r=[],a,o;return n===!1?null:(n===!0&&(n={}),t=Oc({},[t,n]),a=t.labels||{},o=Object.keys(a),delete t.labels,o.length?o.forEach(function(c){a[c]&&r.push(Oc({},[t,a[c],{_key:c}]))}):r.push(t),i=r.reduce(function(c,u){return ui(u.listeners||{},function(f,h){c[h]=c[h]||{},c[h][u._key||v6]=f}),delete u.listeners,c},{}),{labels:r,listeners:i})}function Rb(e,t,n,i){if(t){var r=n.$context,a=n.$groups,o;t[a._set]&&(o=t[a._set][a._key],o&&Li(o,[r,i])===!0&&(e[Vs]._dirty=!0,n.update(r)))}}function _q(e,t,n,i,r){var a,o;!n&&!i||(n?i?n!==i&&(o=a=!0):o=!0:a=!0,o&&Rb(e,t.leave,n,r),a&&Rb(e,t.enter,i,r))}function Nq(e,t){var n=e[Vs],i=n._listeners,r,a;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")a=sm.lookup(n._labels,t);else if(t.type!=="mouseout")return;r=n._hovered,n._hovered=a,_q(e,i,r,a,t)}}function Sq(e,t){var n=e[Vs],i=n._listeners.click,r=i&&sm.lookup(n._labels,t);r&&Rb(e,i,r,t)}var jq={id:"datalabels",defaults:yq,beforeInit:function(e){e[Vs]={_actives:[]}},beforeUpdate:function(e){var t=e[Vs];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,r=e[Vs],a=r._datasets[i]=[],o=e.isDatasetVisible(i),c=e.data.datasets[i],u=wq(c,n),f=t.meta.data||[],h=e.ctx,p,x,b,w,g,_,j,E;for(h.save(),p=0,b=f.length;p<b;++p)if(j=f[p],j[Vs]=[],o&&j&&e.getDataVisibility(p)&&!j.skip)for(x=0,w=u.labels.length;x<w;++x)g=u.labels[x],_=g._key,E=new p6(g,h,j,p),E.$groups={_set:i,_key:_||v6},E.$context={active:!1,chart:e,dataIndex:p,dataset:c,datasetIndex:i},E.update(E.$context),j[Vs].push(E),a.push(E);h.restore(),Oc(r._listeners,u.listeners,{merger:function(k,F,V){F[k]=F[k]||{},F[k][t.index]=V[k],r._listened=!0}})},afterUpdate:function(e){e[Vs]._labels=sm.prepare(e[Vs]._datasets)},afterDatasetsDraw:function(e){sm.draw(e,e[Vs]._labels)},beforeEvent:function(e,t){if(e[Vs]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":Nq(e,n);break;case"click":Sq(e,n);break}}},afterEvent:function(e){var t=e[Vs],n=t._actives,i=t._actives=e.getActiveElements(),r=am.arrayDiff(n,i),a,o,c,u,f,h,p;for(a=0,o=r.length;a<o;++a)if(f=r[a],f[1])for(p=f[0].element[Vs]||[],c=0,u=p.length;c<u;++c)h=p[c],h.$context.active=f[1]===1,h.update(h.$context);(t._dirty||r.length)&&(sm.update(t._labels),e.render()),delete t._dirty}};const b6="label";function j3(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Aq(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function y6(e,t){e.labels=t}function w6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b6;const i=[];e.datasets=t.map(r=>{const a=e.datasets.find(o=>o[n]===r[n]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function Eq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b6;const n={labels:[],datasets:[]};return y6(n,e.labels),w6(n,e.datasets,t),n}function Tq(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:o,data:c,options:u,plugins:f=[],fallbackContent:h,updateMode:p,...x}=e,b=D.useRef(null),w=D.useRef(null),g=()=>{b.current&&(w.current=new Hm(b.current,{type:o,data:Eq(c,a),options:u&&{...u},plugins:f}),j3(t,w.current))},_=()=>{j3(t,null),w.current&&(w.current.destroy(),w.current=null)};return D.useEffect(()=>{!r&&w.current&&u&&Aq(w.current,u)},[r,u]),D.useEffect(()=>{!r&&w.current&&y6(w.current.config.data,c.labels)},[r,c.labels]),D.useEffect(()=>{!r&&w.current&&c.datasets&&w6(w.current.config.data,c.datasets,a)},[r,c.datasets]),D.useEffect(()=>{w.current&&(r?(_(),setTimeout(g)):w.current.update(p))},[r,u,c.labels,c.datasets,p]),D.useEffect(()=>{w.current&&(_(),setTimeout(g))},[o]),D.useEffect(()=>(g(),()=>_()),[]),Yl.createElement("canvas",{ref:b,role:"img",height:n,width:i,...x},h)}const Cq=D.forwardRef(Tq);function G2(e,t){return Hm.register(t),D.forwardRef((n,i)=>Yl.createElement(Cq,{...n,ref:i,type:e}))}const kq=G2("line",bg),Ob=G2("bar",vg),Lq=G2("pie",Ab);Hm.register(Zg,Jg,Ah,_u,Eh,l6,u6,s6,jq);function Rq(){var V,ne;const[e,t]=D.useState(()=>new Date().toISOString().slice(0,7)),[n,i]=D.useState(!1),[r,a]=D.useState(""),[o,c]=D.useState({totals:{visits:0,inquiries:0},by_hour:[],by_service:[],by_visit_type:[]}),u=async()=>{var P,I;i(!0),a("");try{const Y=await it.get("/api/reports/visits-monthly",{params:{month:e}});console.log("Monthly report API response:",Y.data),c(Y.data||{})}catch(Y){console.error(Y),a(((I=(P=Y==null?void 0:Y.response)==null?void 0:P.data)==null?void 0:I.message)||"Failed to load report.")}finally{i(!1)}};D.useEffect(()=>{u()},[e]);const f=D.useMemo(()=>{const P=new Map;for(let I=0;I<24;I++)P.set(I,0);return(o.by_hour||[]).forEach(I=>{const Y=Number(I.hour)||0;P.set(Y,(P.get(Y)||0)+(Number(I.count)||0))}),Array.from(P.entries()).map(([I,Y])=>({label:String(I).padStart(2,"0"),count:Y}))},[o.by_hour]),h=D.useMemo(()=>{const P=(o.by_service||[]).map(I=>{var ie,pe,ae;const Y=Number(I.count)||0,Z=Number(I.walkin||0),z=Number(I.appointment||0);let U=Z,J=z;if(Z===0&&z===0&&Y>0){const ue=((ie=o==null?void 0:o.totals)==null?void 0:ie.visits)||0,Q=o.by_visit_type||[],Ne=((pe=Q.find(ke=>ke.visit_type==="walkin"))==null?void 0:pe.count)||0,q=((ae=Q.find(ke=>ke.visit_type==="appointment"))==null?void 0:ae.count)||0;if(ue>0){const ke=Number(Ne)/ue,O=Number(q)/ue;U=Math.round(Y*ke),J=Math.round(Y*O),U+J!==Y&&(J=Y-U)}else U=Math.round(Y*.6),J=Y-U}return{label:I.service_name||"(Unspecified)",count:Y,walkin:U,appointment:J}});return console.log("Processed byService data:",P),P},[o.by_service,o.by_visit_type,o.totals]),p=D.useMemo(()=>{const P=new Map;for(let I=0;I<24;I++)P.set(I,0);return(o.by_hour_avg_per_day||[]).forEach(I=>{const Y=Number(I.hour)||0;P.set(Y,Number(I.avg_per_day)||0)}),P},[o.by_hour_avg_per_day]),x=D.useMemo(()=>({labels:f.map(P=>P.label),datasets:[{label:"Total (month)",data:f.map(P=>P.count),backgroundColor:"rgba(25,135,84,0.85)",borderColor:"#198754",borderWidth:1,type:"bar",yAxisID:"y"},{label:"Avg per day",data:f.map(P=>Number(p.get(Number(P.label))||0)),borderColor:"#0d6efd",backgroundColor:"rgba(13,110,253,0.25)",borderWidth:2,pointRadius:2,tension:.3,type:"line",yAxisID:"y"}]}),[f,p]),b={color:"#fff",font:{weight:"bold"},formatter:P=>P>0?P:""},w=D.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{font:{size:11}}},tooltip:{enabled:!0},datalabels:{anchor:"end",align:"end",offset:2,font:{size:9},...b}},scales:{x:{title:{display:!0,text:"Hour of Day",font:{size:12}},ticks:{font:{size:11}}},y:{title:{display:!0,text:"Visits (total) / Avg per day",font:{size:12}},beginAtZero:!0,ticks:{precision:0,font:{size:11}}}}}),[]),g=D.useMemo(()=>({labels:h.map(P=>P.label),datasets:[{label:"Walk-in",data:h.map(P=>P.walkin),backgroundColor:"#0d6efd",borderColor:"#0d6efd",borderWidth:1},{label:"Appointment",data:h.map(P=>P.appointment),backgroundColor:"#6c757d",borderColor:"#6c757d",borderWidth:1}]}),[h]),_=D.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{font:{size:11}}},tooltip:{enabled:!0},datalabels:{anchor:"end",align:"end",offset:2,font:{size:9},...b}},scales:{x:{title:{display:!0,text:"Service",font:{size:12}},ticks:{autoSkip:!1,maxRotation:60,minRotation:30,font:{size:10}}},y:{title:{display:!0,text:"Visits",font:{size:12}},beginAtZero:!0,ticks:{precision:0,font:{size:11}}}}}),[]),j=D.useMemo(()=>{if(!f.length)return null;const P=f.reduce((Y,Z)=>Y.count>Z.count?Y:Z),I=f.reduce((Y,Z)=>Y+Z.count,0)/f.length;return{peakHour:Number(P.label),peakCount:P.count,avgPerHour:I}},[f]),E=D.useMemo(()=>{if(!h.length)return null;const P=h.reduce((z,U)=>z+U.count,0),I=h.reduce((z,U)=>z.count>U.count?z:U),Y=P?I.count/P*100:0,Z=I.walkin>I.appointment;return{topService:I.label,topCount:I.count,topShare:Y,total:P,topWalkin:Z}},[h]),k=async()=>{var P,I,Y,Z,z,U;try{const{default:J}=await jd(async()=>{const{default:Q}=await Promise.resolve().then(()=>g4);return{default:Q}},void 0),{default:ie}=await jd(async()=>{const{default:Q}=await Promise.resolve().then(()=>D4);return{default:Q}},void 0),pe=new J({orientation:"p",unit:"pt",format:"a4"}),ae=(Q,Ne,q)=>(Q.setFontSize(12),Q.setFont("helvetica","bold"),Q.setTextColor(0,119,182),Q.text(Ne,40,q),Q.setTextColor(0,0,0),q+15);let ue=await c2(pe,20);pe.setFontSize(14),pe.text(`Monthly Visits Report  ${e}`,40,ue),ue+=30,ue=ae(pe,"Overview",ue),ie(pe,{startY:ue,head:[["Metric","Value"]],body:[["Total Visits",String(((P=o==null?void 0:o.totals)==null?void 0:P.visits)??0)],["Inquiries This Month",String(((I=o==null?void 0:o.totals)==null?void 0:I.inquiries)??0)]],theme:"striped"}),ue=ae(pe,"Hourly Visit Analysis",(((Y=pe.lastAutoTable)==null?void 0:Y.finalY)||100)+20),ie(pe,{startY:ue,head:[["Hour","Total (month)","Avg/day"]],body:(f||[]).map(Q=>[Q.label,String(Q.count),String(Number(p.get(Number(Q.label))||0).toFixed(2))]),theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[25,135,84]}}),j&&ie(pe,{startY:(((Z=pe.lastAutoTable)==null?void 0:Z.finalY)||100)+8,head:[["Insight"]],body:[[`On average, about ${j.avgPerHour.toFixed(1)} patients come per hour. The busiest time is ${j.peakHour}:00 (${j.peakCount} visits). More staff should be available at this time.`]],theme:"plain",styles:{fontSize:8,textColor:100,cellPadding:2},headStyles:{fontStyle:"bold",textColor:120},columnStyles:{0:{cellWidth:515}},margin:{left:40,right:40}}),ue=ae(pe,"Service Usage Analysis",(((z=pe.lastAutoTable)==null?void 0:z.finalY)||100)+20),ie(pe,{startY:ue,head:[["Service","Walk-in","Appointment","Total"]],body:(h||[]).map(Q=>[Q.label,String(Q.walkin),String(Q.appointment),String(Q.count)]),theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[220,53,69]}}),E&&ie(pe,{startY:(((U=pe.lastAutoTable)==null?void 0:U.finalY)||100)+8,head:[["Insight"]],body:[[`Most patients came for ${E.topService} (${E.topCount} visits, ${E.topShare.toFixed(0)}% of total). Most were booked by ${E.topWalkin?"walk-in":"appointment"}.`]],theme:"plain",styles:{fontSize:8,textColor:100,cellPadding:2},headStyles:{fontStyle:"bold",textColor:120},columnStyles:{0:{cellWidth:515}},margin:{left:40,right:40}}),pe.save(`visits-report-${e}.pdf`)}catch(J){console.error(J),alert("Failed to generate PDF.")}},F=()=>{var P,I,Y;try{const Z=ha.book_new(),z=[["Metric","Value"],["Total Visits",((P=o==null?void 0:o.totals)==null?void 0:P.visits)??0],["Inquiries This Month",((I=o==null?void 0:o.totals)==null?void 0:I.inquiries)??0]],U=ha.aoa_to_sheet(z);if(ha.book_append_sheet(Z,U,"Overview"),(f==null?void 0:f.length)>0){const J=[["Hour","Visits","Walk-ins","Appointments"],...f.map(pe=>[pe.label,pe.count,pe.walkin,pe.appointment])],ie=ha.aoa_to_sheet(J);ha.book_append_sheet(Z,ie,"Hourly Analysis")}if((h==null?void 0:h.length)>0){const J=[["Service","Total Visits","Walk-ins","Appointments","Walk-in %","Appointment %"],...h.map(pe=>{const ae=pe.count||0,ue=pe.walkin||0,Q=pe.appointment||0,Ne=ae>0?(ue/ae*100).toFixed(1):0,q=ae>0?(Q/ae*100).toFixed(1):0;return[pe.label,ae,ue,Q,parseFloat(Ne),parseFloat(q)]})],ie=ha.aoa_to_sheet(J);ha.book_append_sheet(Z,ie,"Service Analysis")}if(((Y=o==null?void 0:o.visits)==null?void 0:Y.length)>0){const J=[["Date","Time","Service","Type","Patient ID","Status"],...o.visits.map(pe=>[pe.date,pe.time,pe.service,pe.type,pe.patient_id,pe.status])],ie=ha.aoa_to_sheet(J);ha.book_append_sheet(Z,ie,"Visit Details")}hA(Z,`visits-report-${e}.xlsx`)}catch(Z){console.error(Z),alert("Failed to generate Excel file.")}};return s.jsxs("div",{className:"admin-monthly-report-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100%",position:"relative",padding:"1.5rem",boxSizing:"border-box",overflow:"hidden"},children:[s.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-4 gap-3",children:[s.jsxs("div",{className:"flex-grow-1",children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:" Monthly Visits Report"}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Analyze patient visits and service usage patterns"})]}),s.jsxs("div",{className:"d-flex flex-column flex-sm-row gap-3 align-items-stretch align-items-sm-center",children:[s.jsxs("div",{className:"flex-shrink-0",children:[s.jsx("label",{className:"form-label fw-semibold mb-1",children:"Select Month"}),s.jsx("input",{type:"month",className:"form-control border-0 shadow-sm",style:{minWidth:150,maxWidth:170,borderRadius:"12px",padding:"12px 16px",fontSize:"14px",fontWeight:"500"},value:e,onChange:P=>t(P.target.value),"aria-label":"Select month"})]}),s.jsxs("div",{className:"d-flex flex-column flex-sm-row gap-2 align-items-stretch align-items-sm-center flex-shrink-0",children:[s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:u,disabled:n,style:{background:"linear-gradient(135deg, #6c757d 0%, #495057 100%)",color:"white",borderRadius:"12px",padding:"12px 20px",fontWeight:"600",transition:"all 0.3s ease",minWidth:"100px"},children:[s.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Refresh"]}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:k,disabled:n,style:{background:"linear-gradient(135deg, #343a40 0%, #212529 100%)",color:"white",borderRadius:"12px",padding:"12px 20px",fontWeight:"600",transition:"all 0.3s ease",minWidth:"100px"},children:[s.jsx("i",{className:"bi bi-file-earmark-pdf me-2"}),"PDF"]}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:F,disabled:n,style:{background:"linear-gradient(135deg, #198754 0%, #146c43 100%)",color:"white",borderRadius:"12px",padding:"12px 20px",fontWeight:"600",transition:"all 0.3s ease",minWidth:"100px"},children:[s.jsx("i",{className:"bi bi-file-earmark-excel me-2"}),"Excel"]})]})]})]}),r&&s.jsxs("div",{className:"alert alert-danger border-0 shadow-sm mb-4",style:{borderRadius:"12px"},role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),r]}),n?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading monthly report..."})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"row g-3 mb-4",children:[s.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:s.jsx("div",{className:"card border-0 shadow-sm h-100",style:{borderRadius:"16px"},children:s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center flex-shrink-0",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-people text-white"})}),s.jsxs("div",{className:"flex-grow-1 min-width-0",children:[s.jsx("div",{className:"text-muted small fw-semibold",children:"Total Visits"}),s.jsx("div",{className:"fs-3 fw-bold text-primary",children:((V=o==null?void 0:o.totals)==null?void 0:V.visits)??0})]})]})})})}),s.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:s.jsx("div",{className:"card border-0 shadow-sm h-100",style:{borderRadius:"16px"},children:s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-info rounded-circle me-3 d-flex align-items-center justify-content-center flex-shrink-0",style:{width:"50px",height:"50px",fontSize:"1.5rem"},children:s.jsx("i",{className:"bi bi-chat-dots text-white"})}),s.jsxs("div",{className:"flex-grow-1 min-width-0",children:[s.jsx("div",{className:"text-muted small fw-semibold",children:"Inquiries"}),s.jsx("div",{className:"fs-3 fw-bold text-info",children:((ne=o==null?void 0:o.totals)==null?void 0:ne.inquiries)??0})]})]})})})})]}),s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:[s.jsx("div",{className:"card-header bg-primary text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:s.jsxs("h5",{className:"mb-0 fw-semibold",children:[s.jsx("i",{className:"bi bi-clock me-2"}),"Visits by Hour"]})}),s.jsxs("div",{className:"card-body p-4",children:[s.jsx("div",{style:{height:"350px",position:"relative",width:"100%"},children:s.jsx(Ob,{data:x,options:w})}),j&&s.jsx("div",{className:"mt-3 p-3 bg-light rounded",style:{borderRadius:"12px"},children:s.jsxs("small",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"On average, about ",j.avgPerHour.toFixed(1)," patients come per hour. The busiest time is ",j.peakHour,":00 (",j.peakCount," visits). More staff should be available at this time."]})})]})]})}),s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:[s.jsx("div",{className:"card-header bg-success text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:s.jsxs("h5",{className:"mb-0 fw-semibold",children:[s.jsx("i",{className:"bi bi-bar-chart me-2"}),"Visits by Service & Type"]})}),s.jsxs("div",{className:"card-body p-4",children:[s.jsx("div",{style:{height:"350px",position:"relative",width:"100%"},children:s.jsx(Ob,{data:g,options:_})}),E&&s.jsx("div",{className:"mt-3 p-3 bg-light rounded",style:{borderRadius:"12px"},children:s.jsxs("small",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"Most patients came for ",E.topService," (",E.topCount," visits, ",E.topShare.toFixed(0),"% of total). Most were booked by ",E.topWalkin?"walk-in":"appointment","."]})})]})]})})]})]})]})}function Oq(){const[e,t]=D.useState(()=>new Date().toISOString().slice(0,7)),[n,i]=D.useState("visits"),[r,a]=D.useState(100),[o,c]=D.useState(""),[u,f]=D.useState(""),[h,p]=D.useState(!1),[x,b]=D.useState(""),[w,g]=D.useState([]),[_,j]=D.useState([]),[E,k]=D.useState([]);D.useEffect(()=>{(async()=>{var z;try{const U=await it.get("/api/services");j(U.data||[]);const J=((z=U.data)==null?void 0:z.filter(ie=>ie.is_special||ie.bundleItems&&ie.bundleItems.length>0))||[];k(J)}catch(U){console.error("Failed to load data:",U)}})()},[]);const F=async()=>{var Z,z;p(!0),b("");try{const U=await it.get("/api/goals",{params:{period:e}});g(Array.isArray(U.data)?U.data:[])}catch(U){console.error(U),b(((z=(Z=U==null?void 0:U.response)==null?void 0:Z.data)==null?void 0:z.message)||"Failed to load goals.")}finally{p(!1)}};D.useEffect(()=>{F()},[e]);const V=async Z=>{var z,U;Z.preventDefault(),p(!0),b("");try{const J={period_type:"month",metric:n==="visits"?"total_visits":n,target_value:r,period_start:e,period_end:null,service_id:n==="service_availment"?o:null,package_id:n==="package_promo_availment"?u:null};await it.post("/api/goals",J),await F(),a(100),c(""),f("")}catch(J){console.error(J),b(((U=(z=J==null?void 0:J.response)==null?void 0:z.data)==null?void 0:U.message)||"Failed to create goal.")}finally{p(!1)}},ne=Z=>{const z=Number(Z.latest_actual||0),U=Number(Z.target_value||1),J=new Date,ie=new Date(Z.period_start),pe=Z.period_end?new Date(Z.period_end):new Date(ie.getFullYear(),ie.getMonth()+1,0),ae=Math.ceil((pe-ie)/(1e3*60*60*24)),ue=Math.min(Math.ceil((J-ie)/(1e3*60*60*24)),ae),Q=Math.round(U*ue/ae);return Z.status==="missed"?{label:"Missed",color:"danger"}:Z.status==="done"?{label:"Completed",color:"success"}:z>=Q?{label:"On track",color:"success"}:z>=Q*.8?{label:"At risk",color:"warning"}:{label:"Behind",color:"danger"}},P=Z=>{const z=Number(Z.latest_actual||0),U=Number(Z.target_value||1);return Math.min(100,Math.round(z/U*100))},I=Z=>{switch(Z){case"total_visits":return"Visits";case"service_availment":return"Service Availment";case"package_promo_availment":return"Package/Promo Availment";default:return Z}},Y=Z=>{switch(Z.metric){case"total_visits":return"Total number of visits";case"service_availment":const z=_.find(J=>J.id===Z.service_id);return z?`${z.name}`:"Unknown Service";case"package_promo_availment":const U=E.find(J=>J.id===Z.package_id);return U?`${U.name}`:"Unknown Package/Promo";default:return""}};return s.jsxs("div",{className:"admin-goals-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100%",padding:"1.5rem 1rem",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-bullseye me-2"}),"Performance Goals"]}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Set and track your clinic's performance targets"})]}),s.jsx("div",{className:"d-flex gap-2 flex-wrap align-items-center",children:s.jsx("input",{type:"month",className:"form-control border-0 shadow-sm",style:{width:180,borderRadius:"12px",padding:"12px 16px",fontSize:"14px",fontWeight:"500"},value:e,onChange:Z=>t(Z.target.value),"aria-label":"Select month"})})]}),x&&s.jsx("div",{className:"alert alert-danger border-0 shadow-sm mb-4",role:"alert",style:{borderRadius:"12px"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("span",{className:"me-2",children:""}),x]})}),s.jsxs("div",{className:"row g-2 g-md-3 g-lg-4",children:[s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px"},children:s.jsxs("div",{className:"card-body p-4",children:[s.jsxs("h5",{className:"card-title mb-4 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create New Goal"]}),s.jsxs("form",{className:"row g-3",onSubmit:V,children:[s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Metric"}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:n,onChange:Z=>i(Z.target.value),children:[s.jsx("option",{value:"visits",children:"Visits"}),s.jsx("option",{value:"service_availment",children:"Service Availment"}),s.jsx("option",{value:"package_promo_availment",children:"Package/Promo Availment"})]})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Period"}),s.jsx("input",{type:"month",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:e,onChange:Z=>t(Z.target.value)})]}),n==="service_availment"&&s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Service"}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:o,onChange:Z=>c(Z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select a regular service..."}),_.filter(Z=>!Z.is_special).map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),n==="package_promo_availment"&&s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Package/Promo"}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:u,onChange:Z=>f(Z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select a package/promo..."}),E.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Target Value"}),s.jsx("input",{type:"number",min:"1",className:"form-control border-0 shadow-sm",style:{borderRadius:"8px",padding:"12px 16px"},value:r,onChange:Z=>a(Z.target.value),placeholder:n==="visits"?"Number of visits":"Target number",required:!0})]}),n==="service_availment"&&s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"alert alert-info border-0 shadow-sm",style:{borderRadius:"8px"},children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"Only regular services (non-special) are shown. Patients who availed promos for these services will be excluded from the count."]})}),s.jsx("div",{className:"col-12 col-md-6 col-lg-3 d-flex align-items-end",children:s.jsxs("button",{className:"btn w-100 border-0 shadow-sm",disabled:h,style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",borderRadius:"8px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[h?"":""," Create Goal"]})})]})]})})}),s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px"},children:[s.jsx("div",{className:"card-header bg-transparent border-0 p-4 pb-0",children:s.jsxs("h5",{className:"card-title mb-0 fw-bold",style:{color:"#1e293b"},children:[s.jsx("i",{className:"bi bi-list-check me-2"}),"Goals for ",e]})}),s.jsx("div",{className:"card-body p-4",children:h?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading goals..."})]})}):w.length===0?s.jsxs("div",{className:"text-center text-muted py-5",children:[s.jsx("div",{className:"fs-1 mb-3",style:{color:"#e2e8f0"},children:s.jsx("i",{className:"bi bi-inbox"})}),s.jsx("h6",{className:"fw-medium mb-1",children:"No goals found for this period"}),s.jsx("p",{className:"small mb-0",children:"Create your first goal using the form above"})]}):s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0 w-100",children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:"20%"}}),s.jsx("col",{style:{width:"18%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"10%"}}),s.jsx("col",{style:{width:"10%"}}),s.jsx("col",{style:{width:"12%"}}),s.jsx("col",{style:{width:"15%"}})]}),s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-bullseye me-2"}),"Metric"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-file-text me-2"}),"Description"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-calendar me-2"}),"Period"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-target me-2"}),"Target"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),"Actual"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-activity me-2"}),"Status"]}),s.jsxs("th",{className:"fw-semibold px-3 px-md-4 py-3 border-0",style:{fontSize:"1.1rem"},children:[s.jsx("i",{className:"bi bi-graph-up me-2"}),"Progress"]})]})}),s.jsx("tbody",{children:w.map(Z=>s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-3 px-md-4 py-3 fw-medium border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:""}),s.jsx("div",{children:s.jsx("div",{className:"fw-bold text-dark",children:I(Z.metric)})})]})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"text-truncate",style:{maxWidth:"180px"},title:Y(Z),children:Y(Z)})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"fw-semibold text-dark",children:Z.period_type==="month"?new Date(Z.period_start).toLocaleDateString("en-US",{year:"numeric",month:"short"}):`${new Date(Z.period_start).toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${new Date(Z.period_end).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`}),s.jsx("small",{className:"text-muted",children:"Period"})]})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("span",{className:"badge bg-light text-dark fs-6",children:Z.target_value})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"fw-bold text-success fs-5",children:Z.latest_actual||0})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsxs("div",{className:"d-flex flex-column align-items-start",children:[(()=>{const z=ne(Z);return s.jsx("span",{className:`badge bg-${z.color} mb-1`,children:z.label})})(),s.jsx("small",{className:"text-muted",children:"Current"})]})}),s.jsx("td",{className:"px-3 px-md-4 py-3 border-0",children:s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("div",{className:"progress flex-grow-1 me-2",style:{height:24},children:s.jsx("div",{className:`progress-bar ${P(Z)>=100?"bg-success":P(Z)>=70?"bg-info":"bg-warning"}`,role:"progressbar",style:{width:`${P(Z)}%`},"aria-valuenow":P(Z),"aria-valuemin":"0","aria-valuemax":"100",children:s.jsxs("span",{className:"text-white fw-medium small",children:[P(Z),"%"]})})})})})]},Z.id))})]})})})]})})]})]})}const Dq=()=>{const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState({categories:[],actions:[],users:[]}),[o,c]=D.useState({user_id:"",category:"",action:"",subject_id:"",date_from:"",date_to:"",search:""}),[u,f]=D.useState({current_page:1,last_page:1,per_page:20,total:0}),[h,p]=D.useState(!1),[x,b]=D.useState(!1),[w,g]=D.useState(null),[_,j]=D.useState(!1),[E,k]=D.useState(null),[F,V]=D.useState({top:0,left:0});D.useEffect(()=>{ne(),P()},[]),D.useEffect(()=>{P()},[o,u.current_page,u.per_page]),D.useEffect(()=>{if(x){document.body.classList.add("modal-open");const Q=()=>{E&&J(E)};return window.addEventListener("scroll",Q,!0),window.addEventListener("resize",Q),()=>{window.removeEventListener("scroll",Q,!0),window.removeEventListener("resize",Q)}}else document.body.classList.remove("modal-open");return()=>{document.body.classList.remove("modal-open")}},[x,E]);const ne=async()=>{try{const Q=await it.get("/api/system-logs/filter-options");a(Q.data)}catch(Q){console.error("Failed to fetch filter options:",Q)}},P=async()=>{try{i(!0);const Q=new URLSearchParams;Object.entries(o).forEach(([q,ke])=>{ke&&Q.append(q,ke)}),Q.append("page",u.current_page),Q.append("per_page",u.per_page);const Ne=await it.get(`/api/system-logs?${Q.toString()}`);t(Ne.data.data),f({current_page:Ne.data.current_page,last_page:Ne.data.last_page,per_page:Ne.data.per_page,total:Ne.data.total})}catch(Q){console.error("Failed to fetch system logs:",Q)}finally{i(!1)}},I=(Q,Ne)=>{c(q=>({...q,[Q]:Ne})),f(q=>({...q,current_page:1}))},Y=()=>{c({user_id:"",category:"",action:"",subject_id:"",date_from:"",date_to:"",search:""}),f(Q=>({...Q,current_page:1}))},Z=Q=>new Date(Q).toLocaleString(),z=Q=>({appointment:{label:"Appointment",icon:"bi-calendar-check",color:"bg-primary",description:"Appointment-related activities"},dentist:{label:"Dentist",icon:"bi-person-badge",color:"bg-info",description:"Dentist profile and schedule management"},device:{label:"Device",icon:"bi-laptop",color:"bg-warning",description:"Device registration and approval"},user:{label:"User",icon:"bi-person",color:"bg-success",description:"User account management"},inventory:{label:"Inventory",icon:"bi-box-seam",color:"bg-secondary",description:"Inventory and stock management"},payment:{label:"Payment",icon:"bi-credit-card",color:"bg-dark",description:"Payment processing and transactions"},system:{label:"System",icon:"bi-gear",color:"bg-danger",description:"System-level operations and maintenance"}})[Q]||{label:Q.charAt(0).toUpperCase()+Q.slice(1),icon:"bi-question-circle",color:"bg-light text-dark",description:"System activity"},U=Q=>{const Ne={created:{label:"Created",icon:"bi-plus-circle",color:"bg-success",description:"New item was created"},approved:{label:"Approved",icon:"bi-check-circle",color:"bg-success",description:"Item was approved"},rejected:{label:"Rejected",icon:"bi-x-circle",color:"bg-danger",description:"Item was rejected"},updated:{label:"Updated",icon:"bi-pencil-square",color:"bg-warning text-dark",description:"Item was modified"},deleted:{label:"Deleted",icon:"bi-trash",color:"bg-danger",description:"Item was removed"},marked_no_show:{label:"No Show",icon:"bi-person-x",color:"bg-warning text-dark",description:"Appointment marked as no show"},cancelled:{label:"Cancelled",icon:"bi-x-octagon",color:"bg-danger",description:"Item was cancelled"},scheduled:{label:"Scheduled",icon:"bi-calendar-plus",color:"bg-info",description:"Item was scheduled"},completed:{label:"Completed",icon:"bi-check2-all",color:"bg-success",description:"Item was completed"},logged_in:{label:"Login",icon:"bi-box-arrow-in-right",color:"bg-info",description:"User logged in"},logged_out:{label:"Logout",icon:"bi-box-arrow-right",color:"bg-secondary",description:"User logged out"}};return Ne[Q]?Ne[Q]:Q.includes("create")||Q.includes("add")?Ne.created:Q.includes("update")||Q.includes("edit")?Ne.updated:Q.includes("delete")||Q.includes("remove")?Ne.deleted:Q.includes("approve")||Q.includes("accept")?Ne.approved:Q.includes("reject")||Q.includes("cancel")?Ne.rejected:{label:Q.replace(/_/g," ").replace(/\b\w/g,q=>q.toUpperCase()),icon:"bi-arrow-right-circle",color:"bg-secondary",description:"System activity"}},J=Q=>{const Ne=Q.getBoundingClientRect(),q=400,ke=Math.min(window.innerHeight*.8,600),O=8,B=20;let W=Ne.bottom+O,X=Ne.left;W+ke>window.innerHeight-B&&(W=Ne.top-ke-O);const le=window.innerWidth-q-B;X=Math.max(B,Math.min(X,le)),W=Math.max(B,W),(Ne.bottom<0||Ne.top>window.innerHeight)&&(W=(window.innerHeight-ke)/2,X=(window.innerWidth-q)/2),V({top:W,left:X})},ie=(Q,Ne)=>{g(Q),k(Ne),J(Ne),b(!0),setTimeout(()=>{const q=document.querySelector(".context-popup-card");q&&q.focus()},100)},pe=()=>{E&&E.focus(),b(!1),g(null),j(!1),k(null)},ae=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(w,null,2)),j(!0),setTimeout(()=>j(!1),2e3)}catch(Q){console.error("Failed to copy to clipboard:",Q)}},ue=Q=>{if(!Q)return null;const Ne=(O,B)=>B==null?"Not specified":typeof B=="boolean"?B?"Yes":"No":typeof B=="object"?JSON.stringify(B,null,2):typeof B=="string"&&B.length>100?`${B.substring(0,100)}...`:B.toString(),q=O=>({id:"ID",name:"Name",email:"Email Address",phone:"Phone Number",status:"Status",type:"Type",amount:"Amount",date:"Date",time:"Time",description:"Description",notes:"Notes",user_id:"User ID",patient_id:"Patient ID",appointment_id:"Appointment ID",service_id:"Service ID",dentist_id:"Dentist ID",device_id:"Device ID",payment_id:"Payment ID",inventory_id:"Inventory Item ID",created_at:"Created At",updated_at:"Updated At",deleted_at:"Deleted At",ip_address:"IP Address",user_agent:"Browser Information",request_data:"Request Data",response_data:"Response Data",error_message:"Error Message",stack_trace:"Error Details",device_name:"Device Name",device_type:"Device Type",device_status:"Device Status",appointment_date:"Appointment Date",appointment_time:"Appointment Time",patient_name:"Patient Name",dentist_name:"Dentist Name",service_name:"Service Name",payment_amount:"Payment Amount",payment_method:"Payment Method",payment_status:"Payment Status",inventory_item:"Inventory Item",quantity:"Quantity",unit_price:"Unit Price",total_amount:"Total Amount",reason:"Reason",comment:"Comment",old_values:"Previous Values",new_values:"New Values",changes:"Changes Made"})[O]||O.replace(/_/g," ").replace(/\b\w/g,W=>W.toUpperCase()),ke=O=>({id:"bi-hash",name:"bi-person",email:"bi-envelope",phone:"bi-telephone",status:"bi-circle-fill",type:"bi-tag",amount:"bi-currency-dollar",date:"bi-calendar",time:"bi-clock",description:"bi-text-paragraph",notes:"bi-sticky",user_id:"bi-person-badge",patient_id:"bi-person-heart",appointment_id:"bi-calendar-check",service_id:"bi-gear",dentist_id:"bi-person-badge",device_id:"bi-laptop",payment_id:"bi-credit-card",inventory_id:"bi-box-seam",created_at:"bi-calendar-plus",updated_at:"bi-calendar-check",deleted_at:"bi-calendar-x",ip_address:"bi-globe",user_agent:"bi-browser-chrome",request_data:"bi-arrow-down-circle",response_data:"bi-arrow-up-circle",error_message:"bi-exclamation-triangle",stack_trace:"bi-bug",device_name:"bi-laptop",device_type:"bi-tag",device_status:"bi-circle-fill",appointment_date:"bi-calendar",appointment_time:"bi-clock",patient_name:"bi-person-heart",dentist_name:"bi-person-badge",service_name:"bi-gear",payment_amount:"bi-currency-dollar",payment_method:"bi-credit-card",payment_status:"bi-circle-fill",inventory_item:"bi-box-seam",quantity:"bi-123",unit_price:"bi-currency-dollar",total_amount:"bi-calculator",reason:"bi-chat-quote",comment:"bi-chat-text",old_values:"bi-arrow-left",new_values:"bi-arrow-right",changes:"bi-arrow-left-right"})[O]||"bi-info-circle";return Object.entries(Q).map(([O,B])=>s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-4",children:s.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center",children:[s.jsx("i",{className:`bi ${ke(O)} me-2`}),q(O),":"]})}),s.jsx("div",{className:"col-md-8",children:s.jsx("div",{className:"bg-white p-3 rounded border shadow-sm",children:s.jsx("span",{className:"text-dark fs-6",children:Ne(O,B)})})})]})},O))};return s.jsxs("div",{className:"system-logs-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box"},children:[s.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:" System Logs"}),s.jsx("p",{className:"text-muted mb-0 mt-1",children:"Monitor system activity and user actions"})]}),s.jsxs("button",{className:"btn border-0 shadow-sm",onClick:()=>p(!h),style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[s.jsx("i",{className:`bi bi-${h?"eye-slash":"eye"} me-2`}),h?"Hide Filters":"Show Filters"]})]}),s.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:s.jsxs("div",{className:"card-body p-4",children:[h&&s.jsxs("div",{className:"card border-0 shadow-sm mb-4",style:{borderRadius:"16px"},children:[s.jsx("div",{className:"card-header bg-info text-white border-0",style:{borderRadius:"16px 16px 0 0"},children:s.jsxs("h5",{className:"mb-0 fw-semibold",children:[s.jsx("i",{className:"bi bi-funnel me-2"}),"Filters"]})}),s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-search me-1"}),"Search"]}),s.jsx("input",{type:"text",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},placeholder:"Search in message, category, action...",value:o.search,onChange:Q=>I("search",Q.target.value)})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-person me-1"}),"User"]}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:o.user_id,onChange:Q=>I("user_id",Q.target.value),children:[s.jsx("option",{value:"",children:"All Users"}),r.users.map(Q=>s.jsxs("option",{value:Q.id,children:[Q.name," (",Q.email,")"]},Q.id))]})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-tags me-1"}),"Category"]}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:o.category,onChange:Q=>I("category",Q.target.value),children:[s.jsx("option",{value:"",children:"All Categories"}),r.categories.map(Q=>{const Ne=z(Q);return s.jsx("option",{value:Q,title:Ne.description,children:Ne.label},Q)})]})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-lightning me-1"}),"Action"]}),s.jsxs("select",{className:"form-select border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:o.action,onChange:Q=>I("action",Q.target.value),children:[s.jsx("option",{value:"",children:"All Actions"}),r.actions.map(Q=>{const Ne=U(Q);return s.jsx("option",{value:Q,title:Ne.description,children:Ne.label},Q)})]})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-link-45deg me-1"}),"Subject ID"]}),s.jsx("input",{type:"number",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},placeholder:"Enter subject ID",value:o.subject_id,onChange:Q=>I("subject_id",Q.target.value)})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-calendar-date me-1"}),"Date From"]}),s.jsx("input",{type:"date",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:o.date_from,onChange:Q=>I("date_from",Q.target.value)})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3",children:[s.jsxs("label",{className:"form-label fw-semibold",children:[s.jsx("i",{className:"bi bi-calendar-date me-1"}),"Date To"]}),s.jsx("input",{type:"date",className:"form-control border-0 shadow-sm",style:{borderRadius:"12px",padding:"12px 16px"},value:o.date_to,onChange:Q=>I("date_to",Q.target.value)})]}),s.jsxs("div",{className:"col-12 col-md-6 col-lg-3 d-flex align-items-end gap-2",children:[s.jsxs("button",{className:"btn border-0 shadow-sm flex-grow-1",style:{background:"linear-gradient(135deg, #6c757d 0%, #495057 100%)",color:"white",borderRadius:"12px",padding:"12px 16px",fontWeight:"600",transition:"all 0.3s ease"},onClick:Y,children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Clear"]}),s.jsxs("button",{className:"btn border-0 shadow-sm flex-grow-1",style:{background:"linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%)",color:"white",borderRadius:"12px",padding:"12px 16px",fontWeight:"600",transition:"all 0.3s ease"},onClick:P,children:[s.jsx("i",{className:"bi bi-funnel me-1"}),"Apply"]})]})]})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),s.jsxs("p",{className:"text-muted mb-0",children:["Showing ",s.jsx("strong",{children:e.length})," of ",s.jsx("strong",{children:u.total})," system logs",u.total>0&&s.jsxs("span",{children:[" (Page ",s.jsx("strong",{children:u.current_page})," of ",s.jsx("strong",{children:u.last_page}),")"]})]})]})}),n?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"text-muted",children:"Loading system logs..."})]})}):e.length===0?s.jsx("div",{className:"text-center text-muted",style:{height:"400px"},children:s.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center py-5",children:[s.jsx("div",{className:"bg-light rounded-circle mb-4 d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"3rem"},children:""}),s.jsx("h3",{className:"text-muted mb-3",children:"No system logs found"}),s.jsx("p",{className:"text-muted mb-4 fs-5",children:"Try adjusting your filters or check back later for new activity."})]})}):s.jsx("div",{className:"table-responsive",style:{width:"100%"},children:s.jsxs("table",{className:"table table-hover mb-0",style:{width:"100%"},children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"5%"},children:[s.jsx("i",{className:"bi bi-hash me-2"}),"ID"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"15%"},children:[s.jsx("i",{className:"bi bi-person me-2"}),"User"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"12%"},children:[s.jsx("i",{className:"bi bi-tags me-2"}),"Category"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"12%"},children:[s.jsx("i",{className:"bi bi-lightning me-2"}),"Action"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"10%"},children:[s.jsx("i",{className:"bi bi-link-45deg me-2"}),"Subject ID"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"25%"},children:[s.jsx("i",{className:"bi bi-chat-text me-2"}),"Message"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0 text-center",style:{fontSize:"1.1rem",width:"10%"},children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"Details"]}),s.jsxs("th",{className:"fw-semibold px-4 py-3 border-0",style:{fontSize:"1.1rem",width:"11%"},children:[s.jsx("i",{className:"bi bi-calendar me-2"}),"Date"]})]})}),s.jsx("tbody",{children:e.map(Q=>s.jsxs("tr",{className:"align-middle",style:{height:"60px"},children:[s.jsx("td",{className:"px-4 py-3 border-0 text-center",style:{fontSize:"1rem"},children:s.jsx("span",{className:"badge bg-secondary",children:Q.id})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:Q.user?s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:s.jsx("i",{className:"bi bi-person text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark text-truncate",style:{maxWidth:"150px"},title:Q.user.name,children:Q.user.name}),s.jsx("small",{className:"text-muted text-truncate d-block",style:{maxWidth:"150px"},title:Q.user.email,children:Q.user.email})]})]}):s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-secondary rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"1.2rem"},children:s.jsx("i",{className:"bi bi-gear text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold text-dark",children:"System"}),s.jsx("small",{className:"text-muted",children:"Automated"})]})]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:(()=>{const Ne=z(Q.category);return s.jsxs("span",{className:`badge ${Ne.color} d-flex align-items-center text-truncate`,title:Ne.description,children:[s.jsx("i",{className:`bi ${Ne.icon} me-1 flex-shrink-0`}),s.jsx("span",{className:"text-truncate",children:Ne.label})]})})()}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:(()=>{const Ne=U(Q.action);return s.jsxs("span",{className:`badge ${Ne.color} d-flex align-items-center text-truncate`,title:Ne.description,children:[s.jsx("i",{className:`bi ${Ne.icon} me-1 flex-shrink-0`}),s.jsx("span",{className:"text-truncate",children:Ne.label})]})})()}),s.jsx("td",{className:"px-4 py-3 border-0 text-center",style:{fontSize:"1rem"},children:Q.subject_id?s.jsx("span",{className:"badge bg-light text-dark",children:Q.subject_id}):s.jsx("span",{className:"text-muted",children:"-"})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("div",{className:"text-truncate",style:{maxWidth:"300px"},title:Q.message,children:Q.message})}),s.jsx("td",{className:"px-4 py-3 border-0 text-center",style:{fontSize:"1rem"},children:Q.context?s.jsxs("button",{className:"btn btn-sm btn-outline-info",onClick:Ne=>ie(Q.context,Ne.currentTarget),title:"View detailed information",style:{borderRadius:"8px"},children:[s.jsx("i",{className:"bi bi-eye me-1"}),"Details"]}):s.jsxs("span",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-dash-circle me-1"}),"No details"]})}),s.jsx("td",{className:"px-4 py-3 border-0",style:{fontSize:"1rem"},children:s.jsx("small",{className:"text-truncate d-block",style:{maxWidth:"120px"},title:Z(Q.created_at),children:Z(Q.created_at)})})]},Q.id))})]})}),u.last_page>1&&s.jsx("div",{className:"d-flex justify-content-center mt-4",children:s.jsx("nav",{"aria-label":"System logs pagination",children:s.jsxs("ul",{className:"pagination",children:[s.jsx("li",{className:`page-item ${u.current_page===1?"disabled":""}`,children:s.jsx("button",{className:"page-link border-0 shadow-sm",style:{borderRadius:"8px",margin:"0 2px"},onClick:()=>f(Q=>({...Q,current_page:Q.current_page-1})),disabled:u.current_page===1,children:s.jsx("i",{className:"bi bi-chevron-left"})})}),Array.from({length:Math.min(u.last_page,5)},(Q,Ne)=>{const q=Ne+1;return s.jsx("li",{className:`page-item ${q===u.current_page?"active":""}`,children:s.jsx("button",{className:"page-link border-0 shadow-sm",style:{borderRadius:"8px",margin:"0 2px"},onClick:()=>f(ke=>({...ke,current_page:q})),children:q})},q)}),s.jsx("li",{className:`page-item ${u.current_page===u.last_page?"disabled":""}`,children:s.jsx("button",{className:"page-link border-0 shadow-sm",style:{borderRadius:"8px",margin:"0 2px"},onClick:()=>f(Q=>({...Q,current_page:Q.current_page+1})),disabled:u.current_page===u.last_page,children:s.jsx("i",{className:"bi bi-chevron-right"})})})]})})}),s.jsx("div",{className:"d-flex justify-content-center align-items-center mt-4",children:s.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded",style:{borderRadius:"12px"},children:[s.jsx("i",{className:"bi bi-list-ul me-2 text-muted"}),s.jsx("label",{className:"form-label me-2 mb-0 fw-semibold",children:"Logs per page:"}),s.jsxs("select",{className:"form-select border-0 shadow-sm d-inline-block w-auto",style:{borderRadius:"8px",padding:"8px 12px"},value:u.per_page,onChange:Q=>f(Ne=>({...Ne,per_page:parseInt(Q.target.value),current_page:1})),children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]})}),x&&e2.createPortal(s.jsxs("div",{className:"context-popup-card",role:"dialog","aria-modal":"true","aria-label":"Details",tabIndex:-1,style:{top:F.top,left:F.left,right:"auto"},children:[s.jsxs("div",{className:"context-popup-header",children:[s.jsxs("div",{className:"context-popup-title",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),s.jsx("span",{children:"Details"})]}),s.jsxs("div",{className:"context-popup-controls",children:[s.jsx("button",{type:"button",className:"context-popup-minimize",onClick:()=>b(!1),title:"Minimize",children:s.jsx("i",{className:"bi bi-dash"})}),s.jsx("button",{type:"button",className:"context-popup-close",onClick:pe,title:"Close",children:s.jsx("i",{className:"bi bi-x"})})]})]}),s.jsxs("div",{className:"context-popup-body",children:[_&&s.jsxs("div",{className:"context-popup-alert",children:[s.jsx("i",{className:"bi bi-check-circle me-1"}),s.jsx("span",{children:"Copied!"})]}),s.jsxs("div",{className:"context-popup-content",children:[s.jsx("div",{className:"context-popup-info",children:s.jsxs("small",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-list-ul me-1"}),Object.keys(w||{}).length," field(s)"]})}),s.jsx("div",{className:"context-popup-data",children:ue(w)})]})]}),s.jsxs("div",{className:"context-popup-footer",children:[s.jsxs("button",{type:"button",className:"context-popup-btn context-popup-btn-secondary",onClick:pe,children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Close"]}),s.jsxs("button",{type:"button",className:"context-popup-btn context-popup-btn-primary",onClick:ae,children:[s.jsx("i",{className:"bi bi-clipboard me-1"}),"Copy"]})]})]}),document.body)]})})]})};Hm.register(Zg,Jg,Ah,_u,Eh,vh,l6,u6,s6,FV);function Mq(){var ue,Q,Ne,q,ke,O,B,W,X,le,Ce,_e,Le,ze,nt;const[e,t]=D.useState(()=>new Date().toISOString().slice(0,7)),[n,i]=D.useState(6),[r,a]=D.useState(!1),[o,c]=D.useState(""),[u,f]=D.useState(null),[h,p]=D.useState(null),x=async()=>{var Oe,$e;a(!0),c("");try{const[Ke,ve]=await Promise.all([it.get("/api/analytics/summary",{params:{period:e}}),it.get("/api/analytics/trend",{params:{months:n}})]);f(Ke.data||null),p(ve.data||null)}catch(Ke){console.error(Ke),c((($e=(Oe=Ke==null?void 0:Ke.response)==null?void 0:Oe.data)==null?void 0:$e.message)||"Failed to load analytics.")}finally{a(!1)}};D.useEffect(()=>{x()},[e,n]);const b=async()=>{var Oe,$e,Ke,ve,se,Ie,st,Ze,ft,vt,wt,Rt,Dt,Bt,_t,It,Kt,kt,Zt,Nt,Gn,sn,ni,cn,yn,Hn,xn,vr,Un,Ri,yi,On,Jt,vn,Oi;try{const{default:ai}=await jd(async()=>{const{default:pn}=await Promise.resolve().then(()=>g4);return{default:pn}},void 0),{default:tr}=await jd(async()=>{const{default:pn}=await Promise.resolve().then(()=>D4);return{default:pn}},void 0),En=new ai({orientation:"p",unit:"pt",format:"a4"}),Pt=(pn,Wn,oe)=>(pn.setFontSize(12),pn.setFont("helvetica","bold"),pn.setTextColor(0,119,182),pn.text(Wn,40,oe),pn.setTextColor(0,0,0),oe+15);let fn=await c2(En,20);En.setFontSize(14),En.setFont("helvetica","bold"),En.text("Analytics Dashboard Report",40,fn),fn+=20,En.setFontSize(10),En.setFont("helvetica","normal"),En.text(`Report Period: ${e}`,40,fn),fn+=30,fn=Pt(En,"Key Performance Indicators",fn);const Dn=[["Metric","Current Value","Previous Value","Change (%)","Trend"],["Total Visits",String(((Oe=g==null?void 0:g.total_visits)==null?void 0:Oe.value)??0),String((($e=g==null?void 0:g.total_visits)==null?void 0:$e.prev)??0),`${((Ke=g==null?void 0:g.total_visits)==null?void 0:Ke.pct_change)??0}%`,(((ve=g==null?void 0:g.total_visits)==null?void 0:ve.pct_change)??0)>=0?" Positive":" Negative"],["Approved Appointments",String(((se=g==null?void 0:g.approved_appointments)==null?void 0:se.value)??0),String(((Ie=g==null?void 0:g.approved_appointments)==null?void 0:Ie.prev)??0),`${((st=g==null?void 0:g.approved_appointments)==null?void 0:st.pct_change)??0}%`,(((Ze=g==null?void 0:g.approved_appointments)==null?void 0:Ze.pct_change)??0)>=0?" Positive":" Negative"],["No-shows",String(((ft=g==null?void 0:g.no_shows)==null?void 0:ft.value)??0),String(((vt=g==null?void 0:g.no_shows)==null?void 0:vt.prev)??0),`${((wt=g==null?void 0:g.no_shows)==null?void 0:wt.pct_change)??0}%`,(((Rt=g==null?void 0:g.no_shows)==null?void 0:Rt.pct_change)??0)>=0?" Concerning":" Improving"],["Avg Visit Duration (min)",String(((Dt=g==null?void 0:g.avg_visit_duration_min)==null?void 0:Dt.value)??0),String(((Bt=g==null?void 0:g.avg_visit_duration_min)==null?void 0:Bt.prev)??0),`${((_t=g==null?void 0:g.avg_visit_duration_min)==null?void 0:_t.pct_change)??0}%`,(((It=g==null?void 0:g.avg_visit_duration_min)==null?void 0:It.pct_change)??0)>=0?" Longer":" Shorter"],["Total Revenue",`${(((Kt=g==null?void 0:g.total_revenue)==null?void 0:Kt.value)??0).toLocaleString()}`,`${(((kt=g==null?void 0:g.total_revenue)==null?void 0:kt.prev)??0).toLocaleString()}`,`${((Zt=g==null?void 0:g.total_revenue)==null?void 0:Zt.pct_change)??0}%`,(((Nt=g==null?void 0:g.total_revenue)==null?void 0:Nt.pct_change)??0)>=0?" Growth":" Decline"]];tr(En,{startY:fn,head:[Dn[0]],body:Dn.slice(1),theme:"striped"}),fn=Pt(En,"Payment Method Distribution",(((Gn=En.lastAutoTable)==null?void 0:Gn.finalY)||100)+20);const $n=[["Payment Method","Count","Percentage"],["Cash",String(((ni=(sn=g==null?void 0:g.payment_method_share)==null?void 0:sn.cash)==null?void 0:ni.count)??0),`${((yn=(cn=g==null?void 0:g.payment_method_share)==null?void 0:cn.cash)==null?void 0:yn.share_pct)??0}%`],["HMO",String(((xn=(Hn=g==null?void 0:g.payment_method_share)==null?void 0:Hn.hmo)==null?void 0:xn.count)??0),`${((Un=(vr=g==null?void 0:g.payment_method_share)==null?void 0:vr.hmo)==null?void 0:Un.share_pct)??0}%`],["Maya",String(((yi=(Ri=g==null?void 0:g.payment_method_share)==null?void 0:Ri.maya)==null?void 0:yi.count)??0),`${((Jt=(On=g==null?void 0:g.payment_method_share)==null?void 0:On.maya)==null?void 0:Jt.share_pct)??0}%`]];if(tr(En,{startY:fn,head:[$n[0]],body:$n.slice(1),theme:"striped"}),((vn=u==null?void 0:u.top_revenue_services)==null?void 0:vn.length)>0){fn=Pt(En,"Revenue by Service",(((Oi=En.lastAutoTable)==null?void 0:Oi.finalY)||100)+20);const pn=[["Service","Current Revenue","Previous Revenue","Change (%)"],...u.top_revenue_services.map(Wn=>[Wn.service_name,`${Wn.revenue.toLocaleString()}`,`${(Wn.prev_revenue||0).toLocaleString()}`,`${Wn.pct_change||0}%`])];tr(En,{startY:fn,head:[pn[0]],body:pn.slice(1),theme:"striped"})}En.save(`analytics-report-${e}.pdf`)}catch(ai){console.error(ai),alert("Failed to generate PDF.")}},w=()=>{var Oe,$e,Ke,ve,se,Ie,st,Ze,ft,vt,wt,Rt,Dt,Bt,_t,It,Kt,kt,Zt,Nt,Gn,sn,ni,cn,yn,Hn,xn,vr,Un,Ri,yi,On,Jt,vn;try{const Oi=ha.book_new(),ai=[["Metric","Current Value","Previous Value","Change (%)","Trend Status"],["Total Visits",((Oe=g==null?void 0:g.total_visits)==null?void 0:Oe.value)??0,(($e=g==null?void 0:g.total_visits)==null?void 0:$e.prev)??0,((Ke=g==null?void 0:g.total_visits)==null?void 0:Ke.pct_change)??0,(((ve=g==null?void 0:g.total_visits)==null?void 0:ve.pct_change)??0)>=0?"Positive":"Negative"],["Approved Appointments",((se=g==null?void 0:g.approved_appointments)==null?void 0:se.value)??0,((Ie=g==null?void 0:g.approved_appointments)==null?void 0:Ie.prev)??0,((st=g==null?void 0:g.approved_appointments)==null?void 0:st.pct_change)??0,(((Ze=g==null?void 0:g.approved_appointments)==null?void 0:Ze.pct_change)??0)>=0?"Positive":"Negative"],["No-shows",((ft=g==null?void 0:g.no_shows)==null?void 0:ft.value)??0,((vt=g==null?void 0:g.no_shows)==null?void 0:vt.prev)??0,((wt=g==null?void 0:g.no_shows)==null?void 0:wt.pct_change)??0,(((Rt=g==null?void 0:g.no_shows)==null?void 0:Rt.pct_change)??0)>=0?"Concerning":"Improving"],["Avg Visit Duration (min)",((Dt=g==null?void 0:g.avg_visit_duration_min)==null?void 0:Dt.value)??0,((Bt=g==null?void 0:g.avg_visit_duration_min)==null?void 0:Bt.prev)??0,((_t=g==null?void 0:g.avg_visit_duration_min)==null?void 0:_t.pct_change)??0,(((It=g==null?void 0:g.avg_visit_duration_min)==null?void 0:It.pct_change)??0)>=0?"Longer":"Shorter"],["Total Revenue",((Kt=g==null?void 0:g.total_revenue)==null?void 0:Kt.value)??0,((kt=g==null?void 0:g.total_revenue)==null?void 0:kt.prev)??0,((Zt=g==null?void 0:g.total_revenue)==null?void 0:Zt.pct_change)??0,(((Nt=g==null?void 0:g.total_revenue)==null?void 0:Nt.pct_change)??0)>=0?"Growth":"Decline"]],tr=ha.aoa_to_sheet(ai);ha.book_append_sheet(Oi,tr,"KPI Overview");const En=[["Payment Method","Count","Percentage"],["Cash",((sn=(Gn=g==null?void 0:g.payment_method_share)==null?void 0:Gn.cash)==null?void 0:sn.count)??0,((cn=(ni=g==null?void 0:g.payment_method_share)==null?void 0:ni.cash)==null?void 0:cn.share_pct)??0],["HMO",((Hn=(yn=g==null?void 0:g.payment_method_share)==null?void 0:yn.hmo)==null?void 0:Hn.count)??0,((vr=(xn=g==null?void 0:g.payment_method_share)==null?void 0:xn.hmo)==null?void 0:vr.share_pct)??0],["Maya",((Ri=(Un=g==null?void 0:g.payment_method_share)==null?void 0:Un.maya)==null?void 0:Ri.count)??0,((On=(yi=g==null?void 0:g.payment_method_share)==null?void 0:yi.maya)==null?void 0:On.share_pct)??0]],Pt=ha.aoa_to_sheet(En);if(ha.book_append_sheet(Oi,Pt,"Payment Methods"),((Jt=u==null?void 0:u.top_revenue_services)==null?void 0:Jt.length)>0){const fn=[["Service","Current Revenue","Previous Revenue","Change (%)"],...u.top_revenue_services.map($n=>[$n.service_name,$n.revenue,$n.prev_revenue||0,$n.pct_change||0])],Dn=ha.aoa_to_sheet(fn);ha.book_append_sheet(Oi,Dn,"Revenue by Service")}if(((vn=h==null?void 0:h.labels)==null?void 0:vn.length)>0){const fn=[["Month","Visits","Appointments","Revenue"],...h.labels.map(($n,pn)=>{var Wn,oe,je;return[$n,((Wn=h.visits)==null?void 0:Wn[pn])??0,((oe=h.appointments)==null?void 0:oe[pn])??0,((je=h.revenue)==null?void 0:je[pn])??0]})],Dn=ha.aoa_to_sheet(fn);ha.book_append_sheet(Oi,Dn,"Monthly Trends")}hA(Oi,`analytics-report-${e}.xlsx`)}catch(Oi){console.error(Oi),alert("Failed to generate Excel file.")}},g=(u==null?void 0:u.kpis)||{},_=D.useMemo(()=>{var ve,se,Ie;const Oe=((ve=g==null?void 0:g.payment_method_share)==null?void 0:ve.cash)??{},$e=((se=g==null?void 0:g.payment_method_share)==null?void 0:se.hmo)??{},Ke=((Ie=g==null?void 0:g.payment_method_share)==null?void 0:Ie.maya)??{};return{labels:["Cash","HMO","Maya"],datasets:[{label:"This Month",backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(139, 92, 246, 0.8)","rgba(59, 130, 246, 0.8)"],borderColor:["rgba(34, 197, 94, 1)","rgba(139, 92, 246, 1)","rgba(59, 130, 246, 1)"],borderWidth:2,borderRadius:8,borderSkipped:!1,data:[Number(Oe.share_pct||0),Number($e.share_pct||0),Number(Ke.share_pct||0)]}]}},[g]),j=D.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1,callbacks:{label:function(Oe){return`${Oe.label}: ${Oe.parsed.y}%`}}}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280",font:{size:12,weight:"500"}}},y:{beginAtZero:!0,max:100,grid:{color:"rgba(107, 114, 128, 0.1)",drawBorder:!1},ticks:{callback:Oe=>`${Oe}%`,color:"#6b7280",font:{size:12,weight:"500"}}}}}),[]),E=D.useMemo(()=>{var st,Ze,ft,vt,wt,Rt,Dt,Bt,_t,It,Kt,kt,Zt,Nt,Gn,sn,ni,cn,yn;const Oe=((st=g==null?void 0:g.total_visits)==null?void 0:st.value)||0,$e=((Ze=g==null?void 0:g.approved_appointments)==null?void 0:Ze.value)||0,Ke=((ft=g==null?void 0:g.no_shows)==null?void 0:ft.value)||0,ve=((vt=g==null?void 0:g.avg_visit_duration_min)==null?void 0:vt.value)||0,se=((wt=g==null?void 0:g.total_revenue)==null?void 0:wt.value)||0,Ie=((Rt=g==null?void 0:g.total_revenue)==null?void 0:Rt.prev)||0;return[{id:"revenue",title:"Total Revenue",icon:"",value:se,prevValue:Ie,change:((Dt=g==null?void 0:g.total_revenue)==null?void 0:Dt.pct_change)||0,color:"#14B8A6",glowColor:"rgba(20, 184, 166, 0.4)",data:{labels:["Current Month","Previous Month"],datasets:[{data:[se,Ie],backgroundColor:["#14B8A6","rgba(20, 184, 166, 0.3)"],borderColor:["#14B8A6","rgba(20, 184, 166, 0.5)"],borderWidth:3,hoverBackgroundColor:["#0F766E","rgba(20, 184, 166, 0.4)"]}]},formatter:Hn=>`${Hn.toLocaleString()}`},{id:"visits",title:"Total Visits",icon:"",value:Oe,prevValue:((Bt=g==null?void 0:g.total_visits)==null?void 0:Bt.prev)||0,change:((_t=g==null?void 0:g.total_visits)==null?void 0:_t.pct_change)||0,color:"#8B5CF6",glowColor:"rgba(139, 92, 246, 0.4)",data:{labels:["Current Month","Previous Month"],datasets:[{data:[Oe,((It=g==null?void 0:g.total_visits)==null?void 0:It.prev)||0],backgroundColor:["#8B5CF6","rgba(139, 92, 246, 0.3)"],borderColor:["#8B5CF6","rgba(139, 92, 246, 0.5)"],borderWidth:3,hoverBackgroundColor:["#7C3AED","rgba(139, 92, 246, 0.4)"]}]},formatter:Hn=>Hn.toString()},{id:"approved",title:"Approved Appointments",icon:"",value:$e,prevValue:((Kt=g==null?void 0:g.approved_appointments)==null?void 0:Kt.prev)||0,change:((kt=g==null?void 0:g.approved_appointments)==null?void 0:kt.pct_change)||0,color:"#0EA5E9",glowColor:"rgba(14, 165, 233, 0.4)",data:{labels:["Current Month","Previous Month"],datasets:[{data:[$e,((Zt=g==null?void 0:g.approved_appointments)==null?void 0:Zt.prev)||0],backgroundColor:["#0EA5E9","rgba(14, 165, 233, 0.3)"],borderColor:["#0EA5E9","rgba(14, 165, 233, 0.5)"],borderWidth:3,hoverBackgroundColor:["#0284C7","rgba(14, 165, 233, 0.4)"]}]},formatter:Hn=>Hn.toString()},{id:"noshows",title:"No-shows",icon:"",value:Ke,prevValue:((Nt=g==null?void 0:g.no_shows)==null?void 0:Nt.prev)||0,change:((Gn=g==null?void 0:g.no_shows)==null?void 0:Gn.pct_change)||0,color:"#FF6B6B",glowColor:"rgba(255, 107, 107, 0.4)",data:{labels:["Current Month","Previous Month"],datasets:[{data:[Ke,((sn=g==null?void 0:g.no_shows)==null?void 0:sn.prev)||0],backgroundColor:["#FF6B6B","rgba(255, 107, 107, 0.3)"],borderColor:["#FF6B6B","rgba(255, 107, 107, 0.5)"],borderWidth:3,hoverBackgroundColor:["#EF4444","rgba(255, 107, 107, 0.4)"]}]},formatter:Hn=>Hn.toString()},{id:"avgtime",title:"Average Visit Time",icon:"",value:ve,prevValue:((ni=g==null?void 0:g.avg_visit_duration_min)==null?void 0:ni.prev)||0,change:((cn=g==null?void 0:g.avg_visit_duration_min)==null?void 0:cn.pct_change)||0,color:"#84CC16",glowColor:"rgba(132, 204, 22, 0.4)",data:{labels:["Current Month","Previous Month"],datasets:[{data:[ve,((yn=g==null?void 0:g.avg_visit_duration_min)==null?void 0:yn.prev)||0],backgroundColor:["#84CC16","rgba(132, 204, 22, 0.3)"],borderColor:["#84CC16","rgba(132, 204, 22, 0.5)"],borderWidth:3,hoverBackgroundColor:["#65A30D","rgba(132, 204, 22, 0.4)"]}]},formatter:Hn=>`${Hn} min`}]},[g]),k=Oe=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",align:"center",labels:{usePointStyle:!0,pointStyle:"circle",padding:15,font:{size:12,weight:"600",family:"'Inter', 'Segoe UI', sans-serif"},color:"#374151",boxWidth:12,boxHeight:12,generateLabels:function($e){const Ke=$e.data;return Ke.labels.length&&Ke.datasets.length?Ke.labels.map((ve,se)=>{const Ie=Ke.datasets[0];Ie.data[se];const st=Ie.backgroundColor[se];return{text:ve,fillStyle:st,strokeStyle:st,lineWidth:0,pointStyle:"circle",hidden:!1,index:se}}):[]}}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"white",bodyColor:"white",borderColor:Oe.color,borderWidth:2,cornerRadius:12,displayColors:!0,titleFont:{size:14,weight:"bold"},bodyFont:{size:13,weight:"500"},padding:12,callbacks:{label:function($e){const Ke=$e.parsed,ve=$e.dataset.data.reduce((Ie,st)=>Ie+st,0),se=(Ke/ve*100).toFixed(1);return`${$e.label}: ${Oe.formatter(Ke)} (${se}%)`}}}},elements:{arc:{borderWidth:0}},interaction:{intersect:!1,mode:"nearest"},animation:{animateRotate:!0,animateScale:!0,duration:1200,easing:"easeOutQuart"}});D.useMemo(()=>{var $e,Ke,ve,se;if(!u)return null;const Oe=Ie=>Ie>0?` ${Ie}%`:Ie<0?` ${Math.abs(Ie)}%`:"";return{visits:`Change vs last month: ${Oe((($e=g==null?void 0:g.total_visits)==null?void 0:$e.pct_change)||0)}`,approved:`Change vs last month: ${Oe(((Ke=g==null?void 0:g.approved_appointments)==null?void 0:Ke.pct_change)||0)}`,noShows:`Change vs last month: ${Oe(((ve=g==null?void 0:g.no_shows)==null?void 0:ve.pct_change)||0)}`,avgDuration:`Change vs last month: ${Oe(((se=g==null?void 0:g.avg_visit_duration_min)==null?void 0:se.pct_change)||0)}`}},[u,g]);const F=D.useMemo(()=>{var st,Ze,ft,vt,wt,Rt,Dt,Bt,_t,It,Kt,kt;const Oe=((Ze=(st=g==null?void 0:g.payment_method_share)==null?void 0:st.cash)==null?void 0:Ze.share_pct)??0,$e=((vt=(ft=g==null?void 0:g.payment_method_share)==null?void 0:ft.hmo)==null?void 0:vt.share_pct)??0,Ke=((Rt=(wt=g==null?void 0:g.payment_method_share)==null?void 0:wt.maya)==null?void 0:Rt.share_pct)??0,ve=((Bt=(Dt=g==null?void 0:g.payment_method_share)==null?void 0:Dt.cash)==null?void 0:Bt.pct_point_change)??0,se=((It=(_t=g==null?void 0:g.payment_method_share)==null?void 0:_t.hmo)==null?void 0:It.pct_point_change)??0,Ie=((kt=(Kt=g==null?void 0:g.payment_method_share)==null?void 0:Kt.maya)==null?void 0:kt.pct_point_change)??0;return Oe===0&&$e===0&&Ke===0?null:`Cash: ${Oe}% (${ve>=0?"":""}${Math.abs(ve)}), HMO: ${$e}% (${se>=0?"":""}${Math.abs(se)}), Maya: ${Ke}% (${Ie>=0?"":""}${Math.abs(Ie)}). `+(Ke>40?"Tip: Strong digital payment adoption. Monitor Maya transaction fees.":$e>50?"Tip: Monitor insurer approval times and patient satisfaction with HMO processes.":"Tip: Payment preferences vary by patient demographics and insurance coverage.")},[g]),V=D.useMemo(()=>{var se,Ie,st,Ze;const Oe=((se=g==null?void 0:g.patient_follow_up_rate)==null?void 0:se.value)??0,$e=((Ie=g==null?void 0:g.patient_follow_up_rate)==null?void 0:Ie.pct_change)??0,Ke=((st=g==null?void 0:g.patient_follow_up_rate)==null?void 0:st.total_first_time_patients)??0,ve=((Ze=g==null?void 0:g.patient_follow_up_rate)==null?void 0:Ze.returned_patients)??0;return Ke===0?null:`Follow-up rate: ${Oe}% (${ve}/${Ke} patients returned within 3-4 months). Change: ${$e>=0?"":""}${Math.abs($e)}%. `+(Oe>=50?"Excellent retention! This indicates strong patient satisfaction.":Oe>=30?"Good retention. Consider strategies to improve further.":"Consider implementing follow-up calls, appointment reminders, or patient satisfaction surveys.")},[g]);D.useMemo(()=>{const Oe=((u==null?void 0:u.top_services)||[])[0];if(!Oe)return null;const $e=Oe.pct_change??0;return`Top service: ${Oe.service_name} ( ${$e>=0?"":""}${Math.abs($e)}% vs last month). Tip: Align stock/staffing; promote under-performers.`},[u]);const ne=Oe=>typeof Oe=="number"?`${Oe>0?"+":""}${Oe.toFixed(2)}%`:"0%",P=Oe=>{const[$e,Ke]=(Oe||"").split("-").map(Number);return!$e||!Ke?"":new Date($e,Ke-1,1).toLocaleString("en-US",{month:"short",year:"numeric"})};P((Oe=>{const[$e,Ke]=(Oe||"").split("-").map(Number);if(!$e||!Ke)return Oe;const ve=new Date($e,Ke-1,1);return ve.setMonth(ve.getMonth()-1),`${ve.getFullYear()}-${String(ve.getMonth()+1).padStart(2,"0")}`})(e)),P(e);function Y(Oe,$e){if(Oe==null||$e===-100&&Oe===0)return 0;const Ke=1+($e??0)/100;return Ke===0?0:Number((Oe/Ke).toFixed(2))}const Z=g==null?void 0:g.total_visits,z=g==null?void 0:g.approved_appointments,U=g==null?void 0:g.no_shows,J=g==null?void 0:g.avg_visit_duration_min,ie=g==null?void 0:g.total_revenue;(Z==null?void 0:Z.prev)??Y(Z==null?void 0:Z.value,Z==null?void 0:Z.pct_change),(z==null?void 0:z.prev)??Y(z==null?void 0:z.value,z==null?void 0:z.pct_change),(U==null?void 0:U.prev)??Y(U==null?void 0:U.value,U==null?void 0:U.pct_change),(J==null?void 0:J.prev)??Y(J==null?void 0:J.value,J==null?void 0:J.pct_change),(ie==null?void 0:ie.prev)??Y(ie==null?void 0:ie.value,ie==null?void 0:ie.pct_change);const pe=D.useMemo(()=>h?{labels:h.labels,datasets:[{label:"Visits",data:h.visits,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,pointRadius:4,pointHoverRadius:6,borderWidth:3,fill:!1},{label:"Appointments",data:h.appointments,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,pointRadius:4,pointHoverRadius:6,borderWidth:3,fill:!1},{label:"Revenue",data:h.revenue,borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4,pointRadius:4,pointHoverRadius:6,borderWidth:3,fill:!1,yAxisID:"y1"}]}:null,[h]),ae=D.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"500"}}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(Oe){const $e=Oe.dataset.label,Ke=Oe.parsed.y;return $e==="Revenue"?`${$e}: ${Ke.toLocaleString()}`:`${$e}: ${Ke}`}}}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280",font:{size:12,weight:"500"}}},y:{type:"linear",display:!0,position:"left",beginAtZero:!0,grid:{color:"rgba(107, 114, 128, 0.1)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:12,weight:"500"}}},y1:{type:"linear",display:!0,position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1},ticks:{color:"#6b7280",font:{size:12,weight:"500"},callback:function(Oe){return`${Oe.toLocaleString()}`}}}}}),[]);return s.jsx(s.Fragment,{children:s.jsx("div",{className:"analytics-dashboard-page",style:{minHeight:"100vh",width:"100vw",position:"relative",left:0,right:0,padding:"1.5rem 2rem",boxSizing:"border-box",background:"linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 50%, #CBD5E1 100%)",color:"#1E293B"},children:s.jsxs("div",{className:"container-xl",children:[s.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-5 gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"m-0 fw-bold",style:{color:"#1E293B",fontSize:"2.5rem",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:" Analytics Dashboard"}),s.jsx("p",{className:"mb-0 mt-2",style:{color:"#64748B",fontSize:"1.1rem"},children:"Real-time insights and performance metrics for your clinic"})]}),s.jsxs("div",{className:"d-flex gap-2 align-items-center flex-wrap",children:[s.jsx("input",{type:"month",className:"form-control form-control-sm border-0",style:{width:180,borderRadius:"16px",padding:"14px 18px",fontSize:"14px",fontWeight:"600",background:"rgba(255, 255, 255, 0.9)",color:"#1E293B",border:"1px solid rgba(59, 130, 246, 0.2)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)"},value:e,onChange:Oe=>t(Oe.target.value),"aria-label":"Select month"}),s.jsxs("button",{className:"btn border-0",onClick:x,disabled:r,style:{background:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"white",borderRadius:"16px",padding:"14px 28px",fontWeight:"700",fontSize:"14px",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",transform:r?"scale(0.95)":"scale(1)"},children:[r?"":""," ",r?"Loading...":"Refresh Data"]}),s.jsxs("div",{className:"dropdown",children:[s.jsx("button",{className:"btn dropdown-toggle border-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",color:"white",borderRadius:"16px",padding:"14px 20px",fontWeight:"700",fontSize:"14px",boxShadow:"0 8px 25px rgba(139, 92, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},children:" Export Data"}),s.jsxs("ul",{className:"dropdown-menu",style:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)"},children:[s.jsx("li",{children:s.jsx("button",{className:"dropdown-item",onClick:b,disabled:r,style:{color:"#1E293B",padding:"12px 20px",borderRadius:"8px",transition:"all 0.2s ease"},onMouseEnter:Oe=>Oe.target.style.background="rgba(59, 130, 246, 0.1)",onMouseLeave:Oe=>Oe.target.style.background="transparent",children:" Download PDF Report"})}),s.jsx("li",{children:s.jsx("button",{className:"dropdown-item",onClick:w,disabled:r,style:{color:"#1E293B",padding:"12px 20px",borderRadius:"8px",transition:"all 0.2s ease"},onMouseEnter:Oe=>Oe.target.style.background="rgba(16, 185, 129, 0.1)",onMouseLeave:Oe=>Oe.target.style.background="transparent",children:" Export Excel Data"})})]})]})]})]}),o&&s.jsx("div",{className:"alert border-0 mb-4",role:"alert",style:{borderRadius:"20px",background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(254, 226, 226, 0.8) 100%)",border:"2px solid rgba(239, 68, 68, 0.2)",boxShadow:"0 10px 30px rgba(239, 68, 68, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",color:"#DC2626"},children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 6px 15px rgba(239, 68, 68, 0.3)",fontSize:"18px"},children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold mb-1",style:{color:"#B91C1C"},children:"System Alert"}),s.jsx("div",{style:{color:"#DC2626"},children:o})]})]})}),r?s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"500px"},children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"position-relative mb-4",children:[s.jsx("div",{className:"spinner-border",role:"status",style:{width:"4rem",height:"4rem",borderWidth:"4px",borderColor:"transparent",borderTopColor:"#3B82F6",borderRightColor:"#8B5CF6",borderBottomColor:"#14B8A6",borderLeftColor:"#F97316",animation:"spin 1.5s linear infinite",filter:"drop-shadow(0 4px 8px rgba(59, 130, 246, 0.3))"},children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("div",{className:"position-absolute top-50 start-50 translate-middle",style:{fontSize:"1.5rem",animation:"pulse 2s ease-in-out infinite"},children:""})]}),s.jsx("h5",{className:"fw-bold mb-2",style:{color:"#1E293B",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Analyzing Data..."}),s.jsx("p",{style:{color:"#64748B",fontSize:"1rem"},children:"Processing clinic analytics and generating insights"}),s.jsxs("div",{className:"d-flex justify-content-center gap-2 mt-3",children:[s.jsx("div",{className:"bg-primary rounded-circle",style:{width:"8px",height:"8px",animation:"bounce 1.4s ease-in-out infinite"}}),s.jsx("div",{className:"bg-info rounded-circle",style:{width:"8px",height:"8px",animation:"bounce 1.4s ease-in-out 0.2s infinite"}}),s.jsx("div",{className:"bg-success rounded-circle",style:{width:"8px",height:"8px",animation:"bounce 1.4s ease-in-out 0.4s infinite"}})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"row g-4 mb-5",children:E.map((Oe,$e)=>s.jsx("div",{className:"col-12 col-sm-6 col-lg-4 col-xl-4",children:s.jsxs("div",{className:"card h-100 border-0",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%)",borderRadius:"24px",border:`2px solid ${Oe.color}20`,boxShadow:`
                        0 20px 40px rgba(0, 0, 0, 0.1),
                        0 0 0 1px rgba(255, 255, 255, 0.8),
                        inset 0 1px 0 rgba(255, 255, 255, 0.9),
                        0 0 30px ${Oe.color}15
                      `,backdropFilter:"blur(20px)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0px)"},onMouseEnter:Ke=>{Ke.currentTarget.style.transform="translateY(-8px)",Ke.currentTarget.style.boxShadow=`
                        0 30px 60px rgba(0, 0, 0, 0.15),
                        0 0 0 1px rgba(255, 255, 255, 0.9),
                        inset 0 1px 0 rgba(255, 255, 255, 1),
                        0 0 40px ${Oe.color}25
                      `},onMouseLeave:Ke=>{Ke.currentTarget.style.transform="translateY(0px)",Ke.currentTarget.style.boxShadow=`
                        0 20px 40px rgba(0, 0, 0, 0.1),
                        0 0 0 1px rgba(255, 255, 255, 0.8),
                        inset 0 1px 0 rgba(255, 255, 255, 0.9),
                        0 0 30px ${Oe.color}15
                      `},children:[s.jsx("div",{className:"card-header border-0 bg-transparent pt-4 pb-2",children:s.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"me-3 d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px",borderRadius:"16px",background:`linear-gradient(135deg, ${Oe.color} 0%, ${Oe.color}CC 100%)`,boxShadow:`0 8px 20px ${Oe.color}30, inset 0 1px 0 rgba(255, 255, 255, 0.3)`,fontSize:"20px"},children:Oe.icon}),s.jsxs("div",{children:[s.jsx("h6",{className:"mb-0 fw-bold",style:{color:"#1E293B",fontSize:"1rem",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:Oe.title}),s.jsx("small",{style:{color:"#64748B",fontSize:"0.8rem"},children:P(e)})]})]}),s.jsxs("div",{className:"px-3 py-1 rounded-pill",style:{background:Oe.change>=0?"linear-gradient(135deg, #10B981 0%, #059669 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",fontSize:"0.75rem",fontWeight:"700",color:"white",boxShadow:Oe.change>=0?"0 4px 12px rgba(16, 185, 129, 0.3)":"0 4px 12px rgba(239, 68, 68, 0.3)"},children:[Oe.change>=0?"":""," ",Math.abs(Oe.change).toFixed(1),"%"]})]})}),s.jsxs("div",{className:"card-body pt-2 pb-4",children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("div",{className:"fw-bold mb-1",style:{fontSize:"2.2rem",color:Oe.color,textShadow:`0 2px 4px ${Oe.color}30`,lineHeight:"1.1"},children:Oe.formatter(Oe.value)}),s.jsxs("div",{style:{color:"#64748B",fontSize:"0.85rem"},children:["Previous: ",Oe.formatter(Oe.prevValue)]})]}),s.jsx("div",{style:{height:"250px",position:"relative"},children:s.jsx(Lq,{data:Oe.data,options:k(Oe)})})]})]})},Oe.id))}),s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-12 col-lg-6",children:s.jsxs("div",{className:"card h-100 border-0",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%)",borderRadius:"24px",border:"2px solid rgba(14, 165, 233, 0.2)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.8), inset 0 1px 0 rgba(255, 255, 255, 0.9), 0 0 30px rgba(14, 165, 233, 0.15)",backdropFilter:"blur(20px)"},children:[s.jsx("div",{className:"card-header border-0 bg-transparent py-4",children:s.jsxs("h5",{className:"mb-0 fw-bold d-flex align-items-center",style:{color:"#1E293B",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:[s.jsx("span",{className:"me-3",style:{fontSize:"1.5rem"},children:""}),"Payment Method Share"]})}),s.jsxs("div",{className:"card-body pt-0",children:[s.jsx("div",{className:"px-1 px-md-2",style:{height:"300px"},children:s.jsx(Ob,{data:_,options:j})}),s.jsxs("div",{className:"mt-3 p-3 rounded-3",style:{backgroundColor:"rgba(59, 130, 246, 0.05)"},children:[s.jsx("div",{className:"small text-muted mb-2 fw-medium",children:"Monthly Changes:"}),s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsxs("span",{className:"small",children:[s.jsx("span",{className:"fw-medium",children:"Cash:"}),s.jsx("span",{className:(((Q=(ue=g==null?void 0:g.payment_method_share)==null?void 0:ue.cash)==null?void 0:Q.pct_point_change)??0)>=0?"text-success":"text-danger",children:ne(((q=(Ne=g==null?void 0:g.payment_method_share)==null?void 0:Ne.cash)==null?void 0:q.pct_point_change)||0)})]}),s.jsxs("span",{className:"small",children:[s.jsx("span",{className:"fw-medium",children:"HMO:"}),s.jsx("span",{className:(((O=(ke=g==null?void 0:g.payment_method_share)==null?void 0:ke.hmo)==null?void 0:O.pct_point_change)??0)>=0?"text-success":"text-danger",children:ne(((W=(B=g==null?void 0:g.payment_method_share)==null?void 0:B.hmo)==null?void 0:W.pct_point_change)||0)})]}),s.jsxs("span",{className:"small",children:[s.jsx("span",{className:"fw-medium",children:"Maya:"}),s.jsx("span",{className:(((le=(X=g==null?void 0:g.payment_method_share)==null?void 0:X.maya)==null?void 0:le.pct_point_change)??0)>=0?"text-success":"text-danger",children:ne(((_e=(Ce=g==null?void 0:g.payment_method_share)==null?void 0:Ce.maya)==null?void 0:_e.pct_point_change)||0)})]})]})]}),F&&s.jsx("div",{className:"mt-3 p-3 rounded-3",style:{backgroundColor:"rgba(16, 185, 129, 0.05)"},children:s.jsx("small",{className:"text-muted",children:F})}),V&&s.jsx("div",{className:"mt-3 p-3 rounded-3",style:{backgroundColor:"rgba(139, 92, 246, 0.05)"},children:s.jsx("small",{className:"text-muted",children:V})})]})]})}),s.jsx("div",{className:"col-12 col-lg-6",children:s.jsxs("div",{className:"card h-100 border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px"},children:[s.jsx("div",{className:"card-header border-0 bg-transparent py-4",children:s.jsxs("h5",{className:"mb-0 fw-bold d-flex align-items-center",style:{color:"#1e293b"},children:[s.jsx("span",{className:"me-2",children:""}),"Revenue by Service"]})}),s.jsxs("div",{className:"card-body pt-0",children:[s.jsxs("div",{className:"list-group list-group-flush",children:[((u==null?void 0:u.top_revenue_services)||[]).map((Oe,$e)=>s.jsxs("div",{className:"list-group-item border-0 px-0 py-3 d-flex justify-content-between align-items-center",style:{borderBottom:$e<((u==null?void 0:u.top_revenue_services)||[]).length-1?"1px solid rgba(0,0,0,0.05)":"none"},children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"me-3 d-flex align-items-center justify-content-center rounded-circle",style:{width:"32px",height:"32px",backgroundColor:$e===0?"#fbbf24":$e===1?"#9ca3af":$e===2?"#f59e0b":"#e5e7eb",color:"white",fontSize:"14px",fontWeight:"bold"},children:$e+1}),s.jsx("span",{className:"fw-medium",style:{color:"#374151"},children:Oe.service_name})]}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsxs("strong",{className:"me-3 fs-6",style:{color:"#1f2937"},children:["",Oe.revenue.toLocaleString()]}),s.jsxs("span",{className:`badge ${(Oe.pct_change??0)>=0?"bg-success":"bg-danger"} px-2 py-1`,style:{fontSize:"0.75rem"},children:[(Oe.pct_change??0)>=0?"":""," ",Math.abs(Oe.pct_change??0).toFixed(1),"%"]})]})]},`${Oe.service_id}-${Oe.service_name}`)),((u==null?void 0:u.top_revenue_services)||[]).length===0&&s.jsxs("div",{className:"text-center py-4 text-muted",children:[s.jsx("span",{className:"fs-4",children:""}),s.jsx("p",{className:"mt-2 mb-0",children:"No revenue data available"})]})]}),s.jsxs("div",{className:"mt-3 p-3 rounded-3",style:{backgroundColor:"rgba(16, 185, 129, 0.05)"},children:[s.jsx("div",{className:"small text-muted mb-2 fw-medium",children:"Total Revenue This Month:"}),s.jsxs("div",{className:"fs-4 fw-bold text-success",children:["",(((Le=g==null?void 0:g.total_revenue)==null?void 0:Le.value)??0).toLocaleString()]}),s.jsxs("div",{className:"small text-muted",children:[((ze=g==null?void 0:g.total_revenue)==null?void 0:ze.pct_change)>=0?"":""," ",Math.abs(((nt=g==null?void 0:g.total_revenue)==null?void 0:nt.pct_change)??0).toFixed(1),"% vs last month"]})]})]})]})})]}),pe&&s.jsx("div",{className:"row g-2 g-md-3 g-lg-4 mb-4",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card h-100 border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px"},children:[s.jsx("div",{className:"card-header border-0 bg-transparent py-4",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("h5",{className:"mb-0 fw-bold d-flex align-items-center",style:{color:"#1e293b"},children:[s.jsx("span",{className:"me-2",children:""}),"Monthly Trends"]}),s.jsxs("select",{value:n,onChange:Oe=>i(Number(Oe.target.value)),className:"form-select form-select-sm",style:{width:140},children:[s.jsx("option",{value:6,children:"Last 6 months"}),s.jsx("option",{value:12,children:"Last 1 year"}),s.jsx("option",{value:24,children:"Last 2 years"})]})]})}),s.jsx("div",{className:"card-body pt-0",children:s.jsx("div",{className:"px-1 px-md-2",style:{height:"300px"},children:s.jsx(kq,{data:pe,options:ae})})})]})})}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px"},children:[s.jsx("div",{className:"card-header border-0 bg-transparent py-4",children:s.jsxs("h5",{className:"mb-0 fw-bold d-flex align-items-center",style:{color:"#1e293b"},children:[s.jsx("span",{className:"me-2",children:""}),"System Alerts"]})}),s.jsx("div",{className:"card-body pt-0",children:((u==null?void 0:u.alerts)||[]).length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"fs-1 mb-3",children:""}),s.jsx("p",{className:"text-muted mb-0 fw-medium",children:"All systems running smoothly"}),s.jsx("small",{className:"text-muted",children:"No alerts to display"})]}):s.jsx("div",{className:"list-group list-group-flush",children:((u==null?void 0:u.alerts)||[]).map((Oe,$e)=>s.jsxs("div",{className:`list-group-item border-0 px-0 py-3 d-flex align-items-start ${Oe.type==="warning"?"text-warning":"text-info"}`,children:[s.jsx("span",{className:"me-3 mt-1",children:Oe.type==="warning"?"":""}),s.jsx("span",{className:"fw-medium",children:Oe.message})]},$e))})})]})})]})]})})})}function Fq(){const e=Tr(),{logout:t}=Oo(),[n,i]=D.useState(!1),[r,a]=D.useState(!1),[o,c]=D.useState(null),[u,f]=D.useState(!1),[h,p]=D.useState(()=>window.innerWidth>=992);D.useEffect(()=>{const g=()=>{window.innerWidth>=992?p(!0):p(!1)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),D.useEffect(()=>{let g=!0;return(async()=>{try{const{data:_}=await it.get("/api/inventory/settings");g&&i(!!(_!=null&&_.staff_can_receive))}catch{}finally{g&&a(!0)}})(),()=>{g=!1}},[]),D.useEffect(()=>{let g=!0;return(async()=>{try{const _=await Om();it.defaults.headers.common["X-Device-Fingerprint"]=_;const j=await it.get("/api/device-status",{headers:{"X-Device-Fingerprint":_}});g&&c(j.data)}catch(_){console.error("Device check failed",_),g&&c({approved:!1})}finally{g&&f(!0)}})(),()=>{g=!1}},[]);const x=async()=>{await t(),e("/app")},b=g=>"nav-link"+(g?" active":""),w=()=>u&&o&&!o.approved;return s.jsxs("div",{className:`staff-shell ${h?"sidebar-open":"sidebar-closed"}`,children:[s.jsxs("aside",{className:"sidebar bg-dark text-white",children:[s.jsxs("div",{className:"sidebar-header d-flex align-items-center justify-content-between",children:[s.jsx("h6",{className:"m-0 fw-bold",children:"Staff Menu"}),s.jsx("button",{className:"btn btn-sm btn-outline-light d-lg-none",onClick:()=>p(!1),"aria-label":"Close sidebar",children:""})]}),s.jsxs("ul",{className:"nav flex-column nav-scroller",children:[s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/staff",end:!0,className:({isActive:g})=>b(g),children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{className:"label",children:"Dashboard"})]})}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Appointments"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/staff/appointments",className:({isActive:g})=>b(g)+(w()?" disabled text-muted":""),onClick:g=>{w()&&g.preventDefault()},style:{cursor:w()?"not-allowed":"pointer",opacity:w()?.5:1},children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{className:"label",children:"Appointments"})]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/staff/appointment-reminders",className:({isActive:g})=>b(g)+(w()?" disabled text-muted":""),onClick:g=>{w()&&g.preventDefault()},style:{cursor:w()?"not-allowed":"pointer",opacity:w()?.5:1},children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{className:"label",children:"Reminders"})]})}),r&&n&&s.jsxs(s.Fragment,{children:[s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Operations"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/staff/inventory",className:({isActive:g})=>b(g)+(w()?" disabled text-muted":""),onClick:g=>{w()&&g.preventDefault()},style:{cursor:w()?"not-allowed":"pointer",opacity:w()?.5:1},children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{className:"label",children:"Inventory"})]})})]}),s.jsx("li",{className:"nav-item mt-2 small text-uppercase text-secondary ps-3",children:"Account"}),s.jsx("li",{className:"nav-item",children:s.jsxs(hr,{to:"/staff/profile",className:({isActive:g})=>b(g),children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{className:"label",children:"Account"})]})}),s.jsx("li",{className:"nav-item mt-4 px-3",children:s.jsxs("button",{className:"btn btn-outline-danger w-100 d-flex align-items-center justify-content-center icon-only-btn",onClick:x,title:"Logout","aria-label":"Logout",children:[s.jsx("i",{className:"bi-box-arrow-right fs-5"}),s.jsx("span",{className:"visually-hidden",children:"Logout"})]})})]})]}),s.jsxs("div",{className:"content-area",children:[s.jsxs("div",{className:"topbar d-flex align-items-center pe-0",children:[s.jsx("button",{className:"btn btn-dark toggle-btn me-2",onClick:()=>p(g=>!g),"aria-label":"Toggle sidebar",children:""}),s.jsx("div",{className:"flex-grow-1"}),s.jsx("div",{className:"ms-auto me-0 topbar-bell",children:s.jsx(m1,{})})]}),s.jsx("main",{className:"p-4",children:s.jsx(Th,{})})]}),s.jsx("div",{className:`sidebar-overlay ${h?"show":""}`,onClick:()=>p(!1)})]})}function Pq({visit:e,onClose:t,onComplete:n}){var q,ke,O;const[i,r]=D.useState(1),[a,o]=D.useState([]),[c,u]=D.useState([]),[f,h]=D.useState(!1),[p,x]=D.useState(!1),[b,w]=D.useState(""),[g,_]=D.useState(""),[j,E]=D.useState(""),[k,F]=D.useState(null),[V,ne]=D.useState("paid"),[P,I]=D.useState(""),[Y,Z]=D.useState("");D.useEffect(()=>{z(),U()},[]);const z=async()=>{try{const B=await it.get("/api/inventory/items");o(B.data.data||[])}catch(B){console.error("Failed to load inventory items",B)}},U=async()=>{var B,W;try{const le=(await it.get(`/api/visits/${e.id}/dentist-notes`)).data;le.dentist_notes&&w(le.dentist_notes),le.findings&&_(le.findings),le.treatment_plan&&E(le.treatment_plan),(le.created_by||le.created_at)&&F({created_by:le.created_by,created_at:le.created_at,updated_by:le.updated_by,updated_at:le.updated_at})}catch(X){console.log("No dentist notes found or error fetching notes:",(W=(B=X==null?void 0:X.response)==null?void 0:B.data)==null?void 0:W.message)}},J=()=>{u([...c,{item_id:"",quantity:"",notes:""}])},ie=(B,W,X)=>{const le=[...c];le[B][W]=X,u(le)},pe=B=>{u(c.filter((W,X)=>X!==B))},ae=async()=>{var B,W;x(!0);try{const X={stock_items:c.filter(le=>le.item_id&&le.quantity),dentist_notes:b,findings:g,treatment_plan:j,payment_status:V,onsite_payment_amount:P?Number(P):null,payment_method_change:Y||null};await it.post(`/api/visits/${e.id}/complete-with-details`,X),n(),t()}catch(X){alert(((W=(B=X==null?void 0:X.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to complete visit")}finally{x(!1)}},ue=((q=e.payments)==null?void 0:q.reduce((B,W)=>B+(W.amount_paid||0),0))||0,Q=((ke=e.service)==null?void 0:ke.price)||0,Ne=Q-ue;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Complete Visit"}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsx("div",{className:"flex mb-6",children:[1,2,3].map(B=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${i>=B?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:B}),s.jsxs("span",{className:"ml-2 text-sm",children:[B===1&&"Stock Consumption",B===2&&"Visit Notes",B===3&&"Payment Verification"]}),B<3&&s.jsx("div",{className:"w-8 h-0.5 bg-gray-200 ml-4"})]},B))}),i===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Consume Stock Items"}),s.jsxs("div",{className:"space-y-4",children:[c.map((B,W)=>s.jsxs("div",{className:"flex gap-4 items-end p-4 border rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item"}),s.jsxs("select",{className:"w-full border rounded px-3 py-2",value:B.item_id,onChange:X=>ie(W,"item_id",X.target.value),children:[s.jsx("option",{value:"",children:"Select item"}),a.map(X=>s.jsxs("option",{value:X.id,children:[X.name," (Stock: ",X.total_on_hand||0,")"]},X.id))]})]}),s.jsxs("div",{className:"w-32",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full border rounded px-3 py-2",value:B.quantity,onChange:X=>ie(W,"quantity",X.target.value)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),s.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",value:B.notes,onChange:X=>ie(W,"notes",X.target.value),placeholder:"Optional notes"})]}),s.jsx("button",{onClick:()=>pe(W),className:"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},W)),s.jsx("button",{onClick:J,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+ Add Item"})]})]}),i===2&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Visit Documentation"}),k&&s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Original Notes Information"}),s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Created by:"})," ",k.created_by," on ",new Date(k.created_at).toLocaleString()]}),k.updated_by&&k.updated_at&&s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Last updated by:"})," ",k.updated_by," on ",new Date(k.updated_at).toLocaleString()]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You can edit these notes as needed for the final documentation."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dentist Notes"}),s.jsx("textarea",{className:"w-full border rounded px-3 py-2 h-24",value:b,onChange:B=>w(B.target.value),placeholder:"Enter dentist's notes about the visit..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Findings"}),s.jsx("textarea",{className:"w-full border rounded px-3 py-2 h-24",value:g,onChange:B=>_(B.target.value),placeholder:"Document any findings or observations..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Treatment Plan"}),s.jsx("textarea",{className:"w-full border rounded px-3 py-2 h-24",value:j,onChange:B=>E(B.target.value),placeholder:"Outline the treatment plan or follow-up instructions..."})]})]})]}),i===3&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Verification"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{children:["Service: ",((O=e.service)==null?void 0:O.name)||"N/A"]}),s.jsxs("div",{children:["Service Price: ",Q.toLocaleString()]}),s.jsxs("div",{children:["Total Paid: ",ue.toLocaleString()]}),s.jsxs("div",{className:"font-medium",children:["Balance: ",Ne.toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),s.jsxs("select",{className:"w-full border rounded px-3 py-2",value:V,onChange:B=>ne(B.target.value),children:[s.jsx("option",{value:"paid",children:"Fully Paid"}),s.jsx("option",{value:"hmo_fully_covered",children:"HMO Fully Covered"}),s.jsx("option",{value:"partial",children:"Partially Paid (HMO didn't cover all)"}),s.jsx("option",{value:"unpaid",children:"Unpaid (Maya failed)"})]})]}),V==="partial"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"On-site Payment Amount ()"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:Ne,className:"w-full border rounded px-3 py-2",value:P,onChange:B=>I(B.target.value),placeholder:`Maximum: ${Ne.toLocaleString()}`})]}),V==="unpaid"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Method Change"}),s.jsxs("select",{className:"w-full border rounded px-3 py-2",value:Y,onChange:B=>Z(B.target.value),children:[s.jsx("option",{value:"",children:"Select change"}),s.jsx("option",{value:"maya_to_cash",children:"Change Maya to Cash Payment"})]})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("div",{children:i>1&&s.jsx("button",{onClick:()=>r(i-1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Previous"})}),s.jsx("div",{children:i<3?s.jsx("button",{onClick:()=>r(i+1),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Next"}):s.jsx("button",{onClick:ae,disabled:p,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:p?"Completing...":"Complete Visit"})})]})]})})})}function Iq({visit:e,onClose:t}){var x,b;const[n,i]=D.useState(""),[r,a]=D.useState(!1),[o,c]=D.useState(""),[u,f]=D.useState(null),h=async w=>{var g,_;w.preventDefault(),a(!0),c("");try{const j=await it.post(`/api/visits/${e.id}/view-notes`,{password:n});f(j.data.notes)}catch(j){c(((_=(g=j==null?void 0:j.response)==null?void 0:g.data)==null?void 0:_.message)||"Invalid password or failed to decrypt notes")}finally{a(!1)}},p=w=>w?s.jsxs("div",{className:"space-y-4",children:[w.dentist_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Dentist Notes:"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:s.jsx("p",{className:"whitespace-pre-wrap",children:w.dentist_notes})})]}),w.findings&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Findings:"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:s.jsx("p",{className:"whitespace-pre-wrap",children:w.findings})})]}),w.treatment_plan&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Treatment Plan:"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:s.jsx("p",{className:"whitespace-pre-wrap",children:w.treatment_plan})})]}),s.jsxs("div",{className:"text-sm text-gray-600 border-t pt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Completed by:"})," Staff ID #",w.completed_by]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Completed at:"})," ",new Date(w.completed_at).toLocaleString()]})]})]}):null;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Visit Notes - ",(x=e.patient)==null?void 0:x.first_name," ",(b=e.patient)==null?void 0:b.last_name]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),u?s.jsxs("div",{children:[p(u),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Close"})})]}):s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enter your password to view encrypted notes:"}),s.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:n,onChange:w=>i(w.target.value),placeholder:"Enter your account password",required:!0}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This action will be logged for security purposes."})]}),o&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded",children:o}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:r||!n.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:r?"Verifying...":"View Notes"})]})]})]})})})}function Bq(){const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState(!1),[o,c]=D.useState("walkin"),[u,f]=D.useState(""),[h,p]=D.useState(null),[x,b]=D.useState(!1),[w,g]=D.useState(""),[_,j]=D.useState(!1),[E,k]=D.useState(null),[F,V]=D.useState(""),[ne,P]=D.useState(!1),[I,Y]=D.useState(null),[Z,z]=D.useState({first_name:"",last_name:"",contact:"",service_id:""}),[U,J]=D.useState([]),[ie,pe]=D.useState(!1),[ae,ue]=D.useState(""),[Q,Ne]=D.useState([]),[q,ke]=D.useState(null),[O,B]=D.useState(!1),[W,X]=D.useState(null),[le,Ce]=D.useState(null);D.useEffect(()=>{_e()},[]),D.useEffect(()=>{console.log(" Visits state updated:",e),console.log(" Visit counts:",{total:e.length,pending:e.filter(ve=>ve.status==="pending").length,completed:e.filter(ve=>ve.status==="completed").length,rejected:e.filter(ve=>ve.status==="rejected").length})},[e]);const _e=async()=>{i(!0);try{console.log(" Fetching visits from API...");const ve=await it.get("/api/visits");console.log(" API response received:",ve.data),console.log(" Number of visits received:",ve.data.length),console.log(" Visits with pending status:",ve.data.filter(se=>se.status==="pending")),console.log(" Visit IDs:",ve.data.map(se=>{var Ie,st;return{id:se.id,status:se.status,patient:((Ie=se.patient)==null?void 0:Ie.first_name)+" "+((st=se.patient)==null?void 0:st.last_name)}})),t(ve.data)}catch(ve){console.error(" Failed to load visits",ve)}finally{i(!1)}},Le=async()=>{var ve,se;a(!0);try{let Ie;if(o==="walkin")Ie={visit_type:"walkin"};else if(o==="appointment"){if(!h){alert("Search and select a valid appointment first."),a(!1);return}Ie={visit_type:"appointment",reference_code:(u||"").toUpperCase().replace(/[^A-Z0-9]/g,"")}}console.log(" Creating visit with payload:",Ie);const Ze=(await it.post("/api/visits",Ie)).data;console.log(" Visit created successfully:",Ze),console.log(" Visit details:",{id:Ze.id,status:Ze.status,visit_code:Ze.visit_code,patient_id:Ze.patient_id,patient_name:((ve=Ze.patient)==null?void 0:ve.first_name)+" "+((se=Ze.patient)==null?void 0:se.last_name),start_time:Ze.start_time}),Ze.visit_code&&alert(`Visit started successfully!

Visit Code: ${Ze.visit_code}

Share this code with the dentist to begin consultation.`),console.log(" Adding new visit to state:",Ze),t(ft=>{const vt=[Ze,...ft];return console.log(" Updated visits state with new visit:",vt),console.log(" New visit should now be visible in the list"),vt}),f(""),p(null),console.log(" Fetching visits after creation to ensure consistency..."),await new Promise(ft=>setTimeout(ft,200)),await _e(),console.log(" Visit creation process completed")}catch(Ie){console.error("Error creating visit:",Ie),alert("Failed to start visit.")}finally{a(!1)}},ze=async(ve,se)=>{{const Ie=e.find(st=>st.id===ve);if(!Ie.service_id){alert("Please select a service for this patient before finishing the visit. Use the 'Edit' button to assign a service.");return}X(Ie);return}},nt=async()=>{await _e()},Oe=async()=>{b(!0),p(null),g("");try{const ve=(u||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(ve.length!==8){g("Enter the full 8-character code.");return}const se=await it.get(`/api/appointment/resolve/${ve}`);p(se.data)}catch{g("Invalid or used reference code.")}finally{b(!1)}},$e=async ve=>{var se,Ie,st;Y(ve),z({first_name:((se=ve.patient)==null?void 0:se.first_name)||"",last_name:((Ie=ve.patient)==null?void 0:Ie.last_name)||"",contact:((st=ve.patient)==null?void 0:st.contact)||"",service_id:ve.service_id||""});try{const Ze=new Date().toISOString().slice(0,10),ft=await it.get(`/api/appointment/available-services?date=${Ze}`);J(Array.isArray(ft.data)?ft.data:ft.data.data||[])}catch{alert("Failed to load services.")}},Ke=async()=>{var ve;try{await it.put(`/api/visits/${I.id}/update-patient`,{first_name:Z.first_name,last_name:Z.last_name,contact_number:Z.contact.trim()!==""?Z.contact.trim():(ve=I.patient)==null?void 0:ve.contact_number,service_id:Z.service_id||null}),Y(null),await _e()}catch{alert("Failed to update patient.")}};return s.jsxs("div",{children:[s.jsx("h3",{children:" Patient Visit Tracker"}),s.jsxs("div",{className:"card p-3 mb-4",children:[s.jsx("label",{children:"Visit Type"}),s.jsxs("select",{className:"form-select mb-2",value:o,onChange:ve=>{c(ve.target.value),p(null),f(""),g("")},children:[s.jsx("option",{value:"walkin",children:"Walk-in"}),s.jsx("option",{value:"appointment",children:"Appointment"})]}),o==="appointment"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"input-group mb-2",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Appointment Reference Code",value:u,onChange:ve=>f(ve.target.value.toUpperCase())}),s.jsx("button",{className:"btn btn-outline-primary",onClick:Oe,disabled:x||!u,children:x?"Searching...":"Search"})]}),w&&s.jsx("div",{className:"text-danger",children:w}),h&&s.jsxs("div",{className:"alert alert-success",children:[s.jsx("strong",{children:h.patient_name})," "," ",h.service_name," @ ",h.date," /"," ",h.time_slot]})]}),s.jsx("button",{className:"btn btn-primary mt-2",onClick:Le,disabled:r,children:r?"Saving...":"Start Visit"})]}),n?s.jsx(os,{message:"Loading patient visits..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[s.jsxs("h5",{children:["Ongoing Visits (",e.length," total, ",e.filter(ve=>ve.status==="pending").length," pending)"]}),s.jsxs("div",{children:[s.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:_e,children:" Refresh"}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>B(ve=>!ve),children:O?" Hide Completed/Rejected":" Show All Today's Visits"})]})]}),s.jsxs("table",{className:"table table-bordered",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Contact"}),s.jsx("th",{children:"Visit Code"}),s.jsx("th",{children:"Service"}),s.jsx("th",{children:"Note"}),s.jsx("th",{children:"Started At"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:(()=>{const ve=e.filter(se=>O||se.status==="pending");return console.log("All visits:",e),console.log("Show all visits:",O),console.log("Filtered visits:",ve),ve})().map(ve=>{var se,Ie,st;return console.log("Rendering visit:",ve.id,"Patient:",ve.patient),s.jsxs("tr",{children:[s.jsxs("td",{children:[(se=ve.patient)==null?void 0:se.first_name," ",(Ie=ve.patient)==null?void 0:Ie.last_name]}),s.jsx("td",{children:((st=ve.patient)==null?void 0:st.contact_number)||""}),s.jsx("td",{children:ve.visit_code?s.jsx("span",{className:"badge bg-primary",children:ve.visit_code}):""}),s.jsx("td",{children:ve.service?s.jsx("span",{className:"badge bg-info",children:ve.service.name}):s.jsxs("span",{className:"badge bg-warning",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"No Service"]})}),s.jsx("td",{children:ve.status==="completed"&&ve.visit_notes?s.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>Ce(ve),children:" View Notes"}):""}),s.jsx("td",{children:ve.start_time?new Date(ve.start_time).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"}):""}),s.jsx("td",{children:ve.status}),s.jsx("td",{children:ve.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:`btn btn-sm me-1 ${ve.service_id?"btn-success":"btn-outline-secondary"}`,onClick:()=>ze(ve.id),disabled:!ve.service_id,title:ve.service_id?"Complete this visit":"Please select a service first",children:ve.service_id?"Finish":s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"Finish"]})}),s.jsx("button",{className:"btn btn-warning btn-sm me-1",onClick:()=>$e(ve),children:"Edit"}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>{k(ve.id),V(""),P(!1),j(!0)},children:"Reject"})]})})]},ve.id)})})]})]}),_&&s.jsx("div",{className:"modal show d-block",tabIndex:"-1",children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:F==="inquiry_only"?"Mark as Inquiry":"Reject Visit"}),s.jsx("button",{className:"btn-close",onClick:()=>j(!1)})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("label",{className:"form-label",children:F==="inquiry_only"?"Reason for inquiry:":"Reason for rejection:"}),s.jsxs("select",{className:"form-select",value:F,onChange:ve=>V(ve.target.value),children:[s.jsx("option",{value:"",children:"Select reason"}),s.jsx("option",{value:"human_error",children:"Human Error"}),s.jsx("option",{value:"left",children:"Patient Left"}),s.jsx("option",{value:"line_too_long",children:"Line Too Long"}),s.jsx("option",{value:"inquiry_only",children:"Inquiry Only"})]}),F==="line_too_long"&&s.jsxs("div",{className:"form-check mt-2",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",checked:ne,onChange:ve=>P(ve.target.checked),id:"offerAppt"}),s.jsx("label",{htmlFor:"offerAppt",className:"form-check-label",children:"Patient was offered an appointment"})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>j(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-danger",disabled:!F,onClick:async()=>{await it.post(`/api/visits/${E}/reject`,{reason:F,offered_appointment:ne}),j(!1),k(null),await _e()},children:F==="inquiry_only"?"Mark as Inquiry":"Confirm Reject"})]})]})})}),I&&s.jsx("div",{className:"modal show d-block",tabIndex:"-1",children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:"Edit Patient Info"}),s.jsx("button",{className:"btn-close",onClick:()=>Y(null)})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("label",{className:"form-label",children:"First Name"}),s.jsx("input",{className:"form-control mb-2",value:Z.first_name,onChange:ve=>z({...Z,first_name:ve.target.value})}),s.jsx("label",{className:"form-label",children:"Last Name"}),s.jsx("input",{className:"form-control mb-2",value:Z.last_name,onChange:ve=>z({...Z,last_name:ve.target.value})}),s.jsx("label",{className:"form-label",children:"Contact"}),s.jsx("input",{className:"form-control mb-2",value:Z.contact,onChange:ve=>z({...Z,contact:ve.target.value})}),s.jsx("label",{className:"form-label",children:"Service"}),s.jsxs("select",{className:"form-select",value:Z.service_id,onChange:ve=>z({...Z,service_id:ve.target.value}),children:[s.jsx("option",{value:"",children:" Select "}),U.map(ve=>s.jsxs("option",{value:ve.id,children:[ve.name," "," ",ve.type==="promo"?`${Number(ve.promo_price).toLocaleString()} (${ve.discount_percent}% off)`:ve.type==="special"?`${Number(ve.price).toLocaleString()} Special Service`:`${Number(ve.price).toLocaleString()}`]},ve.id))]}),s.jsx("hr",{}),s.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{pe(!0),ue(""),Ne([]),ke(null)},children:" Link to Existing Patient"})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>Y(null),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:Ke,children:"Save"})]})]})})}),ie&&s.jsx("div",{className:"modal show d-block",tabIndex:"-1",children:s.jsx("div",{className:"modal-dialog modal-lg",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:"Link to Existing Patient"}),s.jsx("button",{className:"btn-close",onClick:()=>pe(!1)})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("input",{className:"form-control mb-2",placeholder:"Search by name or contact (min 2 characters)",value:ae,onChange:async ve=>{const se=ve.target.value;if(ue(se),Ne([]),ke(null),se.length>=2)try{const Ie=await it.get("/api/patients/search",{params:{q:se.trim()}});Ne(Ie.data)}catch{alert("Search failed.")}}}),Q.filter(ve=>{var se;return ve.id!==((se=I==null?void 0:I.patient)==null?void 0:se.id)}).length>0?s.jsxs("table",{className:"table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Contact"}),s.jsx("th",{children:"Birthdate"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:Q.filter(ve=>{var se;return ve.id!==((se=I==null?void 0:I.patient)==null?void 0:se.id)}).map(ve=>s.jsxs("tr",{children:[s.jsxs("td",{children:[ve.first_name," ",ve.last_name]}),s.jsx("td",{children:ve.contact_number||""}),s.jsx("td",{children:ve.birthdate||""}),s.jsx("td",{children:s.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ke(ve),children:"Select"})})]},ve.id))})]}):s.jsxs("table",{className:"table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Contact"}),s.jsx("th",{children:"Birthdate"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"text-muted text-center",children:"No matching patients found."})})})]}),q&&s.jsxs("div",{className:"alert alert-info mt-3",children:["Link current visit to"," ",s.jsxs("strong",{children:[q.first_name," ",q.last_name]}),"?"]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>pe(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",disabled:!q,onClick:async()=>{try{await it.post(`/api/visits/${I.id}/link-existing`,{target_patient_id:q.id}),pe(!1),Y(null),await _e()}catch{alert("Failed to link to patient.")}},children:"Confirm Link"})]})]})})}),W&&s.jsx(Pq,{visit:W,onClose:()=>X(null),onComplete:nt}),le&&s.jsx(Iq,{visit:le,onClose:()=>Ce(null)})]})}const zq=()=>{const[e,t]=D.useState(null);if(D.useEffect(()=>{(async()=>{try{const i=await Om();it.defaults.headers.common["X-Device-Fingerprint"]=i;const r=await it.get("/api/device-status",{headers:{"X-Device-Fingerprint":i}});t(r.data)}catch(i){console.error("Device check failed",i)}})()},[]),!e)return s.jsx("p",{children:"Loading dashboard..."});if(!e.approved){const n=!e.temporary_code;return s.jsx("div",{className:"alert alert-warning",children:n?s.jsxs(s.Fragment,{children:[" ",s.jsx("strong",{children:"This device has been rejected by the admin."}),s.jsx("br",{}),"If you believe this was a mistake, please contact the admin for clarification."]}):s.jsxs(s.Fragment,{children:[" ",s.jsx("strong",{children:"This device is not yet approved."}),s.jsx("br",{}),"Provide the code below to the admin:",s.jsx("br",{}),s.jsx("strong",{children:"Temporary Code:"})," ",s.jsx("span",{className:"badge bg-secondary",children:e.temporary_code})]})})}return s.jsxs("div",{children:[s.jsx("h2",{children:"Welcome, Staff Member!"}),s.jsx("p",{children:" Your device is approved. You can now log walk-in patients and monitor visits."}),s.jsx(Bq,{})]})},Hq=()=>{const[e,t]=D.useState(null),[n,i]=D.useState(""),[r,a]=D.useState(""),[o,c]=D.useState(!1);Tr();const{logout:u}=Oo();D.useEffect(()=>{(async()=>{try{const p=await it.get("/api/user");t(p.data)}catch(p){console.error("Failed to fetch user info",p)}})()},[]);const f=async()=>{var h,p;i(""),a(""),c(!0);try{const x=await it.post("/api/send-password-reset");i(x.data.message||"Password reset link sent to your email!")}catch(x){const b=((p=(h=x.response)==null?void 0:h.data)==null?void 0:p.message)||"Failed to send reset link";a(b)}finally{c(!1)}};return e?s.jsxs("div",{style:{maxWidth:"600px"},children:[s.jsx("h2",{className:"mb-4",children:"My Account"}),s.jsxs("div",{className:"mb-4 p-3 border rounded bg-light",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",e.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",e.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",e.role]})]}),n&&s.jsx("div",{className:"alert alert-success mb-3",children:n}),r&&s.jsx("div",{className:"alert alert-danger mb-3",children:r}),s.jsx("button",{className:"btn btn-primary",onClick:f,disabled:o,children:o?"Sending...":"Send Password Reset Link"})]}):s.jsx("p",{children:"Loading..."})};function Dv(e){if(!e)return"";const t=String(e);return t.includes("T")?t.split("T")[0]:t}function A3(){var Z,z,U;const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState(null),[o,c]=D.useState(""),[u,f]=D.useState(null),[h,p]=D.useState(null),[x,b]=D.useState(null),[w,g]=D.useState(""),[_,j]=D.useState(null),[E,k]=D.useState("");D.useEffect(()=>{F()},[]);const F=async()=>{try{const J=await it.get("/api/appointments?status=pending");t(J.data)}catch(J){console.error("Failed to load appointments",J)}finally{i(!1)}},V=async J=>{var ie,pe,ae,ue,Q;f(J);try{await it.post(`/api/appointments/${J}/approve`),F()}catch(Ne){console.error("Approve error:",((ie=Ne.response)==null?void 0:ie.data)||Ne.message),alert(((ae=(pe=Ne.response)==null?void 0:pe.data)==null?void 0:ae.message)||((Q=(ue=Ne.response)==null?void 0:ue.data)==null?void 0:Q.error)||"Approval failed")}finally{f(null)}},ne=J=>{if(J.payment_method!=="hmo")return alert("Only for HMO payments");p(J.id),b(J),g(""),j(null),k(""),c("")},P=async()=>{var J,ie;try{const{data:pe}=await it.post(`/api/appointments/${h}/hmo/reveal`,{password:w});j(pe)}catch(pe){alert(((ie=(J=pe==null?void 0:pe.response)==null?void 0:J.data)==null?void 0:ie.message)||"Invalid password or error")}},I=async()=>{var J,ie;if(!o.trim())return alert("Please enter a note to send to the patient.");try{await it.post(`/api/appointments/${h}/hmo/notify`,{message:o,coverage_amount:E?Number(E):void 0,approve:!0}),p(null),b(null),j(null),k(""),c(""),F()}catch(pe){alert(((ie=(J=pe==null?void 0:pe.response)==null?void 0:J.data)==null?void 0:ie.message)||"Failed to send coverage update")}},Y=async()=>{var J,ie,pe;if(!o.trim())return alert("Note is required");f(r.id);try{await it.post(`/api/appointments/${r.id}/reject`,{note:o}),a(null),c(""),F()}catch(ae){console.error("Reject error:",((J=ae.response)==null?void 0:J.data)||ae.message),alert(((pe=(ie=ae.response)==null?void 0:ie.data)==null?void 0:pe.error)||"Rejection failed")}finally{f(null)}};return n?s.jsx(os,{}):s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Pending Appointments"}),e.length===0?s.jsx("p",{children:"No pending appointments."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table-auto w-full border text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-2 border",children:"#"}),s.jsx("th",{className:"p-2 border",children:"Service"}),s.jsx("th",{className:"p-2 border",children:"Date"}),s.jsx("th",{className:"p-2 border",children:"Time"}),s.jsx("th",{className:"p-2 border",children:"Payment"}),s.jsx("th",{className:"p-2 border",children:"Status"}),s.jsx("th",{className:"p-2 border",children:"Action"})]})}),s.jsx("tbody",{children:e.map((J,ie)=>{var pe;return s.jsxs("tr",{className:"text-center",children:[s.jsx("td",{className:"p-2 border",children:ie+1}),s.jsx("td",{className:"p-2 border",children:(pe=J.service)==null?void 0:pe.name}),s.jsx("td",{className:"p-2 border",children:J.date}),s.jsx("td",{className:"p-2 border",children:J.time_slot}),s.jsx("td",{className:"p-2 border",children:J.payment_method}),s.jsx("td",{className:"p-2 border capitalize",children:J.status}),s.jsx("td",{className:"p-2 border",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx("button",{onClick:()=>V(J.id),disabled:u===J.id,className:"px-2 py-1 bg-green-600 text-white rounded text-xs disabled:opacity-50",children:u===J.id?"Approving...":"Approve"}),J.payment_method==="hmo"&&s.jsx("button",{onClick:()=>ne(J),className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs",children:"Verify HMO"}),s.jsx("button",{onClick:()=>a(J),disabled:u===J.id,className:"px-2 py-1 bg-red-600 text-white rounded text-xs disabled:opacity-50",children:u===J.id?"Rejecting...":"Reject"})]})})]},J.id)})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:s.jsxs("div",{className:"bg-white p-6 rounded w-96 shadow-lg",children:[s.jsx("h2",{className:"text-lg font-bold mb-2",children:"Reject Appointment"}),s.jsxs("p",{className:"text-sm mb-2",children:["Enter reason for rejecting appointment on ",r.date," at"," ",r.time_slot]}),s.jsx("textarea",{value:o,onChange:J=>c(J.target.value),className:"w-full border p-2 mb-2",rows:3}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 bg-gray-300 rounded",onClick:()=>a(null),children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded",onClick:Y,children:"Reject"})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:s.jsxs("div",{className:"bg-white p-6 rounded w-[520px] shadow-lg",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"HMO Verification"}),x&&s.jsxs("div",{className:"mb-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Service:"})," ",((Z=x.service)==null?void 0:Z.name)||""]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Service Price:"})," ",Number(((z=x.service)==null?void 0:z.price)??0).toLocaleString()]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Appointment Date:"})," ",Dv(x.date)]})]}),_?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Provider:"})," ",_.provider_name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Member ID:"})," ",_.member_id||""]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Policy No:"})," ",_.policy_no||""]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Effective:"})," ",Dv(_.effective_date)||""]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Expiry:"})," ",Dv(_.expiry_date)||""]})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"text-sm",children:"Coverage Amount ()"}),s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border p-2",value:E,onChange:J=>k(J.target.value)}),x&&E&&s.jsxs("div",{className:"text-xs text-zinc-600 mt-1",children:["Estimated balance: ",Math.max(0,Number(((U=x.service)==null?void 0:U.price)??0)-Number(E||0)).toLocaleString()]})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"text-sm",children:"Note to patient (what coverage means, balance, etc.)"}),s.jsx("textarea",{className:"w-full border p-2",rows:3,value:o,onChange:J=>c(J.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 bg-gray-300 rounded",onClick:()=>{p(null),b(null)},children:"Close"}),s.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded",onClick:I,children:"Send & Approve"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm mb-2",children:"Enter your password to reveal patient HMO details."}),s.jsx("input",{type:"password",className:"w-full border p-2 mb-3",value:w,onChange:J=>g(J.target.value),placeholder:"Your password"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 bg-gray-300 rounded",onClick:()=>p(null),children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 bg-indigo-600 text-white rounded",onClick:P,children:"Reveal"})]})]})]})})]})}var Mv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var E3;function Uq(){return E3||(E3=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var c in a)t.call(a,c)&&a[c]&&(o=r(o,c));return o}function r(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Mv)),Mv.exports}var Wq=Uq();const zi=i1(Wq);function Vq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Db(e,t)}function qq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Db(e,t)}const Gq=["xxl","xl","lg","md","sm","xs"],$q="xs",Um=D.createContext({prefixes:{},breakpoints:Gq,minBreakpoint:$q}),{Consumer:gY,Provider:xY}=Um;function ea(e,t){const{prefixes:n}=D.useContext(Um);return e||n[t]||t}function Yq(){const{breakpoints:e}=D.useContext(Um);return e}function Xq(){const{minBreakpoint:e}=D.useContext(Um);return e}function Kq(){const{dir:e}=D.useContext(Um);return e==="rtl"}function O1(e){return e&&e.ownerDocument||document}function Zq(e){var t=O1(e);return t&&t.defaultView||window}function Jq(e,t){return Zq(e).getComputedStyle(e,t)}var Qq=/([A-Z])/g;function eG(e){return e.replace(Qq,"-$1").toLowerCase()}var tG=/^ms-/;function lg(e){return eG(e).replace(tG,"-ms-")}var nG=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iG(e){return!!(e&&nG.test(e))}function mf(e,t){var n="",i="";if(typeof t=="string")return e.style.getPropertyValue(lg(t))||Jq(e).getPropertyValue(lg(t));Object.keys(t).forEach(function(r){var a=t[r];!a&&a!==0?e.style.removeProperty(lg(r)):iG(r)?i+=r+"("+a+") ":n+=lg(r)+": "+a+";"}),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n}var Fv={exports:{}},Pv,T3;function rG(){if(T3)return Pv;T3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pv=e,Pv}var Iv,C3;function aG(){if(C3)return Iv;C3=1;var e=rG();function t(){}function n(){}return n.resetWarningCache=t,Iv=function(){function i(o,c,u,f,h,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Iv}var k3;function sG(){return k3||(k3=1,Fv.exports=aG()()),Fv.exports}var oG=sG();const Tu=i1(oG),L3={disabled:!1},_6=Yl.createContext(null);var lG=function(t){return t.scrollTop},U0="unmounted",Jd="exited",gd="entering",ef="entered",Mb="exiting",Fu=function(e){qq(t,e);function t(i,r){var a;a=e.call(this,i,r)||this;var o=r,c=o&&!o.isMounting?i.enter:i.appear,u;return a.appearStatus=null,i.in?c?(u=Jd,a.appearStatus=gd):u=ef:i.unmountOnExit||i.mountOnEnter?u=U0:u=Jd,a.state={status:u},a.nextCallback=null,a}t.getDerivedStateFromProps=function(r,a){var o=r.in;return o&&a.status===U0?{status:Jd}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==gd&&o!==ef&&(a=gd):(o===gd||o===ef)&&(a=Mb)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,o,c;return a=o=c=r,r!=null&&typeof r!="number"&&(a=r.exit,o=r.enter,c=r.appear!==void 0?r.appear:o),{exit:a,enter:o,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===gd){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:gh.findDOMNode(this);o&&lG(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jd&&this.setState({status:U0})},n.performEnter=function(r){var a=this,o=this.props.enter,c=this.context?this.context.isMounting:r,u=this.props.nodeRef?[c]:[gh.findDOMNode(this),c],f=u[0],h=u[1],p=this.getTimeouts(),x=c?p.appear:p.enter;if(!r&&!o||L3.disabled){this.safeSetState({status:ef},function(){a.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:gd},function(){a.props.onEntering(f,h),a.onTransitionEnd(x,function(){a.safeSetState({status:ef},function(){a.props.onEntered(f,h)})})})},n.performExit=function(){var r=this,a=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:gh.findDOMNode(this);if(!a||L3.disabled){this.safeSetState({status:Jd},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Mb},function(){r.props.onExiting(c),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Jd},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:gh.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===U0)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Vq(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Yl.createElement(_6.Provider,{value:null},typeof o=="function"?o(r,c):Yl.cloneElement(Yl.Children.only(o),c))},t}(Yl.Component);Fu.contextType=_6;Fu.propTypes={};function ch(){}Fu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ch,onEntering:ch,onEntered:ch,onExit:ch,onExiting:ch,onExited:ch};Fu.UNMOUNTED=U0;Fu.EXITED=Jd;Fu.ENTERING=gd;Fu.ENTERED=ef;Fu.EXITING=Mb;function cG(e){return e.code==="Escape"||e.keyCode===27}function uG(){const e=D.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function D1(e){if(!e||typeof e=="function")return null;const{major:t}=uG();return t>=19?e.props.ref:e.ref}const Wh=!!(typeof window<"u"&&window.document&&window.document.createElement);var Fb=!1,Pb=!1;try{var Bv={get passive(){return Fb=!0},get once(){return Pb=Fb=!0}};Wh&&(window.addEventListener("test",Bv,Bv),window.removeEventListener("test",Bv,!0))}catch{}function N6(e,t,n,i){if(i&&typeof i!="boolean"&&!Pb){var r=i.once,a=i.capture,o=n;!Pb&&r&&(o=n.__once||function c(u){this.removeEventListener(t,c,a),n.call(this,u)},n.__once=o),e.addEventListener(t,o,Fb?i:a)}e.addEventListener(t,n,i)}function Ib(e,t,n,i){var r=i&&typeof i!="boolean"?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)}function e1(e,t,n,i){return N6(e,t,n,i),function(){Ib(e,t,n,i)}}function dG(e,t,n,i){if(i===void 0&&(i=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,i),e.dispatchEvent(r)}}function fG(e){var t=mf(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function hG(e,t,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||dG(e,"transitionend",!0)},t+n),a=e1(e,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),a()}}function S6(e,t,n,i){n==null&&(n=fG(e)||0);var r=hG(e,n,i),a=e1(e,"transitionend",t);return function(){r(),a()}}function R3(e,t){const n=mf(e,t)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function mG(e,t){const n=R3(e,"transitionDuration"),i=R3(e,"transitionDelay"),r=S6(e,a=>{a.target===e&&(r(),t(a))},n+i)}function pG(e){e.offsetHeight}const O3=e=>!e||typeof e=="function"?e:t=>{e.current=t};function gG(e,t){const n=O3(e),i=O3(t);return r=>{n&&n(r),i&&i(r)}}function j6(e,t){return D.useMemo(()=>gG(e,t),[e,t])}function xG(e){return e&&"setState"in e?gh.findDOMNode(e):e??null}const A6=Yl.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:r,onExited:a,addEndListener:o,children:c,childRef:u,...f},h)=>{const p=D.useRef(null),x=j6(p,u),b=ne=>{x(xG(ne))},w=ne=>P=>{ne&&p.current&&ne(p.current,P)},g=D.useCallback(w(e),[e]),_=D.useCallback(w(t),[t]),j=D.useCallback(w(n),[n]),E=D.useCallback(w(i),[i]),k=D.useCallback(w(r),[r]),F=D.useCallback(w(a),[a]),V=D.useCallback(w(o),[o]);return s.jsx(Fu,{ref:h,...f,onEnter:g,onEntered:j,onEntering:_,onExit:E,onExited:F,onExiting:k,addEndListener:V,nodeRef:p,children:typeof c=="function"?(ne,P)=>c(ne,{...P,ref:b}):Yl.cloneElement(c,{ref:b})})});A6.displayName="TransitionWrapper";function vG(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e},[e]),t}function Bb(e){const t=vG(e);return D.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const bG=e=>D.forwardRef((t,n)=>s.jsx("div",{...t,ref:n,className:zi(t.className,e)}));function yG(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e},[e]),t}function tf(e){const t=yG(e);return D.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function wG(){const e=D.useRef(!0),t=D.useRef(()=>e.current);return D.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function _G(e){const t=D.useRef(null);return D.useEffect(()=>{t.current=e}),t.current}const NG=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SG=typeof document<"u",D3=SG||NG?D.useLayoutEffect:D.useEffect,jG=["as","disabled"];function AG(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function EG(e){return!e||e.trim()==="#"}function E6({tagName:e,disabled:t,href:n,target:i,rel:r,role:a,onClick:o,tabIndex:c=0,type:u}){e||(n!=null||i!=null||r!=null?e="a":e="button");const f={tagName:e};if(e==="button")return[{type:u||"button",disabled:t},f];const h=x=>{if((t||e==="a"&&EG(n))&&x.preventDefault(),t){x.stopPropagation();return}o==null||o(x)},p=x=>{x.key===" "&&(x.preventDefault(),h(x))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:c,href:n,target:e==="a"?i:void 0,"aria-disabled":t||void 0,rel:e==="a"?r:void 0,onClick:h,onKeyDown:p},f]}const TG=D.forwardRef((e,t)=>{let{as:n,disabled:i}=e,r=AG(e,jG);const[a,{tagName:o}]=E6(Object.assign({tagName:n,disabled:i},r));return s.jsx(o,Object.assign({},r,a,{ref:t}))});TG.displayName="Button";const CG={[gd]:"show",[ef]:"show"},$2=D.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:i,...r},a)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=D.useCallback((u,f)=>{pG(u),i==null||i(u,f)},[i]);return s.jsx(A6,{ref:a,addEndListener:mG,...o,onEnter:c,childRef:D1(t),children:(u,f)=>D.cloneElement(t,{...f,className:zi("fade",e,t.props.className,CG[u],n[u])})})});$2.displayName="Fade";const kG={"aria-label":Tu.string,onClick:Tu.func,variant:Tu.oneOf(["white"])},Y2=D.forwardRef(({className:e,variant:t,"aria-label":n="Close",...i},r)=>s.jsx("button",{ref:r,type:"button",className:zi("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...i}));Y2.displayName="CloseButton";Y2.propTypes=kG;const zb=D.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:i,active:r=!1,disabled:a=!1,className:o,...c},u)=>{const f=ea(t,"btn"),[h,{tagName:p}]=E6({tagName:e,disabled:a,...c}),x=p;return s.jsx(x,{...h,...c,ref:u,disabled:a,className:zi(o,f,r&&"active",n&&`${f}-${n}`,i&&`${f}-${i}`,c.href&&a&&"disabled")})});zb.displayName="Button";function LG(e){const t=D.useRef(e);return t.current=e,t}function RG(e){const t=LG(e);D.useEffect(()=>()=>t.current(),[])}function OG(e,t){return D.Children.toArray(e).some(n=>D.isValidElement(n)&&n.type===t)}function DG({as:e,bsPrefix:t,className:n,...i}){t=ea(t,"col");const r=Yq(),a=Xq(),o=[],c=[];return r.forEach(u=>{const f=i[u];delete i[u];let h,p,x;typeof f=="object"&&f!=null?{span:h,offset:p,order:x}=f:h=f;const b=u!==a?`-${u}`:"";h&&o.push(h===!0?`${t}${b}`:`${t}${b}-${h}`),x!=null&&c.push(`order${b}-${x}`),p!=null&&c.push(`offset${b}-${p}`)}),[{...i,className:zi(n,...o,...c)},{as:e,bsPrefix:t,spans:o}]}const T6=D.forwardRef((e,t)=>{const[{className:n,...i},{as:r="div",bsPrefix:a,spans:o}]=DG(e);return s.jsx(r,{...i,ref:t,className:zi(n,!o.length&&a)})});T6.displayName="Col";var MG=Function.prototype.bind.call(Function.prototype.call,[].slice);function uh(e,t){return MG(e.querySelectorAll(t))}function M3(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const FG="data-rr-ui-";function PG(e){return`${FG}${e}`}const C6=D.createContext(Wh?window:void 0);C6.Provider;function X2(){return D.useContext(C6)}const IG={type:Tu.string,tooltip:Tu.bool,as:Tu.elementType},M1=D.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:i=!1,...r},a)=>s.jsx(e,{...r,ref:a,className:zi(t,`${n}-${i?"tooltip":"feedback"}`)}));M1.displayName="Feedback";M1.propTypes=IG;const Ou=D.createContext({}),K2=D.forwardRef(({id:e,bsPrefix:t,className:n,type:i="checkbox",isValid:r=!1,isInvalid:a=!1,as:o="input",...c},u)=>{const{controlId:f}=D.useContext(Ou);return t=ea(t,"form-check-input"),s.jsx(o,{...c,ref:u,type:i,id:e||f,className:zi(n,t,r&&"is-valid",a&&"is-invalid")})});K2.displayName="FormCheckInput";const t1=D.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...i},r)=>{const{controlId:a}=D.useContext(Ou);return e=ea(e,"form-check-label"),s.jsx("label",{...i,ref:r,htmlFor:n||a,className:zi(t,e)})});t1.displayName="FormCheckLabel";const k6=D.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:i=!1,reverse:r=!1,disabled:a=!1,isValid:o=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:f,feedbackType:h,className:p,style:x,title:b="",type:w="checkbox",label:g,children:_,as:j="input",...E},k)=>{t=ea(t,"form-check"),n=ea(n,"form-switch");const{controlId:F}=D.useContext(Ou),V=D.useMemo(()=>({controlId:e||F}),[F,e]),ne=!_&&g!=null&&g!==!1||OG(_,t1),P=s.jsx(K2,{...E,type:w==="switch"?"checkbox":w,ref:k,isValid:o,isInvalid:c,disabled:a,as:j});return s.jsx(Ou.Provider,{value:V,children:s.jsx("div",{style:x,className:zi(p,ne&&t,i&&`${t}-inline`,r&&`${t}-reverse`,w==="switch"&&n),children:_||s.jsxs(s.Fragment,{children:[P,ne&&s.jsx(t1,{title:b,children:g}),f&&s.jsx(M1,{type:h,tooltip:u,children:f})]})})})});k6.displayName="FormCheck";const n1=Object.assign(k6,{Input:K2,Label:t1}),L6=D.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:i,id:r,className:a,isValid:o=!1,isInvalid:c=!1,plaintext:u,readOnly:f,as:h="input",...p},x)=>{const{controlId:b}=D.useContext(Ou);return e=ea(e,"form-control"),s.jsx(h,{...p,type:t,size:i,ref:x,readOnly:f,id:r||b,className:zi(a,u?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",c&&"is-invalid")})});L6.displayName="FormControl";const BG=Object.assign(L6,{Feedback:M1}),R6=D.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=ea(t,"form-floating"),s.jsx(n,{ref:r,className:zi(e,t),...i})));R6.displayName="FormFloating";const Z2=D.forwardRef(({controlId:e,as:t="div",...n},i)=>{const r=D.useMemo(()=>({controlId:e}),[e]);return s.jsx(Ou.Provider,{value:r,children:s.jsx(t,{...n,ref:i})})});Z2.displayName="FormGroup";const O6=D.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:i=!1,className:r,htmlFor:a,...o},c)=>{const{controlId:u}=D.useContext(Ou);t=ea(t,"form-label");let f="col-form-label";typeof n=="string"&&(f=`${f} ${f}-${n}`);const h=zi(r,t,i&&"visually-hidden",n&&f);return a=a||u,n?s.jsx(T6,{ref:c,as:"label",className:h,htmlFor:a,...o}):s.jsx(e,{ref:c,className:h,htmlFor:a,...o})});O6.displayName="FormLabel";const D6=D.forwardRef(({bsPrefix:e,className:t,id:n,...i},r)=>{const{controlId:a}=D.useContext(Ou);return e=ea(e,"form-range"),s.jsx("input",{...i,type:"range",ref:r,className:zi(t,e),id:n||a})});D6.displayName="FormRange";const M6=D.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:i,isValid:r=!1,isInvalid:a=!1,id:o,...c},u)=>{const{controlId:f}=D.useContext(Ou);return e=ea(e,"form-select"),s.jsx("select",{...c,size:n,ref:u,className:zi(i,e,t&&`${e}-${t}`,r&&"is-valid",a&&"is-invalid"),id:o||f})});M6.displayName="FormSelect";const F6=D.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:i,...r},a)=>(e=ea(e,"form-text"),s.jsx(n,{...r,ref:a,className:zi(t,e,i&&"text-muted")})));F6.displayName="FormText";const P6=D.forwardRef((e,t)=>s.jsx(n1,{...e,ref:t,type:"switch"}));P6.displayName="Switch";const zG=Object.assign(P6,{Input:n1.Input,Label:n1.Label}),I6=D.forwardRef(({bsPrefix:e,className:t,children:n,controlId:i,label:r,...a},o)=>(e=ea(e,"form-floating"),s.jsxs(Z2,{ref:o,className:zi(t,e),controlId:i,...a,children:[n,s.jsx("label",{htmlFor:i,children:r})]})));I6.displayName="FloatingLabel";const HG={_ref:Tu.any,validated:Tu.bool,as:Tu.elementType},J2=D.forwardRef(({className:e,validated:t,as:n="form",...i},r)=>s.jsx(n,{...i,ref:r,className:zi(e,t&&"was-validated")}));J2.displayName="Form";J2.propTypes=HG;const zv=Object.assign(J2,{Group:Z2,Control:BG,Floating:R6,Check:n1,Switch:zG,Label:O6,Text:F6,Range:D6,Select:M6,FloatingLabel:I6}),F3=e=>!e||typeof e=="function"?e:t=>{e.current=t};function UG(e,t){const n=F3(e),i=F3(t);return r=>{n&&n(r),i&&i(r)}}function Q2(e,t){return D.useMemo(()=>UG(e,t),[e,t])}var cg;function P3(e){if((!cg&&cg!==0||e)&&Wh){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),cg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return cg}function WG(){return D.useState(null)}function Hv(e){e===void 0&&(e=O1());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function VG(e){const t=D.useRef(e);return t.current=e,t}function qG(e){const t=VG(e);D.useEffect(()=>()=>t.current(),[])}function GG(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const I3=PG("modal-open");class ey{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return GG(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[i]:r.style[i]},t.scrollBarWidth&&(n[i]=`${parseInt(mf(r,i)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(I3,""),mf(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(I3),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Uv=(e,t)=>Wh?e==null?(t||O1()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function $G(e,t){const n=X2(),[i,r]=D.useState(()=>Uv(e,n==null?void 0:n.document));if(!i){const a=Uv(e);a&&r(a)}return D.useEffect(()=>{},[t,i]),D.useEffect(()=>{const a=Uv(e);a!==i&&r(a)},[e,i]),i}function YG({children:e,in:t,onExited:n,mountOnEnter:i,unmountOnExit:r}){const a=D.useRef(null),o=D.useRef(t),c=tf(n);D.useEffect(()=>{t?o.current=!0:c(a.current)},[t,c]);const u=Q2(a,D1(e)),f=D.cloneElement(e,{ref:u});return t?f:r||!o.current&&i?null:f}const XG=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function KG(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function ZG(e){let{onEnter:t,onEntering:n,onEntered:i,onExit:r,onExiting:a,onExited:o,addEndListener:c,children:u}=e,f=KG(e,XG);const h=D.useRef(null),p=Q2(h,D1(u)),x=F=>V=>{F&&h.current&&F(h.current,V)},b=D.useCallback(x(t),[t]),w=D.useCallback(x(n),[n]),g=D.useCallback(x(i),[i]),_=D.useCallback(x(r),[r]),j=D.useCallback(x(a),[a]),E=D.useCallback(x(o),[o]),k=D.useCallback(x(c),[c]);return Object.assign({},f,{nodeRef:h},t&&{onEnter:b},n&&{onEntering:w},i&&{onEntered:g},r&&{onExit:_},a&&{onExiting:j},o&&{onExited:E},c&&{addEndListener:k},{children:typeof u=="function"?(F,V)=>u(F,Object.assign({},V,{ref:p})):D.cloneElement(u,{ref:p})})}const JG=["component"];function QG(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}const e$=D.forwardRef((e,t)=>{let{component:n}=e,i=QG(e,JG);const r=ZG(i);return s.jsx(n,Object.assign({ref:t},r))});function t$({in:e,onTransition:t}){const n=D.useRef(null),i=D.useRef(!0),r=tf(t);return D3(()=>{if(!n.current)return;let a=!1;return r({in:e,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[e,r]),D3(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function n$({children:e,in:t,onExited:n,onEntered:i,transition:r}){const[a,o]=D.useState(!t);t&&a&&o(!1);const c=t$({in:!!t,onTransition:f=>{const h=()=>{f.isStale()||(f.in?i==null||i(f.element,f.initial):(o(!0),n==null||n(f.element)))};Promise.resolve(r(f)).then(h,p=>{throw f.in||o(!0),p})}}),u=Q2(c,D1(e));return a&&!t?null:D.cloneElement(e,{ref:u})}function B3(e,t,n){return e?s.jsx(e$,Object.assign({},n,{component:e})):t?s.jsx(n$,Object.assign({},n,{transition:t})):s.jsx(YG,Object.assign({},n))}const i$=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function r$(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}let Wv;function a$(e){return Wv||(Wv=new ey({ownerDocument:e==null?void 0:e.document})),Wv}function s$(e){const t=X2(),n=e||a$(t),i=D.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:D.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:D.useCallback(r=>{i.current.backdrop=r},[])})}const B6=D.forwardRef((e,t)=>{let{show:n=!1,role:i="dialog",className:r,style:a,children:o,backdrop:c=!0,keyboard:u=!0,onBackdropClick:f,onEscapeKeyDown:h,transition:p,runTransition:x,backdropTransition:b,runBackdropTransition:w,autoFocus:g=!0,enforceFocus:_=!0,restoreFocus:j=!0,restoreFocusOptions:E,renderDialog:k,renderBackdrop:F=ve=>s.jsx("div",Object.assign({},ve)),manager:V,container:ne,onShow:P,onHide:I=()=>{},onExit:Y,onExited:Z,onExiting:z,onEnter:U,onEntering:J,onEntered:ie}=e,pe=r$(e,i$);const ae=X2(),ue=$G(ne),Q=s$(V),Ne=wG(),q=_G(n),[ke,O]=D.useState(!n),B=D.useRef(null);D.useImperativeHandle(t,()=>Q,[Q]),Wh&&!q&&n&&(B.current=Hv(ae==null?void 0:ae.document)),n&&ke&&O(!1);const W=tf(()=>{if(Q.add(),ze.current=e1(document,"keydown",_e),Le.current=e1(document,"focus",()=>setTimeout(le),!0),P&&P(),g){var ve,se;const Ie=Hv((ve=(se=Q.dialog)==null?void 0:se.ownerDocument)!=null?ve:ae==null?void 0:ae.document);Q.dialog&&Ie&&!M3(Q.dialog,Ie)&&(B.current=Ie,Q.dialog.focus())}}),X=tf(()=>{if(Q.remove(),ze.current==null||ze.current(),Le.current==null||Le.current(),j){var ve;(ve=B.current)==null||ve.focus==null||ve.focus(E),B.current=null}});D.useEffect(()=>{!n||!ue||W()},[n,ue,W]),D.useEffect(()=>{ke&&X()},[ke,X]),qG(()=>{X()});const le=tf(()=>{if(!_||!Ne()||!Q.isTopModal())return;const ve=Hv(ae==null?void 0:ae.document);Q.dialog&&ve&&!M3(Q.dialog,ve)&&Q.dialog.focus()}),Ce=tf(ve=>{ve.target===ve.currentTarget&&(f==null||f(ve),c===!0&&I())}),_e=tf(ve=>{u&&cG(ve)&&Q.isTopModal()&&(h==null||h(ve),ve.defaultPrevented||I())}),Le=D.useRef(),ze=D.useRef(),nt=(...ve)=>{O(!0),Z==null||Z(...ve)};if(!ue)return null;const Oe=Object.assign({role:i,ref:Q.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},pe,{style:a,className:r,tabIndex:-1});let $e=k?k(Oe):s.jsx("div",Object.assign({},Oe,{children:D.cloneElement(o,{role:"document"})}));$e=B3(p,x,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Y,onExiting:z,onExited:nt,onEnter:U,onEntering:J,onEntered:ie,children:$e});let Ke=null;return c&&(Ke=F({ref:Q.setBackdropRef,onClick:Ce}),Ke=B3(b,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ke})),s.jsx(s.Fragment,{children:gh.createPortal(s.jsxs(s.Fragment,{children:[Ke,$e]}),ue)})});B6.displayName="Modal";const o$=Object.assign(B6,{Manager:ey});function l$(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function c$(e,t){e.classList?e.classList.add(t):l$(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function z3(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function u$(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=z3(e.className,t):e.setAttribute("class",z3(e.className&&e.className.baseVal||"",t))}const dh={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class d$ extends ey{adjustAndStore(t,n,i){const r=n.style[t];n.dataset[t]=r,mf(n,{[t]:`${parseFloat(mf(n,t))+i}px`})}restore(t,n){const i=n.dataset[t];i!==void 0&&(delete n.dataset[t],mf(n,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(c$(n,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";uh(n,dh.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth)),uh(n,dh.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),uh(n,dh.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();u$(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";uh(n,dh.FIXED_CONTENT).forEach(a=>this.restore(i,a)),uh(n,dh.STICKY_CONTENT).forEach(a=>this.restore(r,a)),uh(n,dh.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Vv;function f$(e){return Vv||(Vv=new d$(e)),Vv}const z6=D.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=ea(t,"modal-body"),s.jsx(n,{ref:r,className:zi(e,t),...i})));z6.displayName="ModalBody";const H6=D.createContext({onHide(){}}),ty=D.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:i,size:r,fullscreen:a,children:o,scrollable:c,...u},f)=>{e=ea(e,"modal");const h=`${e}-dialog`,p=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return s.jsx("div",{...u,ref:f,className:zi(h,t,r&&`${e}-${r}`,i&&`${h}-centered`,c&&`${h}-scrollable`,a&&p),children:s.jsx("div",{className:zi(`${e}-content`,n),children:o})})});ty.displayName="ModalDialog";const U6=D.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=ea(t,"modal-footer"),s.jsx(n,{ref:r,className:zi(e,t),...i})));U6.displayName="ModalFooter";const W6=D.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:i,children:r,...a},o)=>{const c=D.useContext(H6),u=Bb(()=>{c==null||c.onHide(),i==null||i()});return s.jsxs("div",{ref:o,...a,children:[r,n&&s.jsx(Y2,{"aria-label":e,variant:t,onClick:u})]})});W6.displayName="AbstractModalHeader";const V6=D.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:i=!1,...r},a)=>(e=ea(e,"modal-header"),s.jsx(W6,{ref:a,...r,className:zi(t,e),closeLabel:n,closeButton:i})));V6.displayName="ModalHeader";const h$=bG("h4"),q6=D.forwardRef(({className:e,bsPrefix:t,as:n=h$,...i},r)=>(t=ea(t,"modal-title"),s.jsx(n,{ref:r,className:zi(e,t),...i})));q6.displayName="ModalTitle";function m$(e){return s.jsx($2,{...e,timeout:null})}function p$(e){return s.jsx($2,{...e,timeout:null})}const G6=D.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:i,contentClassName:r,children:a,dialogAs:o=ty,"data-bs-theme":c,"aria-labelledby":u,"aria-describedby":f,"aria-label":h,show:p=!1,animation:x=!0,backdrop:b=!0,keyboard:w=!0,onEscapeKeyDown:g,onShow:_,onHide:j,container:E,autoFocus:k=!0,enforceFocus:F=!0,restoreFocus:V=!0,restoreFocusOptions:ne,onEntered:P,onExit:I,onExiting:Y,onEnter:Z,onEntering:z,onExited:U,backdropClassName:J,manager:ie,...pe},ae)=>{const[ue,Q]=D.useState({}),[Ne,q]=D.useState(!1),ke=D.useRef(!1),O=D.useRef(!1),B=D.useRef(null),[W,X]=WG(),le=j6(ae,X),Ce=Bb(j),_e=Kq();e=ea(e,"modal");const Le=D.useMemo(()=>({onHide:Ce}),[Ce]);function ze(){return ie||f$({isRTL:_e})}function nt(_t){if(!Wh)return;const It=ze().getScrollbarWidth()>0,Kt=_t.scrollHeight>O1(_t).documentElement.clientHeight;Q({paddingRight:It&&!Kt?P3():void 0,paddingLeft:!It&&Kt?P3():void 0})}const Oe=Bb(()=>{W&&nt(W.dialog)});RG(()=>{Ib(window,"resize",Oe),B.current==null||B.current()});const $e=()=>{ke.current=!0},Ke=_t=>{ke.current&&W&&_t.target===W.dialog&&(O.current=!0),ke.current=!1},ve=()=>{q(!0),B.current=S6(W.dialog,()=>{q(!1)})},se=_t=>{_t.target===_t.currentTarget&&ve()},Ie=_t=>{if(b==="static"){se(_t);return}if(O.current||_t.target!==_t.currentTarget){O.current=!1;return}j==null||j()},st=_t=>{w?g==null||g(_t):(_t.preventDefault(),b==="static"&&ve())},Ze=(_t,It)=>{_t&&nt(_t),Z==null||Z(_t,It)},ft=_t=>{B.current==null||B.current(),I==null||I(_t)},vt=(_t,It)=>{z==null||z(_t,It),N6(window,"resize",Oe)},wt=_t=>{_t&&(_t.style.display=""),U==null||U(_t),Ib(window,"resize",Oe)},Rt=D.useCallback(_t=>s.jsx("div",{..._t,className:zi(`${e}-backdrop`,J,!x&&"show")}),[x,J,e]),Dt={...n,...ue};Dt.display="block";const Bt=_t=>s.jsx("div",{role:"dialog",..._t,style:Dt,className:zi(t,e,Ne&&`${e}-static`,!x&&"show"),onClick:b?Ie:void 0,onMouseUp:Ke,"data-bs-theme":c,"aria-label":h,"aria-labelledby":u,"aria-describedby":f,children:s.jsx(o,{...pe,onMouseDown:$e,className:i,contentClassName:r,children:a})});return s.jsx(H6.Provider,{value:Le,children:s.jsx(o$,{show:p,ref:le,backdrop:b,container:E,keyboard:!0,autoFocus:k,enforceFocus:F,restoreFocus:V,restoreFocusOptions:ne,onEscapeKeyDown:st,onShow:_,onHide:j,onEnter:Ze,onEntering:vt,onEntered:P,onExit:ft,onExiting:Y,onExited:wt,manager:ze(),transition:x?m$:void 0,backdropTransition:x?p$:void 0,renderBackdrop:Rt,renderDialog:Bt})})});G6.displayName="Modal";const F0=Object.assign(G6,{Body:z6,Header:V6,Title:q6,Footer:U6,Dialog:ty,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function g$(){const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState({}),[o,c]=D.useState(null),[u,f]=D.useState(""),[h,p]=D.useState(!1),[x,b]=D.useState(!1);D.useEffect(()=>{w()},[]);const w=async()=>{i(!0);try{const j=await it.get("/api/appointments/remindable");t(j.data)}catch(j){console.error("Failed to load remindable appointments",j)}finally{i(!1)}},g=j=>{var F,V,ne;if(j.status!=="approved"){alert("Only approved appointments can receive reminders.");return}const k=`Hello ${((V=(F=j.patient)==null?void 0:F.user)==null?void 0:V.name)||"Patient"}, this is a reminder for your dental appointment on ${j.date} at ${j.time_slot} for ${(ne=j.service)==null?void 0:ne.name}. Ref: ${j.reference_code}. Please arrive on time.  Pitogo's Dental Clinic`;c(j),f(k),b(!1),p(!0)},_=async()=>{if(!o)return;const j=o.id;a(E=>({...E,[j]:!0}));try{await it.post(`/api/appointments/${j}/send-reminder`,{message:u,edited:x}),alert("Reminder sent!"),p(!1),w()}catch(E){alert("Failed to send reminder."),console.error(E)}finally{a(E=>({...E,[j]:!1}))}};return s.jsxs("div",{className:"container mt-4",children:[s.jsx("h3",{children:" Appointment Reminders"}),n?s.jsx(os,{message:"Loading remindable appointments..."}):e.length===0?s.jsx("p",{className:"text-muted mt-3",children:"No appointments eligible for reminder at this time."}):s.jsx("div",{className:"table-responsive mt-3",children:s.jsxs("table",{className:"table table-bordered table-sm align-middle",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Time Slot"}),s.jsx("th",{children:"Patient"}),s.jsx("th",{children:"Service"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Contact"}),s.jsx("th",{children:"Action"})]})}),s.jsx("tbody",{children:e.map(j=>{var E,k,F,V,ne;return s.jsxs("tr",{children:[s.jsx("td",{children:j.date}),s.jsx("td",{children:j.time_slot}),s.jsx("td",{children:((k=(E=j.patient)==null?void 0:E.user)==null?void 0:k.name)||"N/A"}),s.jsx("td",{children:(F=j.service)==null?void 0:F.name}),s.jsx("td",{children:s.jsx("span",{className:`badge ${j.status==="approved"?"bg-success":"bg-warning"}`,children:j.status})}),s.jsx("td",{children:((ne=(V=j.patient)==null?void 0:V.user)==null?void 0:ne.email)||""}),s.jsx("td",{children:s.jsx("button",{className:"btn btn-sm btn-primary",disabled:r[j.id]||j.status!=="approved",onClick:()=>g(j),children:r[j.id]?"Sending...":"Send Reminder"})})]},j.id)})})]})}),s.jsxs(F0,{show:h,onHide:()=>p(!1),size:"lg",children:[s.jsx(F0.Header,{closeButton:!0,children:s.jsx(F0.Title,{children:"Edit Reminder Message"})}),s.jsxs(F0.Body,{children:[s.jsxs(zv.Group,{controlId:"reminderMessage",children:[s.jsx(zv.Label,{children:"Message to be sent"}),s.jsx(zv.Control,{as:"textarea",rows:5,value:u,onChange:j=>{f(j.target.value),b(!0)}})]}),!x&&s.jsx("div",{className:"mt-2 text-muted small",children:" This is the default message. You can edit it before sending."})]}),s.jsxs(F0.Footer,{children:[s.jsx(zb,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),s.jsx(zb,{variant:"primary",onClick:_,disabled:r[o==null?void 0:o.id],children:r[o==null?void 0:o.id]?"Sending...":"Send Reminder"})]})]})]})}function x$(){var x;const{id:e}=jS(),t=Pa(),[n,i]=D.useState(null),[r,a]=D.useState([]),[o,c]=D.useState(!1),[u,f]=D.useState({item_id:"",quantity:"",notes:""}),h=((x=t.state)==null?void 0:x.visitFinished)===!0;if(D.useEffect(()=>{(async()=>{try{const{data:b}=await it.get(`/visits/${e}`);i(b);const w=await it.get("/inventory/items");a(w.data.data||[])}catch{}})()},[e]),!h)return s.jsx(TS,{to:"/staff",replace:!0});const p=async b=>{var w,g;b.preventDefault(),c(!0);try{await it.post("/inventory/consume",{item_id:Number(u.item_id),quantity:Number(u.quantity),ref_type:"visit",ref_id:Number(e),notes:u.notes||null}),alert("Stock consumed."),f({item_id:"",quantity:"",notes:""})}catch(_){alert(((g=(w=_==null?void 0:_.response)==null?void 0:w.data)==null?void 0:g.message)||"Consume failed")}finally{c(!1)}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("h1",{className:"text-xl font-semibold",children:["Consume Stock for Visit #",e]}),s.jsxs("form",{onSubmit:p,className:"space-y-3",children:[s.jsxs("select",{className:"border rounded px-3 py-2",value:u.item_id,onChange:b=>f(w=>({...w,item_id:b.target.value})),required:!0,children:[s.jsx("option",{value:"",children:"Select item"}),r.map(b=>s.jsxs("option",{value:b.id,children:[b.name," (",b.sku_code,")"]},b.id))]}),s.jsx("input",{className:"border rounded px-3 py-2",type:"number",min:"0.001",step:"0.001",placeholder:"Quantity",value:u.quantity,onChange:b=>f(w=>({...w,quantity:b.target.value})),required:!0}),s.jsx("textarea",{className:"border rounded px-3 py-2",rows:2,placeholder:"Notes (optional)",value:u.notes,onChange:b=>f(w=>({...w,notes:b.target.value}))}),s.jsx("button",{disabled:o,className:"border rounded px-3 py-2",children:o?"Saving":"Consume"})]})]})}function v$(){const e=Tr(),[t,n]=D.useState(null),{logout:i}=Oo();D.useEffect(()=>{it.get("/api/user").then(a=>n(a.data)).catch(()=>n(null))},[]);const r=async()=>{await i(),e("/app")};return s.jsx(s.Fragment,{children:s.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm px-3",children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs(oi,{className:"navbar-brand d-flex align-items-center",to:"/patient",children:[s.jsx("img",{src:Ph,alt:"Kreative Dental Clinic",style:{height:"32px",width:"32px",objectFit:"contain",marginRight:"8px"}}),s.jsx("span",{className:"fst-bold",children:"Kreative Dental & Orthodontics"})]}),s.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#patientNavbarNav","aria-controls":"patientNavbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:s.jsx("span",{className:"navbar-toggler-icon"})}),s.jsx("div",{className:"collapse navbar-collapse",id:"patientNavbarNav",children:s.jsxs("div",{className:"navbar-nav ms-auto align-items-lg-center",children:[s.jsxs(oi,{to:"/patient",className:"nav-link",children:[s.jsx("i",{className:"bi bi-house me-1"}),s.jsx("span",{children:"Home"})]}),s.jsxs(oi,{to:"/patient/appointment",className:"nav-link",children:[s.jsx("i",{className:"bi bi-calendar-plus me-1"}),s.jsx("span",{children:"Book"})]}),s.jsxs(oi,{to:"/patient/appointments",className:"nav-link",children:[s.jsx("i",{className:"bi bi-calendar3 me-1"}),s.jsx("span",{children:"Appointments"})]}),s.jsxs(oi,{to:"/patient/profile",className:"nav-link",children:[s.jsx("i",{className:"bi bi-person me-1"}),s.jsx("span",{children:"Profile"})]}),t&&s.jsx(m1,{}),t&&s.jsxs("button",{onClick:r,className:"btn btn-outline-danger btn-sm ms-lg-3 mt-2 mt-lg-0",children:[s.jsx("i",{className:"bi bi-box-arrow-right me-1"}),s.jsx("span",{children:"Logout"})]})]})})]})})})}function b$(){const e=Pa(),t=e.pathname==="/patient"||e.pathname==="/patient/";return s.jsxs("div",{className:"d-flex flex-column min-vh-100 bg-light patient-layout",children:[s.jsx(v$,{}),t?s.jsx("main",{className:"flex-grow-1",children:s.jsx(Th,{})}):s.jsx("main",{className:"flex-grow-1 py-4",children:s.jsx("div",{className:"container-fluid px-2 px-md-3 px-lg-4",children:s.jsx(Th,{})})})]})}function y$(){var _;const[e,t]=D.useState(null),[n,i]=D.useState([]),[r,a]=D.useState(!0),[o,c]=D.useState(!0),[u,f]=D.useState(null);D.useEffect(()=>{h(),p()},[]);const h=async()=>{try{const j=await it.get("/api/user");t(j.data)}catch(j){console.error("Failed to fetch user info",j)}finally{a(!1)}},p=async()=>{try{const j=await it.get("/api/user-appointments?page=1&limit=3");i(j.data.data||[])}catch(j){console.error("Failed to fetch appointments",j)}finally{c(!1)}},x=()=>{const j=new Date().getHours();return j<12?"Good Morning":j<18?"Good Afternoon":"Good Evening"},b=j=>({approved:"success",pending:"warning",rejected:"danger",cancelled:"secondary",completed:"primary"})[j]||"secondary",w=j=>({paid:"success",awaiting_payment:"warning",failed:"danger"})[j]||"secondary",g=async j=>{var E,k,F,V,ne;try{f(j),await it.get("/sanctum/csrf-cookie");const{data:P}=await it.post("/api/maya/payments",{appointment_id:j},{skip401Handler:!0});P!=null&&P.redirect_url?window.location.href=P.redirect_url:alert("Payment link not available. Please try again.")}catch(P){console.error("Create Maya payment failed",P);const I=((k=(E=P.response)==null?void 0:E.data)==null?void 0:k.message)||((ne=(V=(F=P.response)==null?void 0:F.data)==null?void 0:V.maya)==null?void 0:ne.message)||"Unable to start payment. Please try again.";alert(I)}finally{f(null)}};return r?s.jsx(os,{message:"Loading your dashboard..."}):s.jsxs("div",{className:"container-fluid py-4",children:[s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm bg-primary text-white",children:s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsxs("div",{className:"col-md-8",children:[s.jsxs("h1",{className:"h3 mb-2",children:[x(),", ",((_=e==null?void 0:e.name)==null?void 0:_.split(" ")[0])||"Patient","! "]}),s.jsx("p",{className:"mb-0 opacity-75",children:"Welcome to your dental care dashboard. Manage your appointments, view your profile, and stay updated with your dental health journey."})]}),s.jsx("div",{className:"col-md-4 text-md-end",children:s.jsxs("div",{className:"d-flex flex-column align-items-md-end",children:[s.jsx("div",{className:"mb-2",children:s.jsx("i",{className:"bi bi-calendar-check fs-1 opacity-50"})}),s.jsxs("small",{className:"opacity-75",children:["Last login: ",new Date().toLocaleDateString()]})]})})]})})})})}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-12",children:s.jsx("h2",{className:"h4 mb-3",children:"Quick Actions"})}),s.jsx("div",{className:"col-md-4 mb-3",children:s.jsx(oi,{to:"/patient/appointment",className:"text-decoration-none",children:s.jsx("div",{className:"card h-100 border-0 shadow-sm hover-lift",children:s.jsxs("div",{className:"card-body text-center p-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"bi bi-calendar-plus fs-1 text-primary"})}),s.jsx("h5",{className:"card-title text-dark",children:"Book Appointment"}),s.jsx("p",{className:"card-text text-muted",children:"Schedule your next dental visit with our experienced team"}),s.jsxs("div",{className:"btn btn-primary",children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Book Now"]})]})})})}),s.jsx("div",{className:"col-md-4 mb-3",children:s.jsx(oi,{to:"/patient/appointments",className:"text-decoration-none",children:s.jsx("div",{className:"card h-100 border-0 shadow-sm hover-lift",children:s.jsxs("div",{className:"card-body text-center p-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"bi bi-calendar3 fs-1 text-success"})}),s.jsx("h5",{className:"card-title text-dark",children:"My Appointments"}),s.jsx("p",{className:"card-text text-muted",children:"View and manage your upcoming and past appointments"}),s.jsxs("div",{className:"btn btn-success",children:[s.jsx("i",{className:"bi bi-list-ul me-2"}),"View All"]})]})})})}),s.jsx("div",{className:"col-md-4 mb-3",children:s.jsx(oi,{to:"/patient/profile",className:"text-decoration-none",children:s.jsx("div",{className:"card h-100 border-0 shadow-sm hover-lift",children:s.jsxs("div",{className:"card-body text-center p-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"bi bi-person-circle fs-1 text-info"})}),s.jsx("h5",{className:"card-title text-dark",children:"My Profile"}),s.jsx("p",{className:"card-text text-muted",children:"Update your personal information and HMO details"}),s.jsxs("div",{className:"btn btn-info",children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Manage"]})]})})})})]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card border-0 shadow-sm",children:[s.jsx("div",{className:"card-header bg-white border-0 pb-0",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("h3",{className:"h5 mb-0",children:"Recent Appointments"}),s.jsx(oi,{to:"/patient/appointments",className:"btn btn-outline-primary btn-sm",children:"View All"})]})}),s.jsx("div",{className:"card-body",children:o?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"mt-2 text-muted",children:"Loading appointments..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("i",{className:"bi bi-calendar-x fs-1 text-muted"}),s.jsx("p",{className:"mt-2 text-muted",children:"No appointments yet"}),s.jsx(oi,{to:"/patient/appointment",className:"btn btn-primary",children:"Book Your First Appointment"})]}):s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Service"}),s.jsx("th",{children:"Payment Status"}),s.jsx("th",{children:"Appointment Status"}),s.jsx("th",{children:"Action"})]})}),s.jsx("tbody",{children:n.map(j=>{var E,k;return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{children:[s.jsx("div",{className:"fw-medium",children:j.date}),s.jsx("small",{className:"text-muted",children:j.start_time})]})}),s.jsxs("td",{children:[s.jsx("div",{className:"fw-medium",children:((E=j.service)==null?void 0:E.name)||""}),s.jsx("small",{className:"text-muted",children:j.payment_method})]}),s.jsx("td",{children:s.jsx("span",{className:`badge bg-${w(j.payment_status)}`,children:((k=j.payment_status)==null?void 0:k.replace("_"," "))||""})}),s.jsx("td",{children:s.jsx("span",{className:`badge bg-${b(j.status)}`,children:j.status})}),s.jsx("td",{children:j.payment_method==="maya"&&j.payment_status==="awaiting_payment"&&j.status==="approved"&&s.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>g(j.id),disabled:u===j.id,children:u===j.id?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Redirecting..."]}):"Pay Now"})})]},j.id)})})]})})})]})})}),s.jsx("div",{className:"row mt-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm bg-light",children:s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsxs("div",{className:"col-md-8",children:[s.jsxs("h4",{className:"h5 mb-2",children:[s.jsx("i",{className:"bi bi-lightbulb text-warning me-2"}),"Dental Health Tip"]}),s.jsx("p",{className:"mb-0 text-muted",children:"Remember to brush your teeth twice daily and floss regularly. Regular dental check-ups help maintain optimal oral health!"})]}),s.jsx("div",{className:"col-md-4 text-md-end",children:s.jsx("i",{className:"bi bi-tooth fs-1 text-primary opacity-25"})})]})})})})}),s.jsx("style",{jsx:!0,children:`
        .hover-lift {
          transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .hover-lift:hover {
          transform: translateY(-5px);
          box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
        }
      `})]})}function w$({patientId:e,value:t,onChange:n,disabled:i=!1,required:r=!1}){const[a,o]=D.useState([]),[c,u]=D.useState(!1),[f,h]=D.useState("");D.useEffect(()=>{if(!e)return;let x=!0;return(async()=>{u(!0),h("");try{const{data:b}=await it.get(`/api/patients/${e}/hmos`);x&&o(Array.isArray(b)?b:[])}catch(b){x&&h(_$(b))}finally{x&&u(!1)}})(),()=>{x=!1}},[e]);const p=D.useMemo(()=>(Array.isArray(a)?a:[]).sort((b,w)=>b.is_primary&&!w.is_primary?-1:!b.is_primary&&w.is_primary?1:(b.provider_name||"").localeCompare(w.provider_name||"")),[a]);return s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm text-zinc-700 dark:text-zinc-200",children:["HMO to use ",r&&s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs("div",{className:"mt-1",children:[c?s.jsx("div",{className:"text-sm text-zinc-500",children:"Loading HMOs"}):f?s.jsx("div",{className:"text-sm text-red-600",children:f}):s.jsxs("select",{className:"w-full rounded-xl border border-zinc-300 dark:border-zinc-700 bg-transparent p-2 text-sm focus:outline-none focus:ring-2 focus:ring-zinc-400",value:t??"",onChange:x=>n(x.target.value?Number(x.target.value):null),disabled:i||p.length===0,children:[s.jsx("option",{value:"",children:" Self-pay / No HMO "}),p.map(x=>s.jsxs("option",{value:x.id,children:[x.provider_name," - ",x.hmo_number,x.is_primary?" (Primary)":"",x.patient_fullname_on_card?` - ${x.patient_fullname_on_card}`:""]},x.id))]}),p.length===0&&!c&&!f&&s.jsx("div",{className:"text-xs mt-1 text-zinc-500",children:"No HMO available. Add or update HMO in profile first."})]})]})}function _$(e){var t,n;return((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.message)||(e==null?void 0:e.message)||"Request failed"}function N$({isOpen:e,onClose:t,services:n,loading:i,error:r,onServiceSelect:a,selectedDate:o,selectedService:c}){const[u,f]=D.useState(""),[h,p]=D.useState("grid"),x=E=>E?new Date(E).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",b=D.useMemo(()=>u.trim()?n.filter(E=>E.name.toLowerCase().includes(u.toLowerCase())):n,[n,u]),w=E=>{f(E.target.value)},g=()=>{f("")},_=E=>{c&&c.id===E.id?p("grid"):(a(E),p("single"))},j=()=>{p("grid")};return s.jsxs(fh,{open:e,onClose:t,title:s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{className:"h3 mb-1 fw-bold",children:"Available Services"}),s.jsx("small",{className:"text-muted fs-6",children:x(o)})]}),maxWidth:"xl",children:[s.jsxs("div",{className:"container-fluid px-0",children:[i&&s.jsx("div",{className:"text-center py-5",children:s.jsx(os,{message:"Loading available services..."})}),r&&s.jsx("div",{className:"alert alert-danger border-0 rounded-3 shadow-sm",role:"alert",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill me-3 fs-5"}),s.jsxs("div",{children:[s.jsx("h6",{className:"alert-heading mb-1",children:"Error Loading Services"}),s.jsx("p",{className:"mb-0",children:r})]})]})}),!i&&!r&&n.length===0&&s.jsx("div",{className:"text-center py-5",children:s.jsxs("div",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-calendar-x display-1 d-block mb-3 text-muted"}),s.jsx("h4",{className:"fw-normal",children:"No services available"}),s.jsx("p",{className:"lead",children:"There are no available services for the selected date."})]})}),!i&&!r&&n.length>0&&s.jsx(s.Fragment,{children:h==="single"&&c?s.jsxs("div",{className:"single-service-view",children:[s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsxs("button",{className:"btn btn-outline-primary",onClick:j,children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to All Services"]}),s.jsx("div",{className:"alert alert-success border-0 rounded-3 shadow-sm mb-0 flex-grow-1",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-check-circle-fill text-success me-3 fs-4"}),s.jsxs("div",{children:[s.jsx("h5",{className:"alert-heading mb-1 text-success",children:"Selected Service"}),s.jsx("p",{className:"mb-0 text-muted",children:"Click to change or confirm selection"})]})]})})]})})}),s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:s.jsx("div",{className:"card border-0 shadow-lg selected-service-card",children:s.jsxs("div",{className:"card-body p-5 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"card-title fw-bold text-dark mb-4",children:c.name}),c.type==="promo"&&s.jsxs("div",{className:"pricing-section-large",children:[s.jsxs("div",{className:"d-flex justify-content-center align-items-center mb-3",children:[s.jsxs("span",{className:"text-muted text-decoration-line-through me-3 fs-5",children:["",Number(c.original_price).toLocaleString()]}),s.jsxs("span",{className:"badge bg-danger fs-6",children:[c.discount_percent,"% OFF"]})]}),s.jsxs("div",{className:"display-6 text-success fw-bold mb-0",children:["",Number(c.promo_price).toLocaleString()]})]}),c.type==="special"&&s.jsxs("div",{className:"pricing-section-large",children:[s.jsxs("div",{className:"display-6 text-info fw-bold mb-3",children:["",Number(c.price).toLocaleString()]}),s.jsx("span",{className:"badge bg-info fs-6",children:"Special Service"})]}),c.type==="regular"&&s.jsx("div",{className:"pricing-section-large",children:s.jsxs("div",{className:"display-6 text-dark fw-bold mb-0",children:["",Number(c.price).toLocaleString()]})})]}),s.jsxs("div",{className:"d-grid gap-2",children:[s.jsxs("button",{className:"btn btn-success btn-lg fw-bold",onClick:()=>{a(c),t()},children:[s.jsx("i",{className:"bi bi-check-circle-fill me-2"}),"Confirm Selection"]}),s.jsxs("button",{className:"btn btn-outline-primary btn-lg",onClick:j,children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Choose Different Service"]})]})]})})})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3",children:s.jsx("div",{className:"alert alert-light border-0 rounded-3 shadow-sm mb-0 flex-grow-1",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-info-circle-fill text-primary me-3 fs-4"}),s.jsxs("div",{children:[s.jsxs("h5",{className:"alert-heading mb-1 text-primary",children:[b.length," of ",n.length," services available"]}),s.jsxs("p",{className:"mb-0 text-muted",children:["For ",x(o)]})]})]})})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"position-relative",children:s.jsxs("div",{className:"input-group input-group-lg",children:[s.jsx("span",{className:"input-group-text bg-light border-end-0",children:s.jsx("i",{className:"bi bi-search text-muted"})}),s.jsx("input",{type:"text",className:"form-control border-start-0 ps-0",placeholder:"Search services by name...",value:u,onChange:w,style:{fontSize:"1.1rem"}}),u&&s.jsx("button",{className:"btn btn-outline-secondary border-start-0",type:"button",onClick:g,title:"Clear search",children:s.jsx("i",{className:"bi bi-x-lg"})})]})})})}),b.length===0&&u?s.jsxs("div",{className:"text-center py-5",children:[s.jsx("i",{className:"bi bi-search display-4 text-muted d-block mb-3"}),s.jsx("h4",{className:"text-muted",children:"No services found"}),s.jsx("p",{className:"text-muted fs-5",children:"Try adjusting your search terms"}),s.jsx("button",{className:"btn btn-outline-primary btn-lg",onClick:g,children:"Clear Search"})]}):s.jsx("div",{className:"row g-3",children:b.map(E=>s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm service-card",children:s.jsxs("div",{className:"card-body d-flex align-items-center p-4",children:[s.jsxs("div",{className:"flex-grow-1 me-4",children:[s.jsx("h4",{className:"card-title fw-bold text-dark mb-2",children:E.name}),E.type==="promo"&&s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsxs("span",{className:"text-muted text-decoration-line-through me-3",children:["",Number(E.original_price).toLocaleString()]}),s.jsxs("span",{className:"badge bg-danger me-3",children:[E.discount_percent,"% OFF"]}),s.jsxs("div",{className:"h4 text-success fw-bold mb-0",children:["",Number(E.promo_price).toLocaleString()]})]}),E.type==="special"&&s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsxs("div",{className:"h4 text-info fw-bold me-3",children:["",Number(E.price).toLocaleString()]}),s.jsx("span",{className:"badge bg-info",children:"Special Service"})]}),E.type==="regular"&&s.jsxs("div",{className:"h4 text-dark fw-bold mb-0",children:["",Number(E.price).toLocaleString()]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("button",{className:"btn btn-primary btn-lg fw-semibold px-4",onClick:()=>_(E),children:[s.jsx("i",{className:"bi bi-check-circle-fill me-2"}),"Select Service"]})})]})})},`${E.id}-${E.type}`))}),s.jsx("div",{className:"row mt-5 pt-4 border-top",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{className:"text-muted",children:["Showing ",b.length," of ",n.length," services"]}),s.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg",onClick:t,children:[s.jsx("i",{className:"bi bi-x-circle me-2"}),"Close"]})]})})})]})})]}),s.jsx("style",{jsx:!0,children:`
        .service-card {
          transition: all 0.3s ease-in-out;
          border-radius: 16px;
          overflow: hidden;
          cursor: pointer;
          min-height: 100px;
        }
        
        .service-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 40px rgba(0,0,0,0.15) !important;
        }
        
        .selected-service-card {
          border-radius: 20px;
          background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        }
        
        .pricing-section {
          min-height: 60px;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
        
        .pricing-section-large {
          min-height: 120px;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
        
        .card-title {
          font-size: 1.3rem;
          line-height: 1.4;
          margin-bottom: 0.5rem;
        }
        
        .btn-primary {
          background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
          border: none;
          border-radius: 12px;
          padding: 14px 28px;
          font-weight: 600;
          letter-spacing: 0.5px;
          font-size: 1rem;
        }
        
        .btn-primary:hover {
          background: linear-gradient(135deg, #0b5ed7 0%, #0a58ca 100%);
          transform: translateY(-2px);
        }
        
        .btn-lg {
          padding: 16px 32px;
          font-size: 1.1rem;
          border-radius: 14px;
        }
        
        .input-group-lg .form-control {
          border-radius: 14px;
          border: 2px solid #e9ecef;
          transition: all 0.3s ease;
          font-size: 1.1rem;
          padding: 16px 20px;
        }
        
        .input-group-lg .form-control:focus {
          border-color: #0d6efd;
          box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
        }
        
        .input-group-text {
          border-radius: 14px 0 0 14px;
          border: 2px solid #e9ecef;
          border-right: none;
          background: #f8f9fa;
          padding: 16px 20px;
        }
        
        .alert-light {
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .badge {
          font-size: 0.8rem;
          padding: 0.6rem 0.9rem;
          border-radius: 10px;
          font-weight: 600;
        }
        
        /* Dynamic sizing based on screen width */
        @media (max-width: 576px) {
          .service-card .card-body {
            padding: 1.5rem;
            flex-direction: column;
            align-items: flex-start;
          }
          
          .service-card .flex-grow-1 {
            margin-right: 0;
            margin-bottom: 1rem;
          }
          
          .card-title {
            font-size: 1.1rem;
          }
          
          .h4 {
            font-size: 1.2rem;
          }
          
          .btn-lg {
            padding: 12px 24px;
            font-size: 0.95rem;
            width: 100%;
          }
          
          .input-group-lg .form-control {
            font-size: 1rem;
            padding: 14px 18px;
          }
          
          .input-group-text {
            padding: 14px 18px;
          }
        }
        
        @media (min-width: 577px) and (max-width: 768px) {
          .service-card .card-body {
            padding: 1.75rem;
          }
          
          .card-title {
            font-size: 1.2rem;
          }
          
          .h4 {
            font-size: 1.3rem;
          }
        }
        
        @media (min-width: 769px) and (max-width: 992px) {
          .service-card .card-body {
            padding: 2rem;
          }
          
          .card-title {
            font-size: 1.3rem;
          }
          
          .h4 {
            font-size: 1.4rem;
          }
        }
        
        @media (min-width: 993px) and (max-width: 1199px) {
          .service-card .card-body {
            padding: 2.25rem;
          }
          
          .card-title {
            font-size: 1.4rem;
          }
          
          .h4 {
            font-size: 1.5rem;
          }
        }
        
        @media (min-width: 1200px) {
          .service-card .card-body {
            padding: 2.5rem;
          }
          
          .card-title {
            font-size: 1.5rem;
          }
          
          .h4 {
            font-size: 1.6rem;
          }
          
          .btn-lg {
            padding: 18px 36px;
            font-size: 1.15rem;
          }
        }
        
        @media (min-width: 1400px) {
          .service-card .card-body {
            padding: 3rem;
          }
          
          .card-title {
            font-size: 1.6rem;
          }
          
          .h4 {
            font-size: 1.7rem;
          }
          
          .btn-lg {
            padding: 20px 40px;
            font-size: 1.2rem;
          }
        }
        
        /* Single service view responsive */
        .single-service-view .selected-service-card {
          max-width: 600px;
          margin: 0 auto;
        }
        
        @media (max-width: 768px) {
          .single-service-view .selected-service-card .card-body {
            padding: 2rem !important;
          }
          
          .single-service-view h2 {
            font-size: 1.5rem;
          }
          
          .single-service-view .display-6 {
            font-size: 2rem;
          }
        }
        
        @media (min-width: 769px) {
          .single-service-view .selected-service-card .card-body {
            padding: 3rem !important;
          }
          
          .single-service-view h2 {
            font-size: 2rem;
          }
          
          .single-service-view .display-6 {
            font-size: 2.5rem;
          }
        }
      `})]})}function S$(){const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().slice(0,10)}function j$(){const e=new Date;return e.setDate(e.getDate()+7),e.toISOString().slice(0,10)}function A$(){const e=Tr(),[t,n]=D.useState(""),[i,r]=D.useState([]),[a,o]=D.useState(!1),[c,u]=D.useState(""),[f,h]=D.useState(!1),[p,x]=D.useState(null),[b,w]=D.useState([]),[g,_]=D.useState(""),[j,E]=D.useState("cash"),[k,F]=D.useState(""),[V,ne]=D.useState(null),[P,I]=D.useState(null),[Y,Z]=D.useState(!1);D.useEffect(()=>{let ue=!0;return(async()=>{var Q;Z(!0);try{const{data:Ne}=await it.get("/api/user"),q=((Q=Ne==null?void 0:Ne.patient)==null?void 0:Q.id)??null;ue&&q&&ne(Number(q))}catch{}finally{ue&&Z(!1)}})(),()=>ue=!1},[]);const z=async ue=>{var Q,Ne;o(!0),u("");try{const q=await it.get(`/api/appointment/available-services?date=${ue}`);r(q.data)}catch(q){r([]),u(((Ne=(Q=q==null?void 0:q.response)==null?void 0:Q.data)==null?void 0:Ne.message)||"Something went wrong.")}finally{o(!1)}},U=async ue=>{w([]);try{const Q=await it.get(`/api/appointment/available-slots?date=${t}&service_id=${ue}`);w(Q.data.slots)}catch{w([])}},J=ue=>{const Q=ue.target.value;n(Q),r([]),x(null),w([]),_(""),E("cash"),I(null),F(""),h(!1),Q&&(z(Q),h(!0))},ie=ue=>{x(ue),U(ue.id),_(""),F(""),h(!1)},pe=ue=>{const Q=ue.target.value;E(Q),Q!=="hmo"&&I(null)},ae=async()=>{var ue,Q;if(!t||!p||!g||!j){F("Please complete all booking fields.");return}if(j==="hmo"&&!P){F("Please select an HMO for this appointment.");return}try{const Ne={service_id:p.id,date:t,start_time:g,payment_method:j};j==="hmo"&&(Ne.patient_hmo_id=P),await it.post("/api/appointment",Ne),F(" Appointment successfully booked! Redirecting..."),setTimeout(()=>{e("/patient")},2e3)}catch(Ne){F(((Q=(ue=Ne==null?void 0:Ne.response)==null?void 0:ue.data)==null?void 0:Q.message)||"Booking failed.")}};return s.jsxs("div",{className:"w-100",children:[s.jsxs("div",{className:"card border-0 shadow-lg w-100 patient-page-card",children:[s.jsxs("div",{className:"card-header bg-gradient bg-primary text-white text-center py-4",children:[s.jsxs("h2",{className:"h3 mb-2",children:[s.jsx("i",{className:"bi bi-calendar-plus me-2"}),"Book an Appointment"]}),s.jsx("p",{className:"mb-0 opacity-75",children:"Schedule your dental visit with ease"})]}),s.jsxs("div",{className:"card-body p-5",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-semibold fs-5 mb-3",children:[s.jsx("i",{className:"bi bi-calendar3 me-2 text-primary"}),"Select a Date"]}),s.jsx("input",{type:"date",className:"form-control form-control-lg border-2",value:t,onChange:J,min:S$(),max:j$(),style:{fontSize:"1.1rem"}}),s.jsxs("div",{className:"form-text mt-2",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"Appointments can be booked from tomorrow up to 7 days in advance"]})]}),t&&!p&&s.jsxs("div",{className:"mt-5",children:[s.jsx("div",{className:"alert alert-info border-0 shadow-sm",role:"alert",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-calendar-check me-3 fs-4"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Date Selected:"}),s.jsx("br",{}),s.jsx("span",{className:"fs-5",children:new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{className:"btn btn-primary btn-lg px-5 py-3",onClick:()=>h(!0),disabled:a,style:{fontSize:"1.1rem",borderRadius:"10px"},children:a?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Loading Services..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-list-ul me-2"}),"View Available Services"]})})})]}),p&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"alert alert-success border-0 shadow-sm",role:"alert",children:s.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-check-circle me-3 fs-4"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Service Selected:"}),s.jsx("br",{}),s.jsx("span",{className:"fs-5",children:p.name}),s.jsx("br",{}),s.jsxs("span",{className:"text-success fw-semibold",children:["",Number(p.price||p.promo_price).toLocaleString()]})]})]}),s.jsxs("button",{className:"btn btn-outline-success btn-sm mt-3 mt-md-0",onClick:()=>h(!0),children:[s.jsx("i",{className:"bi bi-pencil me-1"}),"Change Service"]})]})})}),p&&s.jsx("div",{className:"mt-5",children:s.jsxs("div",{className:"border-top pt-4",children:[s.jsxs("h4",{className:"h5 mb-4",children:[s.jsx("i",{className:"bi bi-clock me-2 text-primary"}),"Complete Your Booking"]}),b.length===0&&s.jsxs("div",{className:"alert alert-warning border-0 shadow-sm",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"No available slots for this date and service. Please select a different date or service."]}),b.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-semibold fs-6 mb-3",children:[s.jsx("i",{className:"bi bi-clock me-2 text-primary"}),"Available Time Slots"]}),s.jsxs("select",{className:"form-select form-select-lg border-2",value:g,onChange:ue=>_(ue.target.value),style:{fontSize:"1.1rem"},children:[s.jsx("option",{value:"",children:"-- Select Time Slot --"}),b.map(ue=>s.jsx("option",{value:ue,children:ue},ue))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-semibold fs-6 mb-3",children:[s.jsx("i",{className:"bi bi-credit-card me-2 text-primary"}),"Payment Method"]}),s.jsxs("select",{className:"form-select form-select-lg border-2",value:j,onChange:pe,style:{fontSize:"1.1rem"},children:[s.jsx("option",{value:"cash",children:" Cash (on-site payment)"}),s.jsx("option",{value:"maya",children:" Maya (online payment)"}),s.jsx("option",{value:"hmo",children:" HMO (insurance)"})]})]}),j==="hmo"&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-semibold fs-6 mb-3",children:[s.jsx("i",{className:"bi bi-hospital me-2 text-primary"}),"Choose HMO Provider"]}),Y?s.jsxs("div",{className:"text-muted p-3 border rounded",children:[s.jsx("i",{className:"bi bi-hourglass-split me-2"}),"Loading HMO list"]}):V?s.jsx(w$,{patientId:V,value:P,onChange:I,required:!0}):s.jsxs("div",{className:"alert alert-warning border-0 shadow-sm",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"We couldn't load your patient profile. You may need to link your account at the clinic, or try again later."]})]}),s.jsx("div",{className:"d-grid mt-5",children:s.jsxs("button",{className:"btn btn-success btn-lg py-3",onClick:ae,style:{fontSize:"1.2rem",borderRadius:"10px"},children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),"Confirm Appointment"]})}),k&&s.jsxs("div",{className:`alert mt-4 border-0 shadow-sm ${k.includes("")?"alert-success":"alert-info"}`,children:[s.jsx("i",{className:`bi ${k.includes("")?"bi-check-circle":"bi-info-circle"} me-2`}),k]})]})]})})]})]}),s.jsx(N$,{isOpen:f,onClose:()=>h(!1),services:i,loading:a,error:c,onServiceSelect:ie,selectedDate:t,selectedService:p})]})}function E$({patientId:e,currentUserRole:t,currentUserPatientId:n=null,compact:i=!1,onChange:r}){const[a,o]=D.useState([]),[c,u]=D.useState(!1),[f,h]=D.useState(""),[p,x]=D.useState(!1),[b,w]=D.useState(null),[g,_]=D.useState(null),j=D.useMemo(()=>t==="admin"||t==="staff"?!0:t==="patient"?Number(e)===Number(n):!1,[t,e,n]);D.useEffect(()=>{let ne=!0;return(async()=>{u(!0),h("");try{const{data:P}=await it.get(`/api/patients/${e}/hmos`);ne&&(o(P||[]),r&&r(P||[]))}catch(P){ne&&h(Hb(P))}finally{ne&&u(!1)}})(),()=>ne=!1},[e]);const E=()=>{w(null),x(!0)},k=ne=>{w(ne),x(!0)},F=(ne,P)=>{x(!1),w(null),o(I=>{const Y=H3(P==="create"?[ne,...I]:I.map(Z=>Z.id===ne.id?ne:Z));return r&&r(Y),Y})},V=async()=>{if(g)try{await it.delete(`/api/patients/${e}/hmos/${g.id}`),o(ne=>{const P=ne.filter(I=>I.id!==g.id);return r&&r(P),P})}catch(ne){alert(Hb(ne))}finally{_(null)}};return s.jsxs("div",{className:`w-full ${i?"p-3":"p-4"} bg-white dark:bg-zinc-900 rounded-2xl shadow-sm border border-zinc-200/60 dark:border-zinc-800/60`,children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"HMO"}),j&&s.jsx("button",{onClick:E,className:"px-3 py-1.5 rounded-xl text-sm font-medium bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900 hover:opacity-90",children:"+ Add HMO"})]}),c&&s.jsx("div",{className:"text-sm text-zinc-500",children:"Loading HMOs"}),f&&s.jsx("div",{className:"text-sm text-red-600",children:f}),!c&&!(a!=null&&a.length)&&s.jsx("div",{className:"text-sm text-zinc-500",children:"No HMO on file."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a==null?void 0:a.map(ne=>s.jsx(T$,{item:ne,onEdit:()=>k(ne),onAskDelete:()=>_(ne),canManage:j},ne.id))}),p&&s.jsx(C$,{onClose:()=>x(!1),onSaved:F,patientId:e,initial:b}),g&&s.jsx(k$,{title:"Delete HMO?",message:`This will remove ${g.provider_name} from this patient. You can restore from audit logs in backend if implemented.`,onCancel:()=>_(null),onConfirm:V})]})}function T$({item:e,onEdit:t,onAskDelete:n,canManage:i}){return s.jsx("div",{className:"rounded-xl border border-zinc-200/60 dark:border-zinc-800/60 p-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:e.provider_name}),e.is_primary?s.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",children:"Primary"}):null]}),s.jsxs("div",{className:"text-sm mt-2 space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-500",children:"HMO Number:"})," ",e.hmo_number]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-500",children:"Name on Card:"})," ",e.patient_fullname_on_card]})]})]}),i&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:t,className:"px-2.5 py-1 text-xs rounded-lg border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800",children:"Edit"}),s.jsx("button",{onClick:n,className:"px-2.5 py-1 text-xs rounded-lg border border-red-300 text-red-700 hover:bg-red-50 dark:border-red-800 dark:text-red-300 dark:hover:bg-red-900/20",children:"Delete"})]})]})})}function C$({onClose:e,onSaved:t,patientId:n,initial:i}){const r=!!i,[a,o]=D.useState(()=>({provider_name:(i==null?void 0:i.provider_name)||"",hmo_number:(i==null?void 0:i.hmo_number)||"",patient_fullname_on_card:(i==null?void 0:i.patient_fullname_on_card)||"",is_primary:!!(i!=null&&i.is_primary)})),[c,u]=D.useState(!1),[f,h]=D.useState(""),p=async()=>{u(!0),h("");try{let x;const b={provider_name:a.provider_name,hmo_number:a.hmo_number,patient_fullname_on_card:a.patient_fullname_on_card,is_primary:a.is_primary};r?(x=await it.put(`/api/patients/${n}/hmos/${i.id}`,b),t(x.data,"update")):(x=await it.post(`/api/patients/${n}/hmos`,b),t(x.data,"create"))}catch(x){h(Hb(x))}finally{u(!1)}};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative w-full max-w-xl bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-zinc-200/60 dark:border-zinc-800/60 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-base font-semibold",children:r?"Edit HMO":"Add HMO"}),s.jsx("button",{onClick:e,className:"text-sm text-zinc-500 hover:text-zinc-800",children:""})]}),f&&s.jsx("div",{className:"mb-3 text-sm text-red-600",children:f}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsx(qv,{label:"Provider Name",required:!0,value:a.provider_name,onChange:x=>o({...a,provider_name:x})}),s.jsx(qv,{label:"HMO Number",required:!0,value:a.hmo_number,onChange:x=>o({...a,hmo_number:x})}),s.jsx(qv,{label:"Patient Full Name on Card",required:!0,value:a.patient_fullname_on_card,onChange:x=>o({...a,patient_fullname_on_card:x})}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx("input",{id:"is_primary",type:"checkbox",className:"h-4 w-4",checked:a.is_primary,onChange:x=>o({...a,is_primary:x.target.checked})}),s.jsx("label",{htmlFor:"is_primary",className:"text-sm",children:"Mark as Primary"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4",children:[s.jsx("button",{onClick:e,className:"px-3 py-1.5 text-sm rounded-xl border border-zinc-300 dark:border-zinc-700",children:"Cancel"}),s.jsx("button",{onClick:p,disabled:c||!a.provider_name||!a.hmo_number||!a.patient_fullname_on_card,className:"px-3 py-1.5 text-sm rounded-xl bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900 disabled:opacity-50",children:c?"Saving":r?"Save Changes":"Create"})]})]})]})}function k$({title:e,message:t,onCancel:n,onConfirm:i}){return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:n}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-zinc-200/60 dark:border-zinc-800/60 p-4",children:[s.jsx("h4",{className:"text-base font-semibold mb-2",children:e}),s.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-300 mb-4",children:t}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm rounded-xl border border-zinc-300 dark:border-zinc-700",children:"Cancel"}),s.jsx("button",{onClick:i,className:"px-3 py-1.5 text-sm rounded-xl border border-red-300 text-red-700 hover:bg-red-50 dark:border-red-800 dark:text-red-300 dark:hover:bg-red-900/20",children:"Delete"})]})]})]})}function qv({label:e,value:t,onChange:n,required:i}){return s.jsxs("div",{children:[s.jsx(L$,{required:i,children:e}),s.jsx("input",{type:"text",className:"w-full mt-1 rounded-xl border border-zinc-300 dark:border-zinc-700 bg-transparent p-2 text-sm focus:outline-none focus:ring-2 focus:ring-zinc-400",value:t,onChange:r=>n(r.target.value)})]})}function L$({children:e,required:t=!1}){return s.jsxs("label",{className:"text-sm text-zinc-700 dark:text-zinc-200",children:[e," ",t&&s.jsx("span",{className:"text-red-600",children:"*"})]})}function Hb(e){var i,r,a,o;const t=((r=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:r.message)||(e==null?void 0:e.message)||"Request failed",n=(o=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:o.errors;if(n)try{const c=Object.values(n)[0];if(Array.isArray(c)&&c.length)return`${t}: ${c[0]}`}catch{}return t}function H3(e){return Array.isArray(e)?[...e].sort((t,n)=>{if(t.is_primary&&!n.is_primary)return-1;if(!t.is_primary&&n.is_primary)return 1;const i=(t.provider_name||"").toLowerCase(),r=(n.provider_name||"").toLowerCase();return i.localeCompare(r)}):[]}const R$=()=>{var U;const[e,t]=D.useState(null),[n,i]=D.useState(!1),[r,a]=D.useState(""),[o,c]=D.useState(""),[u,f]=D.useState(""),[h,p]=D.useState(""),[x,b]=D.useState(""),[w,g]=D.useState(""),[_,j]=D.useState({}),[E,k]=D.useState(""),[F,V]=D.useState(!1);Tr();const ne=async()=>{try{const J=await it.get("/api/user");t(J.data),console.log(J.data)}catch(J){console.error("Failed to fetch user info",J)}};D.useEffect(()=>{ne()},[]);const P=async()=>{var J,ie;k(""),j({}),V(!0);try{const pe=await it.post("/api/send-password-reset");k(pe.data.message||"Password reset link sent to your email!")}catch(pe){const ae=((ie=(J=pe.response)==null?void 0:J.data)==null?void 0:ie.message)||"Failed to send reset link";k(" "+ae)}finally{V(!1)}},I=async()=>{var J,ie;V(!0),j({});try{await it.post("/api/patients/link-self",{contact_number:r,first_name:o,middle_name:u,last_name:h,birthdate:x,sex:w}),k(" Profile linked successfully."),await ne(),i(!1)}catch(pe){(ie=(J=pe.response)==null?void 0:J.data)!=null&&ie.errors?j(pe.response.data.errors):k(" Failed to link profile.")}finally{V(!1)}};if(!e)return s.jsx("p",{children:"Loading your profile..."});const Y=!!e.patient&&e.patient.is_linked,Z=e.role,z=(U=e.patient)==null?void 0:U.id;return s.jsx("div",{className:"w-100",children:s.jsxs("div",{className:"card border-0 shadow-lg w-100 patient-page-card",children:[s.jsxs("div",{className:"card-header bg-gradient bg-primary text-white text-center py-4",children:[s.jsxs("h2",{className:"h3 mb-2",children:[s.jsx("i",{className:"bi bi-person-circle me-2"}),"My Account"]}),s.jsx("p",{className:"mb-0 opacity-75",children:"Manage your personal information and preferences"})]}),s.jsxs("div",{className:"card-body p-5",children:[s.jsxs("div",{className:"mb-5",children:[s.jsxs("h4",{className:"h5 mb-3",children:[s.jsx("i",{className:"bi bi-person me-2 text-primary"}),"Personal Information"]}),s.jsx("div",{className:"card border-0 bg-light shadow-sm",children:s.jsx("div",{className:"card-body p-4",children:s.jsxs("div",{className:"row g-3",children:[s.jsx("div",{className:"col-12 col-md-6",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-person-fill me-3 text-primary fs-5"}),s.jsxs("div",{children:[s.jsx("small",{className:"text-muted d-block",children:"Full Name"}),s.jsx("span",{className:"fw-semibold",children:e.name})]})]})}),s.jsx("div",{className:"col-12 col-md-6",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-envelope-fill me-3 text-primary fs-5"}),s.jsxs("div",{children:[s.jsx("small",{className:"text-muted d-block",children:"Email Address"}),s.jsx("span",{className:"fw-semibold",children:e.email})]})]})})]})})})]}),s.jsxs("div",{className:"mb-5",children:[s.jsxs("h4",{className:"h5 mb-3",children:[s.jsx("i",{className:"bi bi-shield-lock me-2 text-primary"}),"Account Security"]}),s.jsx("div",{className:"card border-0 bg-light shadow-sm",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsx("p",{className:"text-muted mb-3",children:"Need to change your password? We'll send a secure reset link to your email address."}),E&&s.jsx("div",{className:"alert alert-success mb-3",children:E}),s.jsxs("button",{className:"btn btn-primary btn-lg",onClick:P,disabled:F,children:[s.jsx("i",{className:"bi bi-envelope me-2"}),F?"Sending...":"Send Password Reset Link"]})]})})]}),!Y&&s.jsxs("div",{className:"mb-5",children:[s.jsxs("h4",{className:"h5 mb-3",children:[s.jsx("i",{className:"bi bi-person-plus me-2 text-primary"}),"Link Patient Profile"]}),s.jsxs("div",{className:"card border-warning shadow-sm",children:[s.jsxs("div",{className:"card-header bg-warning-subtle border-warning",children:[s.jsxs("h5",{className:"h6 mb-1",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Profile Not Linked"]}),s.jsx("p",{className:"mb-0 text-muted",children:"You're not yet linked to a patient profile."})]}),s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"mb-3",children:"Have you visited the clinic before?"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"alert alert-info border-0 shadow-sm mb-3",children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),s.jsx("strong",{children:"Yes"}),"  Please visit the clinic for assistance with linking your profile"]}),s.jsxs("button",{className:"btn btn-outline-primary btn-lg w-100",onClick:()=>{e!=null&&e.contact_number&&a(e.contact_number),i(!0)},children:[s.jsx("i",{className:"bi bi-x-circle me-2"}),"No  I haven't visited before"]})]}),n&&s.jsxs("div",{className:"border-top pt-4",children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-person-check me-2"}),"Verify Your Information"]}),s.jsx("p",{className:"text-muted mb-4",children:"Please confirm your details to create your patient profile. This information will be used for senior discounts and VAT exemptions."}),s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-12 col-md-4",children:[s.jsx("label",{className:"form-label fw-semibold",children:"First Name *"}),s.jsx("input",{className:`form-control form-control-lg border-2 ${_.first_name?"is-invalid":""}`,placeholder:"e.g. Juan",value:o,onChange:J=>c(J.target.value),style:{fontSize:"1.1rem"}}),_.first_name&&s.jsxs("div",{className:"text-danger mt-2",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),_.first_name[0]]})]}),s.jsxs("div",{className:"col-12 col-md-4",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Middle Name"}),s.jsx("input",{className:`form-control form-control-lg border-2 ${_.middle_name?"is-invalid":""}`,placeholder:"e.g. Santos (optional)",value:u,onChange:J=>f(J.target.value),style:{fontSize:"1.1rem"}}),_.middle_name&&s.jsxs("div",{className:"text-danger mt-2",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),_.middle_name[0]]})]}),s.jsxs("div",{className:"col-12 col-md-4",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Last Name *"}),s.jsx("input",{className:`form-control form-control-lg border-2 ${_.last_name?"is-invalid":""}`,placeholder:"e.g. Dela Cruz",value:h,onChange:J=>p(J.target.value),style:{fontSize:"1.1rem"}}),_.last_name&&s.jsxs("div",{className:"text-danger mt-2",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),_.last_name[0]]})]}),s.jsxs("div",{className:"col-12",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Contact Number *"}),s.jsx("input",{className:`form-control form-control-lg border-2 ${_.contact_number?"is-invalid":""}`,placeholder:"e.g. 09123456789",value:r,onChange:J=>a(J.target.value),style:{fontSize:"1.1rem"}}),_.contact_number&&s.jsxs("div",{className:"text-danger mt-2",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),_.contact_number[0]]})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Birthdate *"}),s.jsx("input",{type:"date",className:`form-control form-control-lg border-2 ${_.birthdate?"is-invalid":""}`,value:x,onChange:J=>b(J.target.value),style:{fontSize:"1.1rem"}}),_.birthdate&&s.jsxs("div",{className:"text-danger mt-2",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),_.birthdate[0]]})]}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Sex *"}),s.jsxs("select",{className:`form-control form-control-lg border-2 ${_.sex?"is-invalid":""}`,value:w,onChange:J=>g(J.target.value),style:{fontSize:"1.1rem"},children:[s.jsx("option",{value:"",children:"Select your sex"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"})]}),_.sex&&s.jsxs("div",{className:"text-danger mt-2",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),_.sex[0]]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"btn btn-success btn-lg w-100",onClick:I,disabled:F||!o||!h||!r||!x||!w,children:F?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Linking Profile..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-link me-2"}),"Link My Profile"]})})})]}),E&&s.jsxs("div",{className:`alert mt-4 border-0 shadow-sm ${E.includes("")?"alert-success":"alert-danger"}`,children:[s.jsx("i",{className:`bi ${E.includes("")?"bi-check-circle":"bi-exclamation-triangle"} me-2`}),E]})]})]})]}),Y&&z&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"h5 mb-3",children:[s.jsx("i",{className:"bi bi-hospital me-2 text-primary"}),"Health Maintenance Organization (HMO)"]}),s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsx("div",{className:"card-body p-0",children:s.jsx(E$,{patientId:z,currentUserRole:Z,currentUserPatientId:z,compact:!1,onChange:J=>{}})})})]})]})]})})};function O$(){const[e,t]=D.useState([]),[n,i]=D.useState(!0),[r,a]=D.useState(1),[o,c]=D.useState({}),[u,f]=D.useState(null);D.useEffect(()=>{(async()=>{try{await it.get("/sanctum/csrf-cookie")}catch(w){console.warn("CSRF prime failed (will retry later)",w)}finally{h(r)}})()},[r]),D.useEffect(()=>{const w=()=>{console.log("Page focused, refreshing appointments..."),h(r)},g=()=>{document.hidden||(console.log("Page visible, refreshing appointments..."),h(r))};return window.addEventListener("focus",w),document.addEventListener("visibilitychange",g),()=>{window.removeEventListener("focus",w),document.removeEventListener("visibilitychange",g)}},[r]);const h=async(w=1)=>{try{const g=await it.get(`/api/user-appointments?page=${w}`,{skip401Handler:!0});console.log("Appointments API Response:",g.data.data),t(g.data.data),c({current_page:g.data.current_page,last_page:g.data.last_page,per_page:g.data.per_page,total:g.data.total})}catch(g){console.error("Failed to fetch appointments",g)}finally{i(!1)}},p=async w=>{if(window.confirm("Are you sure you want to cancel this appointment?"))try{await it.post(`/api/appointment/${w}/cancel`),alert("Appointment canceled."),h(r)}catch(g){console.error("Cancel failed",g),alert("Failed to cancel appointment.")}},x=async w=>{var g,_,j,E,k;try{f(w),await it.get("/sanctum/csrf-cookie");const{data:F}=await it.post("/api/maya/payments",{appointment_id:w},{skip401Handler:!0});F!=null&&F.redirect_url?window.location.href=F.redirect_url:alert("Payment link not available. Please try again.")}catch(F){console.error("Create Maya payment failed",F);const V=((_=(g=F.response)==null?void 0:g.data)==null?void 0:_.message)||((k=(E=(j=F.response)==null?void 0:j.data)==null?void 0:E.maya)==null?void 0:k.message)||"Unable to start payment. Please try again.";alert(V)}finally{f(null)}},b=w=>{const g={approved:"bg-success",pending:"bg-warning text-dark",rejected:"bg-danger",cancelled:"bg-secondary text-white fw-semibold",completed:"bg-primary"};return s.jsx("span",{className:`badge ${g[w]||"bg-secondary"}`,children:w})};return s.jsxs("div",{className:"w-100",children:[s.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4",children:[s.jsxs("h2",{className:"h4 mb-3 mb-md-0",children:[s.jsx("i",{className:"bi bi-calendar3 me-2"}),"My Appointments"]}),s.jsx("div",{className:"d-flex gap-2",children:s.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>h(r),disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Refreshing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]})})})]}),n&&s.jsx(os,{message:"Loading appointments..."}),!n&&e.length===0&&s.jsxs("div",{className:"text-center py-5",children:[s.jsx("i",{className:"bi bi-calendar-x display-1 text-muted"}),s.jsx("h3",{className:"h5 mt-3 text-muted",children:"No appointments yet"}),s.jsx("p",{className:"text-muted",children:"You haven't booked any appointments yet."}),s.jsxs("a",{href:"/patient/appointment",className:"btn btn-primary",children:[s.jsx("i",{className:"bi bi-calendar-plus me-2"}),"Book Your First Appointment"]})]}),!n&&e.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"d-none d-lg-block",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date & Time"}),s.jsx("th",{children:"Service"}),s.jsx("th",{children:"Payment Method"}),s.jsx("th",{children:"Payment Status"}),s.jsx("th",{children:"Appointment Status"}),s.jsx("th",{children:"Notes"}),s.jsx("th",{style:{width:160},children:"Actions"})]})}),s.jsx("tbody",{children:e.map(w=>{var _,j;const g=w.payment_method==="maya"&&w.payment_status==="awaiting_payment"&&w.status==="approved";return s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx("div",{className:"fw-medium",children:w.date}),s.jsx("small",{className:"text-muted",children:w.start_time})]}),s.jsx("td",{children:s.jsx("div",{className:"fw-medium",children:((_=w.service)==null?void 0:_.name)||""})}),s.jsx("td",{children:s.jsx("span",{className:"badge bg-light text-dark text-capitalize",children:w.payment_method})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${w.payment_status==="paid"?"bg-success":w.payment_status==="awaiting_payment"?"bg-warning text-dark":"bg-secondary"}`,children:(j=w.payment_status)==null?void 0:j.replace("_"," ")})}),s.jsx("td",{children:b(w.status)}),s.jsx("td",{className:"text-muted small",children:w.notes||""}),s.jsx("td",{children:s.jsxs("div",{className:"d-flex gap-1 flex-wrap",children:[g&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>x(w.id),disabled:u===w.id,children:u===w.id?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Redirecting..."]}):"Pay now"}),w.status!=="cancelled"&&w.status!=="rejected"&&w.status!=="completed"&&s.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>p(w.id),children:"Cancel"})]})})]},w.id)})})]})})})})}),s.jsx("div",{className:"d-lg-none",children:e.map(w=>{var _,j;const g=w.payment_method==="maya"&&w.payment_status==="awaiting_payment"&&w.status==="approved";return s.jsx("div",{className:"card mb-3 border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-8",children:[s.jsx("h6",{className:"card-title mb-1",children:((_=w.service)==null?void 0:_.name)||""}),s.jsxs("p",{className:"card-text text-muted mb-2",children:[s.jsx("i",{className:"bi bi-calendar me-1"}),w.date," at ",w.start_time]})]}),s.jsx("div",{className:"col-4 text-end",children:b(w.status)})]}),s.jsxs("div",{className:"row mt-2",children:[s.jsxs("div",{className:"col-6",children:[s.jsx("small",{className:"text-muted",children:"Payment Method:"}),s.jsx("div",{className:"badge bg-light text-dark text-capitalize",children:w.payment_method})]}),s.jsxs("div",{className:"col-6",children:[s.jsx("small",{className:"text-muted",children:"Payment Status:"}),s.jsx("div",{children:s.jsx("span",{className:`badge ${w.payment_status==="paid"?"bg-success":w.payment_status==="awaiting_payment"?"bg-warning text-dark":"bg-secondary"}`,children:(j=w.payment_status)==null?void 0:j.replace("_"," ")})})]})]}),w.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("small",{className:"text-muted",children:"Notes:"}),s.jsx("p",{className:"small mb-0",children:w.notes})]}),s.jsxs("div",{className:"d-flex gap-2 mt-3",children:[g&&s.jsx("button",{className:"btn btn-primary btn-sm flex-fill",onClick:()=>x(w.id),disabled:u===w.id,children:u===w.id?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Redirecting..."]}):"Pay now"}),w.status!=="cancelled"&&w.status!=="rejected"&&w.status!=="completed"&&s.jsx("button",{className:"btn btn-outline-danger btn-sm flex-fill",onClick:()=>p(w.id),children:"Cancel"})]})]})},w.id)})}),o.last_page>1&&s.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[s.jsxs("button",{className:"btn btn-outline-secondary btn-sm",disabled:r===1,onClick:()=>a(r-1),children:[s.jsx("i",{className:"bi bi-chevron-left me-1"}),"Previous"]}),s.jsxs("span",{className:"text-muted",children:["Page ",o.current_page," of ",o.last_page]}),s.jsxs("button",{className:"btn btn-outline-secondary btn-sm",disabled:r===o.last_page,onClick:()=>a(r+1),children:["Next",s.jsx("i",{className:"bi bi-chevron-right ms-1"})]})]})]})]})}function D$(){const e=Tr(),[t,n]=D.useState(null),{logout:i}=Oo();D.useEffect(()=>{it.get("/api/user").then(a=>n(a.data)).catch(()=>n(null))},[]);const r=async()=>{await i(),e("/app")};return s.jsx(s.Fragment,{children:s.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm px-3",children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs(oi,{className:"navbar-brand d-flex align-items-center",to:"/dentist",children:[s.jsx("img",{src:Ph,alt:"Kreative Dental Clinic",style:{height:"32px",width:"32px",objectFit:"contain",marginRight:"8px"}}),s.jsx("span",{className:"fst-bold",children:"Kreative Dental & Orthodontics"})]}),s.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#dentistNavbarNav","aria-controls":"dentistNavbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:s.jsx("span",{className:"navbar-toggler-icon"})}),s.jsx("div",{className:"collapse navbar-collapse",id:"dentistNavbarNav",children:s.jsxs("ul",{className:"navbar-nav ms-auto d-flex align-items-center",children:[s.jsx("li",{className:"nav-item",children:s.jsxs(oi,{className:"nav-link",to:"/dentist",style:{fontWeight:"500"},children:[s.jsx("i",{className:"bi bi-house-door me-1"}),"Home"]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(oi,{className:"nav-link",to:"/dentist/dashboard",style:{fontWeight:"500"},children:[s.jsx("i",{className:"bi bi-key me-1"}),"Visit Codes"]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(oi,{className:"nav-link",to:"/dentist/schedule",style:{fontWeight:"500"},children:[s.jsx("i",{className:"bi bi-calendar3 me-1"}),"Schedule"]})}),s.jsx("li",{className:"nav-item",children:s.jsxs(oi,{className:"nav-link",to:"/dentist/profile",style:{fontWeight:"500"},children:[s.jsx("i",{className:"bi bi-person-circle me-1"}),"Profile"]})}),s.jsx("li",{className:"nav-item",children:s.jsx("div",{className:"notification-bell",children:s.jsx(m1,{})})}),s.jsxs("li",{className:"nav-item dropdown",children:[s.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{fontWeight:"500"},children:[s.jsx("i",{className:"bi bi-person-circle me-2"}),(t==null?void 0:t.name)||"Dentist"]}),s.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[s.jsx("li",{children:s.jsxs(oi,{className:"dropdown-item",to:"/dentist/profile",children:[s.jsx("i",{className:"bi bi-person me-2"}),"Profile"]})}),s.jsx("li",{children:s.jsx("hr",{className:"dropdown-divider"})}),s.jsx("li",{children:s.jsxs("button",{className:"dropdown-item text-danger",onClick:r,children:[s.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Logout"]})})]})]})]})})]})})})}function U3({children:e}){const[t,n]=D.useState(!0),[i,r]=D.useState(!1),[a,o]=D.useState(""),[c,u]=D.useState(""),[f,h]=D.useState("");D.useEffect(()=>{let x=!0;return(async()=>{var b;try{const w=await it.get("/api/dentist/password-status");if(!x)return;const g=!((b=w==null?void 0:w.data)!=null&&b.password_changed);r(g)}catch(w){console.error("DentistPasswordGate - API Error:",w),r(!1)}finally{n(!1)}})(),()=>{x=!1}},[]);const p=async()=>{var x,b;if(h(""),!a||a.length<8){h("Password must be at least 8 characters.");return}if(a!==c){h("Passwords do not match.");return}try{await it.post("/api/dentist/change-password",{password:a}),r(!1),o(""),u("")}catch(w){h(((b=(x=w==null?void 0:w.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to change password")}};return t?s.jsx("div",{className:"p-4",children:"Checking account"}):i?s.jsxs("div",{className:"position-relative",children:[s.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:1050,backdropFilter:"blur(2px)"}}),s.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1060},children:s.jsxs("div",{className:"card shadow-lg border-warning",style:{width:450,maxWidth:"90vw"},children:[s.jsx("div",{className:"card-header bg-warning text-dark text-center",children:s.jsxs("h4",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-shield-exclamation me-2"}),"Account Security Required"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"alert alert-warning mb-3",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),s.jsx("strong",{children:"You must change your temporary password to continue."}),s.jsx("br",{}),s.jsx("small",{children:"This is required for account security and cannot be skipped."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"New Password:"}),s.jsx("input",{type:"password",className:"form-control",value:a,onChange:x=>o(x.target.value),placeholder:"Enter your new password",autoFocus:!0})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Confirm Password:"}),s.jsx("input",{type:"password",className:"form-control",value:c,onChange:x=>u(x.target.value),placeholder:"Confirm your new password"})]}),f&&s.jsxs("div",{className:"alert alert-danger mb-3",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),f]}),s.jsx("div",{className:"d-grid",children:s.jsxs("button",{className:"btn btn-primary btn-lg",onClick:p,disabled:!a||!c,children:[s.jsx("i",{className:"bi bi-shield-check me-2"}),"Secure My Account"]})})]})]})})]}):e}function M$(){const e=Pa(),t=e.pathname==="/dentist"||e.pathname==="/dentist/";return s.jsxs("div",{className:"d-flex flex-column min-vh-100 bg-light dentist-layout",children:[s.jsx(D$,{}),t?s.jsx("main",{className:"flex-grow-1",children:s.jsx(U3,{children:s.jsx(Th,{})})}):s.jsx("main",{className:"flex-grow-1 py-4",children:s.jsx("div",{className:"container-fluid px-2 px-md-3 px-lg-4",children:s.jsx(U3,{children:s.jsx(Th,{})})})})]})}function F$(){const{user:e}=Oo();return s.jsx("div",{className:"dentist-homepage",children:s.jsxs("div",{className:"container py-4",children:[s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsx("h2",{className:"h3 mb-0",children:" Dentist Dashboard"}),s.jsxs("div",{className:"text-muted",children:["Welcome, Dr. ",(e==null?void 0:e.name)||"Dentist"]})]})})}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-12",children:s.jsx("h2",{className:"h4 mb-3",children:"Quick Actions"})}),s.jsx("div",{className:"col-md-6 mb-3",children:s.jsx(oi,{to:"/dentist/dashboard",className:"text-decoration-none",children:s.jsx("div",{className:"card h-100 border-0 shadow-sm hover-lift",children:s.jsxs("div",{className:"card-body text-center p-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"bi bi-key fs-1 text-primary"})}),s.jsx("h5",{className:"card-title text-dark",children:"Process Visit"}),s.jsx("p",{className:"card-text text-muted",children:"Enter visit codes to start patient consultations"}),s.jsxs("div",{className:"btn btn-primary",children:[s.jsx("i",{className:"bi bi-qr-code me-2"}),"Visit Codes"]})]})})})}),s.jsx("div",{className:"col-md-6 mb-3",children:s.jsx(oi,{to:"/dentist/schedule",className:"text-decoration-none",children:s.jsx("div",{className:"card h-100 border-0 shadow-sm hover-lift",children:s.jsxs("div",{className:"card-body text-center p-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"bi bi-calendar3 fs-1 text-success"})}),s.jsx("h5",{className:"card-title text-dark",children:"View Schedule"}),s.jsx("p",{className:"card-text text-muted",children:"View your clinic schedule and working hours"}),s.jsxs("div",{className:"btn btn-success",children:[s.jsx("i",{className:"bi bi-calendar-check me-2"}),"View Schedule"]})]})})})})]})]})})}const P$=()=>{const[e,t]=D.useState(null),[n,i]=D.useState(!1),[r,a]=D.useState(""),[o,c]=D.useState(""),[u,f]=D.useState({}),[h,p]=D.useState(""),[x,b]=D.useState(!1);Tr();const w=async()=>{try{const E=await it.get("/api/user");t(E.data),console.log(E.data)}catch(E){console.error("Failed to fetch user info",E)}};D.useEffect(()=>{w()},[]);const g=async()=>{var E,k,F,V;if(p(""),f({}),b(!0),!r){f({newPassword:"New password is required"}),b(!1);return}if(r.length<8){f({newPassword:"Password must be at least 8 characters"}),b(!1);return}if(r!==o){f({confirmPassword:"Passwords do not match"}),b(!1);return}try{const ne=await it.post("/api/dentist/change-password",{password:r});p(" Password changed successfully!"),i(!1),a(""),c("")}catch(ne){(k=(E=ne.response)==null?void 0:E.data)!=null&&k.errors?f(ne.response.data.errors):p(" "+(((V=(F=ne.response)==null?void 0:F.data)==null?void 0:V.message)||"Failed to change password"))}finally{b(!1)}},_=async()=>{var E,k;p(""),f({}),b(!0);try{const F=await it.post("/api/send-password-reset");p(F.data.message||"Password reset link sent to your email!")}catch(F){const V=((k=(E=F.response)==null?void 0:E.data)==null?void 0:k.message)||"Failed to send reset link";p(" "+V)}finally{b(!1)}};if(!e)return s.jsx("p",{children:"Loading your profile..."});const j=e.role;return s.jsx("div",{className:"w-100",children:s.jsxs("div",{className:"card border-0 shadow-lg w-100 dentist-page-card",children:[s.jsxs("div",{className:"card-header bg-gradient bg-primary text-white text-center py-4",children:[s.jsxs("h2",{className:"h3 mb-2",children:[s.jsx("i",{className:"bi bi-person-circle me-2"}),"My Account"]}),s.jsx("p",{className:"mb-0 opacity-75",children:"Manage your personal information and account settings"})]}),s.jsxs("div",{className:"card-body p-5",children:[s.jsxs("div",{className:"row mb-5",children:[s.jsx("div",{className:"col-12",children:s.jsxs("h4",{className:"h5 mb-3 text-primary",children:[s.jsx("i",{className:"bi bi-person me-2"}),"Personal Information"]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Full Name"}),s.jsx("div",{className:"form-control-plaintext bg-light p-3 rounded",children:e.name||"Not provided"})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Email Address"}),s.jsxs("div",{className:"form-control-plaintext bg-light p-3 rounded",children:[e.email||"Not provided",e.email_verified_at&&s.jsxs("span",{className:"badge bg-success ms-2",children:[s.jsx("i",{className:"bi bi-check-circle me-1"}),"Verified"]})]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Role"}),s.jsx("div",{className:"form-control-plaintext bg-light p-3 rounded",children:s.jsx("span",{className:"badge bg-primary text-capitalize",children:j})})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-semibold",children:"Contact Number"}),s.jsx("div",{className:"form-control-plaintext bg-light p-3 rounded",children:e.contact_number||"Not provided"})]})})]}),s.jsxs("div",{className:"row mb-5",children:[s.jsx("div",{className:"col-12",children:s.jsxs("h4",{className:"h5 mb-3 text-primary",children:[s.jsx("i",{className:"bi bi-shield-lock me-2"}),"Account Security"]})}),s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 bg-light",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsx("h6",{className:"mb-1",children:"Password"}),s.jsx("p",{className:"text-muted mb-0",children:"Last updated: Recently"})]}),s.jsxs("div",{children:[s.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:()=>i(!n),children:[s.jsx("i",{className:"bi bi-key me-1"}),"Change Password"]}),s.jsxs("button",{className:"btn btn-outline-secondary",onClick:_,disabled:x,children:[s.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Reset Password"]})]})]})})})})]}),n&&s.jsx("div",{className:"row mb-5",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card border-warning",children:[s.jsx("div",{className:"card-header bg-warning text-dark",children:s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-key me-2"}),"Change Password"]})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"New Password"}),s.jsx("input",{type:"password",className:`form-control ${u.newPassword?"is-invalid":""}`,value:r,onChange:E=>a(E.target.value),placeholder:"Enter new password"}),u.newPassword&&s.jsx("div",{className:"invalid-feedback",children:u.newPassword})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Confirm New Password"}),s.jsx("input",{type:"password",className:`form-control ${u.confirmPassword?"is-invalid":""}`,value:o,onChange:E=>c(E.target.value),placeholder:"Confirm new password"}),u.confirmPassword&&s.jsx("div",{className:"invalid-feedback",children:u.confirmPassword})]})}),s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:g,disabled:x,children:x?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Changing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-check-circle me-1"}),"Change Password"]})}),s.jsxs("button",{className:"btn btn-secondary",onClick:()=>{i(!1),a(""),c(""),f({})},children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Cancel"]})]})})]})})]})})}),h&&s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:`alert ${h.includes("")?"alert-success":"alert-danger"} alert-dismissible fade show`,children:[h,s.jsx("button",{type:"button",className:"btn-close",onClick:()=>p("")})]})})})]})]})})};function I$(){const[e,t]=D.useState(""),[n,i]=D.useState(!1),[r,a]=D.useState(""),[o,c]=D.useState(null),[u,f]=D.useState({dentist_notes:"",findings:"",treatment_plan:""}),[h,p]=D.useState(!1),[x,b]=D.useState(null),[w,g]=D.useState(null),[_,j]=D.useState(""),E=async P=>{var I,Y;if(P.preventDefault(),!!e.trim()){i(!0),a("");try{const Z=await it.get(`/api/visits/resolve/${e.trim()}`);if(c(Z.data),Z.data.has_existing_notes){const z=await it.get(`/api/visits/${Z.data.visit.id}/dentist-notes`);f({dentist_notes:z.data.dentist_notes||"",findings:z.data.findings||"",treatment_plan:z.data.treatment_plan||""})}}catch(Z){a(((Y=(I=Z.response)==null?void 0:I.data)==null?void 0:Y.message)||"Failed to resolve visit code"),c(null)}finally{i(!1)}}},k=async()=>{var P,I;if(o){p(!0);try{await it.post(`/api/visits/${o.visit.id}/save-dentist-notes`,u),confirm(`Notes saved successfully!

Do you want to finish this consultation and return to the visit codes page?`)&&ne()}catch(Y){alert("Failed to save notes: "+(((I=(P=Y.response)==null?void 0:P.data)==null?void 0:I.message)||"Unknown error"))}finally{p(!1)}}},F=async P=>{var I,Y;b(P),j("");try{const Z=await it.get(`/api/visits/${P}/dentist-notes`);g({visitId:P,...Z.data})}catch(Z){j(((Y=(I=Z.response)==null?void 0:I.data)==null?void 0:Y.message)||"Failed to fetch visit notes")}finally{b(null)}},V=()=>{g(null),j("")},ne=()=>{t(""),c(null),f({dentist_notes:"",findings:"",treatment_plan:""}),a(""),g(null),j("")};return s.jsxs("div",{className:"container mt-4",children:[s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-md-8",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h4",{children:" Dentist Visit Code"})}),s.jsx("div",{className:"card-body",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"alert alert-info",children:[s.jsx("h5",{children:"Patient Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",o.patient.first_name," ",o.patient.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Contact:"})," ",o.patient.contact_number||"Not provided"]}),o.service&&s.jsxs("p",{children:[s.jsx("strong",{children:"Service:"})," ",o.service.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Visit Date:"})," ",new Date(o.visit.visit_date).toLocaleDateString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultation Started:"})," ",new Date(o.visit.consultation_started_at).toLocaleString()]})]}),o.patient_history&&o.patient_history.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h6",{children:"Recent Visit History"}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Service"}),s.jsx("th",{children:"Notes"})]})}),s.jsx("tbody",{children:o.patient_history.map(P=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(P.visit_date).toLocaleDateString()}),s.jsx("td",{children:P.service_name||"Not specified"}),s.jsx("td",{children:P.has_notes?s.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[s.jsx("span",{className:"badge bg-success",children:"Has Notes"}),s.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>F(P.id),disabled:x===P.id,children:x===P.id?s.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-eye me-1"}),"Fetch Notes"]})})]}):s.jsx("span",{className:"badge bg-secondary",children:"No Notes"})})]},P.id))})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h6",{children:"Dentist Notes"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"dentistNotes",className:"form-label",children:"Dentist Notes"}),s.jsx("textarea",{className:"form-control",id:"dentistNotes",rows:"4",value:u.dentist_notes,onChange:P=>f({...u,dentist_notes:P.target.value}),placeholder:"Enter consultation notes..."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"findings",className:"form-label",children:"Findings"}),s.jsx("textarea",{className:"form-control",id:"findings",rows:"3",value:u.findings,onChange:P=>f({...u,findings:P.target.value}),placeholder:"Enter clinical findings..."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"treatmentPlan",className:"form-label",children:"Treatment Plan"}),s.jsx("textarea",{className:"form-control",id:"treatmentPlan",rows:"3",value:u.treatment_plan,onChange:P=>f({...u,treatment_plan:P.target.value}),placeholder:"Enter treatment plan..."})]})]}),s.jsxs("div",{className:"d-flex gap-2",children:[s.jsx("button",{className:"btn btn-success",onClick:k,disabled:h,children:h?"Saving...":"Save Notes"}),s.jsx("button",{className:"btn btn-secondary",onClick:ne,children:"New Code"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:E,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"visitCode",className:"form-label",children:"Enter Visit Code"}),s.jsx("input",{type:"text",className:"form-control form-control-lg text-center",id:"visitCode",value:e,onChange:P=>t(P.target.value.toUpperCase()),placeholder:"Enter 6-character code",maxLength:"10",disabled:n})]}),s.jsx("div",{className:"d-grid",children:s.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:n||!e.trim(),children:n?s.jsx(os,{message:"Resolving..."}):"Start Consultation"})})]}),r&&s.jsx("div",{className:"alert alert-danger mt-3",children:r})]})})]})})}),w&&s.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog modal-lg",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:"bi bi-file-text me-2"}),"Visit Notes Reference"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:V})]}),s.jsxs("div",{className:"modal-body",children:[w.dentist_notes&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h6",{className:"text-primary",children:[s.jsx("i",{className:"bi bi-sticky me-2"}),"Dentist Notes"]}),s.jsx("div",{className:"bg-light p-3 rounded border",children:s.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:w.dentist_notes})})]}),w.findings&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h6",{className:"text-success",children:[s.jsx("i",{className:"bi bi-search me-2"}),"Clinical Findings"]}),s.jsx("div",{className:"bg-light p-3 rounded border",children:s.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:w.findings})})]}),w.treatment_plan&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h6",{className:"text-info",children:[s.jsx("i",{className:"bi bi-clipboard-check me-2"}),"Treatment Plan"]}),s.jsx("div",{className:"bg-light p-3 rounded border",children:s.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:w.treatment_plan})})]}),w.created_by&&s.jsxs("div",{className:"text-muted small border-top pt-3",children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Created by:"})," ",w.created_by]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Created at:"})," ",new Date(w.created_at).toLocaleString()]}),w.updated_by&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Last updated by:"})," ",w.updated_by]}),s.jsxs("p",{className:"mb-0",children:[s.jsx("strong",{children:"Last updated at:"})," ",new Date(w.updated_at).toLocaleString()]})]})]}),!w.dentist_notes&&!w.findings&&!w.treatment_plan&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("i",{className:"bi bi-file-text fs-1 text-muted"}),s.jsx("p",{className:"mt-2 text-muted",children:"No detailed notes available for this visit."})]})]}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:V,children:"Close"})})]})})}),_&&s.jsxs("div",{className:"alert alert-danger mt-3",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),_]})]})}const B$=()=>{const{user:e}=Oo();return s.jsx("div",{children:s.jsx("div",{className:"container-fluid",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsx("h2",{children:" Dentist Dashboard"}),s.jsxs("div",{className:"text-muted",children:["Welcome, Dr. ",(e==null?void 0:e.name)||"Dentist"]})]}),s.jsxs("div",{className:"alert alert-info",children:[s.jsx("h5",{children:"How to use Visit Codes:"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Staff will provide you with a 6-character visit code"}),s.jsx("li",{children:"Enter the code below to start the consultation"}),s.jsx("li",{children:"Review patient information and history"}),s.jsx("li",{children:"Enter your notes, findings, and treatment plan"}),s.jsx("li",{children:"Save your notes - staff can access them during completion"})]})]}),s.jsx(I$,{})]})})})})};function z$(){const{user:e}=Oo(),[t,n]=D.useState(null),[i,r]=D.useState([]),[a,o]=D.useState(!0),[c,u]=D.useState(""),f=[{key:"sun",label:"Sunday"},{key:"mon",label:"Monday"},{key:"tue",label:"Tuesday"},{key:"wed",label:"Wednesday"},{key:"thu",label:"Thursday"},{key:"fri",label:"Friday"},{key:"sat",label:"Saturday"}];D.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0),u("");const w=await it.get("/api/dentist/clinic-schedule");r(w.data);const g=await it.get("/api/dentist/my-schedule");n(g.data)}catch(w){console.error("Failed to fetch schedules",w),u("Failed to load schedule information. Please try again.")}finally{o(!1)}},p=()=>t?f.filter(w=>t[w.key]):[],x=w=>i.find(g=>g.weekday===w),b=w=>w?new Date(`2000-01-01T${w}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"Closed";return a?s.jsx(os,{message:"Loading schedule..."}):c?s.jsx("div",{className:"container py-4",children:s.jsxs("div",{className:"alert alert-danger",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),c]})}):s.jsx("div",{className:"dentist-schedule",children:s.jsxs("div",{className:"container py-4",children:[s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsx("h2",{className:"h3 mb-0",children:" My Schedule"}),s.jsxs("div",{className:"text-muted",children:["Dr. ",(e==null?void 0:e.name)||(t==null?void 0:t.dentist_name)||(t==null?void 0:t.dentist_code)||"Dentist"]})]})})}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-lg-6 mb-4",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header bg-primary text-white",children:s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-person-check me-2"}),"My Working Days"]})}),s.jsx("div",{className:"card-body",children:t?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("strong",{children:"Dentist Code:"})," ",t.dentist_code]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("strong",{children:"Employment Type:"}),s.jsx("span",{className:`badge ms-2 ${t.employment_type==="full_time"?"bg-success":t.employment_type==="part_time"?"bg-warning":"bg-info"}`,children:t.employment_type.replace("_"," ").toUpperCase()})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("strong",{children:"Status:"}),s.jsx("span",{className:`badge ms-2 ${t.status==="active"?"bg-success":"bg-secondary"}`,children:t.status.toUpperCase()})]}),s.jsx("hr",{}),s.jsx("h6",{children:"Working Days:"}),s.jsx("div",{className:"row",children:f.map(w=>s.jsx("div",{className:"col-6 col-md-4 mb-2",children:s.jsxs("div",{className:`d-flex align-items-center ${t[w.key]?"text-success":"text-muted"}`,children:[s.jsx("i",{className:`bi ${t[w.key]?"bi-check-circle-fill":"bi-x-circle"} me-2`}),w.label]})},w.key))})]}):s.jsxs("div",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"No dentist schedule information available."]})})]})}),s.jsx("div",{className:"col-lg-6 mb-4",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header bg-success text-white",children:s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-building me-2"}),"Clinic Operating Hours"]})}),s.jsx("div",{className:"card-body",children:i.length>0?s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Day"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Hours"}),s.jsx("th",{children:"Note"})]})}),s.jsx("tbody",{children:f.map((w,g)=>{const _=x(g);return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("strong",{children:w.label})}),s.jsx("td",{children:_?_.is_open?s.jsx("span",{className:"badge bg-success",children:"Open"}):s.jsx("span",{className:"badge bg-secondary",children:"Closed"}):s.jsx("span",{className:"badge bg-secondary",children:"Closed"})}),s.jsx("td",{children:_&&_.is_open?`${b(_.open_time)} - ${b(_.close_time)}`:"Closed"}),s.jsx("td",{children:_&&_.note&&s.jsx("small",{className:"text-muted",children:_.note})})]},w.key)})})]})}):s.jsxs("div",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"No clinic schedule information available."]})})]})})]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header bg-info text-white",children:s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-calendar-check me-2"}),"Schedule Summary"]})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{children:"Your Working Days:"}),s.jsx("p",{className:"text-muted",children:t?p().length>0?p().map(w=>w.label).join(", "):"No working days assigned":"Schedule information not available"})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{children:"Clinic Status:"}),s.jsx("p",{className:"text-muted",children:i.filter(w=>w.is_open).length>0?`Open ${i.filter(w=>w.is_open).length} days per week`:"Clinic schedule not available"})]})]})})]})})})]})})}function H$(){const{items:e,loading:t,error:n,loadList:i}=xS(),r=Tr();return D.useEffect(()=>{e.length===0&&i()},[e.length,i]),s.jsxs("div",{className:"container py-3",children:[s.jsxs("div",{className:"d-flex align-items-center mb-4",children:[s.jsxs("button",{onClick:()=>r(-1),className:"btn btn-outline-secondary btn-sm d-flex align-items-center me-3",title:"Go back","aria-label":"Go back",children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back"]}),s.jsx("h3",{className:"mb-0",children:"All Notifications"})]}),t&&s.jsx("p",{children:"Loading"}),n&&s.jsx("div",{className:"alert alert-danger py-2",children:n}),!t&&!n&&e.length===0&&s.jsx("p",{children:"No notifications yet."}),!t&&!n&&s.jsx("ul",{className:"list-group",children:e.map(a=>{var o;return s.jsx("li",{className:"list-group-item",children:s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsxs("div",{className:"me-3",children:[s.jsx("div",{className:"fw-semibold",children:a.title||"Notification"}),a.body&&s.jsx("div",{className:"text-muted",children:a.body}),((o=a.data)==null?void 0:o.date)&&s.jsxs("div",{className:"text-muted",children:["Date: ",a.data.date]})]}),s.jsx("small",{className:"text-muted",children:new Date(a.created_at).toLocaleString()})]})},a.id)})})]})}function U$(){const[e]=Qb(),[t,n]=D.useState("Finalizing payment"),i=Tr(),r=e.get("paymentId"),a=e.get("requestReferenceNumber")||"";return D.useEffect(()=>{(async()=>{try{r&&await it.get(`/api/maya/payments/${r}/status`),n("Thanks! If not yet marked paid, it will update shortly.")}catch{n("Payment completed. Were syncing the status")}})()},[r]),s.jsxs("div",{className:"container py-5",children:[s.jsx("h3",{children:" Payment Success"}),s.jsx("p",{className:"text-muted",children:t}),a&&s.jsxs("p",{className:"small text-muted",children:["Ref: ",a]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>i("/patient/appointments"),children:"Back to My Appointments"})]})}function W$(){const[e]=Qb(),t=Tr(),n=e.get("reason")||"Payment failed.";return s.jsxs("div",{className:"container py-5",children:[s.jsx("h3",{children:" Payment Failed"}),s.jsx("p",{className:"text-muted",children:n}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>t("/patient/appointments"),children:"Back to My Appointments"})]})}function V$(){const e=Tr();return s.jsxs("div",{className:"container py-5",children:[s.jsx("h3",{children:" Payment Cancelled"}),s.jsx("p",{className:"text-muted",children:"You cancelled the payment. You can try again anytime."}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>e("/patient/appointments"),children:"Back to My Appointments"})]})}const q$=D.lazy(()=>jd(()=>import("./DentistScheduleManager-D8pyZI-y.js"),[]));function G$(){return s.jsxs(ak,{basename:"/app",children:[s.jsx(mk,{})," ",s.jsxs(D8,{children:[s.jsx(mn,{path:"/",element:s.jsx(gk,{})}),s.jsx(mn,{path:"/login",element:s.jsx(BR,{})}),s.jsx(mn,{path:"/register",element:s.jsx(zR,{})}),s.jsx(mn,{path:"/forgot-password",element:s.jsx(HR,{})}),s.jsx(mn,{path:"/password-reset/:token",element:s.jsx(UR,{})}),s.jsx(mn,{path:"/verify-email",element:s.jsx(WR,{})}),s.jsx(mn,{path:"/verify-success",element:s.jsx(VR,{})}),s.jsx(mn,{path:"/notifications",element:s.jsx(H$,{})}),s.jsxs(mn,{path:"/admin",element:s.jsx(qR,{}),children:[s.jsx(mn,{index:!0,element:s.jsx(GR,{})}),s.jsx(mn,{path:"device-approvals",element:s.jsx($R,{})}),s.jsx(mn,{path:"approved-devices",element:s.jsx(YR,{})}),s.jsx(mn,{path:"staff-register",element:s.jsx(XR,{})}),s.jsx(mn,{path:"profile",element:s.jsx(KR,{})}),s.jsx(mn,{path:"services",element:s.jsx(ZR,{})}),s.jsx(mn,{path:"service-discounts",element:s.jsx(eO,{})}),s.jsx(mn,{path:"promo-archive",element:s.jsx(R7,{})}),s.jsx(mn,{path:"schedule",element:s.jsx(P7,{})}),s.jsx(mn,{path:"clinic-calendar",element:s.jsx(M4,{})}),s.jsx(mn,{path:"monthly-report",element:s.jsx(Rq,{})}),s.jsx(mn,{path:"analytics",element:s.jsx(Mq,{})}),s.jsx(mn,{path:"goals",element:s.jsx(Oq,{})}),s.jsx(mn,{path:"dentists",element:s.jsx(D.Suspense,{fallback:s.jsx("div",{children:"Loading"}),children:s.jsx(q$,{})})}),s.jsx(mn,{path:"inventory",element:s.jsx(Yx,{allow:({user:e})=>(e==null?void 0:e.role)==="admin",to:"/admin",children:s.jsx(kw,{})})}),s.jsx(mn,{path:"appointments",element:s.jsx(A3,{})}),s.jsx(mn,{path:"system-logs",element:s.jsx(Dq,{})})]}),s.jsxs(mn,{path:"/staff",element:s.jsx(Fq,{}),children:[s.jsx(mn,{index:!0,element:s.jsx(zq,{})}),s.jsx(mn,{path:"profile",element:s.jsx(Hq,{})}),s.jsx(mn,{path:"appointments",element:s.jsx(A3,{})}),s.jsx(mn,{path:"appointment-reminders",element:s.jsx(g$,{})}),s.jsx(mn,{path:"inventory",element:s.jsx(Yx,{allow:Ak,to:"/staff",children:s.jsx(kw,{})})}),s.jsx(mn,{path:"visits/:id/consume",element:s.jsx(Yx,{allow:({user:e,settings:t})=>Ek({user:e,settings:t,visitFinished:!0}),to:"/staff",children:s.jsx(x$,{})})})]}),s.jsxs(mn,{path:"/patient",element:s.jsx(b$,{}),children:[s.jsx(mn,{index:!0,element:s.jsx(y$,{})}),s.jsx(mn,{path:"appointment",element:s.jsx(A$,{})}),s.jsx(mn,{path:"profile",element:s.jsx(R$,{})}),s.jsx(mn,{path:"appointments",element:s.jsx(O$,{})})]}),s.jsxs(mn,{path:"/dentist",element:s.jsx(M$,{}),children:[s.jsx(mn,{index:!0,element:s.jsx(F$,{})}),s.jsx(mn,{path:"dashboard",element:s.jsx(B$,{})}),s.jsx(mn,{path:"profile",element:s.jsx(P$,{})}),s.jsx(mn,{path:"schedule",element:s.jsx(z$,{})})]}),s.jsx(mn,{path:"/pay/success",element:s.jsx(U$,{})}),s.jsx(mn,{path:"/pay/failure",element:s.jsx(W$,{})}),s.jsx(mn,{path:"/pay/cancel",element:s.jsx(V$,{})}),s.jsx(mn,{path:"*",element:s.jsx("div",{children:"404 Not Found"})})]})]})}function $$(){const{authLoading:e}=Oo();return D.useEffect(()=>{Om()},[]),e?s.jsx(os,{message:"Checking session..."}):s.jsx(G$,{})}aT.createRoot(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(IC,{children:s.jsx(BC,{children:s.jsx($$,{})})})}));export{xi as _,it as a,X$ as c,i1 as g,s as j,D as r};
